(()=>{var bl=Object.defineProperty;var u=(x,g)=>bl(x,"name",{value:g,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["client-boot"],{983107878:(x,g,e)=>{x.exports=e.p+"ava_0002-192-0ddd598.png"},2256285620:(x,g,e)=>{x.exports=e.p+"ava_0002-24-f65dddc.png"},6906793909:(x,g,e)=>{x.exports=e.p+"ava_0002-32-798f043.png"},1060768686:(x,g,e)=>{x.exports=e.p+"ava_0002-48-d3ba4ec.png"},2979422297:(x,g,e)=>{x.exports=e.p+"ava_0002-72-c702398.png"},3224273568:(x,g,e)=>{x.exports=e.p+"ava_0022-192-0cc433a.png"},2316786074:(x,g,e)=>{x.exports=e.p+"ava_0022-24-21468d4.png"},3708998647:(x,g,e)=>{x.exports=e.p+"ava_0022-32-7779579.png"},5098468056:(x,g,e)=>{x.exports=e.p+"ava_0022-48-93db11d.png"},4923972147:(x,g,e)=>{x.exports=e.p+"ava_0022-72-5a52d67.png"},7752974446:(x,g,e)=>{x.exports=e.p+"emoji_missing-39b2f0a.png"},5908540923:(x,g,e)=>{x.exports=e.p+"No_Background-ad3fcdb.png"},3677363342:(x,g,e)=>{x.exports=e.p+"active_speaker-dd1164a.gif"},4553218033:(x,g,e)=>{x.exports=e.p+"beach-preview-33d7acf.jpg"},9679390338:(x,g,e)=>{x.exports=e.p+"beach-33258eb.jpg"},7000154057:(x,g,e)=>{x.exports=e.p+"gym-preview-cfff9c8.jpg"},553949882:(x,g,e)=>{x.exports=e.p+"gym-4d948fc.jpg"},9631995895:(x,g,e)=>{x.exports=e.p+"home-preview-8baaf03.jpg"},3342291988:(x,g,e)=>{x.exports=e.p+"home-9e29930.jpg"},1779488764:(x,g,e)=>{x.exports=e.p+"huddle-in-thread-da71b0e.png"},3607863955:(x,g,e)=>{x.exports=e.p+"living_room-preview-1b54428.jpg"},5738074488:(x,g,e)=>{x.exports=e.p+"living_room-a4fba85.jpg"},7485089530:(x,g,e)=>{x.exports=e.p+"office-preview-de46de4.jpg"},5475210953:(x,g,e)=>{x.exports=e.p+"office-98668ce.jpg"},8514307482:(x,g,e)=>{x.exports=e.p+"remote_work-preview-5fbbc32.jpg"},4136357865:(x,g,e)=>{x.exports=e.p+"remote_work-f8cd791.jpg"},7234375712:(x,g,e)=>{x.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},1672115571:(x,g,e)=>{x.exports=e.p+"tokyo_sight-285d851.jpg"},2527471159:(x,g,e)=>{x.exports=e.p+"slack-salesforce-211570d.png"},7972463975:(x,g,e)=>{x.exports=e.p+"slack-salesforce@2x-06b5868.png"},2301861866:(x,g,e)=>{x.exports=e.p+"slack_logo-ebd02d1.svg"},9994038664:(x,g,e)=>{x.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},3431559584:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_1024-9020761.png"},2200759559:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},8390767423:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},1957386787:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_24-e726b64.png"},4245237474:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_32-176771b.png"},7523979550:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_36-d921f9d.png"},7272988726:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},77360885:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_48-8220eaf.png"},2261459203:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},451984622:(x,g,e)=>{x.exports=e.p+"slackbot_fancy_72-9db8807.png"},7428983508:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},669259003:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},4165874747:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_20-96acbec.png"},1023719767:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_24-2246c7b.png"},3710970638:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_32-8a50a23.png"},4814900690:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},7331486018:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_360-1cb4740.png"},7183565897:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},1001408479:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_512-955a74f.png"},1889110914:(x,g,e)=>{x.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},9948433110:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_1024-b58a548.png"},4948097913:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},350135845:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_20-00a116e.png"},474239361:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_24-9a05991.png"},1302153452:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_32-44a4c24.png"},9825918216:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},5908867676:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_360-7309dbd.png"},3333214639:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_48-9906623.png"},2295488157:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_512-dcb310c.png"},5156772208:(x,g,e)=>{x.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},4063699741:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},9241168512:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},3963460214:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},9267813754:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},2981982679:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},9833689275:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},4840951141:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},9777215928:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},7129884748:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},9602720019:(x,g,e)=>{x.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},7626894131:(x,g,e)=>{x.exports=e.p+"de-DE-7cb5203.vtt"},29804293:(x,g,e)=>{x.exports=e.p+"en-GB-fe540d9.vtt"},7749140866:(x,g,e)=>{x.exports=e.p+"en-US-638cf9c.vtt"},5913806097:(x,g,e)=>{x.exports=e.p+"es-ES-2c09d56.vtt"},6636363964:(x,g,e)=>{x.exports=e.p+"es-LA-ea2cf27.vtt"},9916635837:(x,g,e)=>{x.exports=e.p+"fr-FR-aca8347.vtt"},5760619139:(x,g,e)=>{x.exports=e.p+"it-IT-5979abe.vtt"},668694090:(x,g,e)=>{x.exports=e.p+"ja-JP-8bffdf3.vtt"},555040584:(x,g,e)=>{x.exports=e.p+"ko-KR-368325f.vtt"},6820844347:(x,g,e)=>{x.exports=e.p+"paid-feature-education-bcf658e.mp4"},1347747715:(x,g,e)=>{x.exports=e.p+"paid-feature-education-4fcc827.png"},8187362417:(x,g,e)=>{x.exports=e.p+"pt-BR-4dd5817.vtt"},2005200212:(x,g,e)=>{x.exports=e.p+"zh-CN-7893376.vtt"},2563333228:(x,g,e)=>{x.exports=e.p+"zh-TW-bf2d05a.vtt"},6754250580:(x,g,e)=>{x.exports=e.p+"de-DE-e5da613.vtt"},1714394002:(x,g,e)=>{x.exports=e.p+"en-GB-b949ba6.vtt"},6435768457:(x,g,e)=>{x.exports=e.p+"en-US-823d419.vtt"},7417918922:(x,g,e)=>{x.exports=e.p+"es-ES-fb9bba0.vtt"},6869712815:(x,g,e)=>{x.exports=e.p+"es-LA-1d17cb9.vtt"},8089589194:(x,g,e)=>{x.exports=e.p+"fr-FR-0161472.vtt"},5748605292:(x,g,e)=>{x.exports=e.p+"it-IT-f18ddbd.vtt"},4071181961:(x,g,e)=>{x.exports=e.p+"ja-JP-8d6863a.vtt"},8071475775:(x,g,e)=>{x.exports=e.p+"ko-KR-b3589ec.vtt"},9733499682:(x,g,e)=>{x.exports=e.p+"pt-BR-50fe7dc.vtt"},6050136004:(x,g,e)=>{x.exports=e.p+"thumbnail-71d0c1e.png"},5006029593:(x,g,e)=>{x.exports=e.p+"video-9e16c67.mp4"},9753292423:(x,g,e)=>{x.exports=e.p+"zh-CN-f0c9d6c.vtt"},3289703835:(x,g,e)=>{x.exports=e.p+"zh-TW-438dba1.vtt"},7260399618:(x,g,e)=>{x.exports=e.p+"apps-0205318.png"},3555024406:(x,g,e)=>{x.exports=e.p+"canvas-27b164f.png"},6362113145:(x,g,e)=>{x.exports=e.p+"huddles-65511ae.png"},5612399517:(x,g,e)=>{x.exports=e.p+"lists-a03762f.png"},9754713110:(x,g,e)=>{x.exports=e.p+"messages-cf1cdcf.png"},8644018899:(x,g,e)=>{x.exports=e.p+"slack-connect-4779df0.png"},8720577475:(x,g,e)=>{x.exports=e.p+"templates-26a2d87.png"},6627147571:x=>{x.exports={accordion:"accordion__kLx8x",item:"item__MTv17",expanded:"expanded__G1WSM",noBorder:"noBorder__Bkdii",itemHeader:"itemHeader__rqviz",expandedIcon:"expandedIcon__a6bDs",header:"header__Mu2fJ",defaultShowDescriptionAnimation:"defaultShowDescriptionAnimation__SUEzA",showDescription:"show-description___8nN1",defaultShowDescription:"defaultShowDescription__O25CX",customItemTextAnimation:"customItemTextAnimation__J88Pz",addPadding:"add-padding__dbRf8",customItemText:"customItemText__vavhM",customItemTransition:"customItemTransition__YwYGB",description:"description__RSIZO",iconSpacer:"iconSpacer__a8u1y",imageCaret:"imageCaret__ZFZoY"}},5672691263:x=>{x.exports={container:"container__oDwNj",primaryIcon:"primaryIcon__aDIDO",secondaryIcon:"secondaryIcon__KuIYv"}},7573583373:x=>{x.exports={proBadge:"proBadge__a6OQu",container:"container__lJGtV",alertBanner:"alertBanner__xNhoq",cta:"cta__tEXdP"}},9295473340:x=>{x.exports={videoAndDevicesContainer:"videoAndDevicesContainer__NVELK",videoContainer:"videoContainer__XjCxI",videoPreview:"videoPreview__hMjwB",videoInnerContainer:"videoInnerContainer__lO7xn",videoAvatar:"videoAvatar__lZyuR",loading:"loading__FMtdL"}},5526670257:x=>{x.exports={modal:"modal__V69Vd",overlay:"overlay__gsuuD"}},7059233720:x=>{x.exports={container:"container__DVK1Z",button:"button__PWHcn"}},1535211300:x=>{x.exports={container:"container__ExpEn",device:"device__Wqu1p"}},2458754542:x=>{x.exports={modal:"modal__v1OWN",overlay:"overlay__HrRPN"}},9632269965:x=>{x.exports={container:"container__rto70"}},2688127376:x=>{x.exports={container:"container__bqBHK",toolbarButton:"toolbarButton__uaxi2",activeButton:"activeButton__UwqVv",warningBadgeContainer:"warningBadgeContainer__SWzb7",warningBadge:"warningBadge__srWl0",cameraDisabled:"cameraDisabled__fhjuY"}},5671227444:x=>{x.exports={inlineAudioMeterContainer:"inlineAudioMeterContainer__Y3vlI",inlineAudioMeter:"inlineAudioMeter__XIoND"}},3416652175:x=>{x.exports={spaceNameContainer:"spaceNameContainer__Up4ES",spaceName:"spaceName__e2eNG",notificationName:"notificationName__PLxJo",notificationList:"notificationList__K7YI_",formError:"formError__RF0wt",textArea:"text-area__GqSis",alert:"alert__gmI86",alertText:"alertText__WNqBZ"}},397939223:x=>{x.exports={dispatcherViewer:"dispatcherViewer__MqLHN",container:"container__JbqvN",dispatcherViewerIcon:"dispatcherViewerIcon__TTCBH",xDispatcher__viewer_iconPulse:"x-dispatcher__viewer_icon--pulse__rzHrs",dispatcherViewerDetails:"dispatcherViewerDetails__HF2Tz"}},9598582073:x=>{x.exports={bodyContainer:"bodyContainer__XdYx2",listContainer:"listContainer__Q03_Y",videoContainer:"videoContainer__zFTj5",proBadge:"proBadge__vbDah",title:"title__I2qJO",subtitle:"subtitle__lKLAD",ctaButton:"ctaButton__KoQEK",modalBackground:"modalBackground__eUyLk"}},6696573656:x=>{x.exports={featuresListContainer:"featuresListContainer__Wztys",icon:"icon__oy3IT",title:"title__OyvRi",text:"text__lXfZb"}},5577296129:x=>{x.exports={featureImage:"featureImage__GCGJB"}},8985946788:x=>{x.exports={accordionFeatureListModal:"accordionFeatureListModal__XY4l2",horchataBg:"horchataBg__Z4qYV",aubergineBg:"aubergineBg__XTvzG",horchataCaret:"horchataCaret__z5j66",aubergineCaret:"aubergineCaret__Ln6eA",bodyContainer:"bodyContainer__WwREe",listContainer:"listContainer__RAODJ",header:"header__A7Fx9",title:"title__w5UXN",subtitle:"subtitle__GJpvo",accordionListContainer:"accordionListContainer__ZhxlB",accordionItem:"accordionItem__N3S6I",imageContainer:"imageContainer__I5MJj",upgradeCta:"upgradeCta__gvG2D",spinner:"spinner__D0NVf",footer:"footer__cNZ0p",accordionItemHeaderButton:"accordionItemHeaderButton__klUaK",accordionItemHeader:"accordionItemHeader__SDi13",accordionItemDescription:"accordionItemDescription__P1u4j",accordionExpandedIcon:"accordionExpandedIcon__a2fMf",accordionCollapsedIcon:"accordionCollapsedIcon__KurIq"}},3366751172:x=>{x.exports={footer:"footer__q8kg4",cta:"cta__x1pLT",light:"light__adKpp",disclaimer:"disclaimer__i655U",link:"link__ISsu1"}},3817509504:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(1516013259),n=e(2774532222);const s=u(r=>(0,t.A)(r,(c,o)=>(0,n.A)(o,"aria-")),"__WEBPACK_DEFAULT_EXPORT__")},4518138713:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(1516013259),n=e(2774532222);function s(r){return(0,t.A)(r,(c,o)=>(0,n.A)(o,"data-"))}u(s,"getDataProps")},429204216:(x,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(n){var s;return!n||n.metaKey||n.ctrlKey?!1:((s=n.key)===null||s===void 0?void 0:s.length)===1}u(t,"isPrintableKeyEvent")},4954329752:(x,g,e)=>{"use strict";e.d(g,{N:()=>t,P:()=>s});function t(r,c){const{ref:o}=c;return s(r,o)}u(t,"mergeRefWithChildRef");function n(r){return c=>{typeof r=="function"?r(c):r&&(r.current=c)}}u(n,"makeRefBackwardsCompatible");function s(){for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return a=>{c.forEach(l=>{n(l)(a)})}}u(s,"mergeRefs")},5135324409:(x,g,e)=>{"use strict";e.d(g,{Q:()=>t});const t=u(()=>null,"noopNull")},1665466574:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3134334389),n=e(4757466470);let s=u(class extends t.Component{shouldComponentUpdate(c,o){return!(0,n.Ay)(c,this.props,3)||!(0,n.Ay)(o,this.state,3)}},"PureComponentDepth3")},3346098136:(x,g,e)=>{"use strict";e.d(g,{A:()=>A,T:()=>m});var t=e(3134334389),n=e(9391594207),s=e(4426213732),r=e(735940183),c=e(6839188756),o=e(3677514771),a=e(8847766420),l=e(581167618),i=e(5536692738),d=e(6117529990);const _=new r.Ay("enterprise_calls");var m;(function(y){y.GLOBAL="GLOBAL",y.US="US"})(m||(m={}));const h=[{label:_.t("Global",{fallbackHash:"5f1184f7df96c5928092ad9c6b550699bf887826",fallbackHashNs:"enterprise_dashboard"}),value:m.GLOBAL},{label:_.t("US",{fallbackHash:"aa3093554472fd113135bed5b63e12f84c2e9fe8",fallbackHashNs:"enterprise_dashboard"}),value:m.US}];let v=u(class extends t.Component{render(){const{appsState:p,featureCallsLocationLock:f,isLockedByOrgAdmin:O,selectedCallLocation:I,isFreeTeam:P}=this.props,C=p&&p.video&&Object.keys(p.video).find(U=>U==="A00");if(!f||!C||P)return null;const M=h.find(U=>U.value===I),D=f?_.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",E=f?_.t("Call location options"):"Call location options",S=f?_.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",k=f?_.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.createElement(t.Fragment,null,t.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.createElement("span",{className:"p-calls_location_lock__title"},f?_.t("Calls location"):"Calls location"),t.createElement("span",{className:"p-calls_location_lock__description"},D),t.createElement("div",{className:"p-calls_location_lock__options_container"},t.createElement(i.Ay,{className:"p-calls_location_lock__options",size:"medium",isDisabled:O,options:h,selectedOption:M,onOptionSelected:this.handleOptionSelected,ariaLabel:E}),O&&t.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},k))),I===m.US&&t.createElement(l.Ay,{type:l.QE.boxed,level:l.A_.warning,icon:"warning",align:l.AO.left,className:"p-calls_location_lock__alert"},t.createElement("span",null,S)))}handleOptionSelected(p){this.props.setSelectedCallLocation(p.value)}constructor(p){super(p),(0,s.v)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");v.displayName="CallsRegionLockOptions";const T=u(y=>{const p=(0,a.jV)(y);return{isFreeTeam:!(0,c.qR)((0,o.H7)(y))&&!p,featureCallsLocationLock:(0,d.XY)(y)}},"mapStateToProps"),A=(0,n.N)(T)(v)},1223723593:(x,g,e)=>{"use strict";e.d(g,{wl:()=>Z,JG:()=>W,uy:()=>ve,bM:()=>ae,Ox:()=>V,A9:()=>ie,fD:()=>Ae});var t=e(3134334389),n=e(9391594207),s=e(3783303734),r=e(9113979368),c=e(3867135795),o=e(45851552),a=e(1649982175),l=e(1224315998),i=e(5795074931),d=e(8462077367),_=e(7138682671),m=e(3165300465),h=e(581167618),v=e(1610251172),T=e(3989454579),A=e(1743656885),y=e(5597672932),p=e(6117529990);const f=u(F=>!(0,p.BD)(F),"isOrgCallsAppsSettingsEnabled");var O=e(766806),I=e(56548687);const P=u(F=>{let{callsApps:H,allowCalls:j,clogger:N,action:J,stepVariant:le}=F;const ce={allow_calls:j};H&&H.video&&H.video.length>0&&(ce.video_call_app_ids=H.video.map(Ee=>Ee.id)),H&&H.audio&&H.audio.length>0&&(ce.audio_call_app_ids=H.audio.map(Ee=>Ee.id)),H&&H.profile_field_options&&H.profile_field_options.length>0&&(ce.profile_field_option_ids=H.profile_field_options.map(Ee=>Ee.id)),N.track(l.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...ce,contexts:{ui_context:{step:l.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:J,entry_point:"calls-workspace-admin",step_variant:le}}})},"clogCallsApps"),C=u(F=>{let{clogger:H}=F;H.track(l.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:l.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:l.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:l.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var M=e(6304789565);const D=(0,M.Ay)("Clog a standardized click event when a workspace setting is saved",(F,H,j)=>{let{eventId:N,uiStep:J,stepVariant:le}=j;(0,I.e)({getState:H}).track(N,{contexts:{ui_context:{ui_step:J,step_variant:le,ui_properties:{element_type:l.ElementType.BUTTON,element_name:"submit_button"},action:l.UiAction.CLICK,is_primary_cta:!0}}})});D.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};const E=D;var S=e(3677514771),k=e(6839188756),U=e(6323355797),L=e(980293773),B=e(735940183),b=e(3346098136),R=e(462591818);const z=new B.Ay("calls_admin"),w="only_available_for_paid_teams";var W;(function(F){F.Video="video",F.Audio="audio",F.ProfileFieldOptions="profile_field_options"})(W||(W={}));const K=u(F=>{let{type:H,app:j,isChecked:N,onChangeCallApp:J,isLocked:le}=F;const ce=(0,t.useCallback)(()=>J(H,j.id),[J,H,j]),Ee=`${H}_${j.id}`;return t.createElement(_.A,{text:j.name,type:"inline",cursor:"pointer"},t.createElement(T.A,{id:Ee,name:j.name,checked:N,onChange:ce,disabled:le,"data-qa":Ee}))},"AppCheckbox");K.displayName="AppCheckbox";const Y=u(F=>{let{appsState:H,isLocked:j,type:N}=F;return!j||!H?!1:N===W.Video&&(0,s.A)(H.video)>0&&(0,s.A)(H.audio)===0||(N===W.Audio&&(0,s.A)(H.audio)>0&&(0,s.A)(H.video))===0},"disableTypeCheckbox"),X=u(F=>{let{appsState:H,isLocked:j,appId:N,type:J}=F;if(!j||!H)return!1;const le=H.video?Object.keys(H.video):[],ce=H.audio?Object.keys(H.audio):[],Ee=le.length+ce.length;if(N&&Ee===1){let ye,Ie;return le.length===1?(ye=le[0],Ie=W.Video):ce.length===1&&(ye=ce[0],Ie=W.Audio),N===ye&&J===Ie}return!1},"disableAppCheckbox"),Z=u(F=>{let{type:H,sectionTitle:j,appsState:N,installedCallApps:J,onChangeCallType:le,onChangeCallApp:ce,isLocked:Ee,dataQa:ye}=F;if(!J||!N||!J[H])return null;const Ie=`enable_${H}_calls`;return t.createElement("div",{className:`p-calls_workspace_settings__${H}_container`,"data-qa":ye},t.createElement(_.A,{text:j,type:"inline",cursor:"pointer"},t.createElement(T.A,{checked:!(0,r.A)(N[H]),id:Ie,name:Ie,onChange:le,disabled:Y({appsState:N,isLocked:Ee,type:H})})),t.createElement("p",{className:"p-calls_workspace_settings__options_title"},z.t("Calling options:")),t.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...J[H]].map(he=>t.createElement(K,{app:he,isChecked:(0,c.A)(N[H],he.id),key:`${H}_${he.id}`,onChangeCallApp:ce,type:H,isLocked:X({appsState:N,isLocked:Ee,appId:he.id,type:H})}))))},"CallSection");Z.displayName="CallSection";const ie=u(F=>{let{installedCallApps:H,appsState:j,appId:N,type:J,setAppsState:le}=F;if(!H||!j)return;const ce={...j[J]};if((0,c.A)(ce,N))delete ce[N],le({...j,[J]:ce});else{const Ee=(0,o.A)(H[J],ye=>ye.id===N);Ee>-1&&(ce[N]=Ee,le({...j,[J]:ce}))}},"toggleCallApp"),Ae=u(F=>{let{installedCallApps:H,appsState:j,type:N,setAppsState:J}=F;if(!(!j||!H))if(!(0,r.A)(j[N]))J({...j,[N]:{}});else{var le;const ce={};(le=H[N])===null||le===void 0||le.forEach((Ee,ye)=>{ce[Ee.id]=ye}),J({...j,[N]:ce})}},"toggleCallType"),ae=u((F,H)=>{const j={video:{},audio:{},profile_field_options:{}};return!H||!F||[W.Video,W.Audio,W.ProfileFieldOptions].forEach(N=>{H[N]&&[...H[N]].forEach(le=>{const ce=(0,o.A)(F[N],Ee=>Ee.id===le.id);ce>-1&&(j[N][le.id]=ce)})}),j},"reduceTeamPrefApps"),V=u(function(){let{installedCallApps:F,appsState:H}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const j={video:[],audio:[]};return!F||!H||[W.Video,W.Audio].forEach(N=>{if(F[N]){const J=[...F[N]],le=H[N];J.forEach(ce=>{if((0,c.A)(le,ce.id)){var Ee;(Ee=j[N])===null||Ee===void 0||Ee.push((0,a.A)(ce,"preselected"))}})}}),j},"setCallsAppsPayloadToSave"),ve=u(F=>{if(!F||!F.video)return;const H=F.video.findIndex(j=>j.id===R.rq);H>=0&&F.video.splice(H,1)},"filterNativeCallsApp"),be=u(F=>{let{isOpen:H,closeModal:j,errorMessage:N,buttonLabel:J}=F;return t.createElement(L.dW,{centered:!0,isOpen:H,closeModal:j},t.createElement(L.$m,{className:"p-calls_workspace_settings__error_modal"},t.createElement(L.qf,null,t.createElement("p",null,N))),t.createElement(L.jl,null,t.createElement(L.ox,null,t.createElement(L.s_,{type:"outline",onClick:j,"aria-label":J},J))))},"ErrorModal");be.displayName="ErrorModal";const Ue=u(F=>{let{installedCallApps:H,teamPrefCallsApps:j,setMultipleTeamPrefsByApi:N,clogWorkspaceSettingSubmit:J,isLocked:le,isCallsSelectorDisabled:ce,clogger:Ee,isOrgCallsAppsSettingsEnabled:ye,team:Ie,isCallsLocationLockedByOrgAdmin:he,callsLocationLocked:Ce}=F;const[oe,de]=(0,t.useState)(!1),[De,Te]=(0,t.useState)(""),pe=z.t("Save"),Me=z.t("Saved"),ke=z.t("Sorry! Something went wrong. Please try again."),Ke=z.t("Allow third-party calls in Slack"),Ze=z.t("Allow phone number calls in Slack (only in direct messages)"),Q=z.t("Ok"),se=z.t("Sorry, call selection is currently managed by your organization admin."),He=z.rt("First install a <a>calling app from the Slack Marketplace</a> then come back here to enable it as a default calling app.",{fallbackHash:"bafa98560255a22c3a110fefa9689c8eb16c6c93"},St=>{let{text:dn}=St;return t.createElement(A.A,{articleId:208492868},dn)}),Ge=(0,t.useCallback)(()=>{C({clogger:Ee}),(0,k.gC)(Ie,(0,U.hZ)({entryPoint:"calls-admin-workspace-settings"}))},[Ee,Ie]),Be=z.rt("Sorry, this feature is only available to <a>paid teams</a>.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087"},St=>{let{text:dn}=St;return t.createElement("a",{href:"#",onClick:Ge,"data-qa":"paid_plan_page_link"},dn)}),we=j?ae(H,j):{video:{},audio:{},profile_field_options:{}},[xe,Oe]=(0,t.useState)(we),[Xe,Ye]=(0,t.useState)(!1),[dt,mt]=(0,t.useState)(!1),it=Ce&&Ce.length>0?b.T.US:b.T.GLOBAL,[At,Ot]=(0,t.useState)(it);(0,t.useEffect)(()=>{const St=ae(H,j);Oe(St)},[Oe,H,j]);const Kt=(0,t.useCallback)(St=>{mt(!1),Ae({installedCallApps:H,appsState:xe,type:St,setAppsState:Oe})},[H,xe,Oe]),Xt=(0,t.useCallback)(()=>Kt(W.Video),[Kt]),vn=(0,t.useCallback)(()=>Kt(W.Audio),[Kt]),Sn=(0,t.useCallback)(()=>de(!1),[de]),jt=(0,t.useCallback)((St,dn)=>{mt(!1),ie({installedCallApps:H,appsState:xe,appId:dn,type:St,setAppsState:Oe})},[H,xe,Oe]),hn=(0,t.useCallback)(St=>{Ot(St),mt(!1)},[Ot]),xt=u(()=>{Ye(!0),J({eventId:l.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const St=!(0,r.A)(xe.video)||!(0,r.A)(xe.audio),dn=V({installedCallApps:H,appsState:xe}),fn={calls_apps:dn};(0,k.r7)(Ie)||(fn.allow_calls=St),he||(fn.calls_locations=At===b.T.US?[At]:[]),N({prefs:fn}).then(()=>{mt(!0),P({callsApps:dn,allowCalls:St,clogger:Ee,action:l.UiAction.SAVE})}).catch(un=>{var _n;de(!0),(un==null||(_n=un.data)===null||_n===void 0?void 0:_n.error)===w?(Te(Be),P({callsApps:dn,allowCalls:St,clogger:Ee,action:l.UiAction.ERROR,stepVariant:w})):(Te(ke),P({callsApps:dn,allowCalls:St,clogger:Ee,action:l.UiAction.ERROR}))}).finally(()=>Ye(!1))},"onSubmit"),Dn=H&&(H.video&&H.video.length>0||H.audio&&H.audio.length>0);return t.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},ce&&ye?t.createElement(h.Ay,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.createElement("span",null,se)):t.createElement(t.Fragment,null,!Dn&&t.createElement(h.Ay,{type:"boxed",level:"info",icon:"info",align:"left"},t.createElement("span",null,He)),t.createElement("div",{className:"p-calls_workspace_settings__call_options"},H&&H.video&&H.video.length>0&&t.createElement(Z,{type:W.Video,sectionTitle:Ke,appsState:xe,installedCallApps:H,onChangeCallType:Xt,onChangeCallApp:jt,isLocked:le}),H&&H.audio&&H.audio.length>0&&t.createElement(Z,{type:W.Audio,sectionTitle:Ze,appsState:xe,installedCallApps:H,onChangeCallType:vn,onChangeCallApp:jt,isLocked:le})),t.createElement(b.A,{appsState:xe,isLockedByOrgAdmin:he,selectedCallLocation:At,setSelectedCallLocation:hn}),t.createElement(be,{closeModal:Sn,isOpen:oe,errorMessage:De,buttonLabel:Q}),Dn&&t.createElement(m.A,{onClick:xt,loading:Xe,"data-qa":"call_save_button","aria-label":dt?Me:pe},dt&&t.createElement(v.A,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),dt?Me:pe)))},"CallsWorkspaceSettings");Ue.displayName="CallsWorkspaceSettings";const Re=u(F=>{const H=(0,i.tV)(F,"calls_apps");ve(H);const j=(0,y.xp)(F,"calls_apps"),N=(0,O.SI)(F,"calls_locations");return{installedCallApps:H,teamPrefCallsApps:j,clogger:(0,I.e)({state:F}),isOrgCallsAppsSettingsEnabled:f(F),team:(0,S.H7)(F),isCallsLocationLockedByOrgAdmin:!!N&&N.length>0,callsLocationLocked:(0,y.xp)(F,"calls_locations")}},"mapStateToProps"),ge={setMultipleTeamPrefsByApi:d.hz,clogWorkspaceSettingSubmit:E},ne={toggleCallApp:ie,toggleCallType:Ae,AppCheckbox:K,reduceTeamPrefApps:ae,setCallsAppsPayloadToSave:V,disableTypeCheckbox:Y,disableAppCheckbox:X},ee=(0,n.N)(Re,ge)(Ue)},6909784049:(x,g,e)=>{"use strict";e.d(g,{o:()=>Be});var t=e(3134334389),n=e(9391594207),s=e(166097325),r=e(3300324857),c=e(462591818),o=e(4954329752),a=e(1641606663);function l(){return l=Object.assign||function(we){for(var xe=1;xe<arguments.length;xe++){var Oe=arguments[xe];for(var Xe in Oe)Object.prototype.hasOwnProperty.call(Oe,Xe)&&(we[Xe]=Oe[Xe])}return we},l.apply(this,arguments)}u(l,"_extends");let i=u(class extends t.PureComponent{componentDidMount(){var xe;(xe=this.context.windowRef.deref())===null||xe===void 0||xe.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){var xe;this.isDragging&&this.onMouseUp(),(xe=this.context.windowRef.deref())===null||xe===void 0||xe.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(xe){var Oe;xe.button===0&&(this.isDragging=!0,(Oe=this.context.windowRef.deref())===null||Oe===void 0||Oe.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(xe))}onMouseMove(xe){xe.button===0&&this.isDragging&&this.props.onDragMove(xe)}onMouseUp(xe){if(xe&&xe.button!==0)return;const Oe=this.isDragging;if(this.isDragging=!1,Oe){var Xe;(Xe=this.context.windowRef.deref())===null||Xe===void 0||Xe.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(xe)}}render(){const{children:xe,refToForward:Oe,onDragStart:Xe,onDragMove:Ye,onDragEnd:dt,...mt}=this.props,it=t.Children.only(this.props.children);return t.cloneElement(it,{...mt,onMouseDown:Ot=>this.onMouseDown(Ot),ref:(0,o.N)(Oe,it)})}constructor(xe){super(xe),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");i.displayName="BaseDragTarget",i.contextType=a.Mn;const d=t.forwardRef((we,xe)=>t.createElement(i,l({},we,{refToForward:xe})));var _=e(387328355),m=e(6304789565),h=e(2825968873);const v=(0,h.tZ)("USER-ACTIONS"),T=(0,m.Ay)("Logs user interaction with call window",(we,xe,Oe)=>{v.info(Oe)});T.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var A=e(1975685771),y=e(8405076696);function p(we){O=w(V(we))}u(p,"startCurve");function f(we){const xe=V(we),Oe=W(O,xe);return Oe.update_status==U.SUCCESS?Oe:W(O,xe)}u(f,"addToCurve");let O;const I=2,P=9,C=9,M=50,D=80,E=1,S=!0,k=!0,U={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},L=u(()=>({segments:[],vdmap:[]}),"initCurve"),B=u((we,xe)=>({c0:{x:we,y:xe},c1:{x:we,y:xe},c2:{x:we,y:xe},c3:{x:we,y:xe}}),"initCurveSegment"),b=u(we=>we.segments[we.segments.length-1],"getLastSegment"),R=u(we=>we.c3,"getLastPoint"),z=u(function(we){return{c0:{x:we.c0.x,y:we.c0.y},c1:{x:we.c1.x,y:we.c1.y},c2:{x:we.c2.x,y:we.c2.y},c3:{x:we.c3.x,y:we.c3.y},constrain_to:we.constrain_to==null?void 0:{x:we.constrain_to.x,y:we.constrain_to.y},error:we.error||0,update_status:we.update_status}},"copySegment"),w=u(function(we){let{x:xe,y:Oe}=we;const Xe=L();return Xe.segments.push(B(xe,Oe)),Xe},"createCurve"),W=u(function(we,xe){const Oe=b(we),Xe=R(Oe);if(H(xe,R(Oe))<E)return Oe;if(U.SUCCESS!=Oe.update_status&&Oe.update_status!==void 0){let Ye;U.FAIL_CORNER==Oe.update_status?Ye=B(Xe.x,Xe.y):U.FAIL_MAXED==Oe.update_status&&(Ye=B(Xe.x,Xe.y),Ye.constrain_to=le(X(Oe))),we.vdmap=[],we.segments.push(Ye)}return K(we,xe)},"addToCurveImpl"),K=u(function(we,xe){const Oe=b(we),{x:Xe,y:Ye}=xe;let dt=R(Oe);const mt=z(Oe);if(Z(Oe,xe))return Oe.update_status=U.FAIL_CORNER,Oe;Oe.c3={x:Xe,y:Ye},Oe.c2={x:Oe.c2.x+Xe-dt.x,y:Oe.c2.y+Ye-dt.y};const it=J(dt,xe),At=Ae(it),Ot=Ue(dt,At),Kt=Ue(xe,At),Xt=ae(ge(At,2)),vn=N(Xt),Sn=ne(Xt,vn),jt=Re(Kt,Ot),hn=N(jt),xt=ne(jt,hn);let Dn=Ot;for(let un=0;un<hn;un++){let _n=Dn,tn=At;for(let nn=0;nn<vn;nn++){const{x:An,y:yn}=V(_n);we.vdmap[An]||(we.vdmap[An]=[]),we.vdmap[An][yn]==null?we.vdmap[An][yn]=V(tn):we.vdmap[An][yn]=ve(we.vdmap[An][yn])<ve(V(tn))?we.vdmap[An][yn]:V(tn),tn=Ue(tn,Sn),_n=Ue(_n,Sn)}Dn=Ue(Dn,xt)}const St=Re(xe,{x:P,y:P}),dn=Ue(xe,{x:P,y:P});for(let un=St.x;un<dn.x;un++)for(let _n=St.y;_n<dn.y;_n++){we.vdmap[un]||(we.vdmap[un]=[]);const tn=Re({x:un,y:_n},xe);we.vdmap[un][_n]==null?we.vdmap[un][_n]=tn:we.vdmap[un][_n]=ve(we.vdmap[un][_n])<ve(tn)?we.vdmap[un][_n]:tn}let fn=0;for(;;){let un={x:0,y:0},_n={x:0,y:0};for(let An=0;An<C;An++){const yn=An/C,sn=V(ce(Oe,yn)),Nn=Y(we,sn),Ve=be(Nn),$e=Nn.x,Et=Nn.y;let It=1;k&&(yn<.1||yn>.9)&&(It=10),un.x+=yn*Math.pow(1-yn,2)*Ve*$e*It,un.y+=yn*Math.pow(1-yn,2)*Ve*Et*It,_n.x+=Math.pow(yn,2)*(1-yn)*Ve*$e*It,_n.y+=Math.pow(yn,2)*(1-yn)*Ve*Et*It}if(k){const An=Re(ie(Oe),Oe.c2),yn=Re(ie(Oe),Oe.c1);un=Re(un,ge(yn,.03)),_n=Re(_n,ge(An,.03))}Oe.constrain_to&&(un=ge(Oe.constrain_to,F(Oe.constrain_to,un)));const tn=1;Oe.c1.x-=tn*un.x*6/C,Oe.c1.y-=tn*un.y*6/C,Oe.c2.x-=tn*_n.x*6/C,Oe.c2.y-=tn*_n.y*6/C;let nn=0;for(let An=0;An<C;An++){const yn=An/C,sn=ce(Oe,yn),Nn=Y(we,V(sn));nn+=Math.pow(Nn.x,2)+Math.pow(Nn.y,2)}if(nn=nn/C,fn++,Oe.error=nn,Oe.steps=fn,nn<I||fn>M)break}return fn>M?(Oe.c0=mt.c0,Oe.c1=mt.c1,Oe.c2=mt.c2,Oe.c3=mt.c3,Oe.error=mt.error,Oe.constrain_to=mt.constrain_to,Oe.update_status=U.FAIL_MAXED,Oe):(Oe.update_status=U.SUCCESS,Oe)},"updateDistanceField"),Y=u(function(we,xe){let{x:Oe,y:Xe}=xe;if(we.vdmap[Oe]){const Ye=we.vdmap[Oe][Xe],dt=we.vdmap[Oe][Xe+1];let mt=Ye!=null?{x:Ye.x,y:Ye.y}:{x:P,y:P};return dt&&dt.x!=null&&Math.abs(mt.x)>Math.abs(dt.x)&&(mt.x=dt.x),dt&&dt.y!=null&&Math.abs(mt.y)>Math.abs(dt.y)&&(mt.y=dt.y),mt}else return{x:P,y:P}},"getDistanceFromPolyline"),X=u(function(we){const xe=we.c3,Oe=we.c2;return{x:3*(Oe.x-xe.x),y:3*(Oe.y-xe.y)}},"getCurveEndTangent"),Z=u(function(we,xe){if(ee(we.c0,we.c3))return!1;let Oe;S?Oe=le(Re(ce(we,.95),we.c3)):Oe=le(X(we));const Xe=le({x:xe.x-we.c3.x,y:xe.y-we.c3.y}),Ye=F(Oe,Xe);if(j(Math.acos(Ye))<D)return!0},"checkCorner"),ie=u(we=>Ue(ne(Re(we.c3,we.c0),2),we.c0),"getSegmentMidpoint"),Ae=u(we=>({x:we.x*P,y:we.y*P}),"getScaledVectorDifference"),ae=u(we=>({x:-we.x,y:-we.y}),"negateVec"),V=u(we=>({x:Math.round(we.x),y:Math.round(we.y)}),"roundVec"),ve=u(we=>Math.pow(we.x,2)+Math.pow(we.y,2),"sumOfSquaresVec"),be=u(we=>Math.sqrt(ve(we)),"magnitudeVec"),Ue=u((we,xe)=>({x:we.x+xe.x,y:we.y+xe.y}),"addVec"),Re=u((we,xe)=>Ue(we,ae(xe)),"subVec"),ge=u((we,xe)=>({x:we.x*xe,y:we.y*xe}),"multVec"),ne=u((we,xe)=>ge(we,1/xe),"divVec"),ee=u((we,xe)=>we.x==xe.x&&we.y==xe.y,"equalVec"),F=u((we,xe)=>we.x*xe.x+we.y*xe.y,"dotProduct"),H=u(function(we){let{x:xe,y:Oe}=we,Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(xe-Xe.x,2)+Math.pow(Oe-Xe.y,2))},"getMagnitude"),j=u(we=>we*180/Math.PI,"radiansToDegrees"),N=u(we=>Math.max(Math.abs(we.x),Math.abs(we.y)),"getDDASteps"),J=u((we,xe)=>{const Oe=xe.x-we.x,Ye=xe.y-we.y,dt=-Oe;return le({x:Ye,y:dt})},"getPerpindicularUnitVector"),le=u(function(we){let{x:xe,y:Oe}=we;const Xe=H({x:xe,y:Oe});return{x:xe/Xe,y:Oe/Xe}},"getUnitVector"),ce=u(function(we,xe){const Oe=Ee(xe,we.c0.x,we.c1.x,we.c2.x,we.c3.x),Xe=Ee(xe,we.c0.y,we.c1.y,we.c2.y,we.c3.y);return{x:Oe,y:Xe}},"getPointAlongCurve"),Ee=u(function(we,xe,Oe,Xe,Ye){return xe*Math.pow(1-we,3)+Oe*3*we*Math.pow(1-we,2)+Xe*3*Math.pow(we,2)*(1-we)+Ye*Math.pow(we,3)},"singleComponentBezier");function ye(we,xe){return{a:we,b:xe}}u(ye,"makeLineSegment");function Ie(we,xe){let[Oe,Xe]=we,[Ye,dt]=xe;return Math.sqrt((Oe-Ye)**2+(Xe-dt)**2)}u(Ie,"magnitude");class he{add(xe){return this.current?Ie(this.current.a,xe)>.05?(this.current=ye(this.current.b,xe),{type:DrawMessageType.New,segment:this.current}):(this.current=ye(this.current.a,xe),{type:DrawMessageType.Edit,segment:this.current}):(this.current=ye(xe,xe),{type:DrawMessageType.New,segment:this.current})}}u(he,"ProgressiveEqualLengthMultilineTransformer");class Ce{setTargetRect(xe){this.targetRect=xe}add(xe){if(!(0,A.Z)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:Oe,left:Xe,width:Ye,height:dt}=this.targetRect,[mt,it]=[xe[0]-Xe,xe[1]-Oe];if(!this.current){p({x:mt,y:it});const Sn=[mt/Ye,it/dt];return this.current={a:Sn,b:Sn,c:Sn,d:Sn},{type:c.Sl.New,segment:this.current}}const At=this.current,{c0:Ot,c1:Kt,c2:Xt,c3:vn}=f({x:mt,y:it});return this.current={a:[Ot.x/Ye,Ot.y/dt],b:[Kt.x/Ye,Kt.y/dt],c:[Xt.x/Ye,Xt.y/dt],d:[vn.x/Ye,vn.y/dt]},this.current.a[0]!==At.a[0]||this.current.a[1]!==At.a[1]?{type:c.Sl.New,segment:this.current}:{type:c.Sl.Edit,segment:this.current}}}u(Ce,"ProgressiveCurveTransformer");var oe=e(5950652755),de=e(3107743571);const De=2e3,Te=50,pe=u(we=>{const{onDragStart:xe,onDragMove:Oe,onDragEnd:Xe,onCursorMoveStart:Ye,onCursorMove:dt,onCursorMoveEnd:mt,children:it}=we,[At,Ot]=(0,t.useState)(!1),[Kt,Xt]=(0,t.useState)(!1),[vn,Sn]=(0,t.useState)(0),[jt,hn]=(0,t.useState)(0),xt=(0,t.useCallback)(tn=>{tn.button===0&&(Ot(!0),xe(tn))},[xe]),Dn=(0,t.useCallback)(()=>{Xt(!1),mt()},[Xt,mt]);(0,de.Z)(()=>{Dn()},De,[vn,jt]);const St=(0,t.useCallback)(tn=>{if(tn.button===0){if(At){Oe(tn);return}Kt||(Ye(tn),Xt(!0)),dt(tn),Sn(tn.movementX),hn(tn.movementY)}},[Kt,At,dt,Ye,Oe]),dn=(0,oe.A)(St,Te,{leading:!0}),fn=(0,t.useCallback)(tn=>{dn(tn)},[dn]),un=(0,t.useCallback)(tn=>{if(tn&&tn.button!==0)return;const nn=At;Ot(!1),nn&&Xe(tn)},[At,Xe]),_n=(0,t.useCallback)(tn=>{const nn=At;Ot(!1),nn?Xe(tn):Kt&&mt()},[At,Xe,Kt,mt]);return t.createElement("div",{onMouseDown:xt,onMouseMove:fn,onMouseUp:un,onMouseLeave:_n,"aria-hidden":"true"},it)},"HuddlesCursorTarget");pe.displayName="HuddlesCursorTarget";const Me=t.memo(pe);var ke=e(8558782493),Ke=e(1224315998);function Ze(){return Ze=Object.assign||function(we){for(var xe=1;xe<arguments.length;xe++){var Oe=arguments[xe];for(var Xe in Oe)Object.prototype.hasOwnProperty.call(Oe,Xe)&&(we[Xe]=Oe[Xe])}return we},Ze.apply(this,arguments)}u(Ze,"target_extends");let Q=u(class extends t.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(xe,Oe){return!(0,s.A)(this.props,xe)||!(0,s.A)(this.state,Oe)}componentDidUpdate(xe){(0,s.A)(xe.targetRect,this.props.targetRect)||this.onResize()}onResize(){var xe;if(!(!((xe=this.props.refToForward)===null||xe===void 0)&&xe.current))return;const Oe=(0,y.n)(this.props.targetRect);this.props.refToForward.current.style.height=Oe.height,this.props.refToForward.current.style.width=Oe.width,this.props.refToForward.current.style.top=Oe.top,this.props.refToForward.current.style.left=Oe.left,this.props.refToForward.current.style.position=Oe.position}getCursorCoordinates(xe){return this.props.useHuddlesDragTarget?[xe.nativeEvent.offsetX,xe.nativeEvent.offsetY]:[xe.pageX,xe.pageY]}onDragStart(xe){this.multilineTransformer=new Ce,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),r.A.publish({id:"self",type:c.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),r.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(xe)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(xe){(0,A.Z)(this.multilineTransformer,"Need transformer to draw")&&r.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(xe)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(xe){r.A.publish({id:"self",type:c.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&(0,ke.k)(Ke.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:Ke.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){r.A.publish({id:"self",type:c.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(xe){const Oe=this.getCursorCoordinates(xe),Xe=Oe[0]/this.props.targetRect.width,Ye=Oe[1]/this.props.targetRect.height;r.A.publish({id:"self",type:c.Sl.Position,x:Xe,y:Ye,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){r.A.publish({id:"self",type:c.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.createElement(Me,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...(0,y.n)(this.props.targetRect)}})):t.createElement(d,{onDragStart:xe=>this.onDragStart(xe),onDragMove:xe=>this.onDragMove(xe),onDragEnd:xe=>this.onDragEnd(xe)},t.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...(0,y.n)(this.props.targetRect)}}))}constructor(xe){super(xe),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");Q.displayName="BaseDrawTarget";const se=u((we,xe)=>({hue:(0,_.Ng)(we).drawHue}),"mapStateToProps"),He=u(we=>({logDrawingAction:xe=>we(T(xe))}),"mapDispatchToProps"),Ge=(0,n.N)(se,He)(Q),Be=t.forwardRef((we,xe)=>t.createElement(Ge,Ze({refToForward:xe},we)))},5956851410:(x,g,e)=>{"use strict";e.d(g,{u:()=>ee});var t=e(3134334389),n=e(166097325),s=e(1649982175),r=e(8571983633),c=e(8840779375),o=e(3300324857),a=e(462591818),l=e(1641606663),i=e(9391594207),d=e(5795074931),_=e(3462964303),m=e(387328355),h=e(735940183);const v=new h.Ay("calls"),T=u(F=>{let{displayName:H,id:j,userId:N,color:J}=F;return t.createElement("div",{className:"p-huddles_draw__name_tag",style:J?{background:J}:{}},t.createElement(_.Ay,{className:"p-huddles_draw__name_tag_avatar",key:j,size:24,userId:N,isInteractive:!1,tabIndex:-1}),t.createElement("div",{className:"p-huddles_draw__name_tag_text"},H))},"NameTag"),A=u((F,H)=>{let{id:j}=H;return{displayName:j==="self"?v.t("You"):(0,m.iU)(F,j),userId:j==="self"?(0,d.WR)(F):(0,m.C1)(F,j).userId}},"mapStateToProps"),y=(0,i.N)(A)(T),p=-21,f=-15,O=u(F=>{let{peerId:H,width:j,height:N,leftOffset:J,topOffset:le,color:ce,renderNameTag:Ee=!0,isWindowDrawMode:ye=!1,xWindowPosition:Ie=0,yWindowPosition:he=0}=F;const Ce=(0,t.useRef)(null);let oe,de;const De=J*j,Te=le*N;oe=Math.round(De+f),de=Math.round(Te+p),ye&&(oe+=Ie,de+=he);const pe=(0,t.useMemo)(()=>[oe,de],[oe,de]),Me=u(ke=>{const Ke=Ce.current;Ke&&(Ke.style.setProperty("transform",`translate(${ke[0]}px, ${ke[1]}px)`),Ke.style.setProperty("visibility","initial"))},"updateCursorPosition");return(0,t.useEffect)(()=>{Me(pe)},[pe]),t.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.createElement("div",{key:`cursor-${H}`,className:"p-huddles_cursor_tracking__cursor",ref:Ce},Ee&&t.createElement(y,{key:`name-tag-${H}`,id:H,color:ce})))},"HuddlesCursor");O.displayName="HuddlesCursor";const I=t.memo(O,n.A);var P=e(2825968873),C=e(8405076696),M=e(8193414630);function D(F,H,j,N){return`hsla(${F}, ${H}%, ${j}%, ${N})`}u(D,"makeColorString");const E=u((F,H)=>D(F,100,75,H),"makeBaseColorString"),S=u(F=>D(F,80,50,1),"makeShadowColorString"),k=3;class U{static renderBaseStyle(H){H.lineJoin="round",H.lineCap="round",H.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=U.initialWidth,this.opacity=1,this.color=E(this.hue,this.opacity))}setHue(H){this.hue=H,this.color=E(this.hue,this.opacity),this.shadowColor=S(this.hue),this.observer.requestRenderOnNextFrame()}render(H){this.fade(),H.lineWidth=this.width,H.strokeStyle=this.color,H.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const H=Math.min(1,(performance.now()-this.startedFadingTimestamp)/U.fadeDuration);this.width=U.initialWidth-H*k,this.opacity=1-H/1,this.color=E(this.hue,this.opacity),H<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(H){this.observer=H,this.width=U.initialWidth,this.opacity=1,this.hue=0,this.color=E(this.hue,this.opacity),this.shadowColor=S(this.hue)}}u(U,"LineStyle"),U.displayName="LineStyle",U.initialWidth=7,U.fadeDuration=3e3;let L=u(class{getSegments(){return this.segments}addNewSegment(H){this.segments.push(H)}editLastSegment(H){this.segments.pop(),this.segments.push(H)}constructor(){this.segments=[]}},"ProgressivePlotter");class B extends null{draw(H){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const J=this.getSegments();H.beginPath();for(let le=0;le<J.length;le++){const ce=J[le];H.moveTo(ce.a[0]*j,ce.a[1]*N),H.lineTo(ce.b[0]*j,ce.b[1]*N)}H.stroke()}}u(B,"ProgressiveLineSegmentPlotter");class b extends L{draw(H){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const J=this.getSegments();H.beginPath();for(let le=0;le<J.length;le++){const ce=J[le];H.moveTo(ce.a[0]*j,ce.a[1]*N),H.bezierCurveTo(ce.b[0]*j,ce.b[1]*N,ce.c[0]*j,ce.c[1]*N,ce.d[0]*j,ce.d[1]*N)}H.stroke()}}u(b,"ProgressiveBezierCurvePlotter");const R=700,z=5e3;class w{onFadeCompleted(){this.plotter=new b,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,z)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,R)}update(H){if(this.resetVestigialLineTimeout(),H.type===a.Sl.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(H.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(H.type===a.Sl.Edit)this.plotter.editLastSegment(H.segment);else if(H.type===a.Sl.End)this.resetInactivityTimeout();else if(H.type===a.Sl.ChangeHue)this.style.setHue(H.hue);else{if(H.type===a.Sl.Position)return;(0,M.Kh)(H.type)}this.observer.requestRenderOnNextFrame()}render(H,j,N){this.style.render(H),this.plotter.draw(H,j,N)}setLineVisibility(H){Object.assign(this.visibilityState,H)}getColor(){return this.style.getColor()}constructor(H){this.observer=H,this.plotter=new b,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new U({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}u(w,"DrawLine"),w.displayName="DrawLine";const W=u(F=>{let{refToForward:H,isHidden:j,numVisibleLines:N,top:J,left:le,width:ce,height:Ee,doNotApplyTargetRect:ye}=F;if(ye){const he={display:j||N===0?"none":"block"};return t.createElement("canvas",{ref:H,style:he,"data-qa":"huddles-drawing-canvas"})}const Ie={display:j||N===0?"none":"block",...(0,C.n)({left:le,top:J,width:ce,height:Ee})};return t.createElement("canvas",{ref:H,style:Ie,"data-qa":"huddles-drawing-canvas"})},"Canvas");W.displayName="Canvas";const K=t.memo(W,n.A),Y=new h.Ay("calls"),X=10,Z=10,ie=u(F=>{let{displayName:H,coord:[j,N]}=F;return t.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${j+X}px`,top:`${N+Z}px`}},H)},"name_tag_NameTag"),Ae=u((F,H)=>{let{id:j}=H;return{displayName:j==="self"?Y.t("You"):(0,m.iU)(F,j)}},"name_tag_mapStateToProps"),ae=(0,i.N)(Ae)(ie),V=-33,ve=-9,be=u(F=>{let{top:H,left:j,width:N,height:J,leftOffset:le,topOffset:ce,id:Ee}=F;const ye=j+le*N,Ie=H+ce*J,he={left:`${ye+ve}px`,top:`${Ie+V}px`},Ce=(0,t.useMemo)(()=>[ye,Ie],[ye,Ie]);return t.createElement(t.Fragment,null,Ee!=="self"&&t.createElement("div",{key:`cursor-${Ee}`,className:"p-calls_draw__pencil_cursor",style:he}),t.createElement(ae,{key:`name-tag-${Ee}`,id:Ee,coord:Ce}))},"Cursor");be.displayName="Cursor";const Ue=t.memo(be,n.A);function Re(){return Re=Object.assign||function(F){for(var H=1;H<arguments.length;H++){var j=arguments[H];for(var N in j)Object.prototype.hasOwnProperty.call(j,N)&&(F[N]=j[N])}return F},Re.apply(this,arguments)}u(Re,"_extends");var ge;class ne extends(ge=t.Component){shouldComponentUpdate(H,j){return!(0,n.A)(this.props,H)||!(0,n.A)(this.state,j)}getOrCreatePeerLine(H){return this.peerLines[H]=this.peerLines[H]||new w({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:j=>this.setState(N=>({numVisibleLines:N.numVisibleLines+(j?1:-1)}))}),this.peerLines[H]}onIncomingPeerLine(H){if(this.props.itemId&&H.itemId&&H.itemId!==this.props.itemId)return;const j=this.getOrCreatePeerLine(H.id);switch(j.update(H),H.type){case a.Sl.New:{this.setState(N=>{let{tagCoords:J,userColors:le}=N;return{tagCoords:{...J,[H.id]:H.segment.d},userColors:{...le,[H.id]:j.getColor()}}});break}case a.Sl.Edit:{this.setState(N=>{let{tagCoords:J}=N;return{tagCoords:{...J,[H.id]:H.segment.d}}});break}case a.Sl.ChangeHue:{this.setState(N=>{let{userColors:J}=N;return{userColors:{...J,[H.id]:j.getColor()}}});break}case a.Sl.End:{this.setState(N=>{let{tagCoords:J}=N;return{tagCoords:(0,s.A)(J,H.id)}});break}case a.Sl.Position:{const N=[H.x,H.y];this.setState(J=>{let{tagCoords:le}=J;return{tagCoords:{...le,[H.id]:N}}});break}default:break}}componentDidMount(){o.A.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(H,j){H.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&(0,P.tZ)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&j.numVisibleLines>0||this.state.numVisibleLines>0&&j.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){if(!(0,r.A)(this.rafId)){var H;(H=this.context.windowRef.deref())===null||H===void 0||H.cancelAnimationFrame(this.rafId)}o.A.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,U.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.windowRef.deref().requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const H=this.props.targetRect.width,j=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,H,j);const N=Object.values(this.peerLines);for(let J=0;J<N.length;J++)N[J].render(this.ctx,H,j)}renderCursor(H,j,N){const{targetRect:J,useHuddlesCursor:le,itemId:ce,isHostDrawWindow:Ee,isWindowDrawing:ye}=this.props;if(le){const Ie=this.state.userColors[H],he=ce!=="self",Ce=Ee&&ye;return t.createElement(I,{key:H,peerId:H,topOffset:j,leftOffset:N,width:J.width,height:J.height,color:Ie,renderNameTag:he,isWindowDrawMode:Ce,xWindowPosition:J.left,yWindowPosition:J.top})}return t.createElement(Ue,Re({key:H,id:H,topOffset:j,leftOffset:N},J))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:H}=this.props,j={...(0,C.n)({left:H.left,top:H.top,width:H.width,height:H.height})};return t.createElement("div",{className:"p-calls_draw__renderer",style:j},t.createElement(K,Re({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),(0,c.A)(this.state.tagCoords,(N,J)=>{let[le,ce]=N;return this.renderCursor(J,ce,le)}))}return t.createElement("div",{className:"p-calls_draw__renderer"},t.createElement(K,Re({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),(0,c.A)(this.state.tagCoords,(H,j)=>{let[N,J]=H;return this.renderCursor(j,J,N)}))}constructor(H){super(H),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}u(ne,"BaseDrawRenderer"),ne.displayName="BaseDrawRenderer",ne.contextType=l.Mn;const ee=t.forwardRef((F,H)=>t.createElement(ne,Re({refToForward:H},F)))},1429018002:(x,g,e)=>{"use strict";e.d(g,{A:()=>I});var t=e(3134334389),n=e(9391594207),s=e(387328355),r=e(5255740490),c=e(4096483543),o=e(4954329752),a=e(6533394955),l=e(6839101721),i=e(3395259576),d=e(2615100822),_=e(4761125736);function m(){return m=Object.assign||function(P){for(var C=1;C<arguments.length;C++){var M=arguments[C];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(P[D]=M[D])}return P},m.apply(this,arguments)}u(m,"_extends");let h=u(class extends t.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var C;const M=this.videoRef.current,{shouldAttachStream:D,tileId:E,peerId:S}=this.props;!E||!M||(this.props.unbindVideo({tileId:E,videoRef:this.videoRef,shouldDetachStream:!!D,peerId:S}),M.removeEventListener("resize",this.onResize),(C=this.interactionObserver)===null||C===void 0||C.disconnect())}setUpMedia(){const C=this.videoRef.current,{shouldAttachStream:M,tileId:D,peerId:E}=this.props;!D||!C||(this.props.bindVideo({tileId:D,videoRef:this.videoRef,shouldAttachStream:!!M,peerId:E}),C.addEventListener("resize",this.onResize))}setupInteractionObserver(){var C;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((C=this.interactionObserver)===null||C===void 0||C.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var M;(M=this.interactionObserver)===null||M===void 0||M.observe(this.videoRef.current)}}interactionObserverCallback(C){const M=C[0];if(!M)return;const D=this.videoRef.current,{shouldAttachStream:E,tileId:S,peerId:k}=this.props;!S||!D||(M.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:S,videoRef:this.videoRef,shouldAttachStream:!!E,peerId:k}):this.props.unbindVideo({tileId:S,videoRef:this.videoRef,shouldDetachStream:!!E,peerId:k}))}onResize(){const C=this.videoRef.current;C&&(this.props.isSharingScreen?C.style.objectFit="contain":C.style.objectFit=C.videoWidth>C.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:C,peerId:M,tileId:D,isActivePeerSharingScreen:E,isShroudVisible:S}=this.props;!C||!D||(M!=="self"&&E&&!S?this.props.pauseVideo({tileId:D}):this.props.unpauseVideo({tileId:D}))}render(){const{refToForward:C,shouldFlip:M,peerId:D,className:E,width:S,height:k,onLoadedData:U}=this.props;return t.createElement("video",m({className:(0,r.A)("p-calls_video",E,{flipped:M}),ref:(0,o.P)(this.videoRef,C),key:D,"data-qa":"free-willy-video-element",style:{width:S,height:k}},U?{onLoadedData:U}:{}))}constructor(C){super(C),this.videoRef=(0,t.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=C.onResize?C.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");h.displayName="VideoElement";const v=u((P,C)=>{var M;const D=(0,_._Z)(P,"calls_pause_video_on_screenshare")==="treatment",E=(0,s.vz)(P),S=C.peer?(0,s.Bf)(C.peer):!1;let k;if(E)k=C.tileId;else{var U,L,B,b,R,z;k=S?(U=C.peer)===null||U===void 0||(L=U.tileIds)===null||L===void 0||(B=L.screenshare)===null||B===void 0?void 0:B.tileId:(b=C.peer)===null||b===void 0||(R=b.tileIds)===null||R===void 0||(z=R.camera)===null||z===void 0?void 0:z.tileId}return{tileId:k,peerId:(M=C.peer)===null||M===void 0?void 0:M.id,isSharingScreen:S,isShroudVisible:D&&(0,d.A)()?(0,i.pI)(P):!1,isActivePeerSharingScreen:(0,s.$Q)(P),experimentCallsPauseVideoOnScreenshareGroupTreatment:D}},"mapStateToProps"),T=u(P=>({bindVideo:C=>(0,c.A)()?(0,a.dispatchForClientStore)((0,l.d2)(C)):P((0,l.d2)(C)),unbindVideo:C=>(0,c.A)()?(0,a.dispatchForClientStore)((0,l.gJ)(C)):P((0,l.gJ)(C)),pauseVideo:C=>(0,c.A)()?(0,a.dispatchForClientStore)((0,l.WY)(C)):P((0,l.WY)(C)),unpauseVideo:C=>(0,c.A)()?(0,a.dispatchForClientStore)((0,l.D8)(C)):P((0,l.D8)(C))}),"mapDispatchToProps"),A=(0,n.N)(v,T)(h),y=t.forwardRef((P,C)=>t.createElement(A,m({refToForward:C},P)));function p(){return p=Object.assign||function(P){for(var C=1;C<arguments.length;C++){var M=arguments[C];for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(P[D]=M[D])}return P},p.apply(this,arguments)}u(p,"peer_video_element_extends");const f=u((P,C)=>{const M=(0,s.vz)(P),D=(0,s.JZ)(P,C.id);let E;const S=C.tileId;if(!M)E=(0,s.fy)(D)&&!D.isScreenshareEnabled;else{var k,U;const L=((k=D.tileIds)===null||k===void 0||(U=k.screenshare)===null||U===void 0?void 0:U.tileId)===S;E=(0,s.fy)(D)&&!L}return{peer:D,tileId:S,shouldFlip:E}},"peer_video_element_mapStateToProps"),O=(0,n.N)(f)(y),I=t.forwardRef((P,C)=>t.createElement(O,p({},P,{refToForward:C})))},1337358413:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>m,Ft:()=>i});var t=e(3134334389),n=e(5255740490),s=e(9391594207),r=e(3328068409),c=e(9009528296),o=e(9853754481);function a(){return a=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var T=arguments[v];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(h[A]=T[A])}return h},a.apply(this,arguments)}u(a,"_extends");const l=15;function i(h){return Math.min(1,Math.max(0,o.Ep*h))}u(i,"getClampedAudioLevel");let d=u(class extends t.PureComponent{componentDidMount(){c.A.subscribe(this.onLevelUpdated)}componentWillUnmount(){c.A.unsubscribe(this.onLevelUpdated)}onLevelUpdated(v){const{isEnabled:T}=this.props;if(!T){this.numBubbles>0&&this.setState(()=>({numActiveBubbles:0,numInactiveBubbles:this.numBubbles}));return}const A=Math.floor(this.numBubbles*i(v));this.setState(()=>({numActiveBubbles:A,numInactiveBubbles:this.numBubbles-A}))}renderBubbles(){const{numActiveBubbles:v,numInactiveBubbles:T}=this.state,{bubbleClassname:A}=this.props,y=(0,n.A)("p-audio_levels__bubble","p-audio_levels__bubble--active",A,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),p=(0,n.A)("p-audio_levels__bubble","p-audio_levels__bubble--inactive",A,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),f=Array.from({length:v},(I,P)=>t.createElement("span",{key:`active${P}`,className:y})),O=Array.from({length:T},(I,P)=>t.createElement("span",{key:P,className:p}));return f.concat(O)}render(){const v=this.props.ariaLabelledBy||this.props.ariaLabel?{role:"meter","aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-valuenow":Math.floor(this.state.numActiveBubbles/this.numBubbles*100),"aria-valuemin":0,"aria-valuemax":100,tabIndex:0}:{};return t.createElement("div",a({className:(0,n.A)("p-audio_levels",this.props.containerClassName),"data-qa":"audio-levels-bubbles"},v),this.renderBubbles())}constructor(v){super(v);var T;this.numBubbles=(T=this.props.initNumBubbles)!==null&&T!==void 0?T:l;var A;this.state={numInactiveBubbles:(A=v.initNumBubbles)!==null&&A!==void 0?A:l,numActiveBubbles:0},this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");d.displayName="AudioMeter";const _=u(h=>({clientTheme:(0,r.to)(h)}),"mapStateToProps"),m=(0,s.N)(_)(d)},610288365:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>l});var t=e(9706240641),n=e.n(t),s=e(6696292586),r=e(3398586081);class c{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var m,h;(m=this.battery)===null||m===void 0||m.addEventListener("chargingchange",this.handleBatteryUpdate),(h=this.battery)===null||h===void 0||h.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var m,h;(m=this.battery)===null||m===void 0||m.removeEventListener("chargingchange",this.handleBatteryUpdate),(h=this.battery)===null||h===void 0||h.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)};var d=this;this.initialize=(0,t.coroutine)(function*(){yield d.setUp(),d.updateBatteryState()});var _=this;this.setUp=(0,t.coroutine)(function*(){if(!_.isInitialized)try{if(navigator.getBattery){const m=yield navigator.getBattery();_.battery=m,_.battery&&(_.isSupported=!0,_.updateBatteryState(),_.registerListeners())}else _.isSupported=!1}catch{_.isSupported=!1}finally{_.isInitialized=!0}}),this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!(0,s.A)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}u(c,"HuddleBatteryManager");const o=(0,r.A)(()=>new c),a={getHuddleBatteryManager:o,HuddleBatteryManager:c},l=o},6664301844:(x,g,e)=>{"use strict";e.d(g,{$H:()=>de,$b:()=>A,$s:()=>oe,E9:()=>p,Es:()=>l,I8:()=>h,KK:()=>j,Ll:()=>Y,Ls:()=>se,QJ:()=>z,Q_:()=>pe,RM:()=>he,VW:()=>He,Ws:()=>ge,XL:()=>T,Xw:()=>a,ZT:()=>le,Ze:()=>Re,_R:()=>ye,b9:()=>y,dQ:()=>i,gi:()=>P,i3:()=>H,j3:()=>Q,jp:()=>b,jq:()=>ke,kM:()=>Ke,mn:()=>v,of:()=>Te,px:()=>Ze,uL:()=>m,vB:()=>ee,w2:()=>Me,wV:()=>be,xY:()=>d,xc:()=>R,z2:()=>_,zF:()=>Z,zg:()=>Ie});var t=e(9706240641),n=e.n(t),s=e(7164668892),r=e.n(s),c=e(3305135794),o=e.n(c);let a=s.CheckAudioConnectivityFeedback,l=s.CheckAudioInputFeedback,i=s.CheckAudioOutputFeedback,d=s.CheckCameraResolutionFeedback,_=s.CheckContentShareConnectivityFeedback,m=s.CheckNetworkTCPConnectivityFeedback,h=s.CheckNetworkUDPConnectivityFeedback,v=s.CheckVideoConnectivityFeedback,T=s.CheckVideoInputFeedback,A=s.LogLevel,y=s.MeetingSessionStatusCode,p=s.TranscriptItemType,f=null;const O=null;let I=null;const P=s.AllHighestVideoBandwidthPolicy;let C,M=null,D=null;const E=s.DefaultDeviceController;let S;const k=s.DefaultMeetingReadinessChecker;let U;const L=s.DefaultMeetingSession;let B,b=s.DefaultModality,R=s.DefaultVideoTile,z=s.MeetingSessionConfiguration,w=null,W=null,K=null,Y=s.PermissionDeniedError,X=null,Z=s.Versioning,ie=null,Ae=null,ae=null,V=null,ve=null,be=s.VoiceFocusDeviceTransformer,Ue=null,Re=s.DefaultVideoTransformDevice,ge=s.BackgroundBlurVideoFrameProcessor,ne=null,ee=s.CSPMonitor;const F=null;let H=s.VideoFxProcessor,j=s.VideoCodecCapability,N=!1,J=!1;function le(Ge){return ce.apply(this,arguments)}u(le,"setUseExpSDK");function ce(){return ce=(0,t.coroutine)(function*(Ge){if(N=Ge,!N||J)return;const Be=yield Promise.resolve().then(e.t.bind(e,3305135794,23));a=Be.CheckAudioConnectivityFeedback,l=Be.CheckAudioInputFeedback,i=Be.CheckAudioOutputFeedback,d=Be.CheckCameraResolutionFeedback,_=Be.CheckContentShareConnectivityFeedback,m=Be.CheckNetworkTCPConnectivityFeedback,h=Be.CheckNetworkUDPConnectivityFeedback,v=Be.CheckVideoConnectivityFeedback,T=Be.CheckVideoInputFeedback,I=Be.ClientVideoStreamReceivingReport,M=Be.ConnectionHealthData,D=Be.DataMessage,S=Be.DefaultDeviceController,U=Be.DefaultMeetingReadinessChecker,B=Be.DefaultMeetingSession,b=Be.DefaultModality,R=Be.DefaultVideoTile,A=Be.LogLevel,z=Be.MeetingSessionConfiguration,w=Be.MeetingSessionStatus,y=Be.MeetingSessionStatusCode,W=Be.MeetingSessionVideoAvailability,K=Be.MutableVideoPreferences,Y=Be.PermissionDeniedError,X=Be.TargetDisplaySize,p=Be.TranscriptItemType,f=Be.TranscriptionStatusType,Z=Be.Versioning,ie=Be.VideoPreference,Ae=Be.VideoPreferences,ae=Be.VideoPriorityBasedPolicy,V=Be.VideoPriorityBasedPolicyConfig,ve=Be.VideoTileState,C=Be.AudioProfile,be=Be.VoiceFocusDeviceTransformer,Ue=Be.DefaultBrowserBehavior,Re=Be.DefaultVideoTransformDevice,ge=Be.BackgroundBlurVideoFrameProcessor,ne=Be.BackgroundReplacementVideoFrameProcessor,ee=Be.CSPMonitor,H=Be.VideoFxProcessor,j=Be.VideoCodecCapability,J=!0}),ce.apply(this,arguments)}u(ce,"_setUseExpSDK");function Ee(){return N}u(Ee,"isUsingExpSDK");function ye(){return S||E}u(ye,"getDefaultDeviceController");function Ie(){return E}u(Ie,"getDefaultDeviceControllerDefault");function he(){return S}u(he,"getDefaultDeviceControllerExp");function Ce(){return U||k}u(Ce,"getDefaultMeetingReadinessChecker");function oe(){return k}u(oe,"getDefaultMeetingReadinessCheckerDefault");function de(){return U}u(de,"getDefaultMeetingReadinessCheckerExp");function De(){return B||L}u(De,"getDefaultMeetingSession");function Te(){return L}u(Te,"getDefaultMeetingSessionDefault");function pe(){return B}u(pe,"getDefaultMeetingSessionExp");function Me(){return be}u(Me,"getVoiceFocusDeviceTransformer");function ke(){return Re}u(ke,"getDefaultVideoTransformDevice");function Ke(){return ge}u(Ke,"getBackgroundBlurVideoFrameProcessor");function Ze(){return c.BackgroundReplacementVideoFrameProcessor}u(Ze,"getBackgroundReplacementVideoFrameProcessor");function Q(){return s.AudioProfile}u(Q,"getAudioProfileDefault");function se(){return C}u(se,"getAudioProfileExp");function He(Ge){return!!Ge.type}u(He,"isTranscriptEventTranscriptionStatus")},252549317:(x,g,e)=>{"use strict";e.d(g,{LD:()=>o,MS:()=>a,Vd:()=>i,k0:()=>l});var t=e(8571983633),n=e(571104883),s=e(9042410435);const r="4.30.79",c=[s.R.DesktopScreen,s.R.DesktopWindow];function o(){return!!(0,n.dY)(r)}u(o,"isWindowDrawingSupported");function a(d){return(0,t.A)(d)?s.f.None:d.startsWith("screen:")?s.f.Screen:d.startsWith("window:")?s.f.Window:s.f.Other}u(a,"determineContentShareTypeFromSourceId");function l(d){if(!(0,n.y3)())return s.R.BrowserContent;const _=a(d);if((0,n.y3)())switch(_){case s.f.Screen:return s.R.DesktopScreen;case s.f.Window:return s.R.DesktopWindow;default:return s.R.DesktopUnknown}return s.R.Unknown}u(l,"determineFullContentShareSourceType");function i(d){return c.includes(d)}u(i,"doesContentShareTypeSupportDrawing")},9042410435:(x,g,e)=>{"use strict";e.d(g,{R:()=>n,f:()=>t});var t;(function(s){s.Screen="screen",s.Window="window",s.Other="other",s.None="none"})(t||(t={}));var n;(function(s){s.DesktopScreen="desktop:screen",s.DesktopWindow="desktop:window",s.DesktopUnknown="desktop:unknown",s.BrowserContent="browser:content",s.MobileScreen="mobile:screen",s.Unknown="unknown"})(n||(n={}))},416787925:(x,g,e)=>{"use strict";e.d(g,{Bm:()=>i,LL:()=>a,On:()=>v,Zy:()=>o,dx:()=>c,my:()=>l,tk:()=>_});var t=e(2208015175),n=e(7174777686),s=e(8736071954),r=e(336376314);const c="default",o="communications",a=[s.lW.Microphone,s.lW.Camera,s.Q4];function l(T,A){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a;(0,t.A)(A,(p,f)=>{if(!(0,n.A)(y,f))return;if(!p.length){T.warn(`No ${f} devices available`);return}const O=new r.M(["id","label"]);p.forEach(I=>{O.add([I.id,I.label].map(String))}),T.info(`${f} devices:
${O.report()}`)})}u(l,"logDevices");function i(){return{camera:[],microphone:[],output:[]}}u(i,"createEmptyDevices");const d={audioinput:s.lW.Microphone,videoinput:s.lW.Camera,audiooutput:s.Q4};function _(T){const A=d[T.kind],y={id:T.deviceId,label:T.label||void 0,groupId:T.groupId||void 0};return m(A)?{...y,type:A}:{...y,type:A}}u(_,"makeDevice");function m(T){return T!==s.Q4}u(m,"isInputDeviceType");function h(T){return m(T.type)}u(h,"isInputDevice");function v(T){return T.replace(/ *?\([^)]*?\) *?/g,"")}u(v,"removeDeviceIdFromDeviceLabel")},1473609332:(x,g,e)=>{"use strict";e.d(g,{t3:()=>a,Bh:()=>m,i4:()=>T});var t=e(9706240641),n=e(4103274853);function s(){return"0.1"}u(s,"getDevicePrefsVersion");var r=e(416787925),c=e(2825968873);const o="devicePrefs";function a(p){return(0,n.A)(p,f=>f[0])}u(a,"getPreferredDevices");function l(){return{camera:[],microphone:[r.dx,r.Zy],output:[r.dx,r.Zy]}}u(l,"createDefaultDevicePriority");function i(){return{camera:[],microphone:[],output:[]}}u(i,"createDefaultDeviceExtendedPriority");function d(){return{enableAGC:!0,enableNoiseSuppression:!0}}u(d,"createDefaultAudioPrefs");function _(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}u(_,"createDefaultVideoPrefs");function m(){const p=localStorage.getItem(o),f={version:s(),deviceIdPriorities:l(),deviceIdPrioritiesExtended:i(),video:_(),audio:d()};if(!p)return f;try{const O=JSON.parse(p);return O.version!==s()?f:{...f,...O}}catch(O){return(0,c.tZ)("DEVICES").error("Could not read device preferences from localStorage: ",O.message),f}}u(m,"readDevicePrefs");function h(p){return v.apply(this,arguments)}u(h,"updateDeviceIdPrioritiesExtended");function v(){return v=(0,t.coroutine)(function*(p){const f={},O=yield navigator.mediaDevices.enumerateDevices();for(const I of Object.keys(p)){const P=[],C=I;for(let M=0;M<p[C].length;M++){const D=p[C][M],E=O.find(S=>S.deviceId===D);E&&P.push({id:E.deviceId,groupId:E.groupId,label:E.label,labelWithoutId:(0,r.On)(E.label)})}f[I]=P}return f}),v.apply(this,arguments)}u(v,"_updateDeviceIdPrioritiesExtended");function T(p){return A.apply(this,arguments)}u(T,"writeDevicePrefs");function A(){return A=(0,t.coroutine)(function*(p){try{const f=yield h(p.deviceIdPriorities),O={...p,deviceIdPrioritiesExtended:f};localStorage.setItem(o,JSON.stringify(O))}catch(f){(0,c.tZ)("DEVICES").error("Could not write device preferences to localStorage: ",f.message)}}),A.apply(this,arguments)}u(A,"_writeDevicePrefs");function y(p,f){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const I=zipObject(f,range(f.length)),P=zipObject(O.map(C=>C.labelWithoutId),range(O.length));return sortBy(p,C=>{const M=removeDeviceIdFromDeviceLabel(C.label);return isUndefined(I[C.deviceId])?isUndefined(P[M])?1/0:P[M]:I[C.deviceId]})}u(y,"sortDevicesByPriorityWithFallback")},9195837907:(x,g,e)=>{"use strict";e.d(g,{t:()=>t});var t;(function(n){n.Blur="blur",n.Background="bg"})(t||(t={}))},7149946954:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>D});var t=e(9706240641),n=e(8736071954),s=e(4518410378),r=e(5387083734),c=e(462591818),o=e(571104883),a=e(796111729),l;(function(E){E.Granted="granted",E.Denied="denied",E.Prompt="prompt",E.NotDetermined="not-determined",E.Restricted="restricted",E.Unknown="unknown"})(l||(l={}));var i;(function(E){E.CAMERA="camera",E.MICROPHONE="microphone",E.SCREEN="display-capture"})(i||(i={}));const d={[c.mT.MICROPHONE]:i.MICROPHONE,[c.mT.CAMERA]:i.CAMERA,[c.mT.SCREEN]:i.SCREEN},_={[c.mT.MICROPHONE]:null,[c.mT.CAMERA]:null,[c.mT.SCREEN]:null},m=u(()=>({..._}),"getInitialPermissionsState");var h=e(6998663753),v=e(6422693406);let T=u(class{constructor(S){this.config=S,this.canAccessMediaResource=B=>{const b=this.wasPermissionGranted(B);return this.logger.info(`${B} permissions granted: ${b}`),{isAvailable:this.config.isElectronApiAvailable,status:this.permissions[B]}};var k=this;this.requestMediaAccess=function(){var B=(0,t.coroutine)(function*(b){return k.updatePermissionsState(b,k.getDefaultAccessResult().status),k.logger.error("Requesting media access is not implemented for this device, but it is being called. This is likely a bug."),v.S.resolve({isAvailable:k.config.isElectronApiAvailable,isGranted:!0})});return function(b){return B.apply(this,arguments)}}();var U=this;this.refreshAllPermissions=(0,t.coroutine)(function*(){try{yield U.refreshDevicePermissionStatus(c.mT.MICROPHONE),yield U.refreshDevicePermissionStatus(c.mT.CAMERA),yield U.refreshDevicePermissionStatus(c.mT.SCREEN)}catch(B){U.logger.warn("An error occurred while refreshing device permissions",B)}});var L=this;this.refreshDevicePermissionStatus=function(){var B=(0,t.coroutine)(function*(b){L.updatePermissionsState(b,L.getDefaultAccessResult().status)});return function(b){return B.apply(this,arguments)}}(),this.getDefaultAccessResult=()=>({isAvailable:this.config.isElectronApiAvailable,status:n.eJ.Granted}),this.updatePermissionsState=(B,b)=>{this.permissions[B]!==b&&(this.logger.info(`permission state for ${B} changed to ${b}`),this.permissions[B]=b,this.config.onPermissionsChange(this.permissions))},this.wasPermissionGranted=B=>{let b=!1;return this.permissions[B]&&(b=this.permissions[B]===n.eJ.Granted),b},this.hasNoKnownPermissions=B=>this.permissions[B]===null,this.logger=this.config.logger,this.permissions=this.config.initialState}},"DefaultDevicePermissions");var A=e(3245843483);let y=u(class extends T{constructor(S){super(S);var k=this;this.refreshDevicePermissionStatus=function(){var L=(0,t.coroutine)(function*(B){const{status:b}=yield(0,A.XBC)(B);k.logger.info(`Received ${B} access status for desktop app: ${b}`),k.updatePermissionsState(B,b)});return function(B){return L.apply(this,arguments)}}();var U=this;this.requestMediaAccess=function(){var L=(0,t.coroutine)(function*(B){const{isAvailable:b,isGranted:R}=yield(0,A.Nin)(B);return U.updatePermissionsState(B,R?n.eJ.Granted:n.eJ.Denied),{isAvailable:b,isGranted:!!R}});return function(B){return L.apply(this,arguments)}}()}},"DesktopDevicePermissions"),p=u(class extends T{constructor(S){super(S);var k=this;this.refreshDevicePermissionStatus=function(){var U=(0,t.coroutine)(function*(L){if(L===c.mT.SCREEN)return;const B=L===c.mT.MICROPHONE?"audioinput":"videoinput";try{const R=(yield navigator.mediaDevices.enumerateDevices()).filter(w=>w.kind===B),z=R.length>0&&R.some(w=>w.label.trim()!=="");k.updatePermissionsState(L,z?n.eJ.Granted:n.eJ.NotDetermined)}catch{k.logger.error('An error occurred enumerating devices. Setting access status to "granted"'),k.updatePermissionsState(L,n.eJ.NotDetermined)}});return function(L){return U.apply(this,arguments)}}()}},"FirefoxDevicePermissions"),f=u(class extends T{constructor(...S){super(...S),this.changeHandlers=m();var k=this;this.refreshDevicePermissionStatus=function(){var U=(0,t.coroutine)(function*(L){const B=yield navigator.permissions.query({name:d[L]});k.updatePermissionsState(L,B.state),k.logger.info(`Received ${L} access status for browser: ${k.permissions[L]}`),k.maybeRegisterPermissionChangeListener(L,B)});return function(L){return U.apply(this,arguments)}}(),this.maybeRegisterPermissionChangeListener=(U,L)=>{if(!this.changeHandlers[U]){const B=u(()=>this.onPermissionChangeEvent(U,L==null?void 0:L.state),"handler");L.addEventListener("change",B),this.changeHandlers[U]=B}},this.onPermissionChangeEvent=(U,L)=>{this.updatePermissionsState(U,L)}}},"BrowserDevicePermissions");var O=e(6673728906);const I="device-permissions-state",P=7*24*60*60*1e3,C=5*1e3;class M{isPersistedStateTrustworthy(S){return!(!S||Date.now()-S>P)}savePermissionsToLocalStorage(S){try{const k={permissions:S,timestamp:Date.now()},U=JSON.stringify(k);localStorage.setItem(I,U),this.logger.info(`Permissions saved to local storage: ${U}`)}catch(k){this.logger.error("Error saving permissions to local storage",k)}}readPermissionsFromLocalStorage(){try{const S=localStorage.getItem(I);if(S){this.logger.info(`Permissions loaded from local storage ${S}`);const k=JSON.parse(S);return this.isPersistedStateTrustworthy(k==null?void 0:k.timestamp)?k.permissions:(this.logger.warn("Permissions not considered trustworthy. Requiring refresh"),null)}}catch(S){this.logger.error("Error reading permissions from local storage",S)}return null}constructor(){this.isSSB=(0,o.y3)(),this.logger=(0,a.Wo)({label:"DEVICE-PERMISSIONS-MANAGER"}),this.initialized=!1;var S=this;this.init=(0,h.A)((0,t.coroutine)(function*(){S.logger.info("Initializing media device permissions manager"),S.initialized=!0,S.permissionsStrategy=S.getStrategy(),setTimeout(S.refreshAllPermissions,C),S.logger.info("Scheduled permissions refresh")})),this.canAccessMediaResource=B=>{var b,R;return!((b=this.permissionsStrategy)===null||b===void 0)&&b.canAccessMediaResource?this.permissionsStrategy.canAccessMediaResource(B):{isAvailable:!!(!((R=this.config)===null||R===void 0)&&R.isElectronApiAvailable),status:n.eJ.Granted}};var k=this;this.requestMediaAccess=function(){var B=(0,t.coroutine)(function*(b){var R;return!((R=k.config)===null||R===void 0)&&R.isElectronApiAvailable?k.permissionsStrategy.requestMediaAccess(b):(k.logger.warn("Permissions strategy not available"),{isAvailable:!1,isGranted:!0})});return function(b){return B.apply(this,arguments)}}(),this.getStrategy=()=>{const B={initialState:this.readPermissionsFromLocalStorage()||m(),isElectronApiAvailable:this.isSSB&&(0,o.cX)(),onPermissionsChange:this.onPermissionsChange,logger:this.logger};return this.config=B,(0,o.y3)()?(this.logger.info("Using desktop device permissions strategy"),new y(B)):(0,o.gm)()?(this.logger.info("Using Firefox device permissions strategy"),new p(B)):this.shouldUsePermissionsApi()?(this.logger.info("Using browser device permissions strategy"),new f(B)):(this.logger.info("Using default device permissions strategy"),new T(B))},this.onPermissionsChange=B=>{this.logger.info("Permissions changed",B),(0,O.pq)(),this.savePermissionsToLocalStorage(B)};var U=this;this.refreshAllPermissions=(0,t.coroutine)(function*(){U.logger.info("Refreshing all permissions");try{yield navigator.mediaDevices.enumerateDevices(),yield U.refreshPermissions(c.mT.MICROPHONE),yield U.refreshPermissions(c.mT.CAMERA),yield U.refreshPermissions(c.mT.SCREEN)}catch(B){U.logger.warn("An error occurred while refreshing device permissions",B)}});var L=this;this.refreshPermissions=function(){var B=(0,t.coroutine)(function*(b){return L.logger.debug(`Refreshing ${b} permissions`),(0,r.IE)("media-access-update",(0,t.coroutine)(function*(){return L.permissionsStrategy.refreshDevicePermissionStatus(b)})).catch(R=>{L.logger.warn(`An error occurred while trying to check ${b} permissions`,R)})});return function(b){return B.apply(this,arguments)}}(),this.shouldUsePermissionsApi=()=>!this.isSSB&&!(0,o.gm)()&&"permissions"in s.J.navigator,this.clearAllPermissions=()=>{this.initialized&&this.savePermissionsToLocalStorage(m())}}}u(M,"DevicePermissionsManager");const D=new M},6673728906:(x,g,e)=>{"use strict";e.d(g,{_o:()=>de,Nj:()=>Ce,T5:()=>ye,Zy:()=>le,G0:()=>De,pq:()=>Ie,cT:()=>Ee,i_:()=>ce,es:()=>oe});var t=e(9706240641),n=e(8736071954),s;(function(Te){Te.Microphone="audioinput",Te.Camera="videoinput",Te.Speakers="audiooutput"})(s||(s={}));const r=u(Te=>({[n.lW.Microphone]:s.Microphone,[n.lW.Camera]:s.Camera,[n.Q4]:s.Speakers})[Te],"adapter_mapDeviceTypeToDeviceKind"),c=u(Te=>({[s.Microphone]:n.lW.Microphone,[s.Camera]:n.lW.Camera,[s.Speakers]:n.Q4})[Te],"mapDeviceKindToDeviceType"),o=u(Te=>{const pe=c(Te.kind);return pe===n.Q4?{id:Te.deviceId,label:Te.label,groupId:Te.groupId,type:n.Q4}:{id:Te.deviceId,label:Te.label,groupId:Te.groupId,type:pe,track:void 0}},"adapter_mapMediaDeviceInfoToDevice");var a=e(4423055085),l=e(4518410378),i=e(9113979368),d=e(9268023148),_=e(2208015175),m=e(235108050),h=e(8289365785),v=e(4103274853),T=e(796111729);const y=(0,T.Wo)({label:"DEVICE-PREFS"});var p=e(571104883),f=e(3078252698);const O=["ZoomAudioDevice (Virtual)"],C=["default","communications"],M=u(Te=>C.includes(Te),"isOSDefaultDeviceId"),D=u((Te,pe)=>{if(M(Te.deviceId))return!1;const Me=pe.find(ke=>M(ke.deviceId)&&ke.kind===Te.kind);return(Me==null?void 0:Me.groupId)===Te.groupId&&(Me==null?void 0:Me.label.includes(Te.label))},"isOSDefaultDeviceForType"),E=u(Te=>{const pe=/iphone/,Me=Te.label;if(!(0,f.A)(Me))return!1;const ke=(0,p.cX)()&&Me&&pe.test(Me.toLowerCase()),Ke=(Me==null?void 0:Me.toLowerCase().includes("display audio"))||Me.toLowerCase().includes("displayport");return ke||Ke},"shouldDeprioritizeDevice"),S=u(Te=>!Te.label||O.includes(Te.label),"shouldRemoveDevice"),k=u(Te=>Te&&Te.replace(/ *?\([a-zA-Z0-9]{4}:[a-zA-Z0-9]{4}\) *?/g,""),"removeDeviceFingerprintFromLabel"),U=u(Te=>Te.filter(pe=>pe.label).map(pe=>({deviceId:pe.deviceId,kind:pe.kind,label:k(pe.label)||"",groupId:pe.groupId})),"scrubAvailableDevices"),L=u((Te,pe)=>`${Te}-${pe}`,"generateDeviceKey");var B=e(6696292586),b=e(6313685253),R=e(8086952004);const z="version",w=4,W={1:Te=>Te,2:Te=>(0,v.A)(Te,pe=>{if((0,B.A)(pe))return pe;const Me={...pe},ke=k(pe.deviceLabel);return ke&&ke!==pe.deviceLabel&&(Me.deviceLabel=ke),Me}),3:Te=>(0,b.A)(Te,(pe,Me,ke)=>{if(!M(ke)&&ke!==z){const Ke=(0,R.A)(Te,(Ze,Q)=>M(Q)&&Ze.deviceInfo.kind===Me.deviceInfo.kind&&Ze.deviceInfo.groupId===Me.deviceInfo.groupId&&Ze.deviceInfo.label.includes(Me.deviceInfo.label));Ke&&((!Me.used&&Ke.used||Me.used&&Ke.used&&Me.used<Ke.used)&&(Me.used=Ke.used),(!Me.selected&&Ke.selected||Me.selected&&Ke.selected&&Me.selected<Ke.selected)&&(Me.selected=Ke.selected)),pe[ke]=Me}return pe},{}),4:Te=>(0,b.A)(Te,(pe,Me,ke)=>{if((0,B.A)(Me))pe[ke]=Me;else{const{deviceId:Ke,kind:Ze}=Me.deviceInfo,Q=L(Ke,Ze);pe[Q]=Me}return pe},{})},K=u(Te=>Te[z]!==w,"isMigrationNeeded"),Y=u(Te=>{if(!W[w])throw new Error(`No migration found for version ${w}`);const pe=Te[z]||0;if(pe===w)return Te;let Me={...Te};for(let ke=pe;ke<w;ke++){const Ke=ke+1,Ze=W[Ke];Me=Ze(Me),Me[z]=Ke}return Me},"maybeMigrateDeviceHistory");var X=e(1649982175);const Z="device-selection-records",ie=y,Ae=u(()=>{let Te;try{const pe=localStorage.getItem(Z);pe?(Te=JSON.parse(pe),K(Te)?(ie.debug(`Migration needed for device selection history from ${Te[z]} to ${w}`),Te=Y(Te)):ie.debug("No migration needed for device selection history")):Te=void 0}catch(pe){ie.error("Failed to read device selection history from local storage",pe),Te=void 0}return ie.debug("Reading device selection history from local storage",Te),Te?(0,X.A)(Te,z):void 0},"readSelectionHistoryFromLocalStorage"),ae=u(Te=>{if(Te){ie.debug("Writing device selection history to local storage",Te);try{const pe={...Te,[z]:w};localStorage.setItem(Z,JSON.stringify(pe))}catch(pe){ie.error("Failed to write device selection history to local storage",pe)}}},"saveDeviceSelectionRecordsToLocalStorage");var V=e(700984029),ve=e(4250409994),be=e(6533394955),Ue=e(3783723764),Re=e(6217320234);class ge{hasRecordForDevice(pe){return!!this.getRecord(pe)}getFormattedLabelForRecord(pe){const Me=this.getRecord(pe);return Me==null?void 0:Me.deviceLabel}wasDeviceSelected(pe){const Me=this.getRecord(pe);return!!(Me!=null&&Me.selected)}wasDeviceUsed(pe){const Me=this.getRecord(pe);return!!(Me!=null&&Me.used)}createRecord(pe){const Me=this.createEmptyDeviceSelectionRecord(pe);if(Me.deviceLabel){const ke=this.findExistingRecordByLabel(pe,Me.deviceLabel);if(ke){y.info(`Matching device record found for label: ${ke.deviceLabel} ${ke.deviceInfo.deviceId}`),this.removeRecord(ke.deviceInfo),this.setRecord(pe,{...ke,deviceInfo:pe});return}}this.setRecord(pe,Me)}updateDeviceUsed(pe){const Me=this.getRecord(pe);Me&&(y.info(`Removing device selection record for used device ${pe.deviceId}`),this.setRecord(pe,{...Me,used:Date.now()}))}updateDeviceSelected(pe){const Me=this.getRecord(pe);Me&&(y.info(`Updating device selection record for selected device ${pe.deviceId}`),this.setRecord(pe,{...Me,selected:Date.now()}))}updateDeviceLabel(pe){this.getRecord(pe)&&y.info(`Updating device selection record for label ${pe.label} ${pe.deviceId}`)}updateDeviceInfo(pe){const Me=this.getRecord(pe);Me&&(y.debug(`Updating device selection record for device info ${pe.label} ${pe.deviceId}`),this.setRecord(pe,{...Me,deviceLabel:pe.label,deviceInfo:pe}))}persistToLocalStorage(){y.info("Persisting device selection records to local storage"),ae(this.records)}initFromLocalStorage(){this.records=Ae()||{},y.info("Initializing device preferences manager from local storage")}setRecord(pe,Me){const{deviceId:ke,kind:Ke}=pe,Ze=L(ke,Ke);y.debug(`Setting device selection record for ${Ze}`,Me),this.records[Ze]=Me}getRecord(pe){let{deviceId:Me,kind:ke}=pe;const Ke=L(Me,ke);return this.records[Ke]}removeRecord(pe){const{deviceId:Me,kind:ke}=pe,Ke=L(Me,ke);y.info(`Removing device selection record for ${Ke}`),delete this.records[Ke]}findExistingRecordByLabel(pe,Me){return Object.values(this.records).find(Ke=>Ke.deviceLabel===Me&&Ke.deviceInfo.kind===pe.kind)}constructor(){this.records={},this.init=()=>{this.initFromLocalStorage(),this.printRecords()},this.getAllRecordsForTesting=()=>({...this.records}),this.getDeviceInfoForRecord=pe=>{const Me=this.getRecord(pe);if(Me)return{...Me.deviceInfo}},this.sortDevicesByLastSelection=pe=>(0,Ue.A)(pe,Me=>{var ke;return(ke=this.records[L(Me.deviceId,Me.kind)])===null||ke===void 0?void 0:ke.selected},"desc"),this.sortDevicesByLastUsed=pe=>(0,Ue.A)(pe,Me=>{var ke;return(ke=this.records[L(Me.deviceId,Me.kind)])===null||ke===void 0?void 0:ke.used},"desc"),this.sortDevicesByLabel=pe=>(0,Re.A)(pe,Me=>Me.label),this.printRecords=()=>{y.info("Device selection records:",this.records)},this.createEmptyDeviceSelectionRecord=pe=>({deviceInfo:pe,deviceLabel:pe.label,selected:null,used:null})}}u(ge,"DeviceSelectionRecordsStore");let ne;const ee=u(()=>(ne||(ne=new ge),ne),"getDeviceSelectionRecordStore");class F{constructor(){this.logger=y,this.deviceSelectionRecords=ee(),this.availableDevices=[],this.currentTeamId=null,this.useDevicesExp=!1,this.updatingAvailableDevicesPromise=null,this.enqueuedPreferenceUpdates={[s.Microphone]:!1,[s.Camera]:!1,[s.Speakers]:!1},this.osDefaultDevices={[s.Microphone]:null,[s.Camera]:null,[s.Speakers]:null},this.prioritizedDeviceLists={[s.Microphone]:[],[s.Camera]:[],[s.Speakers]:[]};var pe=this;this.init=function(){var Q=(0,t.coroutine)(function*(se){let{teamId:He,useDevicesExp:Ge}=se;if(pe.deviceSelectionRecords.init(),He!==pe.currentTeamId){pe.useDevicesExp=Ge,pe.useDevicesExp&&pe.logger.info("Initializing device preferences manager with experimental features"),pe.currentTeamId=He,pe.dispatch=(0,be.getStoreInstanceByTeamId)(He).dispatch;try{yield pe.updateAvailableDevices(),navigator.mediaDevices.addEventListener("devicechange",pe.handleDeviceListChange)}catch(Be){pe.logger.error("Error initializing device preferences manager",Be)}}});return function(se){return Q.apply(this,arguments)}}();var Me=this;this.refreshAvailableDevices=(0,t.coroutine)(function*(){yield Me.updateAvailableDevices()}),this.getPreferredDeviceOfType=Q=>this.getPrioritizedDeviceListOfType(Q)[0],this.getPrioritizedDeviceListOfType=Q=>this.prioritizedDeviceLists[Q],this.recordDeviceSelected=(Q,se)=>{try{const{deviceId:He,deviceLabel:Ge}=this.lookupDeviceDetailsById(Q,se);if(!He){this.logger.warn("Device record not found for selected device id",Q);return}if(!this.deviceSelectionRecords.hasRecordForDevice({deviceId:He,kind:se})){this.logger.warn("No device selection record found for device id",He);return}this.logger.info(`Reporting ${se} device selected, label: ${Ge}, id: ${He}`),this.deviceSelectionRecords.updateDeviceSelected({deviceId:He,kind:se}),this.propagateUpdateToExternalStores()}catch(He){this.logger.error("Error reporting device selected",He)}},this.recordDeviceUsed=(Q,se)=>{try{const{deviceId:He,deviceLabel:Ge}=this.lookupDeviceDetailsById(Q,se);if(!He){this.logger.warn("Device record not found for used device id",Q);return}this.logger.info(`Reporting ${se} device used, label: ${Ge}, id: ${He}`),this.deviceSelectionRecords.updateDeviceUsed({deviceId:He,kind:se}),this.propagateUpdateToExternalStores()}catch(He){this.logger.error("Error reporting device used",He)}},this.getOSDefaults=()=>this.osDefaultDevices,this.clearDeviceSelectionRecords=()=>{ae({})},this.lookupDeviceDetailsById=(Q,se)=>{(0,i.A)(this.prioritizedDeviceLists[se])&&this.updateAvailableDevices();const He={deviceId:null,deviceLabel:null},Ge=M(Q)?this.osDefaultDevices[se]:Q;if(Ge&&M(Ge)&&this.logger.warn(`OS default device id (${Q}) used for details. This should not happen`),!Ge)return this.logger.warn("Device record not found for device id",Ge),He;He.deviceId=Ge;const Be=this.deviceSelectionRecords.getFormattedLabelForRecord({deviceId:Ge,kind:se}),we=k(Be);return we?(He.deviceLabel=we,He):(this.logger.warn("Device record not found for device id",Ge),He)};var ke=this;this.updateAvailableDevices=(0,t.coroutine)(function*(){if(ke.updatingAvailableDevicesPromise)return ke.logger.info("Available devices update already in progress. Returning existing promise."),ke.updatingAvailableDevicesPromise;const Q=function(){var se=(0,t.coroutine)(function*(He){try{ke.logger.info("Updating available devices");const Ge=yield l.J.navigator.mediaDevices.enumerateDevices();ke.logger.info(`Available devices ${JSON.stringify(Ge,null,2)}`),ke.availableDevices=U(Ge),ke.updateDeviceRecords(ke.availableDevices),ke.logger.info("Updated device records after device list update. Propagating update"),ke.propagateUpdateToExternalStores(),He()}catch(Ge){ke.logger.error("Error updating available devices",Ge),He()}finally{ke.updatingAvailableDevicesPromise=null}});return u(function(Ge){return se.apply(this,arguments)},"updateFn")}();return ke.updatingAvailableDevicesPromise=new Promise(Q),ke.updatingAvailableDevicesPromise});var Ke=this;this.waitForDeviceListUpdate=(0,t.coroutine)(function*(){yield Ke.updateAvailableDevices()}),this.updatePrioritizedDeviceLists=()=>{this.logger.debug("Updating prioritized device lists"),this.updatePrioritizedDeviceListOfType(s.Microphone),this.logger.debug("Updated mics",this.prioritizedDeviceLists[s.Microphone]),this.updatePrioritizedDeviceListOfType(s.Camera),this.logger.debug("Updated cameras",this.prioritizedDeviceLists[s.Camera]),this.updatePrioritizedDeviceListOfType(s.Speakers),this.logger.debug("Updated speakers",this.prioritizedDeviceLists[s.Speakers])};var Ze=this;this.handleDeviceListChange=(0,d.A)((0,t.coroutine)(function*(){try{Ze.logger.info(`Device list change event received at ${Date.now()}`),yield Ze.updateAvailableDevices()}catch(Q){Ze.logger.error("Error handling device list change event",Q)}}),1e3,{leading:!1,trailing:!0,maxWait:2e3}),this.updateDeviceRecords=Q=>{(0,_.A)(Q,se=>{if(!se.deviceId||M(se.deviceId))return;const He=this.deviceSelectionRecords.hasRecordForDevice(se),Ge=this.deviceSelectionRecords.getFormattedLabelForRecord(se),Be=this.deviceSelectionRecords.getDeviceInfoForRecord(se);if(He&&Be&&Be.kind!==se.kind){this.logger.warn(`device id collision between ${Be.kind} device (${Be.label}) and ${se.kind} device (${se.label})`);return}if(He&&se.label&&Ge!==se.label&&(this.deviceSelectionRecords.updateDeviceInfo(se),this.logger.info(`Device label updated from ${Ge} to ${se.label}`)),He?(this.logger.debug(`Device history record found for ${se.label} ${se.deviceId}`),this.deviceSelectionRecords.updateDeviceInfo(se)):(this.logger.info(`Creating new device history record for ${se.label} ${se.deviceId}`),this.deviceSelectionRecords.createRecord(se)),D(se,Q)&&this.osDefaultDevices[se.kind]!==se.deviceId){var xe;const Xe=((xe=this.getPreferredDeviceOfType(se.kind))===null||xe===void 0?void 0:xe.deviceId)===this.osDefaultDevices[se.kind];this.osDefaultDevices[se.kind]=se.deviceId,this.logger.info(`OS default device updated for ${se.kind}: ${se.label} ${se.deviceId}`),Xe&&(this.logger.info(`Preferred ${se.kind} OS default has changed to: ${se.label} ${se.deviceId}. Recording as selected.`),this.recordDeviceSelected(se.deviceId,se.kind))}})},this.updatePrioritizedDeviceListOfType=Q=>{var se,He;let Ge=null;const Be=[],we=[],xe=[],Oe=[];this.availableDevices.forEach(it=>{const At=it.deviceId===this.osDefaultDevices[it.kind];if(it.kind!==Q||M(it.deviceId))return;const Ot=this.deviceSelectionRecords.getDeviceInfoForRecord(it);if(!Ot){this.logger.error("No selection record found for device",it);return}if(!S(Ot)){if(this.deviceSelectionRecords.wasDeviceSelected(Ot)){Be.push(Ot);return}if(this.deviceSelectionRecords.wasDeviceUsed(Ot)){we.push(Ot);return}if(E(Ot)){xe.push(Ot);return}if(At){Ge=Ot;return}Oe.push(Ot)}});const Xe=[];Xe.push(...this.deviceSelectionRecords.sortDevicesByLastSelection(Be)),Xe.push(...this.deviceSelectionRecords.sortDevicesByLastUsed(we)),Xe.push(Ge),Xe.push(...this.deviceSelectionRecords.sortDevicesByLabel(Oe)),Xe.push(...xe);const Ye=(0,m.A)(Xe).filter(Boolean),dt=(se=(0,h.A)(Ye))===null||se===void 0?void 0:se.deviceId;return dt&&dt!==((He=this.prioritizedDeviceLists[Q][0])===null||He===void 0?void 0:He.deviceId)&&(this.enqueuedPreferenceUpdates[Q]=!0),Ye&&(this.prioritizedDeviceLists[Q]=Ye),Ye},this.updateDevicesInHuddle=()=>{const Q=u(se=>{var He;const Ge=(He=this.getPreferredDeviceOfType(se))===null||He===void 0?void 0:He.deviceId;!Ge||!this.enqueuedPreferenceUpdates[se]||(this.enqueuedPreferenceUpdates[se]=!1,(0,be.dispatchForClientStore)((0,ve.HC)({id:Ge,type:c(se)})),this.logger.info(`Setting preferred ${se} device in huddle`,Ge))},"maybeApplyPreference");Q(s.Microphone),Q(s.Speakers),Q(s.Camera)},this.propagateUpdateToExternalStores=()=>{this.deviceSelectionRecords.persistToLocalStorage(),this.updatePrioritizedDeviceLists(),this.logger.info("Propagating device selection history update"),this.dispatch((0,V.Fb)(void 0)),this.updateDevicesInHuddle()}}}u(F,"DevicePreferencesManager");const H=new F,j={printDeviceSelectionRecords:()=>{const Te=ee().getAllRecordsForTesting(),pe=(0,v.A)(Te,Me=>{var ke;return{deviceId:Me.deviceInfo.deviceId,label:Me.deviceLabel,type:Me.deviceInfo.kind,"is preferred":((ke=H.getPreferredDeviceOfType(Me.deviceInfo.kind))===null||ke===void 0?void 0:ke.deviceId)===Me.deviceInfo.deviceId,"last selected":Me.selected?Me.selected.toString():"Never selected","last used":Me.used?Me.used.toString():"Never used","is available":!!H.getPrioritizedDeviceListOfType(Me.deviceInfo.kind).find(Ke=>Ke.deviceId===Me.deviceInfo.deviceId),"is OS default":Me.deviceInfo.deviceId===H.getOSDefaults()[Me.deviceInfo.kind],groupId:Me.deviceInfo.groupId}});console.log("Device selection records"),console.table(pe)},printPreferredMicrophone:()=>{const Te=H.getPreferredDeviceOfType(s.Microphone);console.log("Preferred microphone",Te)},printPreferredCamera:()=>{const Te=H.getPreferredDeviceOfType(s.Camera);console.log("Preferred camera",Te)},printPreferredSpeakers:()=>{const Te=H.getPreferredDeviceOfType(s.Speakers);console.log("Preferred speakers",Te)},printPrioritizedDeviceLists:()=>{const Te=(0,v.A)(H.getOSDefaults(),(pe,Me)=>H.getPrioritizedDeviceListOfType(Me));(0,_.A)(Te,(pe,Me)=>{const ke=pe.map(Ke=>({deviceId:Ke.deviceId,label:Ke.label,groupId:Ke.groupId}));console.log(`Prioritized list for ${Me}`),console.table(ke)})},printRawDeviceList:(0,t.coroutine)(function*(){const Te=yield l.J.navigator.mediaDevices.enumerateDevices();console.log("Available devices"),Te.forEach(pe=>{console.log(pe)})}),printDebugInfo:()=>{j.printDeviceSelectionRecords(),j.printPrioritizedDeviceLists(),j.printPreferredMicrophone(),j.printPreferredCamera(),j.printPreferredSpeakers(),j.printRawDeviceList()},clearDeviceSelectionRecords:()=>{H.clearDeviceSelectionRecords(),l.J.location.reload()}};(0,a.ul)("devices",j);const N=H;let J=null;const le=function(){var Te=(0,t.coroutine)(function*(pe){let{teamId:Me,useDevicesExp:ke}=pe;!Me||J===Me||(J=Me,yield N.init({teamId:Me,useDevicesExp:ke}))});return u(function(Me){return Te.apply(this,arguments)},"initializeDevicePreferences")}(),ce=u((Te,pe)=>{if(!J)return;const Me=r(pe);N.recordDeviceUsed(Te,Me)},"reportDeviceUsed"),Ee=u((Te,pe)=>{if(!J)return;const Me=r(pe);N.recordDeviceSelected(Te,Me)},"reportDeviceSelected"),ye=u(()=>{if(!J)return;const Te=N.getPrioritizedDeviceListOfType(s.Microphone)||[],pe=N.getPrioritizedDeviceListOfType(s.Camera)||[],Me=N.getPrioritizedDeviceListOfType(s.Speakers)||[];return{[n.lW.Microphone]:Te.map(o),[n.lW.Camera]:pe.map(o),[n.Q4]:Me.map(o)}},"getPrioritizedDeviceLists"),Ie=function(){var Te=(0,t.coroutine)(function*(){J&&(yield N.refreshAvailableDevices())});return u(function(){return Te.apply(this,arguments)},"refreshDeviceListsOnDevicePermissionsUpdate")}(),he=u(Te=>{if(!J)return;const pe=mapDeviceTypeToDeviceKind(Te);return devicePreferencesManager.getPrioritizedDeviceListOfType(pe).map(mapMediaDeviceInfoToDevice)},"getPrioritizedDeviceListOfType"),Ce=u(Te=>{if(!J)return;const pe=r(Te),Me=N.getPreferredDeviceOfType(pe);if(Me)return o(Me)},"getPreferredDeviceOfType"),oe=function(){var Te=(0,t.coroutine)(function*(){J&&(yield N.waitForDeviceListUpdate())});return u(function(){return Te.apply(this,arguments)},"waitForDeviceListUpdate")}(),de=u(()=>{var Te;return((Te=Ce(n.Q4))===null||Te===void 0?void 0:Te.id)||"default"},"getPreferredAudioSinkId"),De=u(()=>!!J,"isDevicePreferencesManagerInitialized")},63202349:(x,g,e)=>{"use strict";e.d(g,{k:()=>o});var t=e(6664301844),n=e(2825968873),s=e(6926388022),r=e(4423055085);const c={debug:0,info:1,warn:2,error:3,action:0};class o{debug(l){if(!(this.level>t.$b.DEBUG||!o.debugLogsEnabled))if(typeof l=="string"){const i=l;this.consoleLogger.debug(i)}else{const i=l();this.consoleLogger.debug(i)}}info(l){this.level>t.$b.INFO||this.consoleLogger.info(l)}warn(l){this.level>t.$b.WARN||this.consoleLogger.warn(l)}error(l){this.level>t.$b.ERROR||this.callLogger.error(l)}setLogLevel(l){this.level=l}getLogLevel(){return this.level}getName(){return this.name}constructor(l,i){this.name=l,this.level=i||c[(0,s.XM)()],this.consoleLogger=(0,n.Cc)(l),this.callLogger=(0,n.Jt)(l)}}u(o,"FreeWillyLogger"),o.debugLogsEnabled=!1,(0,r.ul)("toggleChimeDebugLogs",()=>{o.debugLogsEnabled=!o.debugLogsEnabled})},8719752487:(x,g,e)=>{"use strict";e.d(g,{Y:()=>Qn});var t=e(9706240641),n=e(1649982175),s=e(6664301844),r=e(5741354339),c=e(8445020572),o=e(2825968873),a=e(8736071954),l=e(7561130599),i=e(4708000837),d=e(462591818),_=e(9268023148),m=e(3078252698),h=e(2003990933),v=e(571104883),T=e(8872167513),A=e(2709531527),y=e(6246464105),p=e(9853754481);let f=u(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),(0,p.n2)(this.data)/p.Ep}constructor($){this.analyserNode=$,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var O=e(9009528296);const I=300;class P{stop(){this.previewAudioAnalyser=void 0,clearTimeout(this.timeoutId)}setPreviewAudioAnalyser($){this.previewAudioAnalyser=$}constructor(){this.timeoutId=-1,this.monitorAudioLevel=()=>{this.previewAudioAnalyser&&O.A.subscriberCount>0&&O.A.publish(this.previewAudioAnalyser.getLevel()),this.timeoutId=window.setTimeout(this.monitorAudioLevel,I)},this.monitorAudioLevel()}}u(P,"AudioLevelMonitor");function C(lt,$){let{skipIntermediatePendingRuns:te=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},fe=!1,Pe=[];const Qe=function(){var ut=(0,t.coroutine)(function*(){for(var et=arguments.length,Ft=new Array(et),$t=0;$t<et;$t++)Ft[$t]=arguments[$t];if(fe){te&&(Pe=[]);const os=(0,r.u)();return Pe.push({args:Ft,deferred:os}),os}fe=!0;const Pn=yield $.call(lt,...Ft);fe=!1;const Bn=Pe.shift();return Bn&&Qe(...Bn.args).then(Bn.deferred.resolve).catch(Bn.deferred.reject),Pn});return u(function(){return ut.apply(this,arguments)},"run")}();return Qe}u(C,"serialGuard");var M=e(3496486794),D=e(6673728906);class E{initialize($){let{preferredDeviceId:te}=$;var fe,Pe,Qe,ut,et,Ft,$t,Pn,Bn,os,Zn,qn,an,hs;if(!(!((fe=this.defaultDeviceController)===null||fe===void 0||(Pe=fe.activeDevices)===null||Pe===void 0||(Qe=Pe.audio)===null||Qe===void 0||(ut=Qe.stream)===null||ut===void 0)&&ut.getAudioTracks))return;const Cs=this.defaultDeviceController;if(!(!((et=this.defaultDeviceController)===null||et===void 0||(Ft=et.activeDevices)===null||Ft===void 0||($t=Ft.audio)===null||$t===void 0||(Pn=$t.stream)===null||Pn===void 0)&&Pn.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const G=Cs.activeDevices.audio.stream.getAudioTracks();if(G.length===1)this.audioInputTrack=G[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(Bn=this.audioInputTrack)===null||Bn===void 0||Bn.addEventListener("mute",this.onMute),(os=this.audioInputTrack)===null||os===void 0||os.addEventListener("unmute",this.onUnmute),(Zn=this.audioInputTrack)===null||Zn===void 0||Zn.addEventListener("ended",this.onEnded),!((qn=this.audioInputTrack)===null||qn===void 0)&&qn.muted?this.onMute():this.onUnmute();const ue=(hs=(an=this.audioInputTrack)===null||an===void 0?void 0:an.getSettings())===null||hs===void 0?void 0:hs.deviceId;if(!ue){this.logger.warn("No deviceId found for audio input track");return}ue!==te?this.logger.warn(`Used audio input track device id (${ue}) does not match the preferred device id (${te}). 
				Preferred device is unavailable. User may report issues with other participants hearing them.`):this.logger.info(`Used audio input track device id matches the preferred device id (${te})`),(0,D.cT)(ue,a.lW.Microphone)}tearDown(){var $,te,fe;($=this.audioInputTrack)===null||$===void 0||$.removeEventListener("mute",this.onMute),(te=this.audioInputTrack)===null||te===void 0||te.removeEventListener("unmute",this.onUnmute),(fe=this.audioInputTrack)===null||fe===void 0||fe.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor($,te,fe){this.defaultDeviceController=$,this.observer=te,this.logger=fe,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}u(E,"AudioInputTrackHandler");var S;(function(lt){lt.Blur="BLUR",lt.Image="IMAGE",lt.None="NONE"})(S||(S={}));class k{constructor({backgroundEffect:$}){this.filterCPUUtilizationHigh=te=>{const{cpuUtilization:fe,filterMillis:Pe,periodMillis:Qe}=te;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${fe} - spent ${Pe}ms of last ${Qe}ms processing video background`)},this.filterFrameDurationHigh=te=>{const{framesDropped:fe,avgFilterDurationMillis:Pe,framerate:Qe,periodMillis:ut}=te;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${Qe}, frames dropped: ${fe}, spent ${Pe}ms of last ${ut}ms processing video background`)},this.callLogger=(0,o.Jt)(`VIDEO-BACKGROUND-${$}`)}}u(k,"VideoBackgroundObserver");const U=k;var L=e(5071086688),B=e(5470425448),b=e(1473609332),R=e(9195837907),z=e(416787925),w=e(7149946954);class W{load(){var $=this;return(0,t.coroutine)(function*(){if($.url.origin===window.location.origin)return new Worker($.url,$.options);const fe=yield(yield fetch($.url)).text(),Pe=new Blob([fe],{type:"application/javascript"}),Qe=URL.createObjectURL(Pe);return new Worker(Qe,$.options)})()}constructor($,te){this.url=$,this.options=te}}u(W,"CORSWorker");class K{intrinsicDevice(){var $=this;return(0,t.coroutine)(function*(){return $.device})()}stop(){var $=this;return(0,t.coroutine)(function*(){var te;$.generatorVideoTrack.stop(),(te=$.inputMediaStream)===null||te===void 0||te.getTracks().forEach(fe=>fe.stop()),(yield $.worker).terminate()})()}onOutputStreamDisconnect(){if(this.generatorVideoTrack.stop(),!(this.device instanceof MediaStream)){var $;($=this.inputMediaStream)===null||$===void 0||$.getTracks().forEach(te=>te.stop())}}transformStream($){var te=this;return(0,t.coroutine)(function*(){if(te.inputMediaStream=$,$){const fe=new MediaStreamTrackProcessor({track:$.getVideoTracks()[0]});(yield te.worker).postMessage({type:"init",input:fe.readable,output:te.generatorVideoTrack.writable,width:$.getVideoTracks()[0].getSettings().width,height:$.getVideoTracks()[0].getSettings().height,bgImg:te.bgImg},[fe.readable,te.generatorVideoTrack.writable,...te.bgImg?[te.bgImg]:[]])}return te.outputMediaStream})()}constructor($,te){this.device=$,this.bgImg=te,this.worker=new W(new URL(e.p+e.u("js_modern_app_free-willy_free-willy-sdk_filter-worker_background-worker_ts"),e.b)).load(),this.generatorVideoTrack=new MediaStreamTrackGenerator({kind:"video"}),this.outputMediaStream=new MediaStream([this.generatorVideoTrack])}}u(K,"BackgroundWorkerVideoTransformDevice");var Y=e(5221945366),X;(function(lt){lt.START_PREVIEW="start-preview",lt.STOP_PREVIEW="stop-preview",lt.ENABLE="enable",lt.DISABLE="disable"})(X||(X={}));const Z=1e4,ie=30,Ae="medium",ae=!0,V=50;let ve=u(class{shutdown(){var $=this;return(0,t.coroutine)(function*(){var te,fe,Pe;if($.isShuttingDown=!0,$.voiceFocusDevice){var Qe;yield $.voiceFocusDevice.stop(),yield(Qe=$.voiceFocusManager)===null||Qe===void 0?void 0:Qe.tearDown(),$.voiceFocusDevice=void 0}$.audioVideoFacade.removeDeviceChangeObserver($),$.audioVideoFacade.stopLocalVideoTile(),yield $.audioVideoFacade.stopVideoInput(),yield $.audioVideoFacade.stopAudioInput(),$.audioVideoFacade.unbindAudioElement(),$.removeAudioElementErrorHandler(),yield $.clearVideoTransformDeviceRefs(),$.audioInputDeviceRefreshTimer&&(clearTimeout($.audioInputDeviceRefreshTimer),$.audioInputDeviceRefreshTimer=null),$.videoInputDeviceRefreshTimer&&(clearTimeout($.videoInputDeviceRefreshTimer),$.videoInputDeviceRefreshTimer=null),$.cameraMetricsTimeout&&(clearTimeout($.cameraMetricsTimeout),$.cameraMetricsTimeout=null),yield(fe=(te=(0,s._R)())===null||te===void 0?void 0:te.getAudioContext())===null||fe===void 0?void 0:fe.suspend(),$.callLogger.info("Audio context suspended"),(Pe=$.audioLevelMonitor)===null||Pe===void 0||Pe.stop(),delete $.audioLevelMonitor,$.callLogger.info("Device manager shutdown complete")})()}init(){var $=this;return(0,t.coroutine)(function*(){yield $.refreshMediaDeviceInfo(),yield $.determineInitialMicrophonePermissionState(),$.enumerateDevices(),$.logDevices(),yield $.updateMicrophone(),yield $.updateSpeaker(),$.isCameraEnabled&&(yield $.updateCamera())})()}determineInitialMicrophonePermissionState(){var $=this;return(0,t.coroutine)(function*(){if((0,v.y3)()){yield $.determineInitialMicrophonePermissionStateForDesktop();return}yield $.determineInitialMicrophonePermissionStateForBrowser()})()}determineInitialMicrophonePermissionStateForBrowser(){var $=this;return(0,t.coroutine)(function*(){const{status:te}=w.Ay.canAccessMediaResource(d.mT.MICROPHONE);let fe;(te===a.eJ.Prompt||te===a.eJ.NotDetermined||te===a.eJ.Unknown)&&(yield $.audioVideoFacade.listAudioInputDevices(!0),fe=w.Ay.canAccessMediaResource(d.mT.MICROPHONE).status),(te===a.eJ.Denied||fe===a.eJ.Denied)&&($.observer.onBrowserMediaDeviceAccessDenied(d.mT.MICROPHONE),$.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),$.setStartMutedBarrier(!0))})()}determineInitialMicrophonePermissionStateForDesktop(){var $=this;return(0,t.coroutine)(function*(){const te=yield $.maybeCheckSystemMediaAccess(d.mT.MICROPHONE);(0,v.j9)()||(0,v.uF)()||te&&(te==null?void 0:te.status)===a.eJ.Denied&&($.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),$.setStartMutedBarrier(!0))})()}setAGC($){var te=this;return(0,t.coroutine)(function*(){te.prefs.audio&&te.prefs.audio.enableAGC!==$&&(te.callLogger.info(`AGC setting changed: ${$}`),te.prefs.audio.enableAGC=$,(0,b.i4)(te.prefs),yield te.updateMicrophone())})()}setPreferredDevice($,te){var fe=this;return(0,t.coroutine)(function*(){switch(te){case a.lW.Microphone:yield fe.updateMicrophone();break;case a.Q4:yield fe.updateSpeaker();break;case a.lW.Camera:fe.isCameraEnabled&&(yield fe.updateCamera());break;default:break}})()}setPreferredCameraDeviceForPreview($){var te=this;return(0,t.coroutine)(function*(){te.enumerateDevices(),yield te.updateCamera()})()}setVideoBackgroundEffect($){let{effect:te,effectBgKey:fe}=$;var Pe=this;return(0,t.coroutine)(function*(){Pe.prefs.video&&(Pe.callLogger.info(`Video background effect changed: ${te}`),Pe.prefs.video.effect=te,Pe.prefs.video.effectBgKey=fe,(0,b.i4)(Pe.prefs),Pe.isCameraEnabled&&(yield Pe.updateCamera()))})()}setNoiseSuppression($){var te=this;return(0,t.coroutine)(function*(){te.prefs.audio&&te.prefs.audio.enableNoiseSuppression!==$&&(te.callLogger.info(`Noise suppression setting changed: ${$}`),te.prefs.audio.enableNoiseSuppression=$,(0,b.i4)(te.prefs),yield te.updateMicrophone())})()}setStartMutedBarrier($){var te=this;return(0,t.coroutine)(function*(){!te.isStartMutedBarrierActive&&$?te.callLogger.warn("ALERT: Audio input will be muted until the start muted barrier is released"):te.isStartMutedBarrierActive&&!$&&te.callLogger.info("Start muted barrier released"),te.isStartMutedBarrierActive=$})()}setMicrophone($){var te=this;return(0,t.coroutine)(function*(){var fe;if(te.voiceFocusManager&&(yield te.voiceFocusManager.setMute($)),!$){var Pe;te.audioVideoFacade.realtimeMuteLocalAudio(),(Pe=te.huddleEventsTrace)===null||Pe===void 0||Pe.update({name:A.p.MICROPHONE,type:A.G.STOP});return}te.isStartMutedBarrierActive&&te.setStartMutedBarrier(!1),te.audioVideoFacade.realtimeUnmuteLocalAudio(),(fe=te.huddleEventsTrace)===null||fe===void 0||fe.update({name:A.p.MICROPHONE,type:A.G.START})})()}requestPreviewStreamForDeviceId($,te,fe){te===a.lW.Camera&&this.handleCameraChanges({type:X.START_PREVIEW,deviceId:$,videoElement:fe})}stopVideoPreviewForVideoInput($){this.handleCameraChanges({type:X.STOP_PREVIEW,videoElement:$||this.cameraPreviewVideoElement})}setCamera($){$!==this.isCameraEnabled&&(this.isCameraEnabled=$,this.isCameraEnabled?(this.handleCameraChanges({type:X.ENABLE}),this.maybeCheckSystemMediaAccess(d.mT.CAMERA)):this.handleCameraChanges({type:X.DISABLE}))}setCameraQuality($,te,fe,Pe){this.callLogger.info(`Camera quality settings changed: ${$}x${te}@${fe}fps ${Pe}kbps`),this.audioVideoFacade.chooseVideoInputQuality($,te,fe),this.audioVideoFacade.setVideoMaxBandwidthKbps(Pe)}audioVideoDidStart(){return(0,t.coroutine)(function*(){})()}localVideoTileDidUpdate($){(!$.boundVideoStream||!$.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${$.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!$.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}maybeBindAudioOutputElement(){var $=this;return(0,t.coroutine)(function*(){if(!$.isAudioOutputElementBound&&$.audioOutputElement){try{yield $.audioVideoFacade.bindAudioElement($.audioOutputElement)}catch(te){$.callLogger.info(`bindAudioElement failed: error: ${te.name}, message: ${te.message}`);return}$.isAudioOutputElementBound=!0}})()}maybeCheckSystemMediaAccess($){var te=this;return(0,t.coroutine)(function*(){if(!(0,v.y3)()){const{status:fe}=w.Ay.canAccessMediaResource($);if(fe===a.eJ.Granted)return{isAvailable:!1,status:a.eJ.Granted}}if((0,v.cX)())try{const fe=w.Ay.canAccessMediaResource($);if(te.callLogger.info(`DeviceManager::getMediaAccessStatus ${$} electron API available: ${fe.isAvailable} and status: ${fe.status}`),!fe.isAvailable)return{isAvailable:!1,status:a.eJ.NotDetermined};if(fe.status===a.eJ.Granted)return te.observer.onDeviceAccessApproved($),fe;let Pe;return(!fe.status||fe.status===a.eJ.NotDetermined)&&(fe.status||te.callLogger.info(`DeviceManager::getMediaAccessStatus ${$} status is missing. Re-requesting media access`),Pe=$==="screen"?null:yield w.Ay.requestMediaAccess($),te.callLogger.info(`DeviceManager::askForMediaAccess ${$} electron API available: ${!!(Pe!=null&&Pe.isAvailable)} and isConsentGranted: ${Pe==null?void 0:Pe.isGranted}`),$!=="screen"&&(Pe!=null&&Pe.isGranted))?(te.observer.onDeviceAccessApproved($),{status:a.eJ.Granted,isAvailable:!0}):((fe.status===a.eJ.Denied||Pe&&!Pe.isGranted)&&(te.micPermissionDenied=!0,te.observer.onCheckSystemMediaAccess($)),fe)}catch(fe){te.callLogger.info(`DeviceManager::Error retrieving system access for ${$}: ${fe}`)}return{isAvailable:!1,status:a.eJ.NotDetermined}})()}audioInputMuteStateChanged($,te){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${$}, ${te?"muted":"unmuted"}`)}audioInputStreamEnded($){var te;$&&(this.callLogger.info("DeviceManager::audioInputStreamEnded"),((te=(0,D.Nj)(a.lW.Microphone))===null||te===void 0?void 0:te.id)===$&&(this.callLogger.warn("Call audio stream ended unexpectedly"),this.observer.onSetNoMediaInput(d.mT.MICROPHONE)))}videoInputStreamEnded($){var te=this;return(0,t.coroutine)(function*(){$&&(te.callLogger.info("DeviceManager::videoInputStreamEnded"),te.observer.onSetNoMediaInput(d.mT.CAMERA))})()}logDevices(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z.LL;const te=(0,D.T5)();if(!te){this.callLogger.error("No devices found");return}(0,z.my)(this.callLogger,te,$)}getPreferredDevice($){return(0,D.Nj)($)}enumerateDevices(){const $=(0,D.T5)();if(!$){this.callLogger.error("No devices found in v2 device manager");return}this.callLogger.info("V2 devices found. Updating device store"),this.observer.onDevicesUpdated($)}handleCameraChanges($){var te=this;return(0,t.coroutine)(function*(){switch($.type){case X.START_PREVIEW:yield te.runCameraActivityStartPreview($);break;case X.STOP_PREVIEW:yield te.runCameraActivityStopPreview($);break;case X.ENABLE:yield te.runCameraActivityEnable();break;case X.DISABLE:yield te.runCameraActivityDisable();break;default:break}})()}updateMicrophone(){var $=this;return(0,t.coroutine)(function*(){const te=$.getPreferredDevice(a.lW.Microphone);if(!te){$.callLogger.info("No audio input device found");return}const{id:fe,label:Pe}=te;$.micPermissionDenied&&$.callLogger.error("Microphone permission is denied. The user must grant permissions and fully quit and restart Slack to join the Huddle"),$.callLogger.info(`Selected audio input device: ${te.label||te.id}, deviceId: ${fe}, deviceLabel: ${Pe}`);const ut={autoGainControl:$.prefs.audio?$.prefs.audio.enableAGC:!0,deviceId:fe};let et=!0;if($.voiceFocusManager&&$.voiceFocusManager.isAvailable()&&($.prefs.audio&&$.prefs.audio.enableNoiseSuppression)){if($.voiceFocusDevice||($.voiceFocusDevice=yield $.voiceFocusManager.getTransformDevice()),$.voiceFocusDevice){const Ft=yield $.voiceFocusDevice.chooseNewInnerDevice(ut);$.voiceFocusDevice=Ft}$.voiceFocusDevice||(et=!1)}else et=!1;$.voiceFocusDevice&&(0,y.Y)({name:y.R1.VoiceFocusDevice,ref:$.voiceFocusDevice}),$.callLogger.info("Noise suppression:",et?"enabled":"disabled");try{if($.isStartMutedBarrierActive&&($.callLogger.info("Start muted barrier active"),$.audioVideoFacade.realtimeMuteLocalAudio()),et)if($.voiceFocusDevice)yield $.initAudioInput($.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(ut.noiseSuppression=!0),yield $.initAudioInput(ut)}catch(Ft){$.callLogger.error(`chooseAudioInputDevice failed: error: ${Ft.name}, message: ${Ft.message}`),yield $.handleAudioInitError(Ft);return}$.initAudioAnalyserForPreview(),$.setupAudioInputTrackHandler({preferredDeviceId:fe}),$.observer.onSelfPermissionUpdated($.micPermissionDenied,a.lW.Microphone),$.attemptToInitMicrophoneNative(te.label)})()}updateSpeaker(){var $=this;return(0,t.coroutine)(function*(){const te=$.getPreferredDevice(a.Q4);if(!te){$.callLogger.info("No audio output device found");return}const{id:fe,label:Pe}=te;$.callLogger.info(`Selected audio output device id: ${te.label||te.id}, deviceId: ${fe}, deviceLabel: ${Pe}`),yield $.audioVideoFacade.chooseAudioOutput(fe),$.observer.onOutputDeviceChanged({id:te.id,type:a.Q4}),(0,D.i_)(fe,a.Q4)})()}updateCamera(){var $=this;return(0,t.coroutine)(function*(){const te=$.getPreferredDevice(a.lW.Camera);if(!te){$.callLogger.info("No video input device found");return}$.callLogger.info(`Selected video input device id: ${te.label||te.id}`);try{yield $.setCameraVideoInputDevice(te)}catch(fe){$.callLogger.info(`chooseVideoInputDevice failed: error: ${fe.name}, message: ${fe.message}`),fe instanceof s.Ll?$.observer.onSelfPermissionUpdated(!0,a.lW.Camera):$.observer.onSelfPermissionUpdated(!1,a.lW.Camera);return}$.observer.onSelfPermissionUpdated(!1,a.lW.Camera)})()}setCameraVideoInputDevice($){var te=this;return(0,t.coroutine)(function*(){if(yield te.clearVideoTransformDeviceRefs(),te.options.backgroundVideoFilteringSetting===a.uT.NONE){yield te.initVideoInput($.id);return}switch(te.prefs.video.effect){case R.t.Blur:{yield te.setCameraVideoInputDeviceWithBackgroundBlurFilter($);break}case R.t.Background:{te.options.backgroundVideoFilteringSetting!==a.uT.Both?yield te.initVideoInput($.id):yield te.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:$,selectedBackgroundImageKey:te.prefs.video.effectBgKey});break}default:{yield te.initVideoInput($.id);break}}})()}setCameraVideoInputDeviceWithBackgroundReplacementImageFilter($){let{videoDevice:te,selectedBackgroundImageKey:fe}=$;var Pe=this;return(0,t.coroutine)(function*(){const Qe=te.label||te.id;if(fe===void 0){Pe.callLogger.info(`No background image key provided id: ${Qe}`),yield Pe.initVideoInput(te.id);return}const et=M.g.find(an=>an.key===fe);if(et===void 0)return Pe.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",te);Pe.callLogger.info(`Enabling video input device with background image filter id: ${Qe}`);const $t=yield(yield fetch(et.url)).blob();if(Pe.options.useHuddlesFilterWorker){const an=yield createImageBitmap($t),hs=new K(te.id,an);Pe.setVideoTransformDeviceRefs({transformDevice:hs,processors:[]}),yield Pe.initVideoInput(hs),yield Pe.cleanupTransformDevicesAndCameraIfShuttingdown();return}const Pn=(0,s.jq)(),Bn=(0,s.px)(),os=[];if(!(yield s.i3.isSupported(Pe.chimeLogger))&&ae)return Pe.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",te);if(!(yield Bn.isSupported())&&!ae)return Pe.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",te);if(Pe.isShuttingDown)return;const Zn={...Pe.defaultVideoProcessorOptions,imageBlob:$t};if(ae){if(Pe.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:Ae},backgroundReplacement:{isEnabled:!0,backgroundImageURL:et.url,defaultColor:void 0}},Pe.videoFxProcessor=yield s.i3.create(Pe.chimeLogger,Pe.videoFxConfig,V),!Pe.videoFxProcessor)return Pe.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",te);Pe.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${Qe}`),os.push(Pe.videoFxProcessor)}else{const an=yield Bn.create(void 0,Zn);if(an)Pe.setupVideoBackgroundFrameProcessor({processor:an,backgroundEffect:S.Image}),os.push(an);else return Pe.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",te)}Pe.callLogger.info(`Enabling video input device with background image replacement id: ${Qe}`);const qn=new Pn(Pe.chimeLogger,te.id,os);Pe.setVideoTransformDeviceRefs({transformDevice:qn,processors:os}),yield Pe.initVideoInput(qn),yield Pe.cleanupTransformDevicesAndCameraIfShuttingdown()})()}handleErrorApplyVideoEffects($,te){var fe=this;return(0,t.coroutine)(function*(){const Pe=te.label||te.id;fe.callLogger.info(`${$}: ${Pe}`),yield fe.initVideoInput(te.id)})()}setCameraVideoInputDeviceWithBackgroundBlurFilter($){var te=this;return(0,t.coroutine)(function*(){const fe=(0,s.jq)(),Pe=(0,s.kM)(),Qe=$.label||$.id;if(te.callLogger.info(`Enabling video input device with background blur filter id: ${Qe}`),te.options.useHuddlesFilterWorker){const Ft=new K($.id);te.setVideoTransformDeviceRefs({transformDevice:Ft,processors:[]}),yield te.initVideoInput(Ft),yield te.cleanupTransformDevicesAndCameraIfShuttingdown();return}const ut=[];if(ae){if(!(yield s.i3.isSupported(te.chimeLogger)))return te.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",$);if(te.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:Ae},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},te.videoFxProcessor=yield s.i3.create(te.chimeLogger,te.videoFxConfig,V),!te.videoFxProcessor)return te.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",$);te.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${Qe}`),ut.push(te.videoFxProcessor)}else{if(!(yield Pe.isSupported()))return te.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",$);const Ft={...te.defaultVideoProcessorOptions,blurStrength:15},$t=yield Pe.create(void 0,Ft);if(!$t)return te.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",$);te.setupVideoBackgroundFrameProcessor({processor:$t,backgroundEffect:S.Blur}),ut.push($t)}te.callLogger.info(`Enabling video input device with background blur filter id: ${Qe}`);const et=new fe(te.chimeLogger,$.id,ut);te.setVideoTransformDeviceRefs({transformDevice:et,processors:ut}),yield te.initVideoInput(et),yield te.cleanupTransformDevicesAndCameraIfShuttingdown()})()}cleanupTransformDevicesAndCameraIfShuttingdown(){var $=this;return(0,t.coroutine)(function*(){$.isShuttingDown&&($.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),yield $.audioVideoFacade.stopVideoInput(),yield $.clearVideoTransformDeviceRefs())})()}initVideoInputDevices(){var $=this;return(0,t.coroutine)(function*(){const fe=(yield $.audioVideoFacade.listVideoInputDevices()).length>0;return fe||$.observer.onSelfPermissionUpdated(!0,a.lW.Camera),$.prefs=(0,b.Bh)(),$.enumerateDevices(),fe})()}runCameraActivityStartPreview($){var te=this;return(0,t.coroutine)(function*(){const fe=$.deviceId,Pe=$.videoElement;!fe||!Pe||(te.cameraPreviewVideoElement=Pe,yield te.setPreferredCameraDeviceForPreview(fe),yield te.startCameraPreview())})()}runCameraActivityStopPreview($){var te=this;return(0,t.coroutine)(function*(){const fe=$.videoElement;fe&&(fe!==te.cameraPreviewVideoElement&&te.callLogger.warn("Mismatch in preview video element"),te.audioVideoFacade.hasStartedLocalVideoTile()?te.detachStreamFromCameraPreview():te.stopCameraPreview(),delete te.cameraPreviewVideoElement)})()}runCameraActivityEnable(){var $=this;return(0,t.coroutine)(function*(){var te;!$.audioVideoFacade.hasStartedLocalVideoTile()&&$.cameraPreviewVideoElement&&$.stopCameraPreview(),yield $.updateCamera(),$.audioVideoFacade.hasStartedLocalVideoTile()||($.waitForCameraReady=(0,r.u)(),$.audioVideoFacade.startLocalVideoTile(),yield $.waitForCameraReady.catch(()=>{$.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),$.runCameraActivityDisable()})),$.attachStreamToCameraPreview(),(te=$.huddleEventsTrace)===null||te===void 0||te.update({name:A.p.VIDEO,type:A.G.START})})()}runCameraActivityDisable(){var $=this;return(0,t.coroutine)(function*(){var te;$.detachStreamFromCameraPreview(),yield $.audioVideoFacade.stopVideoInput(),$.audioVideoFacade.stopLocalVideoTile(),(te=$.huddleEventsTrace)===null||te===void 0||te.update({name:A.p.VIDEO,type:A.G.STOP}),$.cameraPreviewVideoElement&&(yield $.updateCamera(),yield $.startCameraPreview())})()}startCameraPreview(){var $=this;return(0,t.coroutine)(function*(){$.cameraPreviewVideoElement&&($.waitForCameraReady=(0,r.u)(),$.audioVideoFacade.startVideoPreviewForVideoInput($.cameraPreviewVideoElement),$.cameraPreviewVideoElement.addEventListener("canplay",te=>{$.waitForCameraReady.resolve()}),yield $.waitForCameraReady)})()}stopCameraPreview(){var $=this;return(0,t.coroutine)(function*(){$.cameraPreviewVideoElement&&($.audioVideoFacade.stopVideoPreviewForVideoInput($.cameraPreviewVideoElement),yield $.audioVideoFacade.stopVideoInput())})()}attachStreamToCameraPreview(){var $;if(!this.cameraPreviewVideoElement)return;const te=($=this.audioVideoFacade.getLocalVideoTile())===null||$===void 0?void 0:$.state();te&&te.boundVideoStream&&s.xc.connectVideoStreamToVideoElement(te.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&s.xc.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler($){var te,fe,Pe,Qe;const ut=((te=$.target)===null||te===void 0||(fe=te.error)===null||fe===void 0?void 0:fe.code)||"unavailable",et=((Pe=$.target)===null||Pe===void 0||(Qe=Pe.error)===null||Qe===void 0?void 0:Qe.message)||$.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${ut}, message: ${et}`),this.observer.onSetNoAudioOutput(d.NS.AUDIO_ELEMENT_ERROR)}initAudioAnalyserForPreview(){const $=(0,s._R)().getAudioContext();if(!$){this.callLogger.warn("Unable to get AudioContext");return}$.resume();const te=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(te){var fe;const Pe=new f(te);(fe=this.audioLevelMonitor)===null||fe===void 0||fe.setPreviewAudioAnalyser(Pe)}}setupAudioInputTrackHandler($){let{preferredDeviceId:te}=$;this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new E(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize({preferredDeviceId:te})}constructor($,te,fe,Pe,Qe=!1,ut,et,Ft){this.audioVideoFacade=$,this.audioOutputElement=te,this.observer=fe,this.options=Pe,this.isStartMutedBarrierActive=Qe,this.chimeLogger=ut,this.defaultDeviceController=et,this.voiceFocusManager=Ft,this.callLogger=(0,o.Jt)("DEVICES"),this.waitForCameraReady=(0,r.u)(),this.isAudioOutputElementBound=!1,this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:Ae},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.micPermissionDenied=!1;var $t=this;this.audioInputsChanged=(0,t.coroutine)(function*(){$t.callLogger.info("DeviceManager::audioInputsChanged"),yield(0,D.es)(),$t.logDevices([a.lW.Microphone]),$t.observer.onClearNoMediaInput(d.mT.MICROPHONE)});var Pn=this;this.audioOutputsChanged=(0,t.coroutine)(function*(){Pn.callLogger.info("DeviceManager::audioOutputsChanged"),yield(0,D.es)(),Pn.logDevices([a.Q4]),Pn.observer.onClearNoAudioOutput(d.NS.AUDIO_ELEMENT_ERROR)});var Bn=this;this.videoInputsChanged=(0,t.coroutine)(function*(){Bn.callLogger.info("DeviceManager::videoInputsChanged"),yield(0,D.es)(),Bn.logDevices([a.lW.Camera])});var os=this;this.attemptToInitMicrophoneNative=(0,_.A)(function(){var ue=(0,t.coroutine)(function*(Fe){try{if(!Fe||!os.options.useDevicesExp)return;const pt=yield(0,Y.Lh)(Fe),{error:Cn,canInit:On}=pt;(0,m.A)(Cn)?Cn.includes("Method not available")||Cn.includes("only supported on Windows")?os.callLogger.info("Microphone init test not supported on this client"):On||os.callLogger.warn(`ALERT! Possible init failure for microphone with device: ${Fe}: ${Cn}`):os.callLogger.info(`Successfully initialized microphone with device: ${Fe}`)}catch(pt){os.callLogger.error("Error attempting to init audio device",pt)}});return function(Fe){return ue.apply(this,arguments)}}(),1e3);var Zn=this;this.refreshMediaDeviceInfo=(0,t.coroutine)(function*(){Zn.enumerateDevices()});var qn=this;this.handleAudioInitError=function(){var ue=(0,t.coroutine)(function*(Fe){switch(Fe.name){case"NotReadableError":qn.callLogger.warn("Either a hardware error (such as an OS/program/webpage lock) is preventing access to the microphone or the selected device is no longer available. Trying again");break;case"NotFoundError":qn.callLogger.warn("No audio input devices are available. Trying again");break;case"OverconstrainedError":qn.callLogger.warn("The specified constraints resulted in no devices being found. Trying again");break;case"PermissionDeniedError":qn.callLogger.error("User denied permission to access microphone.");break;case"TypeError":qn.callLogger.error("An unexpected TypeError occured during audio input initialization",Fe);break;case"GetUserMediaError":qn.callLogger.error("An unexpected GetUserMediaError occured during audio input initialization",Fe);break;default:qn.callLogger.error("Unknown error during audio input initialization")}const pt=Fe instanceof s.Ll;qn.observer.onSelfPermissionUpdated(!!pt,a.lW.Microphone)});return function(Fe){return ue.apply(this,arguments)}}(),this.setVideoTransformDeviceRefs=ue=>{let{transformDevice:Fe,processors:pt}=ue;this.currentVideoTransformDevice=Fe,this.currentVideoFrameProcessors=pt,(0,y.Y)({name:y.R1.VideoTransformDevice,ref:Fe})},this.setupVideoBackgroundFrameProcessor=ue=>{let{processor:Fe,backgroundEffect:pt}=ue;var Cn;this.clearVideoBackgroundFrameProcessor(),!ae&&(this.currentVideoFrameProcessor=Fe,this.currentVideoFrameProcessorObserver=new U({backgroundEffect:pt}),(Cn=this.currentVideoFrameProcessor)===null||Cn===void 0||Cn.addObserver(this.currentVideoFrameProcessorObserver),(0,y.Y)({name:y.R1.VideoFrameProcessor,ref:Fe}))},this.clearVideoBackgroundFrameProcessor=()=>{ae||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)};var an=this;this.clearVideoTransformDeviceRefs=(0,t.coroutine)(function*(){an.clearVideoBackgroundFrameProcessor(),an.currentVideoFrameProcessors&&(an.currentVideoFrameProcessors.forEach(ue=>{ue.destroy()}),an.currentVideoFrameProcessors.length=0,an.currentVideoFrameProcessors=void 0),an.currentVideoTransformDevice&&(yield an.currentVideoTransformDevice.stop(),an.currentVideoTransformDevice=void 0)});var hs=this;this.initAudioInput=function(){var ue=(0,t.coroutine)(function*(Fe){Fe&&(yield hs.audioVideoFacade.startAudioInput(Fe))});return function(Fe){return ue.apply(this,arguments)}}();var Cs=this;this.initVideoInput=function(){var ue=(0,t.coroutine)(function*(Fe){if(!Fe)return;yield Cs.audioVideoFacade.startVideoInput(Fe),Cs.recordCameraResolution();const pt=(0,h.A)(Fe,"device",Fe);typeof pt=="string"&&(0,D.i_)(pt,a.lW.Camera)});return function(Fe){return ue.apply(this,arguments)}}(),this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var ue,Fe,pt,Cn,On;if(this.isShuttingDown||!((ue=this.audioVideoFacade)===null||ue===void 0?void 0:ue.hasStartedLocalVideoTile()))return;const En=this.audioVideoFacade.getLocalVideoTile(),fs=(Fe=En==null?void 0:En.state())===null||Fe===void 0?void 0:Fe.boundVideoStream,ls=fs==null?void 0:fs.getVideoTracks()[0];if(ls instanceof CanvasCaptureMediaStreamTrack){L.A.publish({type:B.lx.CameraResolution,update:{isCanvasStream:!0}});return}const ps=ls==null?void 0:ls.getSettings(),Ms=ls==null?void 0:ls.getCapabilities(),Fs=ps==null?void 0:ps.width,Rs=ps==null?void 0:ps.height,Os=ps==null?void 0:ps.frameRate,Tn=Ms==null||(pt=Ms.width)===null||pt===void 0?void 0:pt.max,as=Ms==null||(Cn=Ms.height)===null||Cn===void 0?void 0:Cn.max,_t=Ms==null||(On=Ms.frameRate)===null||On===void 0?void 0:On.max;Tn&&as&&L.A.publish({type:B.lx.CameraResolution,update:{cameraWidth:Fs,cameraHeight:Rs,cameraFrameRate:Os,cameraMaxWidth:Tn,cameraMaxHeight:as,cameraMaxFrameRate:_t,isCanvasStream:!1}})}catch{}},5e3)},this.callLogger.info("Using device manager v2"),this.updateMicrophone=C(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=C(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=C(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=C(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=(0,b.Bh)(),this.addAudioElementErrorHandler(),this.audioLevelMonitor=new P,this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:ie,reportingPeriodMillis:Z,logger:this.chimeLogger};const{huddleEventsTrace:G}=(0,T.A)().getAllTraceHandlers();this.huddleEventsTrace=G}},"DeviceManager");var be=e(63202349),Ue=e(3390261877),Re=e(3320454392);let ge=u(class{constructor($,te,fe){this.sequenceNumber=$,this.message=te,this.timestampMs=fe}},"MeetingEvent"),ne=u(class sa{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler($){var te=this;this.intervalScheduler.start((0,t.coroutine)(function*(){if(te.getEventCaptureSize()===0)return;const fe=te.eventCapture.slice(0,$);try{te.postEvents(fe),te.eventCapture=te.eventCapture.slice(fe.length)}catch(Pe){te.log.error(Pe.message)}}))}stop(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,$,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent($,te){const{meetingHistory:fe,...Pe}=te;try{const Qe=JSON.stringify({name:$,attributes:Pe});this.eventCapture.push(new ge(this.sequenceNumber,Qe,Date.now())),this.sequenceNumber+=1}catch(Qe){this.log.error(Qe.message)}}postEvents($){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Pe;$.length===0&&!te&&!fe||(Pe=this.observer)===null||Pe===void 0||Pe.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,$,te,fe)}constructor($,te,fe,Pe,Qe,ut=sa.DEFAULT_BATCH_SIZE,et=sa.DEFAULT_INTERVAL_MS){this.observer=$,this.meetingId=te,this.mediaRegion=fe,this.attendeeId=Pe,this.callId=Qe,this.batchSize=ut,this.intervalMs=et,this.eventCapture=[],this.sequenceNumber=0,this.log=(0,o.tZ)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new Ue.A(this.intervalMs),this.startEventPublishScheduler(this.batchSize);var Ft=this;(0,Re.A)((0,t.coroutine)(function*(){Ft.stop(!0)}))}},"MeetingEventLogger");ne.DEFAULT_BATCH_SIZE=100,ne.DEFAULT_INTERVAL_MS=65*60*1e3;var ee=e(3245843483),F=e(1033764764),H=e(9372409576),j=e(7299481592);const N=1e4,J=3e4;class le{observe($){this.connections.push($),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving($){remove(this.connections,$),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){var $=this;this.connections.forEach(function(){var te=_bluebirdCoroutine(function*(fe){const Pe=fe.getPeerConnection();if(!Pe)return;const Qe=ce(yield Pe.getStats());ye(fe,Qe);const ut={...oe(Qe),send:Qe.sendTracks.map(et=>de(et,Qe)),recv:Qe.recvTracks.map(et=>({...De(et,Qe),peerId:fe.getPeerIdFromRemoteStreamId(Qe.trackIdToStreamId[et.id])}))};$.observer.onStats(ut)});return function(fe){return te.apply(this,arguments)}}())}constructor($,te=N){this.observer=$,this.collectionIntervalMs=te,this.connections=[]}}u(le,"StatsManager");function ce(lt){const $=Array.from(lt.entries()),te=reduce($,(fe,Pe)=>{let[Qe,ut]=Pe;return Ke(ut)?ut.remoteSource===!0?fe.recvTracks.push(ut):fe.sendTracks.push(ut):ke(ut)||Me(ut)?ut.trackId&&(fe.rtpStats[ut.trackId]=ut):Ze(ut)?fe.transports[ut.id]=ut:Q(ut)?fe.candidates[ut.id]=ut:se(ut)?fe.candidatePairs[ut.id]=ut:He(ut)?fe.codecs[ut.id]=ut:Ge(ut)?ut.trackIds&&ut.trackIds.forEach(et=>{fe.trackIdToStreamId[et]=ut.streamIdentifier}):Be(ut)&&ut.trackIdentifier&&(fe.mediaSources[ut.trackIdentifier]=ut),fe},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return te.recvTracks=te.recvTracks.filter(fe=>te.trackIdToStreamId[fe.id]!==void 0),te}u(ce,"groupStatsByType");function Ee(lt){const $=filter(lt.candidatePairs,et=>!!et.nominated),te=maxBy($,et=>et.priority);if(!te)return;const fe=find(lt.candidates,(et,Ft)=>Ft===te.localCandidateId);if(!fe)return;let Pe=fe.candidateType==="relay"?fe.relayProtocol:fe.protocol;fe.candidateType==="prflx"&&(Pe+=" (unreliable)");const Qe="unknown";return{candidateType:fe.candidateType||Qe,networkType:fe.networkType||Qe,transportType:Pe||Qe}}u(Ee,"getConnectionNetworkInfo");function ye(lt,$){const te=Ee($);te&&lt.maybeLogNetworkInfo(te)}u(ye,"reportConnectionNetworkInfo");const Ie={nominal:1,fair:2,serious:3,critical:4};function he(){return Ce.apply(this,arguments)}u(he,"makeAppMetricsStats");function Ce(){return Ce=(0,t.coroutine)(function*(){var lt;if(!(0,v.y3)())return;let $,te,fe;if(ee.vkf.isAvailable()){var Pe;const $t=yield(0,ee.vkf)();if(!$t)return;$=$t.processMetrics,te=Ie[$t.thermalState],fe=(Pe=$t.speedLimit)===null||Pe===void 0?void 0:Pe.limit}else $=yield(0,ee.rc_)();if(!$)return;let Qe=null;const ut=$.reduce(($t,Pn)=>{var Bn,os,Zn;return Pn.type==="GPU"&&(Qe=Pn),{cpu:$t.cpu+((Pn==null||(Bn=Pn.cpu)===null||Bn===void 0?void 0:Bn.percentCPUUsage)||0),memory:{workingSetSize:$t.memory.workingSetSize+(0,F.UK)((Pn==null||(os=Pn.memory)===null||os===void 0?void 0:os.workingSetSize)||0),peakWorkingSetSize:$t.memory.peakWorkingSetSize+(0,F.UK)((Pn==null||(Zn=Pn.memory)===null||Zn===void 0?void 0:Zn.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),et=Qe==null||(lt=Qe.cpu)===null||lt===void 0?void 0:lt.percentCPUUsage,Ft=et?ut.cpu-Qe.cpu.percentCPUUsage:ut.cpu;return{...ut,cpuWithoutGpu:Ft,gpu:et,thermalState:te,speedLimit:fe}}),Ce.apply(this,arguments)}u(Ce,"_makeAppMetricsStats");function oe(lt){const[$,...te]=Object.values(lt.transports);debugCheck(!te.length,"Can there be more than one transport stat in a report?");const fe=$&&$.selectedCandidatePairId,Pe=lt.candidatePairs[fe];if(!fe||!Pe)return;const Qe=lt.candidates[Pe.remoteCandidateId]||{};return{availableOutgoingBitrate:Pe.availableOutgoingBitrate||0,availableIncomingBitrate:Pe.availableIncomingBitrate||0,totalBytesSent:Pe.bytesSent,totalBytesReceived:Pe.bytesReceived,currentRoundTripTime:Pe.currentRoundTripTime,totalRoundTripTime:Pe.totalRoundTripTime,protocol:Qe.protocol==="udp"?slack.calls.analytics.Protocol.UDP:slack.calls.analytics.Protocol.TCP,pathType:Qe.candidateType==="host"?slack.calls.analytics.PathType.DIRECT:slack.calls.analytics.PathType.RELAY,clientTime:Date.now()}}u(oe,"makeConnectionStats");function de(lt,$){const te=$.rtpStats[lt.id]||{},fe={codec:Te(te,$),bytesSent:te.bytesSent,packetsSent:te.packetsSent};if(lt.kind==="audio"){const Pe=lt.trackIdentifier?$.mediaSources[lt.trackIdentifier]:null;return Pe?{...fe,audioStats:{audioLevel:Pe.audioLevel,totalAudioEnergy:Pe.totalAudioEnergy,totalSamplesDuration:Pe.totalSamplesDuration,echoReturnLoss:Pe.echoReturnLoss,echoReturnLossEnhancement:Pe.echoReturnLossEnhancement}}:{...fe,audioStats:{audioLevel:lt.audioLevel,echoReturnLoss:lt.echoReturnLoss,echoReturnLossEnhancement:lt.echoReturnLossEnhancement}}}return{...fe,videoStats:{frameHeight:lt.frameHeight,frameWidth:lt.frameWidth,framesSent:lt.framesSent,hugeFramesSent:lt.hugeFramesSent,framesPerSecond:te.framesPerSecond,framesEncoded:te.framesEncoded}}}u(de,"makeOutboundMediaStats");function De(lt,$){const te=$.rtpStats[lt.id]||{},fe={codec:Te(te,$),bytesReceived:te.bytesReceived,packetsReceived:te.packetsReceived,packetsLost:te.packetsLost,fractionLost:te.fractionLost,jitter:te.jitter};return lt.kind==="audio"?{...fe,audioStats:{audioLevel:lt.audioLevel,jitterBufferDelay:lt.jitterBufferDelay,concealedSamples:lt.concealedSamples,concealmentEvents:lt.concealmentEvents}}:{...fe,videoStats:{firCount:te.firCount,nackCount:te.nackCount,pliCount:te.pliCount,sliCount:te.sliCount,frameHeight:lt.frameHeight,frameWidth:lt.frameWidth,framesPerSecond:lt.framesPerSecond,framesCorrupted:lt.framesCorrupted,framesDecoded:lt.framesDecoded,framesDropped:lt.framesDropped,framesReceived:lt.framesReceived}}}u(De,"makeInboundMediaStats");function Te(lt,$){const te=lt.codecId,fe=get($.codecs,te),Pe=get(fe,"mimeType");return pe(Pe)}u(Te,"getCodecForRtpStat");function pe(lt){switch(lt){case"video/VP8":return slack.calls.analytics.Codec.VP8;case"video/VP9":return slack.calls.analytics.Codec.VP9;case"video/H264":return slack.calls.analytics.Codec.H264;case"audio/opus":return slack.calls.analytics.Codec.OPUS;default:return slack.calls.analytics.Codec.UNKNOWN}}u(pe,"parseCodec");function Me(lt){return lt.type==="inbound-rtp"}u(Me,"isRecvRtpStat");function ke(lt){return lt.type==="outbound-rtp"}u(ke,"isSendRtpStat");function Ke(lt){return lt.type==="track"}u(Ke,"isTrackStat");function Ze(lt){return lt.type==="transport"}u(Ze,"isTransportStat");function Q(lt){return lt.type==="local-candidate"||lt.type==="remote-candidate"}u(Q,"isIceCandidateStat");function se(lt){return lt.type==="candidate-pair"}u(se,"isIceCandidatePairStat");function He(lt){return lt.type==="codec"}u(He,"isCodecStat");function Ge(lt){return lt.type==="stream"}u(Ge,"isStreamStat");function Be(lt){return lt.type==="media-source"}u(Be,"isMediaSourceStat");const we=5e3;let xe=u(class{constructor($,te){this.audioVideoFacade=$,this.observer=te,this.callLogger=(0,o.Jt)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1;var fe=this;this.onMetricsDidReceive=function(){var ut=(0,t.coroutine)(function*(et){if(!et)return;const Ft=yield fe.collectScreenshareStats();fe.reportAppMetrics({clientMetricReport:et,screenshareRtcStats:Ft})});return function(et){return ut.apply(this,arguments)}}(),this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const ut=setInterval(()=>{if(!this.isDisconnected){clearInterval(ut);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},we)},this.cleanup=()=>{};var Pe=this;this.collectScreenshareStats=(0,t.coroutine)(function*(){let ut;try{var et;const Ft=(et=Pe.audioVideoFacade.contentShareController.contentAudioVideo)===null||et===void 0?void 0:et.rtcPeerConnection;return Ft?(ut=yield Ft.getStats(),ut):void 0}catch(Ft){Pe.callLogger.error("Failed to collect screenshare stats",Ft)}});var Qe=this;this.reportAppMetrics=(0,t.coroutine)(function*(){let{clientMetricReport:ut,screenshareRtcStats:et}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!ut&&!Qe.isDisconnected)return;Qe.isDisconnected&&ut&&(Qe.isDisconnected=!1);const Ft=yield Qe.collectAppMetrics();Qe.observer.onAppMetrics({appMetrics:Ft,clientMetricReport:ut,screenshareRtcStats:et})}),this.collectAppMetrics=(0,t.coroutine)(function*(){const ut=yield he();if(!ut)return;let et=ut;return ut&&(et=(0,n.A)({...ut,cpu:ut.cpuWithoutGpu},"cpuWithoutGpu")),et})}},"HuddlesStatsManager"),Oe=u(class{start(){var $;this.isSignallingOnly=!1,($=this.videoDownlinkManager)===null||$===void 0||$.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}stop(){var $=this;return(0,t.coroutine)(function*(){$.isSignallingOnly?($.waitForStart.resolve(),$.waitForStop.resolve(!0)):yield $.waitForStart,$.isStopRequested=!0,$.audioVideoFacade.stop()})()}audioVideoDidStartConnecting($){var te;if(!$)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var fe,Pe,Qe;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(fe=this.statsManager)===null||fe===void 0||(Pe=fe.reportDisconnect)===null||Pe===void 0||Pe.call(fe),(Qe=this.huddleReconnectTracer)===null||Qe===void 0||Qe.traceReconnectAttempt(),this.isReconnecting=!0}(te=this.disconnectObserver)===null||te===void 0||te.onConnectionUpdate(this.audioVideoFacade)}audioVideoDidStart(){var $,te,fe;if(this.callLogger.info("Chime audio video session started"),($=this.disconnectObserver)===null||$===void 0||$.onConnectionUpdate((te=this.audioVideoFacade)===null||te===void 0||(fe=te.audioVideoController)===null||fe===void 0?void 0:fe.meetingSessionContext,this.isReconnecting),this.isReconnecting){var Pe;this.callLogger.info("Successfully re-connected to Huddle"),(Pe=this.huddleReconnectTracer)===null||Pe===void 0||Pe.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(Qe=>Qe.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop($){var te,fe,Pe,Qe;const ut=s.b9[$.statusCode()],et=`Chime session stopped. StatusCode: ${ut}`;if(this.callLogger.info(et),this.isReconnecting&&$.isFailure()){var Ft;this.callLogger.info("Failed to re-connect to Huddle"),(Ft=this.huddleReconnectTracer)===null||Ft===void 0||Ft.traceReconnectAttemptOutcome({isSuccess:!1})}delete this.disconnectObserver,this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(te=this.videoDownlinkManager)===null||te===void 0||te.removeObserver(this),(fe=this.meetingEventLogger)===null||fe===void 0||fe.stop(),delete this.meetingEventLogger,(Qe=(Pe=this.statsManager).cleanup)===null||Qe===void 0||Qe.call(Pe),delete this.statsManager,this.dataChannelSubscribers.forEach($t=>$t.onDisconnectDataChannel()),!this.isStopRequested&&$.isTerminal()&&(this.observer.onClogError(et),this.observer.onError(d.uZ.CallEnded,ut)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate($){if(!$.boundVideoStream||!$.boundAttendeeId){$.tileId&&this.observer.onVideoTileRemoved($.tileId);return}const te=new s.jp($.boundAttendeeId).base();this.selfAttendeeId===te?(this.deviceManager.localVideoTileDidUpdate($),this.observer.onSelfVideoTileUpdate($)):this.observer.onPeerVideoTileUpdate(te,$)}videoTileWasRemoved($){this.consoleLog.info(`Video tile removed: tileId=${$}`),this.observer.onVideoTileRemoved($)}videoAvailabilityDidChange($){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${$.remoteVideoAvailable}, CanStartLocalVideo=${$.canStartLocalVideo}`)}metricsDidReceive($){var te=this;return(0,t.coroutine)(function*(){var fe;(fe=te.statsManager)===null||fe===void 0||fe.onMetricsDidReceive($)})()}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){var $;this.callLogger.warn("SDK suggested stop video, maybe poor connection"),($=this.videoUplinkManager)===null||$===void 0||$.shouldRestrictVideoQuality(!0)}connectionDidBecomeGood(){var $;this.callLogger.info("SDK detected good connection"),($=this.videoUplinkManager)===null||$===void 0||$.shouldRestrictVideoQuality(!1)}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange($){var te,fe;(te=this.videoDownlinkManager)===null||te===void 0||te.remoteVideoSourcesDidChange($),(fe=this.videoUplinkManager)===null||fe===void 0||fe.remoteVideoSourcesDidChange($)}tileWillBePausedByDownlinkPolicy($){this.observer.onVideoTileWillPause($)}tileWillBeUnpausedByDownlinkPolicy($){this.observer.onVideoTileWillUnpause($)}constructor($,te,fe,Pe,Qe,ut,et,Ft,$t,Pn,Bn,os=[],Zn){this.selfAttendeeId=$,this.meetingId=te,this.mediaRegion=fe,this.callId=Pe,this.audioVideoFacade=Qe,this.observer=ut,this.deviceManager=et,this.videoDownlinkManager=Ft,this.disconnectObserver=$t,this.dataChannelSubscribers=os,this.videoUplinkManager=Zn,this.callLogger=(0,o.tZ)("FREE-WILLY-AV"),this.consoleLog=(0,o.Cc)("FREE-WILLY-AV"),this.waitForStart=(0,r.u)(),this.waitForStop=(0,r.u)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,Pn&&(this.waitForStart=Pn),Bn&&(this.waitForStop=Bn),this.statsManager=new xe(Qe,ut),this.meetingEventLogger=new ne(ut,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=(0,T.A)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var Xe=e(8571983633),Ye=e(489015593),dt=e(2671711178),mt=e(5954792826),it=e(9240258658),At=e(8193414630),Ot=e(1990810649);function Kt(){switch((0,ee.IXB)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}u(Kt,"getScaleFactorForCurrentZoomLevel");function Xt(lt,$){const[te,fe]=lt;return[te*$,fe*$]}u(Xt,"getScaledCoordinates");function vn(lt,$){var te;const Pe=(0,v.y3)()&&!(0,v.dY)("4.18.0")?1/Kt():1,Qe=((te=lt.itemId)===null||te===void 0?void 0:te.toString())||null,ut=lt.itemId==="self"?$:Qe;switch(lt.type){case d.Sl.New:case d.Sl.Edit:{const[et,Ft]=Xt(lt.segment.a,Pe),[$t,Pn]=Xt(lt.segment.b,Pe),[Bn,os]=Xt(lt.segment.c,Pe),[Zn,qn]=Xt(lt.segment.d,Pe);return{itemId:ut,type:lt.type===d.Sl.New?it.Y.Draw.Type.NEW:it.Y.Draw.Type.EDIT,segment:{a:{x:et,y:Ft},b:{x:$t,y:Pn},c:{x:Bn,y:os},d:{x:Zn,y:qn}}}}case d.Sl.End:return{itemId:ut,type:it.Y.Draw.Type.END};case d.Sl.ChangeHue:return{itemId:ut,type:it.Y.Draw.Type.CHANGE_HUE,hue:lt.hue};case d.Sl.Position:return{itemId:ut,type:it.Y.Draw.Type.POSITION,x:lt.x,y:lt.y};default:return(0,At.Kh)(lt)}}u(vn,"convertDrawMessageToPeerMessage");function Sn(lt,$){const te=lt.itemId===$?"self":lt.itemId;switch(lt.type){case it.Y.Draw.Type.NEW:case it.Y.Draw.Type.EDIT:{const Pe=(0,v.y3)()&&!(0,v.dY)("4.18.0")?Kt():1;return{itemId:te,type:lt.type===it.Y.Draw.Type.NEW?d.Sl.New:d.Sl.Edit,segment:{a:[(lt.segment.a.x||0)*Pe,(lt.segment.a.y||0)*Pe],b:[(lt.segment.b.x||0)*Pe,(lt.segment.b.y||0)*Pe],c:[(lt.segment.c.x||0)*Pe,(lt.segment.c.y||0)*Pe],d:[(lt.segment.d.x||0)*Pe,(lt.segment.d.y||0)*Pe]}}}case it.Y.Draw.Type.END:return{itemId:te,type:d.Sl.End};case it.Y.Draw.Type.CHANGE_HUE:return{itemId:te,type:d.Sl.ChangeHue,hue:lt.hue};case it.Y.Draw.Type.POSITION:return{itemId:te,type:d.Sl.Position,x:lt.x,y:lt.y};default:(0,j.M)("Unhandled draw message case");return}}u(Sn,"convertPeerMessageToDrawMessage");function jt(lt){let $=Ot.o.Standard;return lt.type&&lt.type===it.Y.Reacji.Type.Effect&&($=Ot.o.Effect),lt.type&&lt.type===it.Y.Reacji.Type.Gif&&($=Ot.o.Gif),$}u(jt,"convertFromPeerReactionType");function hn(lt){let $=it.Y.Reacji.Type.Standard;return lt===Ot.o.Effect&&($=it.Y.Reacji.Type.Effect),lt===Ot.o.Gif&&($=it.Y.Reacji.Type.Gif),$}u(hn,"convertToPeerReactionType");var xt=e(1975685771);let Dn=u(class er{updatePresence($,te){te?this.attendeesStates.set($,this.initializeState()):this.attendeesStates.delete($)}calculateScore($,te,fe){const Pe=this.attendeesStates.get($);if(!Pe||(fe!==null&&(Pe.muted=fe),Pe.muted))return 0;const Qe=Date.now();if(te){Pe.noiseFloor=this.updateNoiseFloor(Pe,te);const ut={timestamp:Qe,volume:te};Pe.volumeSamples.push(ut)}return this.pruneVolumeSamples(Pe),this.getScore(Pe,Qe)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor($,te){let fe=$.noiseFloor;return te>fe?fe=(1-this.params.slowAttackFactor)*fe+this.params.slowAttackFactor*te:fe=(1-this.params.fastDecayFactor)*fe+this.params.fastDecayFactor*te,Math.min(fe,this.params.noiseFloorMax)}pruneVolumeSamples($){const te=Date.now()-this.params.analysisWindowMs,fe=$.volumeSamples;for(;fe.length&&fe[0].timestamp<te;)fe.shift()}getScore($,te){return $.volumeSamples.reduce((fe,Pe)=>{const Qe=Math.max(1,Math.ceil((te-Pe.timestamp)/1e3));return fe+Math.max(0,Pe.volume-$.noiseFloor)/Qe},0)}constructor(){this.attendeesStates=new Map,this.params=er.FAST_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");Dn.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},Dn.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let St=u(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee($){new s.jp($).hasModality(s.jp.MODALITY_CONTENT)||this.disconnectedAttendees.has($)||(this.disconnectedAttendees.set($,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee($){this.disconnectedAttendees.delete($),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee($){return this.disconnectedAttendees.has($)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const $=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);$&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max($-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const $=[],te=Date.now();this.disconnectedAttendees.forEach((fe,Pe)=>{te>fe&&(this.observer.onStalePeer(Pe),$.push(Pe))}),$.forEach(fe=>{this.disconnectedAttendees.delete(fe)}),this.maybeStartTimer()}constructor($,te){this.timeoutMs=$,this.observer=te,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var dn=e(4075246222),fn=e(2208015175),un=e(8403493408),_n=e(2604971659),tn=e(2462761869);let nn=u(class{addSelf($){this.selfId=$,this.addPeer($)}removeSelf($){(0,j.M)($===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer($)}addPeer($){this.ids=(0,dn.A)(this.ids,[$]),(0,fn.A)(this.cachedPeerStates[$],(fe,Pe)=>{this.peerStateForwarder[Pe]&&!(0,Xe.A)(fe)&&this.peerStateForwarder[Pe]($,fe)}),delete this.cachedPeerStates[$];const te=[];(0,fn.A)(this.cachedCallState,(fe,Pe)=>{this.callStateForwarder[Pe]&&!(0,Xe.A)(fe)&&this.callStateForwarder[Pe].getPeerIdFn(fe)===$&&(this.callStateForwarder[Pe].forwardFn(fe),this.callStateForwarder[Pe].isCached||te.push(Pe))}),this.cachedCallState=(0,n.A)(this.cachedCallState,te)}removePeer($){(0,un.A)(this.ids,$),(0,fn.A)((0,_n.A)(this.cachedCallState),te=>{if(this.callStateForwarder[te]){const fe=this.callStateForwarder[te].removeFn(this.cachedCallState[te],$);if(!fe){delete this.cachedCallState[te];return}this.cachedCallState[te]=fe}})}getPeers(){return this.ids}hasPeer($){return this.ids.includes($)}hasAttendee($){return this.hasPeer($)||$===this.selfId}updateCallState($){const te=$;(0,fn.A)($,(fe,Pe)=>{this.callStateForwarder[Pe]&&(te[Pe]=this.callStateForwarder[Pe].updateFn(this.cachedCallState[Pe],fe))}),(0,fn.A)(this.callStateForwarder,(fe,Pe)=>{this.forwardOrCacheCallState([te],Pe,fe)})}updatePeerStates($){(0,fn.A)(this.peerStateForwarder,(te,fe)=>{this.forwardOrCachePeerState($,fe,te)})}setIncludeSelfAndNoneActiveSpeaker($,te){$===this.includeSelf&&te===this.includeNone||(this.includeSelf=$,this.includeNone=te,(0,fn.A)(this.cachedCallState,(fe,Pe)=>{this.callStateForwarder[Pe]&&!(0,Xe.A)(fe)&&this.callStateForwarder[Pe].forwardFn(fe)}))}forwardOrCachePeerState($,te,fe){$.filter(Qe=>!(0,Xe.A)(Qe.state[te])).map(Qe=>({id:Qe.peerId,value:Qe.state[te]})).forEach(Qe=>{let{id:ut,value:et}=Qe;this.ids.includes(ut)?fe(ut,et):this.cachedPeerStates[ut]={...this.cachedPeerStates[ut],[te]:et}})}forwardOrCacheCallState($,te,fe){$.filter(Qe=>!(0,Xe.A)(Qe[te])).map(Qe=>({value:Qe[te]})).forEach(Qe=>{let{value:ut}=Qe;const et=fe.getPeerIdFn(ut);let Ft=!1;et&&(this.ids.includes(et)||et===this.NO_ACTIVE_SPEAKER)?fe.forwardFn(ut):Ft=!0,(Ft||fe.isCached)&&(this.cachedCallState={...this.cachedCallState,[te]:ut})})}getAttendeeId($){return new s.jp($).base()}constructor($){this.observer=$,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(te,fe)=>{const Pe=te||[],Qe=fe&&fe.length?fe[0]:this.NO_ACTIVE_SPEAKER;return(0,tn.A)(Pe,[Qe,this.NO_ACTIVE_SPEAKER]),Pe.unshift(Qe),Pe},removeFn:(te,fe)=>{if(te)return(0,un.A)(te,fe),te},getPeerIdFn:te=>{const fe=te.filter(Pe=>Pe===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(Pe));if(fe.length)return fe[0]},forwardFn:te=>{const fe=te.filter(Pe=>Pe===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(Pe));!fe.length||fe[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===fe[0]?"self":fe[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(te,fe)=>{this.observer.onPeerDrawEnabled(te,fe)}}}},"PeerCache");var An=e(252549317);let yn=u(class{destroy(){var $,te,fe;($=this.peerCache)===null||$===void 0||$.getPeers().forEach(Pe=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(Pe)),delete this.peerCache,(te=this.staleAttendeeChecker)===null||te===void 0||te.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(fe=this.audioVideoFacade.transcriptionController)===null||fe===void 0||fe.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled($){this.sendPeerMessageOverDataChannel(new it.Y({capabilities:{isDrawEnabled:$},fromPeerIdString:this.selfAttendeeId}))}sendReacji($,te,fe){const Pe={emoji:$,...te?{type:hn(te)}:{},...fe?{emojiUrl:fe}:{}};this.sendPeerMessageOverDataChannel(new it.Y({reacji:Pe,fromPeerIdString:this.selfAttendeeId}))}sendBackground($){this.sendPeerMessageOverDataChannel(new it.Y({background:{url:$},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest($){this.sendPeerMessageOverDataChannel(new it.Y({muteRequest:{peerId:$},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest($){this.sendPeerMessageOverDataChannel(new it.Y({jukeboxRequest:{songKey:$},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new it.Y({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage($){this.sendPeerMessageOverDataChannel(new it.Y({draw:vn($,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails($){this.sendPeerMessageOverDataChannel(new it.Y({contentShareDetails:{sourceType:$,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}sendRecordingStartNotification(){this.sendPeerMessageOverDataChannel(new it.Y({recordingStartNotification:{type:it.Y.RecordingStartNotification.Type.SUMMARY},fromPeerIdString:this.selfAttendeeId}))}onStalePeer($){this.callLogger.info(`Removing stale peer: ${$}`),this.attendeeLeft($),this.observer.onPeerDisconnected($),this.observer.onPeerLeft($)}setIncludeSelfAndNoneActiveSpeaker($,te){var fe;(fe=this.peerCache)===null||fe===void 0||fe.setIncludeSelfAndNoneActiveSpeaker($,te)}attendeeJoined($){if($===this.selfAttendeeId){var te;(te=this.peerCache)===null||te===void 0||te.addSelf($)}else{var fe;(fe=this.peerCache)===null||fe===void 0||fe.addPeer($)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator($,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${$} volume indicator`)}attendeeLeft($){if($===this.selfAttendeeId){var te;(te=this.peerCache)===null||te===void 0||te.removeSelf($)}else{var fe;(fe=this.peerCache)===null||fe===void 0||fe.removePeer($)}this.audioVideoFacade.removeVideoTilesByAttendeeId($),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator($),this.consoleLog.info(`Unsubscribed from attendee=${$} volume indicator`)}sendPeerMessageOverDataChannel($){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,it.Y.encode($).finish()):this.logFailureToSendPeerMessage($)}isAttendeeOfTypeContent($){return new s.jp($).hasModality(s.jp.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback($,te,fe,Pe){var Qe;if(this.consoleLog.info(`Attendee presence: attendeeId=${$}, isSelf=${this.selfAttendeeId===new s.jp($).base()}, present=${te}, externalUserId=${fe}, dropped=${Pe}`),(Qe=this.windowedActiveSpeakerPolicy)===null||Qe===void 0||Qe.updatePresence($,te),this.isAttendeeOfTypeContent($)){te||this.audioVideoFacade.removeVideoTilesByAttendeeId($);return}if(!fe){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${$}`),this.observer.onClogError("MissingExternalUserId");return}let ut=null;if(te){var et;Pe===!1&&!(!((et=this.peerCache)===null||et===void 0)&&et.hasAttendee($))?ut="joined":ut="reconnected"}else Pe===!0?ut="disconnected":ut="left";if(ut===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===$)switch(ut){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${ut}`);return}else{const Bn=(0,mt.l)(fe);if(!Bn){this.callLogger.error(`No externalUserId for ${$}`);return}switch(ut){case"joined":{var Ft;(Ft=this.staleAttendeeChecker)===null||Ft===void 0||Ft.deleteDisconnectedAttendee($),this.observer.onPeerJoined($,Bn),this.observer.onPeerConnected($),this.updatePeerVideoTile($);break}case"left":this.observer.onPeerDisconnected($),this.observer.onPeerLeft($);break;case"disconnected":var $t;($t=this.staleAttendeeChecker)===null||$t===void 0||$t.addDisconnectedAttendee($),this.observer.onPeerDisconnected($);break;case"reconnected":{var Pn;(Pn=this.staleAttendeeChecker)===null||Pn===void 0||Pn.deleteDisconnectedAttendee($),this.observer.onPeerConnected($),this.updatePeerVideoTile($);break}default:this.callLogger.error(`unknown peer event ${ut}`);return}}ut==="joined"&&this.attendeeJoined($),ut==="left"&&this.attendeeLeft($)}realtimeFatalErrorCallback($){this.callLogger.error(`Chime session fatal error: name=${$.name}, message=${$.message}`),this.observer.onClogError(`FatalError: ${$.name} - ${$.message}`)}realtimeLocalSignalStrengthChangeCallback($){this.consoleLog.debug(`Local attendee signalStrength=${$}`)}realtimeMuteAndUnmuteLocalAudioCallback($){this.callLogger.debug(`Local attendee mute=${$}`),this.observer.onPeerMuted("self",$)}realtimeSetCanUnmuteLocalAudioCallback($){this.consoleLog.debug(`Local attendee can unmute = ${$}`)}realtimeVolumeIndicatorCallback($,te,fe,Pe,Qe){this.consoleLog.debug(`Attendee volume indicator: attendeeId=${$}, volume=${te}, muted=${fe}, signalStrength=${Pe}, externalUserId=${Qe}`),this.selfAttendeeId!==$&&(fe?this.observer.onPeerMuted($,!0):fe!==null&&fe===!1&&this.observer.onPeerMuted($,!1)),Pe!==null&&(this.selfAttendeeId===$?this.observer.onSelfConnectionQualityChanged("uplink",(0,d.MK)(Pe)):this.observer.onPeerConnectionQualityChanged($,"uplink",(0,d.MK)(Pe)))}activeSpeakerDetectorCallback($){var te,fe;(te=this.peerCache)===null||te===void 0||te.updateCallState({activeSpeakerList:$}),(fe=this.videoUplinkManager)===null||fe===void 0||fe.reportActiveSpeakerChange(this.selfAttendeeId===$[0])}realtimeReceiveDataMessageCallback($){if(this.selfAttendeeId===$.senderAttendeeId){if(!$.throttled)return;this.callLogger.info(`Data message throttled: size=${$.data.length} bytes`);return}let te;try{te=it.Y.decode($.data)}catch(fe){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${fe}
				| Data Sender Attendee ID: ${$.senderAttendeeId}
				| Data Sender External Attendee ID: ${$.senderExternalUserId}
				| Topic: ${$.topic}`);return}this.handlePeerMessageFromDataMessage(te,$.senderAttendeeId)}handlePeerMessageFromDataMessage($,te){const fe=te;if($.jukeboxRequest){var Pe;if(!(0,xt.Z)(fe,"senderAttendeeId is not populated")||!(0,xt.Z)($.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((Pe=this.peerCache)===null||Pe===void 0)&&Pe.hasPeer(fe))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${fe}`);return}$.jukeboxRequest.songKey&&!$.jukeboxRequest.stop&&this.observer.onJukeboxRequest($.jukeboxRequest.songKey),$.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if($.reacji){var Qe;if(!(0,xt.Z)(fe,"senderAttendeeId is not populated")||!(0,xt.Z)($.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((Qe=this.peerCache)===null||Qe===void 0)&&Qe.hasPeer(fe)){const Bn=jt($.reacji);var ut;this.observer.onPeerReacji(fe,$.reacji.emoji,!0,Bn,(ut=$.reacji.emojiUrl)!==null&&ut!==void 0?ut:void 0)}else this.callLogger.info(`Dropping reacji from unknown peer: ${fe}`)}else if($.draw){var et;const Bn=Sn($.draw,this.selfAttendeeId);if(!(0,xt.Z)(fe,"senderAttendeeId is not populated")||!(0,xt.Z)(Bn,"Draw message must be correctly formed"))return;!((et=this.peerCache)===null||et===void 0)&&et.hasPeer(fe)?this.observer.onPeerDrawMessage(fe,Bn):this.callLogger.info(`Dropping draw message from unknown peer: ${fe}`)}else if($.capabilities){if(!(0,xt.Z)(fe,"senderAttendeeId is not populated"))return;if(!(0,Xe.A)($.capabilities.isDrawEnabled)){var Ft;(Ft=this.peerCache)===null||Ft===void 0||Ft.updatePeerStates([{peerId:fe,state:{isDrawEnabled:$.capabilities.isDrawEnabled}}])}}else if($.muteRequest){var $t;if(!(0,xt.Z)(fe,"senderAttendeeId is not populated")||!(0,xt.Z)($.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!(($t=this.peerCache)===null||$t===void 0)&&$t.hasPeer(fe)){if($.muteRequest.peerId===this.selfAttendeeId){var Pn;const Bn=this.attendeeMuteRequests[te],os=Bn==null?void 0:Bn.lastRequestTime,Zn=Date.now();if(Bn?(Bn.lastRequestTime=Zn,Bn.count+=1):this.attendeeMuteRequests[te]={lastRequestTime:Zn,count:1},os&&Zn-os<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${te} peer: ${fe}`);return}if(((Pn=this.attendeeMuteRequests[te])===null||Pn===void 0?void 0:Pn.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${te} peer: ${fe}`);return}}this.observer.onPeerMuteRequest(fe,$.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${fe}`)}else if($.contentShareDetails){if(!(0,xt.Z)(fe,"senderAttendeeId is not populated")||!(0,xt.Z)($.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!(0,xt.Z)($.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${$.contentShareDetails.itemId}, type: ${$.contentShareDetails.sourceType}`);const Bn=(0,An.Vd)($.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(fe,Bn,$.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback($){this.observer.onTranscriptionEvent($)}updatePeerVideoTile($){this.audioVideoFacade.getAllVideoTiles().filter(Pe=>{const Qe=Pe.state();return!Qe||!Qe.boundAttendeeId?!1:new s.jp(Qe.boundAttendeeId).base()===new s.jp($).base()}).forEach(Pe=>{const Qe=(Pe==null?void 0:Pe.state())||null;Qe&&this.observer.onPeerVideoTileUpdate($,Qe)})}constructor($,te,fe,Pe){var Qe;this.selfAttendeeId=$,this.audioVideoFacade=te,this.observer=fe,this.videoUplinkManager=Pe,this.callLogger=(0,o.Jt)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=(0,o.Cc)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var ut,et,Ft;return(ut=this.audioVideoFacade.audioVideoController)===null||ut===void 0||(et=ut.meetingSessionContext)===null||et===void 0||(Ft=et.signalingClient)===null||Ft===void 0?void 0:Ft.ready()},this.logFailureToSendPeerMessage=ut=>{const et=ut.draw?"draw":"reacji",Ft=u(()=>this.callLogger.error(`Failed to send ${et} peer message. Data channel is not ready to use.`),"logError");return(0,dt.A)(et,Ft)},(0,Ye.A)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new Dn,this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(Qe=this.audioVideoFacade.transcriptionController)===null||Qe===void 0||Qe.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new nn(this.observer),this.staleAttendeeChecker=new St(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var sn=e(3867135795),Nn=e(6696292586);const Ve=15,$e=2560,Et=1e3,It="text";let Tt=u(class{stopMusic($){let{cleanObserver:te}=$;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),te&&this.audioVideoFacade.removeContentShareObserver(this))}stop(){var $=this;return(0,t.coroutine)(function*(){$.isScreenshareEnabled&&($.isStopRequested=yield $.stopContentShare()),$.huddlesJukeboxEnabled&&$.stopMusic({cleanObserver:!0}),$.isStopRequested||($.observer.onScreenShareStopped(),$.audioVideoFacade.removeContentShareObserver($))})()}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}setSongStream($){var te=this;return(0,t.coroutine)(function*(){te.huddlesJukeboxEnabled&&(te.waitForStart=(0,r.u)(),yield te.audioVideoFacade.startContentShare($),te.isMusicEnabled=!0)})()}setScreenshare($,te,fe){var Pe=this;return(0,t.coroutine)(function*(){if($===Pe.isScreenshareEnabled)return;const{huddleEventsTrace:Qe}=(0,T.A)().getAllTraceHandlers();if($){let ut=te;if(te){const Ft=te.split(":");Ft.length===3&&Ft[2]!=="0"&&(Ft[2]="0",ut=Ft.join(":"),Pe.log.warn(`Munging screen share media source id, before: ${te}, after: ${ut}`))}let et;try{Pe.waitForStart=(0,r.u)();const Ft=u($t=>{throw Pe.log.error(`getUserMedia error during huddle screenshare attempt: ${$t.name} ${$t.message}`),$t},"logGetUserMediaError");if((0,ee.g9M)()&&Pe.log.info(`Starting screen share with zoomLevel = ${(0,ee.IXB)()}`),(0,ee.g9M)()&&fe){const{screenHeight:$t,screenWidth:Pn,selectedDisplayId:Bn}=fe;if(et={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:ut,maxFrameRate:Ve}}},Pn&&$t){const qn=et.video.mandatory,an=Pn/$t,hs=$e;qn.maxWidth=Pn<hs?Pn:hs,qn.maxHeight=$t<hs?$t:hs;const Cs=navigator.mediaDevices.getSupportedConstraints();(0,sn.A)(Cs,"aspectRatio")&&!!Cs.aspectRatio&&(0,Nn.A)(an)&&(qn.minAspectRatio=an,qn.maxAspectRatio=an),Pe.log.info(`Starting screen share with resolution constraints: ${qn.maxWidth} x ${qn.maxHeight} | resolution provided: ${Pn} x ${$t}`)}else Pe.log.info("Starting application window share without proposed resolution");const Zn=yield navigator.mediaDevices.getUserMedia(et).catch(Ft);(Zn==null?void 0:Zn.getVideoTracks().length)>0?(Pe.log.debug(`Applying content hint to content share stream. Content Hint ${It}`),Zn.getVideoTracks()[0].contentHint=It):Pe.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const qn=Zn.getVideoTracks()[0].getSettings(),an=(0,An.MS)(qn==null?void 0:qn.deviceId);L.A.publish({type:B.lx.ScreenshareContentType,update:{screenshareContentType:an}}),Pe.log.info(`Created video track with resolution: ${qn.width} x ${qn.height} framerate: ${qn.frameRate} aspect ratio: ${qn.aspectRatio}`),Bn&&Pe.log.info(`Sharing from selected display: ${Bn}`)},500),yield Pe.audioVideoFacade.startContentShare(Zn),setTimeout(()=>Pe.applyContentShareConstraints(Zn),Et),Qe==null||Qe.update({name:A.p.SCREENSHARE,type:A.G.START})}else{Pe.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const $t=yield Pe.audioVideoFacade.startContentShareFromScreenCapture(ut).catch(Ft);if(Qe==null||Qe.update({name:A.p.SCREENSHARE,type:A.G.START}),setTimeout(()=>Pe.applyContentShareConstraints($t),Et),($t==null?void 0:$t.getVideoTracks().length)>0){Pe.log.debug(`Applying content hint to content share stream. Content Hint ${It}`),$t.getVideoTracks()[0].contentHint=It;const Pn=$t.getVideoTracks()[0].getSettings(),Bn=(0,An.MS)(Pn==null?void 0:Pn.deviceId);L.A.publish({type:B.lx.ScreenshareContentType,update:{screenshareContentType:Bn}})}else Pe.log.warn("No video tracks where available when starting unconstrained content share")}}catch(Ft){const $t=u(()=>{delete Pe.waitForStart,Pe.isScreenshareEnabled=!1,Pe.observer.onScreenShareStopped()},"exitScreenshare");if(Ft.name==="NotAllowedError"){$t(),Ft.message==="Permission denied by system"&&Pe.observer.onCheckSystemMediaAccess(d.mT.SCREEN);return}if(Ft.name==="OverconstrainedError"){$t(),et&&Pe.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(et)}`);return}if(["TypeError","AbortError","Error"].includes(Ft.name)){$t(),Pe.observer.onScreenShareError(d.lD.ERROR);return}if(Ft.name==="NotReadableError"){$t(),Pe.observer.onScreenShareError(d.lD.NOT_READABLE_ERROR);return}throw Ft.name==="NotFoundError"&&($t(),Pe.observer.onScreenShareError(d.lD.NOT_FOUND_ERROR)),Pe.log.error(`Encountered an uncaught error attempting to start screen share: ${Ft.name} ${Ft.message}`),Pe.waitForStart.resolve(!1),$t(),Ft}Pe.lastEnableTimeMs=Date.now(),Pe.isScreenshareEnabled=$}else Pe.isScreenshareEnabled&&(yield Pe.stopContentShare())})()}applyContentShareConstraints($){var te=this;return(0,t.coroutine)(function*(){if(!te.isExperimentalSDK)return;const fe=$.getVideoTracks()[0];if(!fe){te.log.info("Constraints not re-applied no video track available");return}fe.getSettings()||te.log.info("Constraints not re-applied no video track settings available");const Qe={width:{ideal:$e},height:{ideal:$e},frameRate:{ideal:Ve}};yield fe.applyConstraints(Qe),te.log.info("Constraints re-applied to content share (resolution overwrite applied)")})()}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}stopContentShare(){var $=this;return(0,t.coroutine)(function*(){let te=!1;if($.waitForStart.isPending()?Date.now()-$.lastEnableTimeMs>1e4?(te=!0,$.log.info(`Stop screen share, force: ${Date.now()-$.lastEnableTimeMs} ms since start`)):($.log.info("Stop screen share, waiting for content share start to resolve"),te=yield $.waitForStart,$.log.info(`Stop screen share, wait for content share start resolve finished: ${te}`)):(te=$.waitForStart.value(),$.log.info(`Stop screen share, promise resolved: ${te}`)),te){$.audioVideoFacade.stopContentShare(),$.isScreenshareEnabled=!1;const{huddleEventsTrace:fe}=(0,T.A)().getAllTraceHandlers();fe==null||fe.update({name:A.p.SCREENSHARE,type:A.G.STOP}),L.A.publish({type:B.lx.ScreenshareContentType,update:null})}else $.log.warn("Screen share disable ignored as screen share was not started successfully");return te})()}constructor($,te,fe,Pe){this.audioVideoFacade=$,this.observer=te,this.huddlesJukeboxEnabled=fe,this.isExperimentalSDK=Pe,this.log=(0,o.tZ)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=C(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),Ct=u(class{addObserver($){var te,fe;(te=this.videoDownlinkPolicy)===null||te===void 0||(fe=te.addObserver)===null||fe===void 0||fe.call(te,$)}removeObserver($){var te,fe;(te=this.videoDownlinkPolicy)===null||te===void 0||(fe=te.removeObserver)===null||fe===void 0||fe.call(te,$)}remoteVideoSourcesDidChange($){this.videoSources=$,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const $=[];this.videoSources.forEach(te=>{var fe;const Pe=(fe=te.attendee)===null||fe===void 0?void 0:fe.attendeeId;Pe===this.selfAttendeeId||!Pe||(Pe.includes("#content")||!this.isAudioOnlyMode)&&$.push(te)}),this.sendChimeVideoPreferences($)}constructor({selfAttendeeId:$,videoDownlinkPolicy:te}){this.logger=new be.k("Huddles Video Downlink Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=fe=>{this.isAudioOnlyMode=fe,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=fe=>{var Pe;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(fe)}`)}catch{}(Pe=this.videoDownlinkPolicy)===null||Pe===void 0||Pe.chooseRemoteVideoSources(fe)},this.videoDownlinkPolicy=te,this.selfAttendeeId=$}},"VideoDownlinkManager");const Wt=null;var Gt=e(796111729),wt=e(2240330919);const qt=30,Yt=720;class In{get videoParticipantCount(){const $=this.audioVideoFacade.hasStartedLocalVideoTile()?1:0;return(this.remoteVideoParticipantCount||0)+$}constructor($,te){var fe=this;this.observer=$,this.audioVideoFacade=te,this.logger=(0,Gt.Wo)({label:"VIDEO-UPLINK"}),this.remoteVideoParticipantCount=0,this.maxIdealBitrate=1200,this.minimumBitrate=100,this.useMinimumBitrate=!1,this.currentBitrate=this.maxIdealBitrate,this.isActiveSpeaker=!1,this.bitrateUpdateDelayMs=5e3,this.remoteVideoSourcesDidChange=Pe=>{this.logger.info("remote video sources changed",Pe),this.remoteVideoParticipantCount=Pe.length,this.updateVideoQualitySettings()},this.reportActiveSpeakerChange=Pe=>{this.logger.debug(`user is active speaker: ${Pe}`);const Qe=this.isActiveSpeaker;this.isActiveSpeaker=Pe,Qe===this.isActiveSpeaker?this.logger.debug(`Active speaker status unchanged ${this.isActiveSpeaker}.`):(this.logger.info(`Active speaker status changed to ${this.isActiveSpeaker}. Updating video quality settings.`),this.updateVideoQualitySettings())},this.updateVideoQualitySettings=()=>{const Pe=this.maxIdealBitrate;if(!this.videoParticipantCount){this.logger.debug("Video not active in Huddle. Returning.");return}const Qe=this.currentBitrate;if(this.useMinimumBitrate?this.currentBitrate=this.minimumBitrate:this.isActiveSpeaker?this.currentBitrate=Pe:this.remoteVideoParticipantCount<=2?this.currentBitrate=Pe:this.remoteVideoParticipantCount<=4?this.currentBitrate=Pe*2/3:this.currentBitrate=Pe*2/this.remoteVideoParticipantCount,this.currentBitrate=(0,wt.A)([this.currentBitrate,this.minimumBitrate])||Qe,Qe===this.currentBitrate){this.logger.info(`Target video bitrate unchanged (${this.currentBitrate} kbps). Not updating max bitrate`);return}const ut=Qe>this.currentBitrate;this.applyNextVideoSettings(ut)},this.shouldRestrictVideoQuality=Pe=>{this.logger.info(`should restrict video quality due to connection quality: ${Pe}`),this.useMinimumBitrate=Pe,this.updateVideoQualitySettings()},this.applyBitrate=()=>{var Pe;!this.currentBitrate||!(!((Pe=this.audioVideoFacade)===null||Pe===void 0)&&Pe.setVideoMaxBandwidthKbps)||(this.logger.info(`applying new video max bitrate to local video stream ${this.currentBitrate}`),this.audioVideoFacade.setVideoMaxBandwidthKbps(Math.trunc(this.currentBitrate)))},this.applyBitrateDelayed=(0,_.A)(this.applyBitrate,this.bitrateUpdateDelayMs,{leading:!1}),this.applyNextVideoSettings=function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?fe.applyBitrateDelayed():fe.applyBitrate()},this.logger.info("Initializing video uplink manager"),this.audioVideoFacade.chooseVideoInputQuality(Yt,Yt,qt),this.observer.onMaxTileSizeUpdated(Yt),this.applyNextVideoSettings()}}u(In,"VideoUplinkManager");var ft=e(3146858537),yt=e(3398586081),bt=e(1829947126);let Ht=u(class{initialize($,te){this.gainNode=te,this.audioContext=$}onAudioLevelUpdated($){isNaN($.value)||$.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const $=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime($,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var $;this.gainNode&&this.audioContext&&(($=this.gainNode)===null||$===void 0||$.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor($){this.defaultVolume=$,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),bt.A.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const ln="HUDDLE-JUKEBOX";let rn=u(class{startLocalJukebox($){let{song:te,volume:fe}=$;var Pe=this;return(0,t.coroutine)(function*(){var Qe;const ut=Pe.getSongUrl({song:te});if(ut===Pe.localAudioUrl)return;Pe.callLogger.info(`Starting local jukebox song key: ${te.key}.`),Pe.audioContext||(Pe.audioContext=new AudioContext),Pe.cleanup(),Pe.localAudioUrl=ut;const Ft=yield(yield window.fetch(ut)).arrayBuffer(),$t=yield Pe.audioContext.decodeAudioData(Ft);Pe.audioBufferSourceNode=Pe.audioContext.createBufferSource(),Pe.audioBufferSourceNode.buffer=$t,Pe.localAudio=new Audio,Pe.localAudio.volume=fe,yield Pe.localAudio.setSinkId((0,D._o)()),Pe.localMediaStreamAudioDestinationNode=Pe.audioContext.createMediaStreamDestination(),Pe.gainNode=Pe.audioContext.createGain(),(Qe=Pe.jukeboxDucker)===null||Qe===void 0||Qe.initialize(Pe.audioContext,Pe.gainNode),Pe.gainNode.gain.value=Pe.defaultVolume,Pe.audioBufferSourceNode.connect(Pe.gainNode),Pe.gainNode.connect(Pe.localMediaStreamAudioDestinationNode),Pe.localAudio.srcObject=Pe.localMediaStreamAudioDestinationNode.stream,Pe.audioBufferSourceNode.loop=!0,Pe.audioBufferSourceNode.start(),Pe.localAudio.play()})()}startContentShareJukebox($){let{song:te}=$;var fe=this;return(0,t.coroutine)(function*(){var Pe,Qe;fe.audioContext||(fe.audioContext=new AudioContext),fe.audioDestination||(fe.audioDestination=fe.audioContext.createMediaStreamDestination()),fe.callLogger.info(`Starting jukebox song key: ${te.key}`),fe.cleanup();const ut=fe.getSongUrl({song:te}),Ft=yield(yield window.fetch(ut)).arrayBuffer(),$t=yield fe.audioContext.decodeAudioData(Ft);return fe.audioBufferSourceNode=fe.audioContext.createBufferSource(),fe.audioBufferSourceNode.buffer=$t,fe.localAudio=new Audio,yield fe.localAudio.setSinkId((0,D._o)()),fe.localMediaStreamAudioDestinationNode=fe.audioContext.createMediaStreamDestination(),fe.gainNode=fe.audioContext.createGain(),(Pe=fe.jukeboxDucker)===null||Pe===void 0||Pe.initialize(fe.audioContext,fe.gainNode),fe.gainNode.gain.value=fe.defaultVolume,fe.audioBufferSourceNode.connect(fe.gainNode),fe.gainNode.connect(fe.audioDestination),fe.gainNode.connect(fe.localMediaStreamAudioDestinationNode),fe.localAudio.srcObject=fe.localMediaStreamAudioDestinationNode.stream,fe.audioBufferSourceNode.loop=!0,fe.audioBufferSourceNode.start(),fe.localAudio.play(),(Qe=fe.audioDestination)===null||Qe===void 0?void 0:Qe.stream})()}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var $,te,fe,Pe;($=this.audioBufferSourceNode)===null||$===void 0||$.stop(),this.audioBufferSourceNode=void 0,(te=this.localAudio)===null||te===void 0||te.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(fe=this.gainNode)===null||fe===void 0||fe.disconnect(),this.gainNode=void 0,(Pe=this.audioDestination)===null||Pe===void 0||Pe.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var $;return($=this.localAudio)===null||$===void 0?void 0:$.volume}getSongUrl($){let{song:te}=$;return te.url}constructor(){this.defaultVolume=.3,this.callLogger=(0,o.Jt)(ln),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new Ht(this.defaultVolume)}},"JukeboxManager");const Mn=(0,yt.A)(()=>new rn),es={connectionWaitTimeMs:15*1e3,connectionUnhealthyThreshold:5,sendingAudioFailureSamplesToConsider:3,sendingAudioFailureInitialWaitTimeMs:15*1e3,missedPongsLowerThreshold:1,missedPongsUpperThreshold:3},Kn=u(class{constructor(){this.getConfiguration=()=>es}},"ConnectionHealthPolicyManager");var Yn=e(610288365),wn=e(1921074781),Rt;(function(lt){lt.Control="control",lt.Vp8="vp8",lt.Vp8Svc="vp8_svc",lt.Vp9="vp9",lt.Vp9Svc="vp9_svc",lt.Av1="av1",lt.Av1Svc="av1_svc"})(Rt||(Rt={}));const je=(0,Gt.Wo)({label:"HUDDLE-VIDEO-CODECS"}),qe=function(){var lt=(0,t.coroutine)(function*($){let{audioVideoFacade:te,h264BaselineProfileEnabled:fe,disableVp9:Pe}=$;var Qe,ut;const et=[];!(0,v.gm)()&&!Pe&&et.push(s.KK.vp9()),fe&&et.push(s.KK.h264BaselineProfile()),et.push(s.KK.h264()),je.info(`Setting preferred camera video codec to ${(Qe=et[0])===null||Qe===void 0?void 0:Qe.codecName}`),je.debug("Setting camera video codec preferences",et),(ut=te.setVideoCodecSendPreferences)===null||ut===void 0||ut.call(te,et)});return u(function(te){return lt.apply(this,arguments)},"setCameraVideoCodec")}(),st=function(){var lt=(0,t.coroutine)(function*($){let{useAv1:te,audioVideoFacade:fe,h264BaselineProfileEnabled:Pe}=$;var Qe,ut;const et=[];te&&et.push(s.KK.av1()),Pe&&et.push(s.KK.h264BaselineProfile()),et.push(s.KK.h264()),je.info(`Setting preferred content share video codec to ${(Qe=et[0])===null||Qe===void 0?void 0:Qe.codecName}`),je.debug("Setting content share video codec preferences",et),(ut=fe.setContentShareVideoCodecPreferences)===null||ut===void 0||ut.call(fe,et)});return u(function(te){return lt.apply(this,arguments)},"setScreenshareVideoCodec")}();var q=e(2028988448),me;(function(lt){lt.CONNECTION_STATE_CHANGE="connectionstatechange",lt.ICE_CONNECTION_STATE_CHANGE="iceconnectionstatechange"})(me||(me={}));var Le;(function(lt){lt.CLOSE="close",lt.ERROR="error"})(Le||(Le={}));var We;(function(lt){lt.DISCONNECTED="disconnected",lt.FAILED="failed"})(We||(We={}));const ze=5*1e3,ht=1*1e3;let Mt=null;class on{constructor($){var te=this;this.observer=$,this.callLogger=(0,o.Jt)("DISCONNECT-OBSERVER"),this.genericLogger=(0,Gt.Wo)({label:"DISCONNECT-OBSERVER"}),this.peerConnection=null,this.webSocket=null,this.shouldIgnoreDisconnectEvents=!1,this.getPeerConnectionRef=fe=>{var Pe,Qe;const ut=(Pe=fe)===null||Pe===void 0||(Qe=Pe.audioVideoController)===null||Qe===void 0?void 0:Qe.meetingSessionContext;return ut==null?void 0:ut.peer},this.getWebSocketRef=fe=>{var Pe,Qe,ut,et;const Ft=(Pe=fe)===null||Pe===void 0||(Qe=Pe.audioVideoController)===null||Qe===void 0?void 0:Qe.meetingSessionContext;return Ft==null||(ut=Ft.signalingClient)===null||ut===void 0||(et=ut.webSocket)===null||et===void 0?void 0:et.connection},this.onConnectionUpdate=function(fe){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&(te.brieflyIgnoreDisconnectEvents(),te.genericLogger.debug("Connection restored. Ignoring disconnection events for 5 seconds."));try{te.resetConnectionRefs(fe),te.registerAllEventHandlers(),te.genericLogger.debug("Reconnected and monitoring for future disconnections.")}catch(Qe){te.callLogger.error("Error updating connection references on reconnection:",Qe)}},this.brieflyIgnoreDisconnectEvents=()=>{this.shouldIgnoreDisconnectEvents=!0,setTimeout(()=>{this.shouldIgnoreDisconnectEvents=!1,this.genericLogger.debug("Reconnection delay over. Now responding to disconnection events.")},ze)},this.resetConnectionRefs=fe=>{this.unregisterAllEventHandlers(),this.peerConnection=this.getPeerConnectionRef(fe)||null,this.webSocket=this.getWebSocketRef(fe)||null,this.webSocket?this.genericLogger.debug("WebSocket reference obtained successfully."):this.callLogger.error("WebSocket reference not available.")},this.broadcastDisconnection=(0,_.A)(()=>{var fe;if(this.shouldIgnoreDisconnectEvents){this.genericLogger.debug("Disconnection event ignored due to recent reconnection.");return}this.genericLogger.info("Disconnection detected. Informing the user."),(fe=this.observer)===null||fe===void 0||fe.onSelfDisconnected()},ht,{leading:!0,trailing:!1}),this.onHuddleEnd=()=>{this.genericLogger.debug("Huddle ended. Cleaning up event handlers and connection references.");try{this.unregisterAllEventHandlers()}catch(fe){this.callLogger.error(`Error during Huddle end cleanup: ${fe}`)}this.webSocket=null,this.peerConnection=null,Mt=null},this.testNetworkDrop=()=>{var fe,Pe;this.genericLogger.info("Simulating network drop by closing WebSocket and PeerConnection."),(fe=this.webSocket)===null||fe===void 0||fe.close(),(Pe=this.peerConnection)===null||Pe===void 0||Pe.close()},this.registerAllEventHandlers=()=>{this.genericLogger.debug("Registering event handlers for WebSocket and PeerConnection."),this.registerPeerConnectionEventHandlers(),this.registerWebSocketEventHandlers()},this.unregisterAllEventHandlers=()=>{this.genericLogger.debug("Unregistering event handlers for WebSocket and PeerConnection."),this.unregisterPeerConnectionEventHandlers(),this.unregisterWebSocketEventHandlers()},this.registerPeerConnectionEventHandlers=()=>{var fe,Pe;(fe=this.peerConnection)===null||fe===void 0||fe.addEventListener(me.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(Pe=this.peerConnection)===null||Pe===void 0||Pe.addEventListener(me.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.registerWebSocketEventHandlers=()=>{var fe,Pe;(fe=this.webSocket)===null||fe===void 0||fe.addEventListener(Le.CLOSE,this.handleWebSocketClose),(Pe=this.webSocket)===null||Pe===void 0||Pe.addEventListener(Le.ERROR,this.handleWebSocketError)},this.unregisterPeerConnectionEventHandlers=()=>{var fe,Pe;(fe=this.peerConnection)===null||fe===void 0||fe.removeEventListener(me.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(Pe=this.peerConnection)===null||Pe===void 0||Pe.removeEventListener(me.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.unregisterWebSocketEventHandlers=()=>{var fe,Pe;(fe=this.webSocket)===null||fe===void 0||fe.removeEventListener(Le.CLOSE,this.handleWebSocketClose),(Pe=this.webSocket)===null||Pe===void 0||Pe.removeEventListener(Le.ERROR,this.handleWebSocketError)},this.handleIceConnectionStateChange=()=>{var fe,Pe;if(((fe=this.peerConnection)===null||fe===void 0?void 0:fe.iceConnectionState)===We.DISCONNECTED||((Pe=this.peerConnection)===null||Pe===void 0?void 0:Pe.iceConnectionState)===We.FAILED)this.logDisconnectionWarning("ICE connection state is either disconnected or failed."),this.broadcastDisconnection();else{var Qe;this.callLogger.info(`ICE connection state changed to: ${(Qe=this.peerConnection)===null||Qe===void 0?void 0:Qe.iceConnectionState}.`)}},this.handlePeerConnectionStateChange=()=>{var fe,Pe;if(((fe=this.peerConnection)===null||fe===void 0?void 0:fe.connectionState)===We.DISCONNECTED||((Pe=this.peerConnection)===null||Pe===void 0?void 0:Pe.connectionState)===We.FAILED)this.logDisconnectionWarning("Peer connection has either disconnected or failed."),this.broadcastDisconnection();else{var Qe;this.callLogger.info(`peer connection state changed: ${(Qe=this.peerConnection)===null||Qe===void 0?void 0:Qe.connectionState}`)}},this.handleWebSocketClose=fe=>{this.logDisconnectionWarning(`WebSocket connection closed unexpectedly (Code: ${fe.code}, Reason: ${fe.reason||"None provided"}).`),this.broadcastDisconnection()},this.handleWebSocketError=fe=>{this.callLogger.error(`WebSocket encountered an error: ${fe}.`)},this.logDisconnectionWarning=fe=>{this.callLogger.warn(`ALERT! ${fe} This may result in temporary audio/video disruption. Possible causes include network instability, network congestion, and security software (like VPNs, firewalls, or proxies) blocking or dropping the connection. If the issue persists, users should check their network or security settings and contact their IT team if necessary.`)},this.callLogger.info("Disconnection observer initialized. Monitoring for disconnections..."),Mt=u(()=>this.testNetworkDrop(),"testNetworkDropFn")}}u(on,"HuddleDisconnectObserver");const zn=null;(0,q.ul)("testHuddleNetworkDrop",()=>{Mt==null||Mt()});class Qn{initialize($,te,fe,Pe,Qe,ut){var et=this;return(0,t.coroutine)(function*(){var Ft,$t,Pn,Bn,os,Zn,qn,an;Qe&&(et.waitForStop=Qe),ut&&(et.dataChannelSubscribers=ut),et.observer.onInit(),et.options=$;const{serverConfig:hs,useChimeSdkExp:Cs,useSimulcast:G,useHuddlesFilterWorker:ue}=et.options;yield(0,s.ZT)(Cs),et.chimeLogger=new be.k(et.loggerName),et.callLogger=(0,o.Jt)(et.loggerName),(Ft=et.callLogger)===null||Ft===void 0||Ft.info(`user agent: ${navigator.userAgent}`);const Fe=(0,c.HF)();($t=et.callLogger)===null||$t===void 0||$t.info(`Version TS: ${Fe}`);const pt=(document==null||(Pn=document.documentElement)===null||Pn===void 0||(Bn=Pn.dataset)===null||Bn===void 0?void 0:Bn.versionHash)||"unknown";(os=et.callLogger)===null||os===void 0||os.info(`Version Hash: ${pt}`),(Zn=et.callLogger)===null||Zn===void 0||Zn.info(`Chime SDK Version: ${s.zF.sdkVersion}${Cs?" (Experimental)":""}`),et.meeting=hs.meeting,et.attendee=hs.attendee,et.selfAttendeeId=et.attendee.AttendeeId;const Cn=(0,i.Y)(hs.attendee.ExternalUserId);try{var On;const Lt=JSON.stringify((0,n.A)($,"serverConfig"),null,2);(On=et.callLogger)===null||On===void 0||On.debug(`Huddle SDK [${Cn}] initialized with options: ${Lt}`)}catch(Lt){var Wn;(Wn=et.callLogger)===null||Wn===void 0||Wn.error("Error stringifying options",Lt)}if(et.transportProtocols=hs.transportProtocols,et.isPrejoin=et.options.isPrejoin,et.meetingSessionConfiguration=new s.QJ(et.meeting,et.attendee),G&&et.meetingSessionConfiguration){var En;(En=et.callLogger)===null||En===void 0||En.info("Simulcast enabled"),et.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if(et.options.usePriorityDownlinkPolicy&&(et.videoDownlinkPolicy=new s.gi(et.selfAttendeeId),et.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=et.videoDownlinkPolicy,et.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,et.videoDownlinkManager=new Ct({selfAttendeeId:et.selfAttendeeId,videoDownlinkPolicy:et.videoDownlinkPolicy})),et.meetingSessionConfiguration.urls&&(et.meetingSessionConfiguration.urls.urlRewriter=et.urlRewriter.bind(et)),et.meetingSessionConfiguration&&et.meetingSessionConfiguration.connectionHealthPolicyConfiguration){const Lt=new Kn;Object.assign(et.meetingSessionConfiguration.connectionHealthPolicyConfiguration,Lt.getConfiguration())}et.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0,yield et.initVoiceFocus();const fs={audio:te.includes(d.mT.MICROPHONE),video:te.includes(d.mT.CAMERA)};s.vB.disable();let ls;const ps=!!(!((qn=et.voiceFocusManager)===null||qn===void 0)&&qn.isAvailable()),Ms=et.options.disableAudioRedundancy||!1;if(Cs){const Lt=(0,s.Q_)(),at=(0,s.RM)();if(et.defaultDeviceController=new at(et.chimeLogger,{enableWebAudio:ps}),et.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(fs)),et.sessionExp=new Lt(et.meetingSessionConfiguration,et.chimeLogger,et.defaultDeviceController),ls=et.sessionExp.audioVideo,Ms){const vt=(0,s.Ls)();ls.setAudioProfile(new vt(null,!1)),ls.setContentAudioProfile(new vt(null,!1))}}else{const Lt=(0,s.of)(),at=(0,s.zg)();if(et.defaultDeviceController=new at(et.chimeLogger,{enableWebAudio:ps}),et.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(fs)),et.session=new Lt(et.meetingSessionConfiguration,et.chimeLogger,et.defaultDeviceController),ls=et.session.audioVideo,Ms){const vt=(0,s.j3)();ls.setAudioProfile(new vt(null,!1)),ls.setContentAudioProfile(new vt(null,!1))}}if(et.options.useVideoUplinkPolicy){var Fs;(Fs=et.callLogger)===null||Fs===void 0||Fs.info("Video uplink policy enabled"),et.videoUplinkManager=new In(et.observer,ls)}yield et.populateDeviceInfoCache();const Rs=et.options.useH264Baseline||!1;qe({audioVideoFacade:ls,h264BaselineProfileEnabled:Rs,disableVp9:!!et.options.disableVp9});const Os=et.options.useH264BaselineScreenshare||!1,Tn=et.options.useAv1Screenshare;st({useAv1:Tn,audioVideoFacade:ls,h264BaselineProfileEnabled:Os});const as={useHuddlesFilterWorker:ue,backgroundVideoFilteringSetting:a.uT.Both,useDevicesExp:et.options.useDevicesExp,useVideoUplinkPolicy:et.options.useVideoUplinkPolicy},_t=ve;et.deviceManager=new _t(ls,et.audioOutputElement,et.observer,as,fe,et.chimeLogger,et.defaultDeviceController,et.voiceFocusManager),(an=et.dataChannelSubscribers)===null||an===void 0||an.forEach(Lt=>Lt.onInitializeDataChannelSubscriber()),et.disconnectObserver=new on(et.observer),et.audioVideoObserver=new Oe(et.selfAttendeeId,et.meeting.MeetingId,et.meeting.MediaRegion,Cn,ls,et.observer,et.deviceManager,et.videoDownlinkManager,et.disconnectObserver,Pe,et.waitForStop,et.dataChannelSubscribers,et.videoUplinkManager);const tt=et.options.huddlesJukeboxEnabled;if(tt){var Nt;(Nt=et.callLogger)===null||Nt===void 0||Nt.info("Huddles Jukebox experiment enabled (prototype)")}et.contentShareManager=new Tt(ls,et.observer,!!tt,Cs),et.audioVideoFacadeSubscriber=new yn(et.selfAttendeeId,ls,et.observer,et.videoUplinkManager),(0,Yn.Ay)().initialize(),et.connect(),et.screenManager=new l.A,et.observer.onMeetingSessionInitialized(),et.waitForInit.resolve()})()}shutdown($){var te=this;return(0,t.coroutine)(function*(){var fe,Pe,Qe,ut,et,Ft,$t;if((fe=te.callLogger)===null||fe===void 0||fe.info("Huddles SDK shutdown initiated"),(Pe=te.disconnectObserver)===null||Pe===void 0||Pe.onHuddleEnd(),delete te.disconnectObserver,yield te.waitForInit,te.cleanupDataChannelSubscribers(),(Qe=te.contentShareManager)===null||Qe===void 0||Qe.stop(),(ut=te.audioVideoObserver)===null||ut===void 0||ut.stop(),yield(et=te.deviceManager)===null||et===void 0?void 0:et.shutdown(),wn.F.doesInstanceExist()){var Pn;(Pn=wn.F.getInstance())===null||Pn===void 0||Pn.release()}(Ft=te.audioVideoFacadeSubscriber)===null||Ft===void 0||Ft.destroy(),yield te.waitForStop,delete te.session,delete te.sessionExp,delete te.meetingSessionConfiguration,yield te.cleanupDefaultDeviceControllerRefs(),($t=te.callLogger)===null||$t===void 0||$t.info("Huddles SDK shutdown completed"),delete te.chimeLogger,delete te.callLogger,delete te.deviceManager,delete te.audioVideoFacadeSubscriber,delete te.audioVideoObserver,delete te.contentShareManager,delete te.screenManager,delete te.voiceFocusManager,delete te.videoDownlinkManager,delete te.videoDownlinkPolicy,delete te.videoUplinkManager,$&&$()})()}selfMicrophoneEnabled($){var te;(te=this.deviceManager)===null||te===void 0||te.setMicrophone($)}selfVideoEnabled($,te,fe,Pe){var Qe,ut;(Qe=this.deviceManager)===null||Qe===void 0||Qe.setCamera($),(ut=this.contentShareManager)===null||ut===void 0||ut.setScreenshare(te,fe,Pe)}startContentShareJukebox($){let{song:te}=$;var fe=this;return(0,t.coroutine)(function*(){var Pe;const Qe=yield Mn().startContentShareJukebox({song:te});Qe&&((Pe=fe.contentShareManager)===null||Pe===void 0||Pe.setSongStream(Qe))})()}selfStopJukebox(){var $=this;return(0,t.coroutine)(function*(){var te;Mn().stopJukebox(),(te=$.contentShareManager)===null||te===void 0||te.stopMusic({cleanObserver:!1})})()}setCameraQuality($,te,fe,Pe){var Qe;if(!(!((Qe=this.options)===null||Qe===void 0)&&Qe.useVideoUplinkPolicy)){var ut;(ut=this.deviceManager)===null||ut===void 0||ut.setCameraQuality($,te,fe,Pe)}}setAGC($){var te;(te=this.deviceManager)===null||te===void 0||te.setAGC($)}setNewPreferredDevice($,te){var fe;(fe=this.deviceManager)===null||fe===void 0||fe.setPreferredDevice($,te)}setNoiseSuppression($){var te;(te=this.deviceManager)===null||te===void 0||te.setNoiseSuppression($)}setVideoBackgroundEffect($){var te;(te=this.deviceManager)===null||te===void 0||te.setVideoBackgroundEffect($)}requestPreviewStreamForDeviceId($,te,fe){var Pe;(Pe=this.deviceManager)===null||Pe===void 0||Pe.requestPreviewStreamForDeviceId($,te,fe)}stopVideoPreviewForVideoInput($){var te;(te=this.deviceManager)===null||te===void 0||te.stopVideoPreviewForVideoInput($)}getScreenThumbnails($){var te=this;return(0,t.coroutine)(function*(){var fe;return yield(fe=te.screenManager)===null||fe===void 0?void 0:fe.getScreenThumbnails($==null?void 0:$.thumbnailDimensions,$==null?void 0:$.isRefetch)})()}selfDrawEnabled($){var te;(te=this.audioVideoFacadeSubscriber)===null||te===void 0||te.selfDrawEnabled($)}sendReacji($,te,fe){var Pe;(Pe=this.audioVideoFacadeSubscriber)===null||Pe===void 0||Pe.sendReacji($,te,fe)}sendBackground($){var te;(te=this.audioVideoFacadeSubscriber)===null||te===void 0||te.sendBackground($)}sendMuteRequest($){var te;(te=this.audioVideoFacadeSubscriber)===null||te===void 0||te.sendMuteRequest($)}sendJukeboxRequest($){var te;(te=this.audioVideoFacadeSubscriber)===null||te===void 0||te.sendJukeboxRequest($)}sendJukeboxStopRequest(){var $;($=this.audioVideoFacadeSubscriber)===null||$===void 0||$.sendJukeboxStopRequest()}sendDrawMessage($){var te;(te=this.audioVideoFacadeSubscriber)===null||te===void 0||te.sendDrawMessage($)}sendContentShareDetails($){var te;(te=this.audioVideoFacadeSubscriber)===null||te===void 0||te.sendContentShareDetails($)}sendRecordingStartNotification(){var $;($=this.audioVideoFacadeSubscriber)===null||$===void 0||$.sendRecordingStartNotification()}maybeBindAudioOutputElement(){var $;($=this.deviceManager)===null||$===void 0||$.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess($){var te;return(te=this.deviceManager)===null||te===void 0?void 0:te.maybeCheckSystemMediaAccess($)}setIncludeSelfAndNoneActiveSpeaker($,te){var fe;(fe=this.audioVideoFacadeSubscriber)===null||fe===void 0||fe.setIncludeSelfAndNoneActiveSpeaker($,te)}bindVideo($,te,fe){var Pe;const Qe=this.session||this.sessionExp;if(!Qe)return;const ut=(Pe=Qe.audioVideo.getVideoTile($))===null||Pe===void 0?void 0:Pe.state();fe?ut!=null&&ut.boundVideoStream&&s.xc.connectVideoStreamToVideoElement(ut.boundVideoStream,te,!1):(this.videoDownlinkPolicy&&(ut!=null&&ut.paused)&&Qe.audioVideo.unpauseVideoTile($),Qe.audioVideo.bindVideoElement($,te))}unbindVideo($,te,fe){const Pe=this.session||this.sessionExp;Pe&&(fe?s.xc.disconnectVideoStreamFromVideoElement(te,!0):Pe.audioVideo.getVideoTile($)&&Pe.audioVideo.unbindVideoElement($))}pauseVideo($){const te=this.session||this.sessionExp;if(!te)return;const fe=te.audioVideo.getVideoTile($),Pe=fe==null?void 0:fe.state();!(Pe!=null&&Pe.isContent)&&(Pe!=null&&Pe.active)&&(fe==null||fe.pause())}unpauseVideo($){const te=this.session||this.sessionExp;if(!te)return;const fe=te.audioVideo.getVideoTile($),Pe=fe==null?void 0:fe.state();Pe!=null&&Pe.paused&&(fe==null||fe.unpause())}videoTileHasStream($){const te=this.session||this.sessionExp;if(!te)return!1;const fe=te.audioVideo.getVideoTile($);if(!fe)return!1;const Pe=fe.state();return Pe?!!Pe.boundVideoStream:!1}getMeetingMediaRegion(){var $;return($=this.meeting)===null||$===void 0?void 0:$.MediaRegion}completePrejoin($){var te=this;return(0,t.coroutine)(function*(){const{isStartMuted:fe}=$;if(te.isPrejoin){var Pe,Qe;return fe&&((Pe=te.deviceManager)===null||Pe===void 0||Pe.setStartMutedBarrier(fe)),(Qe=te.audioVideoObserver)===null||Qe===void 0||Qe.start(),te.maybeBindAudioOutputElement(),te.setIncludeSelfAndNoneActiveSpeaker(!0,!0),te.isPrejoin=!1,!0}return!1})()}urlRewriter($){if(!$)return $;if(this.transportProtocols){const Qe=this.transportProtocols;if($.includes("?transport=udp")&&!Qe.includes("udp")){var te;return(te=this.callLogger)===null||te===void 0||te.info("Dropping UDP transport"),""}if($.includes("?transport=tcp")){if($.includes("turns:")){if(!Qe.includes("tls")){var fe;return(fe=this.callLogger)===null||fe===void 0||fe.info("Dropping TLS transport"),""}}else if(!Qe.includes("tcp")){var Pe;return(Pe=this.callLogger)===null||Pe===void 0||Pe.info("Dropping TCP transport"),""}}}return $.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var $,te=this;const fe=function(){var Pe=(0,t.coroutine)(function*(){try{var Qe;te.videoDevicePermissionStatus="IN_PROGRESS";const et=yield navigator.mediaDevices.getUserMedia({video:!0});return(Qe=te.callLogger)===null||Qe===void 0||Qe.info("Video device permissions granted"),te.videoDevicePermissionStatus="GRANTED",et}catch(et){var ut;throw te.videoDevicePermissionStatus="DENIED",te.observer.onSetNoMediaInput(d.mT.CAMERA),(ut=te.callLogger)===null||ut===void 0||ut.info("Video device permissions denied"),et}});return u(function(){return Pe.apply(this,arguments)},"callback")}();($=this.defaultDeviceController)===null||$===void 0||$.setDeviceLabelTrigger(fe)}maybeEnableSelfCamera(){let{isScreenshareEnabled:$}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var te=this;return(0,t.coroutine)(function*(){if((yield te.initVideoPermission())&&(te.videoDevicePermissionStatus==="INITIAL"||te.videoDevicePermissionStatus==="GRANTED")){var Pe;te.selfVideoEnabled(!0,!!$),te.observer.onPeerCameraActive("self",!0),(Pe=te.callLogger)===null||Pe===void 0||Pe.info("maybeEnableSelfCamera:: enabling camera function executed")}})()}initVideoPermission(){var $=this;return(0,t.coroutine)(function*(){var te;return $.setupVideoDeviceLabelTrigger(),yield(te=$.deviceManager)===null||te===void 0?void 0:te.initVideoInputDevices()})()}getSelfAttendeeId(){return this.selfAttendeeId}constructor($,te,fe="FREE-WILLY-SDK"){this.observer=$,this.audioOutputElement=te,this.loggerName=fe,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=(0,r.u)(),this.waitForStop=(0,r.u)();var Pe=this;this.initVoiceFocus=(0,t.coroutine)(function*(){let Ft=0;const $t=Date.now();Pe.voiceFocusManager=new ft.A(Pe.chimeLogger),yield Pe.voiceFocusManager.init({configOnly:!1}),Ft=Date.now()-$t,Pe.observer.onMaybeVoiceFocusInitialized(Ft)});var Qe=this;this.populateDeviceInfoCache=(0,t.coroutine)(function*(){var Ft,$t,Pn,Bn;const os=Date.now(),Zn=yield(Ft=Qe.defaultDeviceController)===null||Ft===void 0?void 0:Ft.listAudioInputDevices(),qn=yield($t=Qe.defaultDeviceController)===null||$t===void 0?void 0:$t.listAudioOutputDevices(),an=yield(Pn=Qe.defaultDeviceController)===null||Pn===void 0?void 0:Pn.listVideoInputDevices(),hs=w.Ay.canAccessMediaResource(d.mT.MICROPHONE).status===a.eJ.Granted&&!(Zn!=null&&Zn.length),Cs=w.Ay.canAccessMediaResource(d.mT.CAMERA).status===a.eJ.Granted&&!(an!=null&&an.length);if(hs){var G;(G=Qe.callLogger)===null||G===void 0||G.error("No microphone devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}if(Cs){var ue;(ue=Qe.callLogger)===null||ue===void 0||ue.error("No camera devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}const Fe=Date.now()-os;(Bn=Qe.callLogger)===null||Bn===void 0||Bn.info(`Populated device info cache in ${Fe}ms with ${Zn==null?void 0:Zn.length} microphones, ${qn==null?void 0:qn.length} speakers, and ${an==null?void 0:an.length} cameras`)}),this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(Ft=>Ft.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)};var ut=this;this.cleanupDefaultDeviceControllerRefs=(0,t.coroutine)(function*(){var Ft;if(!ut.defaultDeviceController)return;yield ut.defaultDeviceController.destroy();const $t=(Ft=ut.defaultDeviceController)===null||Ft===void 0?void 0:Ft.eventController;if($t){var Pn;const Bn=(Pn=$t.configuration)===null||Pn===void 0?void 0:Pn.urls;Bn&&(Bn.urlRewriter=void 0)}ut.defaultDeviceController.deviceLabelTrigger=void 0,delete ut.defaultDeviceController}),this.handleClientOffline=()=>{var Ft;(Ft=this.audioVideoObserver)===null||Ft===void 0||Ft.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=Ft=>{var $t;($t=this.videoDownlinkManager)===null||$t===void 0||$t.toggleAllIncomingVideo(Ft)};var et=this;this.connect=(0,t.coroutine)(function*(){var Ft,$t;if((Ft=et.audioVideoObserver)===null||Ft===void 0||Ft.startWithSignalingOnly(),yield($t=et.deviceManager)===null||$t===void 0?void 0:$t.init(),!et.isPrejoin){var Pn;if(!w.Ay.canAccessMediaResource(d.mT.MICROPHONE)){var Bn;(Bn=et.callLogger)===null||Bn===void 0||Bn.error("Missing microphone permissions. Not connecting to huddle");return}(Pn=et.audioVideoObserver)===null||Pn===void 0||Pn.start()}}),this.videoDevicePermissionStatus="INITIAL"}}u(Qn,"FreeWillySdk")},5016574668:(x,g,e)=>{"use strict";e.d(g,{An:()=>r,Kp:()=>l,Nb:()=>s,RN:()=>i,Sq:()=>a,ZT:()=>t,jt:()=>d,tz:()=>c,w4:()=>o,yz:()=>n});const t=10*1e3,n=1e3,s="2.5",r=450*450,c=25,o=15,a="huddles_perf",l="app_metrics",i="client_metrics",d=5},2205899741:(x,g,e)=>{"use strict";e.d(g,{$c:()=>P,h7:()=>C,t5:()=>T,e7:()=>_,KG:()=>D,q4:()=>A,_N:()=>v,sI:()=>U,Ap:()=>h,kq:()=>b,ik:()=>O,No:()=>k,fB:()=>B,Ye:()=>y,RI:()=>i,Fq:()=>S,oj:()=>m,qf:()=>E,Tg:()=>p});const t=30,n=300,s=300,r=30,c=10,o=30,a=1,l=u(R=>function(z){for(var w=arguments.length,W=new Array(w>1?w-1:0),K=1;K<w;K++)W[K-1]=arguments[K];if(!(typeof z!="string"&&typeof z!="number"))return R(z,...W)},"makeDeduction"),i=l(R=>R>r?R/5:void 0),d=l(R=>R>400?R/20:void 0),_=l(R=>R>1?R:void 0),m=l(R=>R>s?R/7.5:void 0),h=l(R=>R>1?R*10:void 0),v=l(R=>R>t?R/2:void 0),T=l(R=>R>o?R*1.25:void 0),A=l(R=>R>n?R/10:void 0),y=l(R=>R>o?R*1.5:void 0),p=l(R=>R>c?R*1.5:void 0),f=l(R=>R*2),O=l(R=>R&&R!=="udp"?40:void 0),I=l(R=>R&&R>500?R/100:void 0),P=l(R=>R>150?R/5:void 0),C=l(R=>R>15?R*2:void 0),M=l(R=>R>5?R:void 0),D=l(R=>R>20?R/5:void 0),E=l(R=>R>1?R*2.5:void 0),S=l(R=>!R||R==="none"?void 0:25),k=l(R=>R>0?R*20:void 0),U=l(R=>R>1?R*1.25:void 0),L=l(R=>R>300?R/10:void 0),B=l(R=>R&&R>o?R*1.5:void 0),b=l(R=>R>a?Math.round(R*7.5):void 0)},415910655:(x,g,e)=>{"use strict";e.d(g,{ZR:()=>r,jm:()=>n,s2:()=>s});let t;const n=u(c=>{t||(t={}),Object.assign(t,c)},"updateJoinTimingMetrics"),s=u(()=>t,"getJoinTimingMetrics"),r=u(()=>{t=void 0},"resetJoinTimingMetrics")},5470425448:(x,g,e)=>{"use strict";e.d(g,{lx:()=>l,zu:()=>a});var t;(function(i){i.UDP="udp",i.TCP="tcp"})(t||(t={}));var n;(function(i){i.RELAY="relay",i.DIRECT="direct"})(n||(n={}));var s;(function(i){i.UPLINK="uplink",i.DOWNLINK="downlink"})(s||(s={}));var r;(function(i){i.GOOD="good",i.FAIR="fair",i.BAD="bad",i.WORST="worst"})(r||(r={}));var c;(function(i){i.GOOD="good",i.FAIR="fair",i.BAD="bad",i.WORST="worst"})(c||(c={}));var o;(function(i){i[i.UPSTREAM=0]="UPSTREAM",i[i.DOWNSTREAM=1]="DOWNSTREAM"})(o||(o={}));var a;(function(i){i[i.AUDIO=0]="AUDIO",i[i.VIDEO=1]="VIDEO"})(a||(a={}));var l;(function(i){i.RtmMetrics="rtm-metrics",i.RenderTiming="render-timing",i.BluetoothDevices="bluetooth-devices",i.MemoryLeaks="memory-leaks",i.SelectedMediaRegion="selected-media-region",i.PreferredMediaRegion="preferred-media-region",i.VoiceFocusConfig="voice-focus-config",i.NetworkDisconnect="network-disconnect",i.CallId="call-id",i.ScreenshareContentType="screenshare-content-type",i.AppMetrics="app-metrics",i.NoAudio="no-audio",i.CameraResolution="max-camera-resolution",i.SetIsDebugApp="set-is-debug-app",i.TroubleshootingContactUsClicked="troubleshooting-contact-us-clicked",i.TroubleshootingEntryPoint="troubleshooting-entry-point",i.TroubleshootingExitHealthSnapshot="troubleshooting-exit-health-snapshot"})(l||(l={}))},5071086688:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(6267571562);const n=new t.G},5403856613:(x,g,e)=>{"use strict";e.d(g,{U:()=>r,p:()=>o});var t=e(7091646278),n=e(2205899741);const s=20,r=80,c=60,o=u(a=>{const{audioDownstreamQualityScore:l,networkQualityScore:i,networkType:d,networkProtocol:_,networkRelayProtocol:m,networkAvailableOutgoingBitrate:h,networkJitterMs:v,audioDownstreamJitterBufferDelay:T,networkCurrentRoundTripTimeMs:A,mediaRegionSelected:y,mediaRegionPreferred:p,cpuUse:f,cpuUseRelative:O,cpuCompetitionScore:I,gpuUse:P,batteryIsUsing:C,selectedMicrophone:M,selectedCamera:D,selectedSpeakers:E,cameraIsBlocked:S,cameraIsAvailable:k,microphoneIsBlocked:U,microphoneIsAvailable:L,isMicrophoneBluetooth:B,isSpeakerBluetooth:b,isMicrophoneAndSpeakerOnSameDevice:R,isHardwareAccelerationEnabled:z,isDisconnected:w,noAudioInput:W,osIsThrottlingCpu:K,networkPacketLossPercent:Y,powerThrottlingActive:X}=a;let Z;switch(!0){case i<=0:Z=t.bz.Bad;break;case i<=r:Z=t.bz.Warn;break;default:Z=t.bz.Good}return{metrics:{stable:{mediaRegionSelected:y,mediaRegionPreferred:p,selectedMicrophone:M,selectedCamera:D,selectedSpeakers:E},unstable:{cpuCompetitionScore:I,cpuUse:f,gpuUse:P,cpuUseRelative:O,audioQualityScore:l,jitterMs:v,audioDelayMs:T,roundTripTimeMs:A,packetLossPercent:Y,incomingBandwidth:h,networkQualityScore:i}},warnings:{stable:{isVpnEnabled:d==="vpn",isSuboptimalProtocol:!!(0,n.ik)(_)||!!(0,n.ik)(m),isMediaRegionSuboptimal:!!y&&!!p&&y!==p,isUsingBatteryPower:C,isMicrophoneBluetooth:B,isMicrophoneAndSpeakerOnSameDevice:R,isSpeakerBluetooth:b,isCameraProbablyIphone:/iphone/.test(D==null?void 0:D.toLowerCase()),isHardwareAccelerationDisabled:z===!1,isOSThrottlingCpu:!!K},unstable:{isCpuUsePoor:!!(0,n.$c)(f),isCpuUseRelativePoor:!!(0,n.h7)(O),isGpuUsePoor:!!(0,n.KG)(P),isJitterPoor:!!(0,n._N)(v),isRTTPoor:!!(0,n.oj)(A),isAudioDelayPoor:!!(0,n.q4)(T),isPacketLossPoor:!!(0,n.kq)(Y)}},alerts:{stable:{isCameraBlocked:S||!k,isMicrophoneBlocked:U||!L,isMicrophoneNotSendingAudio:!!W,isDisconnected:w,isPowerThrottlingActive:!!X},unstable:{networkQualityHealth:Z,isNetworkQualityPoor:i<=r,isAudioQualityPoor:l<=s,isCpuCompetitionPoor:I<=c}}}},"getTroubleshootingMetricsFromTags")},6246464105:(x,g,e)=>{"use strict";e.d(g,{N5:()=>i,R1:()=>c,Y:()=>l});var t=e(6797417739),n=e(2825968873),s=e(5470425448),r=e(5071086688),c;(function(d){d.HuddlesSdk="huddles-sdk",d.ChimeChannelListener="chime-channel-listener",d.ChimeChannelBroadcaster="chime-channel-broadcaster",d.VoiceFocusDevice="voice-focus-device",d.VideoTransformDevice="video-transform-device",d.VideoFrameProcessor="video-frame-processor"})(c||(c={}));const o=new Map([[c.HuddlesSdk,t.Y.create({name:c.HuddlesSdk})],[c.ChimeChannelListener,t.Y.create({name:c.ChimeChannelListener})],[c.ChimeChannelBroadcaster,t.Y.create({name:c.ChimeChannelBroadcaster})],[c.VoiceFocusDevice,t.Y.create({name:c.VoiceFocusDevice})],[c.VideoTransformDevice,t.Y.create({name:c.VideoTransformDevice})],[c.VideoFrameProcessor,t.Y.create({name:c.VideoFrameProcessor})]]),a=(0,n.Jt)("HUDDLE-LEAK-MONITOR"),l=u(d=>{let{name:_,ref:m}=d;const h=o.get(_);if(!h)return;const v=h.getMetrics();if(v){const{numberOfObjects:T,numberOfExpiredObjects:A}=v,y=T-A;A>3&&(a.warn(`Detected ${A} memory leak(s) for ${_}${y?` (with another ${y} instances in memory)`:""}`),r.A.publish({type:s.lx.MemoryLeaks,update:{name:_,leakCount:A}}))}h.watch(m)},"monitorObjectForMemoryLeaks"),i=u(()=>{for(const[,d]of o)d.expectGCAll()},"detectMemoryLeaks")},8872167513:(x,g,e)=>{"use strict";e.d(g,{A:()=>wn});var t=e(3398586081),n=e(4724591729),s=e(796111729),r=e(3855029223),c=e(4798756512),o=e(9680914051);let a=u(class{initializeHuddleReconnectTracer(){var je,qe,st;this.reconnectSpan=(je=this.trace)===null||je===void 0?void 0:je.startSpan(o.xN),this.reconnectSuccessSpan=(qe=this.trace)===null||qe===void 0?void 0:qe.startSpan(o.xx),this.reconnectFailureSpan=(st=this.trace)===null||st===void 0?void 0:st.startSpan(o.cJ)}traceReconnectAttemptOutcome(je){let{isSuccess:qe}=je;var st;qe?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(st=this.logger)===null||st===void 0||st.info(`Registered huddle reconnect attempt outcome - isSuccess: ${qe}`)}traceReconnectAttempt(){var je;this.reconnectCount+=1,(je=this.logger)===null||je===void 0||je.info("Counted huddle reconnect attempt")}report(){var je,qe,st,q,me;(je=this.reconnectSpan)===null||je===void 0||je.addTags({metric_value:this.reconnectCount}).close(),(qe=this.reconnectSuccessSpan)===null||qe===void 0||qe.addTags({metric_value:this.reconnectSuccessCount}).close(),(st=this.reconnectFailureSpan)===null||st===void 0||st.addTags({metric_value:this.reconnectFailureCount}).close(),(q=this.tracer)===null||q===void 0||q.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(me=this.logger)===null||me===void 0||me.info("Reported reconnect attempt metric trace")}constructor({tracer:je,trace:qe,logger:st}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=je,this.trace=qe,this.logger=st,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),l=u(class{addTTIMetaTags(je){let{entryPoint:qe,preferredMediaRegion:st,isPrejoin:q,isCreate:me}=je;var Le;(Le=this.trace)===null||Le===void 0||Le.addTags({entry_point:qe,preferred_media_region:st,is_prejoin:q,is_create:me,success:!1})}createFetchCredentialsSpan(){var je;this.fetchCredentialsSpan=(je=this.trace)===null||je===void 0?void 0:je.startSpan(o.xl)}setCachedTag(je){let{cached:qe}=je;var st;(st=this.trace)===null||st===void 0||st.addTags({cached:qe})}closeFetchCredentialsSpan(){var je;(je=this.fetchCredentialsSpan)===null||je===void 0||je.close()}createConnectToMediaServiceSpan(){var je;this.connectToMediaServiceSpan=(je=this.trace)===null||je===void 0?void 0:je.startSpan(o.xA)}closeConnectToMediaServiceSpan(){var je,qe,st,q;(je=this.connectToMediaServiceSpan)===null||je===void 0||je.close(),(qe=this.trace)===null||qe===void 0||qe.addTags({success:!0}),(st=this.tracer)===null||st===void 0||st.reportTrace(this.trace),this.traceReported=!0,(q=this.logger)===null||q===void 0||q.info("Reported TTI metric trace")}getTTITraceId(){var je;return(je=this.trace)===null||je===void 0?void 0:je.getTraceId()}getFetchCredentialsSpanId(){var je;return(je=this.fetchCredentialsSpan)===null||je===void 0?void 0:je.getId()}setMediaRegionTag(je){var qe,st;const q=(qe=this.trace)===null||qe===void 0?void 0:qe.getTags().preferred_media_region;(st=this.trace)===null||st===void 0||st.addTags({media_region:je,media_region_matches:je===q})}report(){var je,qe;if(!this.traceReported){var st,q;(st=this.tracer)===null||st===void 0||st.reportTrace(this.trace),this.traceReported=!0,(q=this.logger)===null||q===void 0||q.info("Reported TTI metric trace in final clean up")}(je=this.tracer)===null||je===void 0||je.clearTrace(this.trace),(qe=this.logger)===null||qe===void 0||qe.info("Cleaned up TTI metric trace")}constructor({teamId:je,logger:qe}){this.traceReported=!1,this.tracer=(0,r.E)({teamOrEnterpriseId:je}),this.trace=this.tracer.createTrace({traceName:o.bQ,samplingOptions:{sampleRate:(0,n.Cu)()?1:.05,sampleType:c.tS.SESSION}}),this.logger=qe}},"HuddleTTITracer");var i=e(5470425448),d=e(9706240641),_=e(5016574668),m=e(1616072515);let h=u(class{recordAppMetrics(je){var qe=this;return(0,d.coroutine)(function*(){const st=Date.now();if(st-qe.lastRecordedSpanTs<qe.reportingInterval)return;qe.logger.debug(`Adding new ${_.Sq}:${_.Kp} span`);const me=qe.trace.startSpan(_.Kp),Le=(0,m.tT)(je),We=Object.keys(Le).length;me.addTags(Le),me.close(),qe.logger.debug(`Added new ${_.Sq}:${_.Kp} span with ${We} tags`),qe.getSpanCount()>_.jt&&qe.report(),qe.lastRecordedSpanTs=st})()}constructor({teamId:je,logger:qe,callLogger:st,enableMaxReportingFrequency:q}){var me=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.getMetricsCollectionInterval=()=>(0,n.Cu)()||this.enableMaxReportingFrequency?_.yz:_.ZT,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:_.Sq,tags:{__dataset:_.RN},samplingOptions:{sampleType:c.tS.ALWAYS}}),this.trace),this.getSpanCount=()=>{var Le;const We=(Le=this.trace)===null||Le===void 0?void 0:Le.getSpans();return We?Object.keys(We).length:0},this.report=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Le&&me.callLogger.debug(`Huddle ${me.callId} is ending. Reporting ${me.getSpanCount()} remaining spans`),!me.traceReported&&me.getSpanCount()>0){var We,ze;(We=me.tracer)===null||We===void 0||We.reportTrace(me.trace),(ze=me.tracer)===null||ze===void 0||ze.clearTrace(me.trace),me.logger.debug(`Cleared ${_.Sq}:${_.Kp} event trace`),Le?me.traceReported=!0:me.createNewTrace()}else me.logger.debug(`Attempted to report ${_.Sq}:${_.Kp} trace but there was nothing to report`)},this.tracer=(0,r.E)({teamOrEnterpriseId:je}),this.enableMaxReportingFrequency=!!q,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=qe,this.callLogger=st}},"HuddlePerfTracer");const v=null;var T=e(4103274853),A=e(166097325),y=e(8478954380),p=e(5403856613);const f=10*1e3,O=30*1e3;class I{constructor(je){this.logger=je,this.currentUnstableAlerts={},this.currentAlerts={networkQualityHealth:[],isNetworkQualityPoor:[],isAudioQualityPoor:[],isCpuCompetitionPoor:[]},this.updateInterval=f,this.updateIntervalIncrements=0,this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(O,this.updateInterval+1e3))},this.getStableAlerts=(qe,st)=>{const q=u(me=>{const Le=qe[me];let We=this.currentAlerts[me];const ze=Date.now();We.push({timestamp:ze,value:Le}),We=We.filter(Qn=>{let{timestamp:lt}=Qn;return ze-lt<=O}),this.currentAlerts[me]=We,We=We.filter(Qn=>{let{timestamp:lt}=Qn;return ze-lt<=st.interval});const ht=new Map;for(const Qn of We)ht.has(Qn.value)||ht.set(Qn.value,0),ht.set(Qn.value,ht.get(Qn.value)+1);const Mt=Array.from(ht.entries());let[on,zn]=Mt[0];for(const[Qn,lt]of Mt.slice(1))lt>zn&&(zn=lt,on=Qn);return Mt.length?on:this.currentUnstableAlerts[me]},"nextAlert");return{isAudioQualityPoor:q("isAudioQualityPoor"),isCpuCompetitionPoor:q("isCpuCompetitionPoor"),isNetworkQualityPoor:q("isNetworkQualityPoor"),networkQualityHealth:q("networkQualityHealth")}},this.getStabilityConfig=()=>({interval:this.updateInterval}),this.getAlertUpdates=qe=>{let{alerts:st}=qe;const q=this.getStableAlerts(st,this.getStabilityConfig()),me=!(0,A.A)(q,this.currentUnstableAlerts);if(this.maybeIncrementUpdateInterval(),me)return this.currentUnstableAlerts=q,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),q}}}u(I,"AlertUpdater");const P=null,C="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",M={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${C}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${C}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network.",isOSThrottlingCpu:"The operating system is throttling CPU to manage heat or conserve battery power, which could lead to degraded audio or video quality and/or a general sense that Slack is slow or unresponsive. This might manifest as video freezing frequently, audio cutting out frequently, or audio-video sync issues. In more extreme cases, it can even trigger disconnections from the Chime media server. To mitigate this, ensure the user's device is well-ventilated, that they avoid running unnecessary applications during the call, and, if they are on a laptop, they should connect it to a power source. Adjusting power settings to prefer maximum performance (even when battery is being used) can also help. For detailed steps, please refer to your device's power management settings."},S={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...M},k={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class U{constructor({callLogger:je,logger:qe,dispatch:st}){this.isDev=(0,n.Cu)(),this.isJsPath=(0,n.b3)(),this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=q=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:me,isUnifiedGrid:Le,visibleSidebarItemCount:We,networkType:ze,networkProtocol:ht,networkRelayProtocol:Mt,isHardwareAccelerationEnabled:on,batteryIsUsing:zn}=q;this.callLogger.info(`Initial Huddle Config: Network Type=${ze}; Network Protocol=${ht}; Network Relay Protocol=${Mt}; IA4=${me}; Unified Grid=${Le}; Hardware Acceleration=${on??"unknown (browser)"}; Using Battery Power=${zn}; Sidebar Size=${We};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(q,me)=>{Object.entries(q).forEach(Le=>{let[We,ze]=Le;if(ze&&this.isRelevantWarning(We,q)&&S[We]){let ht;if(We in k){const on=k[We];on&&(me!=null&&me[on])&&(ht=me[on])}this.logger.warn(`\u{1F6A8} WARNING! ${S[We]}${ht?` reasons: (${ht})`:""}`)}})},this.isRelevantWarning=(q,me)=>q==="isNetworkQualityPoor"||q==="isCpuCompetitionPoor"?"isAudioQualityPoor"in me&&!!me.isAudioQualityPoor:!0,this.logTags=q=>{const me=Date.now();this.isJsPath||this.isDev?this.logger.info(`Recorded ${_.Sq}:${_.Kp} event span tags`,q):me-this.lastLoggedTagsTs>10*1e3&&(this.logger.debug(`Recorded ${_.Sq}:${_.Kp} event span tags`,q),this.lastLoggedTagsTs=me)},this.getStatsDiff=q=>{const me=this.lastProcessedStats;return(0,T.A)(q,(Le,We)=>{var ze,ht;return{stable:me?!(0,A.A)((ze=me[We])===null||ze===void 0?void 0:ze.stable,Le==null?void 0:Le.stable):null,unstable:me?!(0,A.A)((ht=me[We])===null||ht===void 0?void 0:ht.unstable,Le==null?void 0:Le.unstable):null}})},this.maybeUpdateTroubleshootingPanel=q=>{var me,Le,We,ze,ht,Mt,on,zn,Qn;const lt=Date.now(),$=(0,p.p)(q),te=this.getStatsDiff($);if(this.lastProcessedStats=$,(!((me=te.alerts)===null||me===void 0)&&me.stable||((Le=te.alerts)===null||Le===void 0?void 0:Le.stable)===null)&&$.alerts.stable&&(this.dispatch((0,y._6)($.alerts.stable)),te.alerts.stable&&this.logWarningAndAlertUpdates($.alerts.stable)),(!((We=te.metrics)===null||We===void 0)&&We.stable||((ze=te.metrics)===null||ze===void 0?void 0:ze.stable)===null)&&$.metrics.stable&&this.dispatch((0,y.qO)($.metrics.stable)),(!((ht=te.warnings)===null||ht===void 0)&&ht.stable||((Mt=te.warnings)===null||Mt===void 0?void 0:Mt.stable)===null)&&$.warnings.stable&&(this.dispatch((0,y.it)($.warnings.stable)),this.logWarningAndAlertUpdates($.warnings.stable)),!((on=$.alerts)===null||on===void 0)&&on.unstable){const fe=this.alertUpdater.getAlertUpdates({alerts:$.alerts.unstable});fe&&(this.dispatch((0,y.Li)(fe)),this.logWarningAndAlertUpdates(fe,q))}$.metrics.unstable&&$.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||lt-this.lastUnstableMetricsUpdateTs>1e4&&(!((zn=te.warnings)===null||zn===void 0)&&zn.unstable||!((Qn=te.metrics)===null||Qn===void 0)&&Qn.unstable))&&(this.dispatch((0,y.bW)({metrics:$.metrics.unstable,warnings:$.warnings.unstable})),this.lastUnstableMetricsUpdateTs=lt)},this.processTags=q=>{this.maybeUpdateTroubleshootingPanel(q),this.logHuddleConfigInfo(q),this.logTags(q),this.lastProcessedTagsTs=Date.now()},this.callLogger=je,this.logger=qe,this.dispatch=st,this.alertUpdater=new I(qe),this.callLogger.info("huddle perf observer initialized")}}u(U,"HuddlePerfObserver");const L=null,B=U;var b=e(2825968873),R=e(5238395322),z=e(2208015175),w=e(9137897911),W=e(9113979368),K=e(8872403767),Y=e(6313685253),X=e(1687672245),Z=e(6696292586);const ie=u(Rt=>{if((0,W.A)(Rt))return;const je=(0,Y.A)(Rt,(qe,st)=>(0,X.A)(qe,st,(q,me)=>(q||0)+me),{});return(0,T.A)(je,qe=>qe/Rt.length)},"calculateIncomingVideoStatsAverages"),Ae=u(Rt=>{if(typeof Rt=="string"||typeof Rt=="boolean")return Rt;if(!isNaN(Rt)&&!(typeof Rt>"u"||Rt===null))return Math.round(Rt)},"getScrubbedMetricValue"),ae=u(Rt=>{let{clientMetricReport:je,direction:qe}=Rt;const st=Object.keys(je.streamMetricReports);let q;return st.forEach(me=>{const Le=Number(me),We=je.streamMetricReports[Le];We.direction===qe&&We.mediaType===i.zu.AUDIO&&(q=Le)}),q},"getAudioSsrcId"),V=u((Rt,je,qe,st,q)=>{const me=Rt==null?void 0:Rt.getMetricMap(je,qe)[st];if(me!=null&&me.transform)return me.transform(st,q)},"getNonObservedMetric"),ve=u((Rt,je)=>{const qe=je?Rt.replace(je,""):Rt;return qe.charAt(0).toUpperCase()+qe.slice(1)},"removeSubstringAndCapitalize"),be=u(function(Rt){let je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(0,Z.A)(je)||!(0,Z.A)(Rt))return 0;const st=isNaN(qe)?0:qe;if(Rt===je||Rt>je)return 0;const me=(je-Rt)/je*100-st;return Math.round(me)},"calculateNonNetworkPacketLoss");var Ue=e(5057176955),Re;(function(Rt){Rt[Rt.UPSTREAM=0]="UPSTREAM",Rt[Rt.DOWNSTREAM=1]="DOWNSTREAM"})(Re||(Re={}));var ge;(function(Rt){Rt[Rt.AUDIO=0]="AUDIO",Rt[Rt.VIDEO=1]="VIDEO"})(ge||(ge={}));let ne,ee;const F=u(function(Rt,je,qe){let st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Rt||!je)return;const q=(je.timestamp-Rt.timestamp)/1e3,me=je[qe]-Rt[qe];return st?me/q:me},"getNextStat"),H=u(Rt=>{let{clientMetricReport:je,selfAttendeeId:qe}=Rt;const st=je.getObservableVideoMetrics();if(!st||!qe)return;let q=0;const me={},Le=[];return(0,z.A)(st,(We,ze)=>{var ht;const Mt=Number((ht=Object.keys(We))===null||ht===void 0?void 0:ht[0]);if(!Mt)return;const on=We[Mt];if(ze.endsWith("#content")){var zn,Qn;q+=1,(0,z.A)(on,(Qe,ut)=>{me[(0,w.A)(`screenshare_${(0,m._3)(ut)}${q>1?`${q}_`:""}`)]=Ae(Qe)}),Object.assign(me,{screenshareVideoDownstreamDecoderImplementation:(zn=je.streamMetricReports[Mt])===null||zn===void 0||(Qn=zn.currentStringMetrics)===null||Qn===void 0?void 0:Qn.decoderImplementation,screenshareVideoDownstreamFramesReceivedPerSecond:je.countPerSecond("framesReceived",Mt),screenshareVideoDownstreamFramesDroppedPerSecond:V(je,ge.VIDEO,Re.DOWNSTREAM,"framesDropped",Mt),screenshareVideoDownstreamFreezeCount:V(je,ge.VIDEO,Re.DOWNSTREAM,"freezeCount",Mt),screenshareVideoDownstreamTotalDecodeTime:V(je,ge.VIDEO,Re.DOWNSTREAM,"totalDecodeTime",Mt),screenshareVideoDownstreamTotalFreezesDuration:V(je,ge.VIDEO,Re.DOWNSTREAM,"totalFreezesDuration",Mt)});return}if(qe===ze){if(on.videoUpstreamBitrate!==0){var lt,$;(0,z.A)(on,(Qe,ut)=>{me[`self${ve(ut,"Upstream")}`]=Ae(Qe)}),Object.assign(me,{selfVideoHardwareEncoder:V(je,ge.VIDEO,Re.UPSTREAM,"encoderImplementation",Mt),selfVideoEncoderImplementation:(lt=je.streamMetricReports[Mt])===null||lt===void 0||($=lt.currentStringMetrics)===null||$===void 0?void 0:$.encoderImplementation,selfVideoTotalEncodeTime:V(je,ge.VIDEO,Re.UPSTREAM,"totalEncodeTime",Mt)})}}else{var te,fe;const Qe=V(je,ge.VIDEO,Re.DOWNSTREAM,"totalDecodeTime",Mt);if(Qe){var Pe;me.videoDownstreamTotalDecodeTime=((Pe=me.videoDownstreamTotalDecodeTime)!==null&&Pe!==void 0?Pe:0)+Qe}Object.assign(me,{videoDownstreamDecoderImplementation:(te=je.streamMetricReports[Mt])===null||te===void 0||(fe=te.currentStringMetrics)===null||fe===void 0?void 0:fe.decoderImplementation}),Le.push({...on,videoDownstreamFramesReceivedPerSecond:je.countPerSecond("framesReceived",Mt),videoDownstreamFramesDroppedPerSecond:V(je,ge.VIDEO,Re.DOWNSTREAM,"framesDropped",Mt)})}}),(0,W.A)(Le)||Object.assign(me,ie(Le)),me},"getVideoMetricTags"),j=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],N=u(Rt=>{let{clientMetricReport:je}=Rt;const{audioDecoderLoss:qe,audioPacketLossPercent:st,audioPacketsReceived:q,audioPacketsReceivedFractionLoss:me,audioPacketsSent:Le,audioSpeakerDelayMs:We,audioDownstreamJitterMs:ze,videoUpstreamBitrate:ht,videoPacketSentPerSecond:Mt,currentRoundTripTimeMs:on,availableIncomingBitrate:zn,availableOutgoingBitrate:Qn,nackCountReceivedPerSecond:lt,audioUpstreamRoundTripTimeMs:$,audioUpstreamJitterMs:te}=je.getObservableMetrics(),fe=50,Pe=be(q,fe,me),Qe=be(Le,fe,st),ut={audioDownstreamDecoderLoss:qe,audioUpstreamPacketLossPercent:st,audioDownstreamPacketsReceived:q,audioDownstreamPacketLossPercent:me,audioDownstreamJitterMs:ze,audioUpstreamPacketsSent:Le,audioDownstreamNonNetworkPacketLossPercent:Pe,audioUpstreamNonNetworkPacketLossPercent:Qe,audioDownstreamJitterBufferDelay:We,selfVideoBitrate:ht,selfVideoPacketsSentPerSecond:Mt,audioUpstreamRoundTripTimeMs:$,audioUpstreamJitterMs:te,networkCurrentRoundTripTimeMs:on,networkAvailableIncomingBitrate:zn,networkAvailableOutgoingBitrate:Qn,networkNackCountReceivedPerSecond:lt},et=(0,K.A)(ut,(Zn,qn)=>j.indexOf(qn)>-1?(0,w.A)(`network_${qn}`):qn),$t={networkSocketPacketsDiscardedOnSend:je.globalMetricReport.currentMetrics.packetsDiscardedOnSend},Pn=ae({clientMetricReport:je,direction:Re.DOWNSTREAM});let Bn;if(Pn){const Zn=V(je,ge.AUDIO,Re.DOWNSTREAM,"concealedSamples",Pn);Bn={audioDownstreamTotalSamplesReceived:V(je,ge.AUDIO,Re.DOWNSTREAM,"totalSamplesReceived",Pn),audioDownstreamConcealedSamples:Zn}}return(0,T.A)({...et,...$t,...Bn},Zn=>Ae(Zn))},"getAudioMetricTags"),J=u(Rt=>{const je={},qe=[];let st;if(!Rt)return ne=void 0,je;Rt.forEach(me=>{me.type==="local-candidate"&&qe.push(me),me.type==="media-source"&&me.kind==="audio"&&(je.audioUpstreamTotalSamplesDuration=me.totalSamplesDuration,je.audioUpstreamAudioLevel=me.audioLevel,je.audioUpstreamTotalAudioEnergy=me.totalAudioEnergy),me.type==="candidate-pair"&&me.state==="succeeded"&&me.nominated&&me.localCandidateId&&(st=me.localCandidateId,je.networkBytesSent=me.bytesSent,je.networkBytesReceived=me.bytesReceived,je.networkBytesDiscardedOnSend=me.bytesDiscardedOnSend),me.type==="inbound-rtp"&&me.kind==="audio"&&(je.audioDownstreamLevel=me.audioLevel),me.type==="outbound-rtp"&&me.kind==="video"&&(je.selfVideoQualityLimitationDurations=me.qualityLimitationDurations&&(0,Ue.Zf)(me.qualityLimitationDurations),je.selfVideoOutboundFramesPerSecond=me.framesPerSecond,je.selfVideoPacketSendDelay=F(ne,me,"totalPacketSendDelay"),ne=me),me.type==="media-source"&&me.kind==="video"&&(je.selfVideoSourceFramesPerSecond=me.framesPerSecond)});const q=qe.find(me=>me.id===st);if(q){const{networkType:me,protocol:Le,relayProtocol:We}=q;je.networkType=me,je.networkProtocol=Le,je.networkRelayProtocol=We}return je},"getRtcStatsTags"),le=u(Rt=>{if(!Rt){ee=void 0;return}const je={};return Rt.forEach(qe=>{if(qe.type==="remote-inbound-rtp"&&qe.kind==="video"){const{fractionLost:st,jitter:q,roundTripTime:me}=qe;Object.assign(je,{screenshareUpstreamJitter:q*1e3,screenshareUpstreamPacketLossPercent:st*100,screenshareUpstreamRoundTripTime:me*1e3})}if(qe.type==="outbound-rtp"&&qe.kind==="video"){const{frameHeight:st,frameWidth:q,framesPerSecond:me,targetBitrate:Le,encoderImplementation:We,scalabilityMode:ze,powerEfficientEncoder:ht}=qe;if(Object.assign(je,{screenshareUpstreamTargetBitrate:Le,screenshareUpstreamFrameWidth:q,screenshareUpstreamFrameHeight:st,screenshareUpstreamFramesPerSecond:me,screenshareUpstreamEncoderImplementation:We,screenshareUpstreamPowerEfficientEncoder:ht,screenshareUpstreamScalabilityMode:ze}),!ee){ee=qe;return}const Mt=F(ee,qe,"totalEncodeTime",!0),on=Mt&&Mt*1e3;Object.assign(je,{screenshareUpstreamPacketsSent:F(ee,qe,"packetsSent"),screenshareUpstreamPacketSendDelay:F(ee,qe,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:F(ee,qe,"keyFramesEncoded"),screenshareUpstreamBitrate:F(ee,qe,"bytesSent",!0),screenshareUpstreamTotalEncodeTime:on}),ee=qe}}),(0,T.A)(je,qe=>Ae(qe))},"getScreenshareRtcStatsTags"),ce=u(Rt=>{let{clientMetricReport:je,selfAttendeeId:qe}=Rt;const st=H({clientMetricReport:je,selfAttendeeId:qe}),q=N({clientMetricReport:je});return{...st,...q}},"getClientMetricReportTags"),Ee={getVideoMetricTags:H,getAudioMetricTags:N,getClientMetricReportTags:ce,getScreenshareRtcStatsTags:le,getRtcStatsTags:J};var ye=e(4404059078),Ie=e(6890312250),he=e(2205899741);const Ce=0,oe=100;function de(Rt){return Rt.endsWith(",")?Rt.slice(0,-1):Rt}u(de,"trimComma");const De=u(()=>{let Rt=100,je="";return{deductFromScoreForReason:(qe,st)=>{qe&&(Rt-=qe,je+=`${st},`)},getScore:()=>(0,ye.A)(Rt,Ce,oe),getReasons:()=>de(je)}},"trackScoreAndReasons"),Te=u(Rt=>{const{deductFromScoreForReason:je,getScore:qe,getReasons:st}=De(),{screenshareUpstreamBitrate:q,screenshareUpstreamPacketLossPercent:me,screenshareUpstreamJitter:Le,screenshareUpstreamRoundTripTime:We,screenshareUpstreamFramesPerSecond:ze,screenshareUpstreamPacketSendDelay:ht,screenshareUpstreamQualityLimitationReason:Mt}=Rt;if(q)return je((0,he.Tg)(me),"screenshareUpstreamPacketLossPercent"),je((0,he._N)(Le),"screenshareUpstreamJitter"),je((0,he.oj)(We),"screenshareUpstreamRoundTripTime"),je((0,he.RI)(ht),"screenshareUpstreamPacketSendDelay"),je((0,he.qf)(_.w4-ze),"screenshareUpstreamFramesPerSecond"),je((0,he.Fq)(Mt),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:qe(),screenshareUpstreamQualityScoreReasons:st()}},"getScreenshareUpstreamQualityScore"),pe=u(Rt=>{const{selfVideoPacketLossPercent:je,selfVideoFrameHeight:qe,selfVideoFrameWidth:st,selfVideoRoundTripTime:q,selfVideoJitterMs:me,selfVideoFramesEncodedPerSecond:Le,isSelfVideoEnabled:We}=Rt;if(!We||!st)return;const{deductFromScoreForReason:ze,getScore:ht,getReasons:Mt}=De();ze((0,he.Tg)(je),"selfVideoPacketLossPercent");const on=qe*st;return ze((0,he.e7)(100-on/_.An*100),"selfVideoFrameHeight,selfVideoFrameWidth"),ze((0,he._N)(me),"selfVideoJitterMs"),ze((0,he.oj)(q),"selfVideoRoundTripTime"),ze((0,he.qf)(_.tz-Le),"selfVideoFramesEncodedPerSecond"),{selfVideoQualityScore:ht(),selfVideoQualityScoreReasons:Mt()}},"getSelfVideoQualityScore"),Me=u(Rt=>{const{videoDownstreamPacketLossPercent:je,videoDownstreamFramesDecodedPerSecond:qe,videoDownstreamFrameHeight:st,videoDownstreamFrameWidth:q,videoDownstreamJitterMs:me,videoDownstreamDelayMs:Le}=Rt;if(!q)return;const{deductFromScoreForReason:We,getScore:ze,getReasons:ht}=De();We((0,he.Tg)(je),"videoDownstreamPacketLossPercent");const Mt=st*q;return We((0,he.e7)(_.An/Mt),"videoDownstreamFrameHeight,videoDownstreamFrameWidth"),We((0,he.q4)(Le),"videoDownstreamDelayMs"),We((0,he._N)(me),"videoDownstreamJitterMs"),We((0,he.qf)(_.tz-qe),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:ze(),videoDownstreamQualityScoreReasons:ht()}},"getVideoDownstreamQualityScore"),ke=u(function(Rt){let je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:qe,getScore:st,getReasons:q}=De();if(je){const{screenshareVideoDownstreamPacketLossPercent2:ht,screenshareVideoDownstreamJitterMs2:Mt,screenshareVideoDownstreamDelayMs2:on,screenshareVideoDownstreamFrameHeight2:zn}=Rt;return zn?(qe((0,he.Tg)(ht),"screenshareVideoDownstreamPacketLossPercent2"),qe((0,he._N)(Mt),"screenshareVideoDownstreamJitterMs2"),qe((0,he.q4)(on),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:st(),screenshareVideoDownstreamQualityScoreReasons2:q()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:me,screenshareVideoDownstreamJitterMs:Le,screenshareVideoDownstreamDelayMs:We,screenshareVideoDownstreamFrameHeight:ze}=Rt;if(ze)return qe((0,he.Tg)(me),"screenshareVideoDownstreamPacketLossPercent"),qe((0,he._N)(Le),"screenshareVideoDownstreamJitterMs"),qe((0,he.q4)(We),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:st(),screenshareVideoDownstreamQualityScoreReasons:q()}},"getScreenshareDownstreamQualityScore"),Ke=u(Rt=>{const{audioUpstreamPacketLossPercent:je,audioUpstreamRoundTripTimeMs:qe,audioUpstreamJitterMs:st,audioUpstreamNonNetworkPacketLossPercent:q}=Rt;if(!qe)return;const{deductFromScoreForReason:me,getScore:Le,getReasons:We}=De();return me((0,he.Ye)(je),"audioUpstreamPacketLossPercent"),me((0,he.oj)(qe),"audioUpstreamRoundTripTimeMs"),me((0,he._N)(st),"audioUpstreamJitterMs"),me((0,he.fB)(q),"audioUpstreamNonNetworkPacketLossPercent"),{audioUpstreamQualityScore:Le(),audioUpstreamQualityScoreReasons:We()}},"getAudioUpstreamQualityScore"),Ze=u(Rt=>{const je={};return Rt.screenshareVideoDownstreamFrameHeight2&&Object.assign(je,ke(Rt,!0)),{...ke(Rt),...je}},"getScreenshareDownstreamQualityScores"),Q=u(Rt=>{const{cpuUse:je,gpuUse:qe,cpuUseRelative:st,longTasksPercentage:q}=Rt,{deductFromScoreForReason:me,getScore:Le,getReasons:We}=De();return me((0,he.sI)(q),"longTasksPercentage"),me((0,he.$c)(je),"cpuUse"),me((0,he.KG)(qe),"gpuUse"),me((0,he.h7)(st),"cpuUseRelative"),{cpuCompetitionScore:Le(),cpuCompetitionScoreReasons:We()}},"getCpuCompetitionScoreTags"),se=u(function(){for(var Rt=arguments.length,je=new Array(Rt),qe=0;qe<Rt;qe++)je[qe]=arguments[qe];const st=je.filter(Z.A);return st.length?Math.round((0,Ie.A)(st)):0},"getMetricAverage"),He=u(Rt=>{const{networkCurrentRoundTripTimeMs:je,networkNackCountReceivedPerSecond:qe,networkSocketPacketsDiscardedOnSend:st,networkProtocol:q,networkRelayProtocol:me,audioDownstreamJitterMs:Le,audioDownstreamPacketLossPercent:We,audioUpstreamPacketLossPercent:ze,audioUpstreamJitterMs:ht,videoDownstreamPacketLossPercent:Mt,screenshareDownstreamPacketLossPercent:on,screenshareUpstreamPacketLossPercent:zn,selfVideoPacketLossPercent:Qn}=Rt,{deductFromScoreForReason:lt,getScore:$,getReasons:te}=De();lt((0,he.ik)(q),"networkProtocol"),lt((0,he.ik)(me),"networkRelayProtocol"),lt((0,he.No)(st),"networkSocketPacketsDiscardedOnSend"),lt((0,he.oj)(je),"networkCurrentRoundTripTimeMs");const fe=se(Le,ht);lt((0,he._N)(fe),"networkJitterMs"),lt((0,he.Ap)(qe),"networkNackCountReceivedPerSecond");const Pe=se(We,Mt,on,ze,Qn,zn);return lt((0,he.kq)(Pe),"networkPacketLossPercent"),{networkJitterMs:fe,networkPacketLossPercent:Pe,networkQualityScore:$(),networkQualityScoreReasons:te()}},"getNetworkQualityScoreTags"),Ge=u(Rt=>{const{audioDownstreamDecoderLoss:je,audioDownstreamJitterBufferDelay:qe,audioDownstreamPacketLossPercent:st}=Rt,{deductFromScoreForReason:q,getScore:me,getReasons:Le}=De();return q((0,he.t5)(je),"audioDownstreamDecoderLoss"),q((0,he.q4)(qe),"audioDownstreamJitterBufferDelay"),q((0,he.Ye)(st),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:me(),audioDownstreamQualityScoreReasons:Le()}},"getAudioDownstreamQualityTags"),we=u(Rt=>({...Ge(Rt),...He(Rt),...Ke(Rt),...pe(Rt),...Ze(Rt),...Te(Rt),...Q(Rt),...Me(Rt),qualityScoringVersion:_.Nb}),"getQualityScoreTags"),xe=u((Rt,je)=>{let{type:qe,update:st}=Rt;switch(qe){case i.lx.BluetoothDevices:case i.lx.PreferredMediaRegion:case i.lx.CameraResolution:case i.lx.CallId:case i.lx.ScreenshareContentType:Object.assign(je.sharedTags,st);break;case i.lx.MemoryLeaks:{const q=je.sharedTags.memoryLeakCount;Object.assign(je.sharedTags,{type:"shared",tags:{[`memoryLeaks-${st.name}`]:st.leakCount,memoryLeakCount:q?q+st.leakCount:st.leakCount}});break}case i.lx.SelectedMediaRegion:{const{mediaRegionPreferred:q}=je.sharedTags,me=q&&st.mediaRegionSelected?q===st.mediaRegionSelected:!0;Object.assign(je.sharedTags,{mediaRegionSelected:st.mediaRegionSelected,mediaRegionMatchesPreference:me});break}case i.lx.VoiceFocusConfig:Object.assign(je.sharedTags,{vfSimdSupported:st.model.simd,vfModelVariant:st.model.variant,vfSupported:st.supported});break;case i.lx.NetworkDisconnect:st.peerId==="self"&&Object.assign(je.transientTags,{selfDisconnectCount:(je.transientTags.selfDisconnectCount||0)+1});break;case i.lx.NoAudio:{const q=st.direction==="send"?{noAudioInput:st.noAudio}:{noAudioOutput:st.noAudio};Object.assign(je.sharedTags,q);break}case i.lx.SetIsDebugApp:Object.assign(je.sharedTags,{isDebugApp:!0});break;default:{(0,b.tZ)("HUDDLES-PERF").error(new Error(`Unexpected type: ${qe}`));break}}},"updateState"),Oe=null;var Xe=e(6267571562);const Ye=(0,s.Wo)({label:"COMPUTE-PRESSURE"}),dt={nominal:1,fair:2,serious:3,critical:4};class mt{constructor(){this.defaultSampleRate=.5,this.pubSub=new Xe.G,this.isObserving=!1,this.currentLevel=null;var je=this;this.startObserving=(0,d.coroutine)(function*(){if(!je.isObserving){try{var st;je.isObserving=!0,yield(st=je.pressureObserver)===null||st===void 0?void 0:st.observe("cpu")}catch(q){je.isObserving=!1,Ye.error("An error occurred while attempting to observe compute pressure",q)}Ye.info("Observing compute pressure")}}),this.getPressureLevelFromRecord=st=>st?dt[st.state]:void 0,this.pressureObserverCallback=st=>{const q=st.pop();if(!q)return;const me=this.getPressureLevelFromRecord(q);me&&(this.currentLevel=me,me===1?Ye.debug(`Compute pressure updated to ${q.state} (${me} of 4)`):Ye.warn(`Compute pressure updated to ${q.state} (${me} of 4)`),this.pubSub.publish(me))};var qe=this;this.subscribe=function(){var st=(0,d.coroutine)(function*(q){qe.pubSub.subscribe(q),yield qe.startObserving()});return function(q){return st.apply(this,arguments)}}(),this.unsubscribe=st=>{if(this.pubSub.unsubscribe(st),!this.pubSub.subscriberCount)try{var q;(q=this.pressureObserver)===null||q===void 0||q.disconnect(),Ye.debug("No longer observing compute pressure.")}catch(me){Ye.error("An error occurred attempted to disconnect from the compute pressure observer",me)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let st;try{var q;st=(q=this.pressureObserver)===null||q===void 0?void 0:q.takeRecords()}catch(Le){Ye.error("An error occurred attempting to get latest compute pressure reports",Le)}const me=st?this.getPressureLevelFromRecord(st.pop()):void 0;return me&&(this.currentLevel=me),me},Ye.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(st){Ye.error("An error occurred creating a new instance of the PressureObserver",st)}if(!this.pressureObserver){Ye.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}u(mt,"ComputePressureObserver"),mt.isSupported=()=>"PressureObserver"in globalThis;let it;const At=u(()=>{if(it)return it;if(!mt.isSupported()){Ye.info("Compute Pressure API is not supported.");return}try{it=new mt}catch(Rt){Ye.error("An error occurred while attempting to create compute pressure observer",Rt);return}return it},"getComputePressureObserver"),Ot=null,Kt=null,Xt=At,vn={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let Sn=u(class{initializeReport(){this.report={...vn},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const qe=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/qe*100));const st={...this.report};return this.initializeReport(),st}constructor(){this.report={...vn},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=je=>{const qe=je.getEntries();let st=0,q=0;qe.forEach(me=>{const Le=me.duration;st+=Le,Le>q&&(q=Le)}),this.report.longTasksTotalDuration+=st,this.report.longTasksCount+=qe.length,q>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=q)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const jt=null,hn=Sn;let xt=0;const Dn={traceName:_.Sq},St="HUDDLES-PERF",dn={troubleshootingEntryPoint:null,troubleshootingContactUsClicked:!1};let fn=u(class{constructor(){var je;this.callLogger=(0,b.tZ)(St),this.logger=(0,s.Wo)({label:St}),this.sharedTags=Dn,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.troubleshootingTags={...dn},this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new hn,this.initSharedTags=()=>{xt+=1,this.updateSharedTags({huddlesCountSinceRefresh:xt})},this.initComputePressureObserver=()=>{this.computePressureObserver=Xt(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var qe;const st=(qe=this.computePressureObserver)===null||qe===void 0?void 0:qe.getCurrentLevel();this.computePressure=st})},this.updateSharedTags=qe=>{this.sharedTags={...this.sharedTags,...qe}},this.updateTransientTags=qe=>{this.transientTags={...this.transientTags,...qe}},this.updateComputePressure=qe=>{const st=this.computePressure;this.computePressure=qe;let q;switch(qe){case 1:q="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:q="System is performing well but under a fair amount of pressure. Still able to take on additional workload without issues.";break;case 3:q="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:q="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:q="Unknown system workload condition."}qe>2?this.callLogger.warn(`Compute pressure updated to level ${qe} of 4. This is a measure of the strain on the user's computer's processing capacity, which may or may not be caused by Slack or Huddles, but will likely impact performance. A score of ${qe} suggests that: ${q}. If this warning is frequent, suggest that the user close unused tabs or applications on their computer, ensure their computer is not in battery-saving mode, and/or give other general advice around reducing CPU use.`):st&&st>2&&this.logger.debug(`Compute pressure updated to level ${qe} of 4 from ${st}. ${q}`)},this.updateState=qe=>{switch(qe.type){case i.lx.RenderTiming:this.renderTimings.push(qe.update);break;case i.lx.RtmMetrics:this.rtmProcessingTimings.push(qe.update);break;case i.lx.AppMetrics:this.updateMetrics(qe.update);break;case i.lx.TroubleshootingEntryPoint:this.troubleshootingTags.troubleshootingEntryPoint=qe.update;break;case i.lx.TroubleshootingContactUsClicked:this.troubleshootingTags.troubleshootingContactUsClicked=!0;break;default:xe(qe,{sharedTags:this.sharedTags,transientTags:this.transientTags})}},this.updateMetrics=qe=>{let{huddleStateSnapshot:st,clientMetricReport:q,screenshareRtcStats:me}=qe;const Le=q?ce({clientMetricReport:q,selfAttendeeId:q.selfAttendeeId}):{},We=q?J(q.getRTCStatsReport()):{},ze=le(me),ht={...st,...Le,...ze,...We,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags(),...this.getTroubleshootingTags()},Mt=we(ht);this.currentTags={...ht,...Mt},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var qe;return(qe=this.longTaskObserver)===null||qe===void 0?void 0:qe.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:qe}=this.currentTags;return qe?{secondsSinceJoining:Math.floor((Date.now()-qe)/1e3)}:{}},this.getRtmMetricTags=()=>{const qe=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:qe}},this.getTroubleshootingTags=()=>{const qe={...this.troubleshootingTags};return this.troubleshootingTags={...dn},qe},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const qe=Date.now()-this.lastAppMetricsRecordingTs,st=(0,R.A)(this.renderTimings),q=this.renderTimings.length;return!st||!qe?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((st/qe*100).toFixed(1)),uiRenderCount:q})},this.cleanup=()=>{var qe,st;(qe=this.computePressureObserver)===null||qe===void 0||qe.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(st=this.longTaskObserver)===null||st===void 0||st.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(je=this.longTaskObserver)===null||je===void 0||je.start()}},"HuddlePerfStateInternal");const un=null,_n=fn;var tn=e(5071086688),nn=e(5387083734),An=e(415910655),yn=e(5332875232);const sn="HUDDLES-PERF",Nn=5e3,Ve=1e3;let $e=u(class{constructor({teamId:je,logger:qe,dispatch:st,getState:q}){this.logger=(0,s.Wo)({label:sn}),this.callLogger=(0,b.tZ)(sn),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.reportUpdate=me=>{me.type===i.lx.AppMetrics?this.recordAppMetrics(me):this.huddlePerfState.updateState(me)},this.recordAppMetrics=me=>{(0,nn.IE)("huddle-perf-metrics",()=>{var Le,We;if(!this.shouldRecordAppMetrics({nextReportTimestamp:(Le=me.update)===null||Le===void 0||(We=Le.clientMetricReport)===null||We===void 0?void 0:We.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateState(me);const ze=this.huddlePerfState.getCurrentTags();this.huddlePerfTrace.recordAppMetrics(ze);try{this.huddlePerfObserver.processTags(ze)}catch(ht){this.errorReported||(this.callLogger.error("An error occurred while processing tags",ht),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{delay:100})},this.shouldRecordAppMetrics=me=>{let{nextReportTimestamp:Le}=me;if(!Le)return!1;const We=Date.now(),ze=We-this.lastRecordedMetricsTs;if(ze<Ve)return this.logger.debug(`Not enough time has passed since last report was recorded (${ze}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const Mt=We-Le;return Mt>Nn?(this.logger.debug(`Too much time has passed since the current report was made (${Mt}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.report=me=>{this.huddlePerfTrace.report(me),tn.A.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),(0,An.ZR)()},this.huddlePerfTrace=new h({teamId:je,logger:qe,callLogger:this.callLogger,enableMaxReportingFrequency:(0,yn.CN)(q())}),this.huddlePerfObserver=new B({logger:qe,callLogger:this.callLogger,dispatch:st}),this.huddlePerfState=new _n,tn.A.subscribe(this.reportUpdate)}},"HuddlePerfManager");const Et=null,It=$e;var Tt=e(6533394955),Ct=e(2141441167),Wt=e(2709531527),Gt=e(8276911661),wt=e(5795074931),qt=e(5286203919),Yt=e(8847766420),In=e(7606781622),ft=e(6251210828),yt=e(3792998666);const bt=u(Rt=>{let{teamId:je}=Rt;var qe,st;const q=(0,Tt.getStoreInstanceByTeamId)(je).getState(),me=(0,Tt.getClientStoreInstance)().getState(),Le=(0,qt.E9)(me),We=(0,qt.hc)(me),ze=(0,Yt.jV)(q),ht=(0,ft.ok)(q,{huddleId:Le}),Mt=(0,ft.Zg)(q,{huddleId:Le}),on=(0,wt.WR)(q),zn=Mt?Mt.timestamps.map(Pe=>We?(0,In.Ld)(q,We,Pe):void 0).filter(Pe=>(Pe==null?void 0:Pe.user)===on):[],Qn=(qe=zn[0])===null||qe===void 0?void 0:qe.ts,lt=(st=zn.slice(-1)[0])===null||st===void 0?void 0:st.ts,$=zn.length,te=(0,Gt.nv)(q,on),fe=(0,yt.P)(te);return{huddleId:Le,channelId:We,enterpriseId:ze,threadId:ht,threadReplyCnt:$,threadFirstReplyTs:Qn,threadLastReplyTs:lt,isGuest:fe}},"getHuddleEventsStateSnapshot"),Ht="huddle_events",ln="huddle",rn="vhq",Zt={topicName:ln,userAgent:navigator.userAgent,family:rn};let Mn=u(class{get spansList(){var je;return(0,Ct.A)((je=this.trace)===null||je===void 0?void 0:je.getSpans())||[]}report(){var je;let qe;try{qe=(0,m.tT)({...this.sharedTags,...bt({teamId:this.teamId})})}catch(q){var st;this.logger.error(`Error while reporting huddle_events trace: ${q}`),(st=this.tracer)===null||st===void 0||st.clearTrace(this.trace);return}!this.traceReported&&this.trace&&(this.trace.addTags(qe),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",qe)),(je=this.tracer)===null||je===void 0||je.clearTrace(this.trace)}constructor({teamId:je,logger:qe}){this.sharedTags=Zt,this.traceReported=!1,this.getSpanByName=st=>this.spansList.find(q=>st===q.getOperationName()),this.getDataSet=()=>{if(!(0,n.Cu)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:Wt.p.JOIN,type:Wt.G.START,tags:{}}),this.update({name:Wt.p.MINIPLAYER_VIEW,type:Wt.G.START})},this.isSurfaceChange=st=>st===Wt.p.MINIPLAYER_VIEW||st===Wt.p.WINDOW_COMPACT_VIEW||st===Wt.p.WINDOW_FULL_VIEW,this.handleSurfaceChange=st=>{let{name:q,type:me}=st;me===Wt.G.START&&this.isSurfaceChange(q)&&this.spansList.filter(Le=>this.isSurfaceChange(Le.getOperationName())).forEach(Le=>{Le.getOperationName()!==q&&this.closeSpan(Le)})},this.update=st=>{let{name:q,type:me,tags:Le}=st;if(this.trace)if(me===Wt.G.START||me===Wt.G.ONCE){const We=this.trace.startSpan(q,{parentSpanId:this.joinSpanId});Le&&We.addTags(Le),q===Wt.p.JOIN&&(this.joinSpanId=We.getId()),this.isSurfaceChange(q)&&this.handleSurfaceChange({name:q,type:me}),this.logger.debug(`started new span for huddle_events trace: ${q}`),me===Wt.G.ONCE&&this.closeSpan(We)}else{const We=this.getSpanByName(q);this.closeSpan(We),this.logger.debug(`closed span for huddle_events trace: ${q}`)}},this.closeSpan=st=>{st&&(st.getCloseTimeMs()||st.close())},this.recordEntryPoint=st=>{Object.assign(this.sharedTags,{entryPoint:st})},this.tracer=(0,r.E)({teamOrEnterpriseId:je}),this.trace=this.tracer.createTrace({traceName:Ht,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:c.tS.SESSION}}),this.teamId=je,this.logger=qe,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");const es="HUDDLE-TRACE-MANAGER",jn=(0,s.Wo)({label:es});let Kn=u(class{initializeTraces(je){let{teamId:qe,isTinySpeck:st,isDebugApp:q}=je;const me=(0,Tt.getStoreInstanceByTeamId)(qe);this.teamId=qe,this.tracer=(0,r.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:o.ne,samplingOptions:{sampleRate:(0,n.Cu)()||st?1:.05,sampleType:c.tS.SESSION},tags:{__dataset:"client_metrics"}}),q||(this.reconnectTrace=new a({tracer:this.tracer,trace:this.trace,logger:jn}),this.ttiTrace=new l({teamId:this.teamId,logger:jn}),this.huddleEventsTrace=new Mn({teamId:this.teamId,logger:jn})),this.huddlePerfTraceManager=new It({teamId:this.teamId,logger:jn,dispatch:me.dispatch,getState:me.getState})}setCallId(je){var qe;this.callId=je,(qe=this.trace)===null||qe===void 0||qe.addTags({callId:this.callId}),je&&tn.A.publish({type:i.lx.CallId,update:{callId:je}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace}}cleanup(){var je,qe,st,q,me,Le;(je=this.reconnectTrace)===null||je===void 0||je.report(),(qe=this.ttiTrace)===null||qe===void 0||qe.report(),(st=this.huddlePerfTraceManager)===null||st===void 0||st.report(!0),(q=this.huddleEventsTrace)===null||q===void 0||q.report(),(me=this.tracer)===null||me===void 0||me.reportTrace(this.trace),(Le=this.tracer)===null||Le===void 0||Le.clearTrace(this.trace),jn.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,this.callId=null}constructor(){jn.info("Huddle Trace Manager created")}},"HuddleTraceManager");const wn=(0,t.A)(()=>new Kn)},2709531527:(x,g,e)=>{"use strict";e.d(g,{G:()=>t,p:()=>n});var t;(function(s){s.START="start",s.STOP="stop",s.ONCE="once"})(t||(t={}));var n;(function(s){s.JOIN="session_join",s.VIDEO="video",s.SCREENSHARE="screenshare",s.REACTION="reaction_posted",s.MESSAGE="message_posted",s.MICROPHONE="microphone",s.MINIPLAYER_VIEW="mini_player_view",s.WINDOW_COMPACT_VIEW="window_compact_view",s.WINDOW_FULL_VIEW="window_full_view",s.THREAD_VIEW="thread_flexpane_view",s.TRANSCRIPT="trxn"})(n||(n={}))},1616072515:(x,g,e)=>{"use strict";e.d(g,{_3:()=>r,tT:()=>c});var t=e(4178261413),n=e(8872403767),s=e(6422693406);const r=u(a=>(0,t.A)(a),"formatTag"),c=u(function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return(0,n.A)(a,(i,d)=>d.indexOf(l)>-1?d:r(d))},"formatTags"),o=u(()=>new Bluebird(a=>{setTimeout(a,0)}),"waitForNextTick")},3146858537:(x,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(9706240641),n=e(8958249318),s=e(6422693406),r=e(56548687),c=e(1224315998),o=e(6664301844),a=e(2825968873);function l(){return 2}u(l,"getVoiceFocusCacheVersion");var i;const d="voiceFocusCache";function _(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}u(_,"createDefaultVoiceFocusCapability");function m(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}u(m,"createDefaultVoiceFocusCachedConfig");function h(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(i=window.navigator)===null||i===void 0?void 0:i.userAgent,I=arguments.length>1?arguments[1]:void 0;const P=localStorage.getItem(d),C={version:l(),voiceFocusCapability:_(),voiceFocusCachedConfig:m()};if(!P)return C;let M;try{M=JSON.parse(P)}catch(D){return(0,a.tZ)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",D.message),C}return M.version!==l()?C:(M.voiceFocusCapability&&(M.voiceFocusCapability.userAgent!==O||M.voiceFocusCapability.sdkVersion!==I)&&(M.voiceFocusCapability=C.voiceFocusCapability,M.voiceFocusCachedConfig=C.voiceFocusCachedConfig),{...C,...M})}u(h,"readVoiceFocusCache");function v(O){try{localStorage.setItem(d,JSON.stringify(O))}catch(I){(0,a.tZ)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",I.message)}}u(v,"writeVoiceFocusCache");var T=e(5470425448),A=e(5071086688);const y=1657647210615,p=1686248081659;let f=u(class{init(I){let{configOnly:P}=I;var C=this;return(0,t.coroutine)(function*(){P||C.callLogger.info(`VF cache: ${!!C.cache}`),C.isSupported=yield C.isCapable(!!P),C.isSupported&&C.prepare(P)})()}isAvailable(){return this.isSupported}getTransformDevice(){var I=this;return(0,t.coroutine)(function*(){if(I.isSupported&&(I.voiceFocusConfigPromise&&(yield I.voiceFocusConfigPromise),!!I.voiceFocusDeviceTransformerPromise)){try{yield I.voiceFocusDeviceTransformerPromise}catch{I.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(I.voiceFocusTransformDevicePromise)try{return yield I.voiceFocusTransformDevicePromise}catch{I.callLogger.error("Could not get VoiceFocusTransformDevice")}}})()}shouldDisable(){return!1}setMute(I){var P=this;return(0,t.coroutine)(function*(){const C=yield P.getTransformDevice();C&&(yield C.mute(I))})()}isCapable(I){var P=this;return(0,t.coroutine)(function*(){if(P.isIFramed())return I||P.callLogger.warn("not supported due to IFrame"),!1;let C=!1;switch(P.cache.voiceFocusCapability.isSupported){case"yes":I||P.callLogger.info("cache says supported"),C=!0;break;case"no":I||P.callLogger.info("cache says not supported"),C=!1;break;case"unknown":{I||P.callLogger.info("cache says unknown, determining support..."),P.cache.voiceFocusCapability.userAgent=(0,n.A)(),P.cache.voiceFocusCapability.sdkVersion=o.zF.sdkVersion,C=yield(0,o.w2)().isSupported(),C?P.cache.voiceFocusCapability.isSupported="yes":P.cache.voiceFocusCapability.isSupported="no",v(P.cache),I||P.callLogger.info(`determined supported=${P.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:P.callLogger.warn(`Voice Focus capability pref bad: ${P.cache.voiceFocusCapability.isSupported}`);break}return C})()}isIFramed(){try{var I;return((I=window.frameElement)===null||I===void 0?void 0:I.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(I){const C=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,M=this.allowMaxModelsToBeUsed?p:y;return C===0||I-C>6048e5||C<M}prepare(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const P=Date.now(),C=this.cache.voiceFocusCachedConfig.vfConfig,M=this.isStale(P),D={},E={logger:this.chimeLogger};if(C!=="unknown"&&!M){if(I)return;if(!C.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(D,E,C);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=s.S.resolve((0,o.w2)().configure(D,E)),this.voiceFocusConfigPromise.then(S=>{var k;if(!S.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${S.reason}`);return}if(!(!(S==null||(k=S.model)===null||k===void 0)&&k.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const L=S;this.callLogger.info(`Got new config, variant: ${L.model.variant}, simd: ${L.model.simd}, executionQuanta: ${L.executionQuanta}`),this.storeVfConfig(P,L),I||this.setupDevice(D,E,L)}).catch(S=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${S.name}: ${S.message}`),I||this.setupDevice(D,E)}))}storeVfConfig(I,P){this.cache.voiceFocusCachedConfig.vfConfig=P,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=I,v(this.cache)}updateCacheWithUpdatedConfig(I){var P=this;return(0,t.coroutine)(function*(){P.callLogger.info("Updating VF cache with new modified model");const C={logger:P.chimeLogger},M={variant:I},D=yield(0,o.w2)().configure(M,C);D.supported&&P.storeVfConfig(Date.now(),D)})()}setupDevice(I,P,C){const M=I;let D=C,E,S;C?(E=C.model.variant,S=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),E="c10",S=!1);let k=!0;this.allowMaxModelsToBeUsed&&(k=!1);const U=this.chooseModelVariant(E,S,k);if(U.modelWasAdjusted&&(M.variant=U.chosenModel,D=void 0,this.callLogger.info(`VF Model was adjusted from ${C==null?void 0:C.model.variant} to ${U.chosenModel} Reason: ${U.adjustmentReason}`),this.updateCacheWithUpdatedConfig(U.chosenModel)),C){(0,r.e)().track(c.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:C.model.variant,model_variant_override:M.variant,simd:C.model.simd,execution_quanta:C.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const B={...C};B.model.variant=U.chosenModel,A.A.publish({type:T.lx.VoiceFocusConfig,update:B}),this.callLogger.info(`model_variant_determined: ${C.model.variant}, model_variant_override: ${U.chosenModel}, simd: ${C.model.simd}, execution_quanta: ${C.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=s.S.resolve((0,o.w2)().create(M,P,D));var L=this;this.voiceFocusDeviceTransformerPromise.then(function(){var B=(0,t.coroutine)(function*(b){L.voiceFocusTransformDevicePromise=s.S.resolve(b.createTransformDevice(null))});return function(b){return B.apply(this,arguments)}}()).catch(B=>{this.callLogger.info(`Could not create voice device transformer exp: ${B.name}: ${B.message}`)})}chooseModelVariant(I,P,C){const M={c10:1,c20:2,c50:3,c100:4},D=navigator==null?void 0:navigator.hardwareConcurrency;if(!D)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${I}`),{modelWasAdjusted:!1,chosenModel:I,adjustmentReason:""};let E;return D<=4?E="c10":D<=6?E="c20":D<=8?E="c50":E="c100",M[E]<M[I]&&!C?{modelWasAdjusted:this.wasModelAdjusted(E,I,P),chosenModel:E,adjustmentReason:"Using CPU restricted model variant which is weaker"}:M[E]>M[I]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${I}`),E=I,!C)?{modelWasAdjusted:!1,chosenModel:I,adjustmentReason:""}:E==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",I,P),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",I,P),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(I,P,C){return I===P&&!C||I!==P}tearDown(){var I=this;return(0,t.coroutine)(function*(){const P=yield I.getTransformDevice();P&&(I.callLogger.info("Attempting to destroyVoiceFocus"),o.wV.destroyVoiceFocus(P))})()}constructor(I,P){this.chimeLogger=I,this.allowMaxModelsToBeUsed=P,this.callLogger=(0,a.Jt)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cache=h((0,n.A)(),o.zF.sdkVersion)}},"VoiceFocusManager")},8558782493:(x,g,e)=>{"use strict";e.d(g,{k:()=>c});var t=e(56548687),n=e(5795074931),s=e(3395259576),r=e(7439555287);function c(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var d;const _=(d=(0,r.KA)())===null||d===void 0?void 0:d.getState();if(!_)return;const m=(0,t.e)({state:_}).setUser((0,n.WR)(_));if(l){const h={...a,room_id:(0,s.G0)(_)};m.track(o,h,{sendImmediately:i})}else m.track(o,a,{sendImmediately:i})}u(c,"trackCallsClog")},164795489:(x,g,e)=>{"use strict";e.d(g,{w:()=>p});var t=e(9706240641),n=e(6680093304),s=e(6422693406),r=e(6304789565),c=e(8276911661),o=e(3677514771),a=e(5109269968),l=e(8445020572),i=e(5046160032),d=e(4914127094),_=e(7299481592);const m="screenhero.rooms.proxyLogs",h=(0,r.Ay)("Send call logs to the server",(f,O,I)=>{let{logs:P,useSendBeacon:C=!1,callId:M}=I;const D=O();let E;if(M?E=M:D.activeCall&&D.activeCall.id&&(E=D.activeCall.id),!E)return(0,_.M)(!1,"There should be an active call in progress in order to send logs."),s.S.reject(new Error("SendLogs: no call"));const S=(0,c.cA)(D),k=(0,o.H7)(D);if(!k)return s.S.reject(new Error("SendLogs: no current team"));const U={data:{room_id:E,user_id:S.id,team_id:k.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:P}},L={data:JSON.stringify(U.data)};return C?(0,i.A)({apiUrl:"/api/",method:m,token:(0,d.F)(D),versionTs:(0,l.HF)(),versionUid:(0,l.X3)(),args:L})?s.S.resolve():s.S.reject(new Error("SendLogs: beacon failed")):f((0,a.apiCall)({method:m,reason:"calls-logging",args:L}))});h.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var v=e(7439555287),T=e(796111729),A=e(4518410378);const y=60*1e3;class p{start(O){(0,_.M)(!this.intervalHandle,"Log reporter already started."),this.callId=O,this.intervalHandle=A.J.setInterval(()=>this.report(!1),y),A.J.addEventListener("beforeunload",this.unloadHandler)}joinLogs(O){return O.map(I=>I.join(" ")).join(`
`)}constructor(O=n.tt){this.buffer=O,this.unloadHandler=()=>{A.J.Cypress||this.report(!0)};var I=this;this.stop=(0,t.coroutine)(function*(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;I.intervalHandle&&A.J.clearInterval(I.intervalHandle),I.intervalHandle=void 0,A.J.removeEventListener("beforeunload",I.unloadHandler),yield I.emptyBuffer(D),I.callId=void 0});var P=this;this.emptyBuffer=(0,t.coroutine)(function*(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;P.buffer.hasItems()&&(yield P.report(M),yield P.emptyBuffer(M))});var C=this;this.report=(0,t.coroutine)(function*(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{dispatch:D}=(0,v.KA)(),E=C.buffer.flush();if(!E.length)return;const S=C.joinLogs(E);yield D(h({logs:S,useSendBeacon:M,callId:C.callId})).catch(()=>{(0,T.Wo)().error("Failed to send Huddle logs")})})}}u(p,"LogReporter")},3300324857:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(6267571562);const n=new t.G},6839101721:(x,g,e)=>{"use strict";e.d(g,{D8:()=>_,WY:()=>d,cn:()=>m,d2:()=>l,gJ:()=>i});var t=e(2140362605);const n=(0,t.Ay)("connect to free willy media server");n.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const s=(0,t.Ay)("Set flag to indicate if experimental Chime SDK should be used");s.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const r=(0,t.Ay)("Set flag to indicate if simulcast should be used in a Chime call");r.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const c=(0,t.Ay)("Set flag to indicate if priority based downlink policy should be used in a Chime call");c.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const o=(0,t.Ay)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");o.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const a=(0,t.Ay)("Set flag to determine if a call is a readiness test call");a.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const l=(0,t.Ay)("Binds video tile to a video element");l.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const i=(0,t.Ay)("Unbinds video tile from a video element");i.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const d=(0,t.Ay)("Pauses video tile");d.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const _=(0,t.Ay)("Unpauses video tile");_.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const m=(0,t.Ay)("Returns if there in a stream associated with the tileId");m.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},3094144240:(x,g,e)=>{"use strict";e.d(g,{P:()=>t});const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function n(s){return!!has(s,"activeCall")}u(n,"isCallWindowContextState")},5156662944:(x,g,e)=>{"use strict";e.d(g,{Rv:()=>U,Xk:()=>k,hL:()=>S,j7:()=>w,lp:()=>L,tO:()=>ie,tw:()=>B,uI:()=>X,vf:()=>Y});var t=e(5597672932),n=e(6007206761),s=e(4630136761),r=e(9884588328),c=e(8798294025),o=e(1407713935),a=e(2350349607),l=e(6839188756),i=e(4827886670),d=e(8276911661),_=e(6728717861),m=e(8921478798),h=e(8170643398),v=e(3534324375),T=e(3677514771),A=e(735940183),y=e(9101533895),p=e(5670315214),f=e(8767621462),O=e(462591818),I=e(340763958),P=e(6470070112);const C="Slack",M=new A.Ay("calls");function D(ae){return!!(0,t.xp)(ae,"allow_calls")}u(D,"isCallsAllowedByAdmin");function E(ae,V){return(0,P.pt)(ae)&&(0,P.Bn)(ae,V)}u(E,"isHuddlesAllowed");function S(ae,V,ve){const be=(0,y.Pu)(ae,V.id);return!(!D(ae)&&!E(ae,be)||(0,h.fy)(V)&&!ve||!(0,h._W)(V)||!(0,f.S)(ae,V.id)||(0,r.Mi)(be))}u(S,"canCallMember");function k(ae,V){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const be=(0,d.nv)(ae,(0,c.e)(V)),Ue=ve&&K(ae);return!D(ae)&&!E(ae,V)&&!Ue||(0,s.Zz)(V)||(0,o.LI)(V)&&(!be||!S(ae,be))||!(0,r.Ez)(V)?!1:(0,i.c)(ae,V)}u(k,"isCallButtonVisibleForChannel");function U(ae,V){return(0,_.Pb)(ae)?((0,r.bU)(V)||(0,n.F)(V))&&!Ae(V):!0}u(U,"isCallButtonDisabledForChannel");function L(ae,V){const ve=(0,y.OL)(ae,V);return ve&&!U(ae,ve)&&k(ae,ve)}u(L,"canStartCallInChannel");function B(ae,V,ve){const be=(0,a.V)(V),Ue=(0,p.q8)(ae,be),Re=(0,d.nv)(ae,ve,{preferNonExistentToNull:!1,fetchIfMissing:!0}),ge=(0,h.v8)(Re),ne=(0,p.OJ)({callsApp:Ue,memberPhoneNumber:ge,hideVideoApps:!1}),ee=ne.length,F=E(ae,V);let H=ee;return F&&(H+=1),H>1?M.t("{numCallApps} calling options",{numCallApps:H}):H===1?ee===0?"":M.t("using {appName}",{appName:ne[0].name}):""}u(B,"getTipSubtitleForStartCall");function b(ae,V,ve){const be=(0,m.I)(ae,(0,c.e)(V));return ve?M.rt("Huddle with {name}",{name:be,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):M.rt("Call {name}",{name:be})}u(b,"getTipForIm");function R(ae,V,ve){const be=(0,r.d3)(ae,V).map(Re=>(0,v.sE)(ae,Re)),Ue=(0,A.jd)(be,{noEscape:!0}).join("");return ve?M.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:Ue,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):M.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:Ue})}u(R,"getTipForMpim");function z(ae,V,ve){return(0,o.LI)(V)?b(ae,V,ve):(0,o.yz)(V)?R(ae,V,ve):ve?M.t("Huddle in {channelName}",{channelName:(0,r.SB)(ae,V),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):M.t("Start a call")}u(z,"getTipForChannel");function w(ae,V){const ve=(0,T.H7)(ae),be=(0,l.qR)(ve),Ue=K(ae),Re=be||Ue,ge=E(ae,V)&&!Y(ae);return(0,_.Pb)(ae)?Re&&(0,n.F)(V)?M.t("Unarchive this channel to start a huddle"):Re&&(0,r.bU)(V)?M.t("Join this channel to start a huddle"):(Ue||Ae(V),z(ae,V,ge)):M.t("Go online to start a huddle")}u(w,"getTipForStartCall");function W(ae,V){const ve=getCurrentTeam(ae),be=isPaidTeamRule(ve),Ue=isMpimRule(V),Re=K(ae),ge=be||Re;return!isClientOnline(ae)||ge&&isArchived(V)||ge&&isPreview(V)||Re?!1:!!(!be&&Ue||!be&&isNonImOrMpimChannel(V))}u(W,"isFreeTeamAndInChannelOrMpim");function K(ae){const V=(0,p.wZ)(ae);for(let ve=0;ve<V.length;ve++)if(V[ve].id!==O.rq)return!0;return!1}u(K,"isThirdPartyCallEnabled");function Y(ae){return(0,p.wZ)(ae).length>0}u(Y,"isAnyCallAppEnabled");function X(ae){const V=M.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),ve=M.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:ae,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),be=M.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:V,description:ve,confirm:be,cancel:M.t("Cancel")}}u(X,"getCallConfirmationStrings");function Z(){return!1}u(Z,"isNativeSlackCallEnabled");function ie(){return!0}u(ie,"isSlackCallSlashCommandDisabled");function Ae(ae){return(0,I.ju)(ae)&&!(0,o.LI)(ae)}u(Ae,"shouldEnableForSponsoredConnections")},7561130599:(x,g,e)=>{"use strict";e.d(g,{A:()=>v});var t=e(9706240641),n=e(2825968873),s=e(3245843483),r=e(7299481592),c=e(571104883),o=e(8558782493),a=e(1224315998),l=e(336376314);const i=window.RTCPeerConnection,d=window.MediaStream,_=window.RTCIceCandidate,m=window.navigator,h={height:116,width:168};let v=u(class{getScreenThumbnails(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var f=this;return(0,t.coroutine)(function*(){const O=yield(0,s.zxd)();p||T(f.log,O);const I=["screen"];I.push("window"),h.width=(y==null?void 0:y.width)||200,h.height=(y==null?void 0:y.height)||150;let P;try{P=yield(0,s.Yx3)(h,I)}catch(M){f.log.error(`Could not get screen thumbnails: ${M.message}`)}return P?P.map((M,D)=>{var E;const S=O.find(U=>parseInt(M.display_id,10)===U.id);!S&&!(0,c.tR)()&&!(0,c.cX)()&&!(!((E=M.id)===null||E===void 0)&&E.startsWith("window:"))&&f.log.error(`Could not find matching display for screen ${D} with id ${M.display_id}`);const k=S||((0,c.tR)()||(0,c.cX)()?O[D]:void 0);return{mediaSourceId:M.id,thumbnail:M.thumbnail,displayId:k&&k.id,bounds:k&&k.bounds,name:M.name}}):[]})()}getCurrentlyActiveScreenTrack(){return this.screenTrack}startCapturingScreen(y){var p=this;return(0,t.coroutine)(function*(){if((0,r.M)(!p.screenTrack,"Screen track should not already be active"),!y){if(!m.mediaDevices.getDisplayMedia)throw p.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const f={audio:!1,video:{frameRate:{max:15}}},O=yield m.mediaDevices.getDisplayMedia(f);return p.screenTrack=O.getVideoTracks()[0],p.log.info(`Start screen sharing with track id: ${p.screenTrack.id} in browser`),p.screenTrack}catch(f){if(f.name!=="NotAllowedError")throw p.log.error(`Error: ${f.name} while trying to screen share in browser`),(0,o.k)(a.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:f.name}),f;return null}}try{const f={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:y,maxFrameRate:15}}};if(!(0,c.uF)()){const I=yield p.getScreenDetailsByMediaSourceId(y);I&&I.bounds&&(f.video.mandatory.maxWidth=I.bounds.width,f.video.mandatory.maxHeight=I.bounds.height)}const O=yield m.mediaDevices.getUserMedia(f);return p.screenTrack=O.getTracks()[0],p.log.info("Start screen sharing with track id:",p.screenTrack.id,"and mediaSourceId:",y),p.screenTrack}catch(f){throw p.log.error(`Error: ${f.name} for screen ${y}`),(0,o.k)(a.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:f.name}),f}})()}stopCapturingScreen(){if(!this.screenTrack){(0,r.M)("No screenTrack to stop.");return}this.screenTrack.stop();const y=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",y),y}clearScreenTrack(){delete this.screenTrack}getScreenDetailsByMediaSourceId(y){var p=this;return(0,t.coroutine)(function*(){let f;const O=yield p.getScreenThumbnails();return O&&(f=O.find(I=>I.mediaSourceId===y,O)),f})()}constructor(){this.log=(0,n.tZ)("SCREENS")}},"ScreenManager");function T(A,y){if(!y.length){A.error("No screens available");return}const p=new l.M(["id","width","height","x","y","scaleFactor","rotation"]);y.forEach(f=>{p.add([f.id,f.bounds.width,f.bounds.height,f.bounds.x,f.bounds.y,f.scaleFactor,f.rotation].map(String))}),A.info(`Available screens:
${p.report()}`)}u(T,"logDisplays")},4708000837:(x,g,e)=>{"use strict";e.d(g,{Y:()=>t});function t(n){const s=(n||"").split("-");return s&&(s.length===3||s.length===4)?s[1]:null}u(t,"getCallIdFromExternalId")},8405076696:(x,g,e)=>{"use strict";e.d(g,{n:()=>t});function t(n){let{width:s,height:r,top:c,left:o}=n;return{position:"absolute",width:`${s}px`,height:`${r}px`,top:`${c}px`,left:`${o}px`}}u(t,"cssForRect")},6117529990:(x,g,e)=>{"use strict";e.d(g,{BD:()=>s,OV:()=>n,XY:()=>c,wn:()=>r,zq:()=>o});var t=e(4761125736);function n(a){return(0,t._Z)(a,"calls_chime_sdk_exp")==="enabled"}u(n,"isCallsChimeSdkExpEnabled");const s=u(a=>(0,t._Z)(a,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),r=u(a=>(0,t._Z)(a,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),c=u(a=>(0,t._Z)(a,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),o=u(a=>(0,t._Z)(a,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled")},2004048777:(x,g,e)=>{"use strict";e.d(g,{$:()=>c,Y:()=>r});var t=e(2615100822),n=e(2825968873),s=e(796111729);function r(o){let{direction:a,type:l,payload:i}=o;const d=(0,t.A)()?"slack":"call",_="INTER-WINDOW-MESSAGE";((0,t.A)()?(0,n.tZ)(_):(0,s.Wo)({label:_})).info(`${a==="send"?"Sending":"Received"} ${l} ${a==="send"?"to":"from"} the ${d} window${i?`, with payload: ${JSON.stringify(i)}`:""}`)}u(r,"logInterWindowMessage");function c(o){function a(l,i,d){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;o(i,d,_),l.sendData({type:i,payload:d})}return u(a,"sendMessage"),a}u(c,"createInterWindowMessageSender")},1371073900:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(571104883);function n(){return!(0,t.j9)()&&(0,t.y3)()}u(n,"isDrawSupported")},6267571562:(x,g,e)=>{"use strict";e.d(g,{G:()=>n});var t=e(8403493408);class n{get subscriberCount(){return this.subscribers.length}subscribe(r){this.subscribers.push(r)}unsubscribe(r){(0,t.A)(this.subscribers,r)}publish(r){this.subscribers.forEach(c=>{c(r)})}constructor(){this.subscribers=[]}}u(n,"PubSub")},6155974509:(x,g,e)=>{"use strict";e.d(g,{X:()=>v,a:()=>T});var t=e(571104883),n=e(4387298515),s=e(2825968873),r=e(2615100822),c=e(796111729),o=e(6117529990);const a=2e3,l=6,i=0/265,d=255/265,_=53/265,m=1,h="SCREEN-SHARE",v=u((A,y)=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&!(0,o.zq)(y)&&((0,n.$m)(A,a),(0,n.VR)(A),(0,n.D0)(l),(0,n.Mh)(i,d,_,m),(0,n.Ac)(),((0,r.A)()?(0,s.tZ)(h):(0,c.Wo)({label:h})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),T=u(()=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&((0,n.th)(),((0,r.A)()?(0,s.tZ)(h):(0,c.Wo)({label:h})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},7304871158:(x,g,e)=>{"use strict";e.d(g,{R:()=>r});var t=e(7299481592),n=e(2615100822),s=e(2004048777);const r=(0,s.$)(function(c,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;(0,t.M)(!(0,n.A)(),"Expected to send message from the slack window"),(0,s.Y)({direction:"send",type:c,payload:a?o:"REDACTED"})})},336376314:(x,g,e)=>{"use strict";e.d(g,{M:()=>n});var t=e(9118672869);class n{add(r){this.rows.push(r),this.adjustPadding(r)}report(){const r=this.padding.map(o=>"-".repeat(o));return(this.columnNames?[r,this.columnNames,r]:[]).concat(this.rows).reduce((o,a)=>o+a.reduce((l,i,d)=>l+(0,t.A)(i,this.padding[d])+(d!==a.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(r){this.padding=r.map((c,o)=>Math.max(c.length,this.padding[o]||0))}constructor(r,c="|"){this.columnNames=r,this.separator=c,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}u(n,"StringTable")},5954792826:(x,g,e)=>{"use strict";e.d(g,{l:()=>t});function t(n){const s=(n||"").split("-");return s&&(s.length===3||s.length===4)?s[2]:null}u(t,"getUserIdFromExternalId")},5075331445:(x,g,e)=>{"use strict";e.d(g,{i:()=>s});var t=e(1473609332),n=e(9195837907);function s(){var r,c;const o=(0,t.Bh)(),a=(o==null||(r=o.video)===null||r===void 0?void 0:r.effect)===n.t.Blur;return{backgroundEffectBgKey:o==null||(c=o.video)===null||c===void 0?void 0:c.effectBgKey,blurEffectIsEnabled:a}}u(s,"getVideoDeviceBackgroundPrefs")},1151228631:(x,g,e)=>{"use strict";e.d(g,{uM:()=>Ue,Gf:()=>be,lQ:()=>Re});var t=e(6188550760),n=e(9706240641),s=e(3202757386),r=e(2664504268),c=e(6533394955),o=e(2567914105),a=e(4529239752),l=e(8628205589),i=e(3193155968),d=e(9108490430),_=e(4096483543),m=e(9513439931),h=e(109860581),v=e(3034856104),T=e(8172368937),A=e(9071750067),y=e(6304789565),p=e(8720458890);const f=(0,y.Ay)("Determine if fullscreen mode is enabled",(ge,ne)=>{const ee=ne();return(0,p.V)(ee)});f.meta={name:"createThunk",key:"createThunkgetIsFullscreenEnabled",description:"Determine if fullscreen mode is enabled"};var O=e(9553287e3),I=e(8646192222),P=e(3875705815),C=e(8854307618),M=e(7606925238),D=e(5223893135),E=e(5925742547),S=e(9012396182);const k=u((ge,ne)=>!(!(0,I.mL)(ge)||(0,P.V)(ge)||ne[i.jf]!==i.k6.BBM),"shouldPreventBBMHistory"),U=u((ge,ne,ee)=>{if(!(0,I.iB)(ge)||(0,D.V)(ge))return!1;const F=(0,c.getStateForClientStore)();if((S.getFocusedWorkspace===null||S.getFocusedWorkspace===void 0?void 0:(0,S.getFocusedWorkspace)(F))!==ee)return!1;const H=(0,a.jo)(F),j=ne[i.jf],N=H[i.jf];if(j!==N)return!1;const J=ne[j],le=H[N];return!!(0,E.A)(J,le)},"shouldPreventDuplicateHistory"),L=(0,y.Ay)("Maybe prevent default handling of history on pop state",(ge,ne,ee)=>{let{current:F,index:H,teamId:j}=ee;const N=ne();if(!k(N,F)&&!U(N,F,j))return!1;const J=(0,c.getStateForClientStore)(),le=(0,a.XG)(J),ce=H>le;if(ce){if((0,a.yS)(J))return!0}else if((0,a.m6)(J))return!0;return ge((ce?C.r:M.h)()),!0});L.meta={name:"createThunk",key:"createThunkmaybePreventHistoryOnPopState",description:"Maybe prevent default handling of history on pop state"};var B=e(2554594353);function b(ge){return R.apply(this,arguments)}u(b,"onPopState");function R(){return R=(0,n.coroutine)(function*(ge){const ne=ge.state;if(!(ne!=null&&ne.teamId)||!(ne!=null&&ne.id))return;const ee=(0,c.getClientStoreInstance)();if(!ee)return;const F=ee.getState,H=ee.dispatch;if(!F||!H)return;const j=(0,a.jR)(F()),N=j.findIndex(Te=>Te.id===ne.id);if(N<0)return;const J=(0,a.XG)(F()),le=j[J],ce=ne.state[i.jf];if((0,c.dispatchForTeamId)(ne.teamId,L({current:ne.state,index:N,teamId:ne.teamId})))return;var ye;const Ie=(ye=ne.state[ce])!==null&&ye!==void 0?ye:(0,i.DP)(ce),he=(0,v.H)(le)?le[i.jf]:void 0,Ce=(0,v.H)(le)&&he?le[he]:void 0,{viewSet:oe}=yield(0,c.dispatchForTeamId)(ne.teamId,(0,A.F)({context:T.b.HistoryStack,prevViewSet:Ce,prevTab:he,nextViewSet:Ie,nextTab:ce,windowId:i.N2}));ne.state[ce]=oe??Ie,H((0,l.cM)({windowId:i.N2,index:N,previousIndex:J})),(0,c.dispatchForTeamId)(ne.teamId,(0,d.cQ)(ne.state)),(S.getFocusedWorkspace===null||S.getFocusedWorkspace===void 0?void 0:(0,S.getFocusedWorkspace)(F()))!==ne.teamId&&H(B.b===null||B.b===void 0?void 0:(0,B.b)({teamId:ne.teamId,fromNavigation:!0}));const De=(0,c.dispatchForTeamId)(ne.teamId,f())?(0,c.dispatchForTeamId)(ne.teamId,(0,O.n)({id:ne.id})):void 0;(0,c.dispatchForTeamId)(ne.teamId,(0,m.C)({prevViewSet:Ce,prevTab:he,nextViewSet:Ie,nextTab:ce,windowId:i.N2,navigateParams:{destinationContainer:De},triggerType:h.w.HISTORY_NAVIGATION}))}),R.apply(this,arguments)}u(R,"_onPopState");function z(ge){if(!isSonic())return;const ne=ge.state;if(!(ne!=null&&ne.id))return;const ee=getClientStoreInstance();if(!ee)return;const F=ee.getState,H=ee.dispatch;if(!F||!H)return;const N=getHistoryForMainWindow(F()).findIndex(le=>le.id===ne.id);if(N<0)return;const J=getHistoryIndexForMainWindow(F());H(updateIndexForMainWindow({windowId:MainWindowId,index:N,previousIndex:J}))}u(z,"onIA3PopState");var w=e(7893624209),W=e(8289899277),K=e(7202695868),Y=e(796111729);function X(ge){return Z.apply(this,arguments)}u(X,"navigateAfterPopState");function Z(){return Z=(0,n.coroutine)(function*(ge){var ne;if(!(0,s.A)())return;if(!(ge==null||(ne=ge.state)===null||ne===void 0)&&ne.isIA4){K.p.prevNavigatedTeamOrEnterpriseId=ge.state.teamId,b(ge);return}const ee=(0,w.oI)(),F=(0,W.f)(),H=(0,t.A_)(),j=(0,c.getStoreInstanceByTeamId)(K.p.prevNavigatedTeamOrEnterpriseId),N=j?(0,o.oY)(j.getState()):!1,J=(0,r.A)().slice(0,8);if((0,Y.Wo)().info("ROUTES",`[${J}]`,`[${F.routeName}]`,"Attempting to popstate navigate to new route",F.params),(yield(0,t.$C)({prevTeamOrEnterpriseId:K.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:ee,prevRouteInfo:K.p.popstatePrevRouteInfo,routeName:F.routeName,params:F.params,reason:t.GB,uuid:J}))===!1||N===!0){(0,Y.Wo)().info("ROUTES",`[${J}]`,`[${F.routeName}]`,"willNavigateListener caused early exit"),window.history.forward();return}if((0,t.OX)({prevTeamOrEnterpriseId:K.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:ee,prevRouteInfo:K.p.popstatePrevRouteInfo,routeName:F.routeName,params:F.params,reason:t.GB,uuid:J}),(0,Y.Wo)().info("ROUTES",`[${J}]`,`[${F.routeName}]`,"Navigated to new route"),K.p.prevNavigatedTeamOrEnterpriseId=ee,H&&typeof H.onEnter=="function"){const ce=(0,c.getStoreInstanceByTeamId)(ee);H.onEnter.call(null,ce.getState,null,window.location.pathname)}}),Z.apply(this,arguments)}u(Z,"_navigateAfterPopState");const ie=u(()=>{window.addEventListener("popstate",X)},"addPopStateListener");var Ae=e(9733150292),ae=e(6329712420),V=e(210422728),ve=e(3080748521);ie();function be(){let{store:ge,shouldSetFocus:ne}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ee=(0,W.f)(window.location.pathname,{throwOnNoRoute:!1});if(ee&&ne&&ee.routeName!==ae.o)return ee;if(!ge)return null;const F=(0,ve.D8)(ge.getState()),H=(0,ve.MC)(ge.getState()),j={routeName:F,params:H};return(0,t.EB)(j)?j:null}u(be,"determineCurrentView");function Ue(){return(0,t.Dd)(ge=>{let{nextTeamId:ne,routeName:ee,params:F}=ge;(0,c.getStoreInstanceByTeamId)(ne)&&(0,c.dispatchForTeamId)(ne,(0,V.w)({routeName:ee,params:F}))})}u(Ue,"configureUpdateCurrentRoute");function Re(ge){const ne=(0,Ae._z)(ge,"lastRoute");return(0,t.EB)(ne)?ne:null}u(Re,"getLastRouteFromLocalConfig")},210422728:(x,g,e)=>{"use strict";e.d(g,{T:()=>s,w:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Navigate to a route");n.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const s=(0,t.Ay)("Set a value that represents whether the user navigated during a warm boot");s.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},8204430196:(x,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),n=e(9113979368),s=e(2562405183),r=e(1030162945),c=e(2374999399),o=e(6818330210);function a(i){let{memberId:d,className:_,emoji:m,emojiSize:h,showTooltips:v,stopAnimations:T}=i;const A=(0,s.F3)(f=>(0,c.A)(f,d));if(!d||!m)return null;const{name:y=m,url:p=void 0}=A?(0,o.H)(m,(0,n.A)(A)?void 0:A):{};return t.createElement(r.Ay,{className:_,emojiSize:h||r.lw.SMALL,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:!!v,stopAnimations:!!T,text:y,url:p})}u(a,"CustomStatusEmoji"),a.displayName="CustomStatusEmoji";const l=t.memo(a)},6710730141:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),n=e(735940183),s=e(8026164541),r=e(9391594207),c=e(1345620242),o=e(2047021170);const a=new n.Ay("current_status");function l(_){let{className:m,expiration:h,time24:v}=_;if(!h)return null;const T=h*1e3,A=a.t("Until {expirationDate}",{expirationDate:(0,s.A)(T,"{status_expiration}",{do24hrTime:v,shouldCapitalize:!1})});return t.createElement("span",{className:m,"data-qa-status-expiration":h},A)}u(l,"CustomStatusExpiration"),l.displayName="CustomStatusExpiration";function i(_,m){let{memberId:h}=m;return{expiration:(0,c.A)(_,h||"")||0,time24:!!(0,o.ty)(_,"time24")}}u(i,"mapStateToProps");const d=(0,r.N)(i)(l)},5530660703:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(2562405183),s=e(1030162945),r=e(2374999399),c=e(7969928607);function o(l){let{memberId:i,className:d,emojiSize:_,showTooltips:m,stopAnimations:h,text:v}=l;const T=(0,n.F3)(A=>i?(0,r.A)(A,i):void 0);return v?t.createElement("span",{className:d,"data-qa":"custom_status_text"},t.createElement(c.A,{text:v,inputIsEscaped:!0,emojiSize:_||s.lw.MEDIUM,showTooltips:!!m,stopAnimations:!!h,emojiDisplayInfo:T})):null}u(o,"CustomStatusText"),o.displayName="CustomStatusText";const a=t.memo(o)},7278430876:(x,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),n=e(2562405183),s=e(5255740490),r=e(193084903),c=e(2312625946),o=e(1030162945),a=e(8204430196),l=e(2072540560),i=e(8276911661),d=e(8170643398),_=e(5751973043),m=e(5530660703);function h(){return h=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var P=arguments[I];for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(O[C]=P[C])}return O},h.apply(this,arguments)}u(h,"_extends");const v={noLinking:!1},T=u(O=>{let{stopAnimations:I=!1,noText:P=!1,className:C,memberId:M="",noLinking:D,showEmojiTooltip:E=!1,insertTextSpacing:S=!1,displayInMemberProfile:k=!1,emoji:U}=O;const L=(0,n.d4)(R=>(0,l.A)(R,M)),B=(0,n.d4)(R=>(0,d.fy)((0,i.nv)(R,M)));let b=_.t0;return D===!1&&(b=v),k?t.createElement("span",{className:C},t.createElement(a.A,{memberId:M,emoji:U,stopAnimations:I,showTooltips:E,emojiSize:o.lw.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),L&&t.createElement(m.A,h({memberId:M,className:(0,s.A)("margin_left_50","padding_right_50",{margin_right_100:B}),emojiSize:o.lw.SMALL,stopAnimations:I,text:P?"":L},b))):t.createElement("span",{className:C},t.createElement(a.A,{memberId:M,showTooltips:E,emojiSize:o.lw.SMALL,emoji:U,stopAnimations:I}),L&&t.createElement(m.A,h({memberId:M,className:S?"margin_left_50":"margin_left_25",emojiSize:o.lw.SMALL,stopAnimations:I,text:P?"":L},b)))},"CustomStatusTooltipContent");T.displayName="CustomStatusTooltipContent";const A=t.memo(T);var y=e(6710730141);const p=u(O=>{let{animated:I=!1,tooltip:P=!0,tipPosition:C,noText:M=!1,className:D,memberId:E="",noLinking:S,showEmojiTooltip:k=!1,insertTextSpacing:U=!1,displayInMemberProfile:L=!1}=O;const B=(0,n.d4)(R=>(0,r.A)(R,E)),b=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement(A,{className:"c-custom_status__tooltip",noText:M,memberId:E,noLinking:S,showEmojiTooltip:k,insertTextSpacing:U,displayInMemberProfile:L,emoji:B}),t.createElement(y.A,{className:"c-custom_status__expiration",memberId:E})),[E,M,S,k,U,L,B]);return B?P?t.createElement(c.Ay,{tip:b,position:C,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.createElement("span",{className:(0,s.A)("c-custom_status",D),"data-qa":"custom_status"},t.createElement(a.A,{memberId:E,showTooltips:!1,emojiSize:o.lw.SMALL,emoji:B,stopAnimations:!I}))):t.createElement(A,{className:(0,s.A)(D,"c-custom_status","c-custom_status--inline",{display_flex:L}),stopAnimations:!I,noText:M,memberId:E,noLinking:S,showEmojiTooltip:k,insertTextSpacing:U,displayInMemberProfile:L,emoji:B}):null},"CustomStatus");p.displayName="CustomStatus";const f=t.memo(p)},2486585453:(x,g,e)=>{"use strict";e.d(g,{A:()=>s,j:()=>n.A});var t=e(7278430876),n=e(6710730141);const s=t.A},9580887194:(x,g,e)=>{"use strict";e.d(g,{E:()=>c,a:()=>o});var t=e(9936232041),n=e(9609912577),s=e(6304789565),r=e(6440800009);const c=(0,s.Ay)("Opens the AddCustomEmojiModal for importing a custom emoji",(a,l,i)=>{let{emojiName:d,emojiUrl:_}=i;var m;a((0,n.A)({emojiNameSuggestion:d&&((m=(0,t.A)(d))===null||m===void 0?void 0:m.name),emojiUrl:_}))});c.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const o=(0,s.Ay)("Opens the AddCustomEmojiModal if an emoji can be imported",(a,l,i)=>{const d=l(),{event:_,emojiName:m,emojiUrl:h}=i;h&&(0,r.LU)(d,h,m)&&(_==null||_.preventDefault(),_==null||_.stopPropagation(),a(c(i)))});o.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},8021873188:(x,g,e)=>{"use strict";e.d(g,{K:()=>o});var t=e(3134334389),n=e(735940183),s=e(8683010724),r=e(6440800009);const c=new n.Ay("import-external-emoji");function o(a){let{emojiUrl:l,emojiName:i}=a;return(0,r.tJ)(l,i)?t.createElement("div",{className:"margin_top_50"},t.createElement(s.A,{name:"right-click",inline:!0,size:"18"}),t.createElement("span",{className:"margin_left_25"},c.t("Right click to add to your organization"))):null}u(o,"ImportExternalEmojiTooltipInfo"),o.displayName="ImportExternalEmojiTooltipInfo"},6440800009:(x,g,e)=>{"use strict";e.d(g,{$N:()=>L,LU:()=>M,pg:()=>E,tJ:()=>D});var t=e(8701485242),n=e(4921059838),s=e(9936232041),r=e(5751973043),c=e(317660850),o=e(6790819894),a=e(3677514771),l=e(2757639362),i=e(6839188756),d=e(5795074931),_=e(6457401668),m=e(2562405183),h=e(2384831516),v=e(7606781622),T=e(5757070316),A=e(9608713960),y=e(6783791506),p=e(4813703725);const f=u(B=>{var b;return Array.isArray((b=B)===null||b===void 0?void 0:b.elements)},"hasElements"),O=u((B,b)=>(0,t.Ay)(B.emojiName,b.emojiName),"emojiNameSort"),I=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function P(B){var b;const R=(b=(0,s.A)(B))===null||b===void 0?void 0:b.name;return!!R&&I.has(R)}u(P,"isBuiltInEmoji");function C(B,b,R){return decodeURIComponent(b).includes((0,l.w)())?!1:!(R&&((0,n.A)(B,R)||P(R)))}u(C,"isCustomEmoji");const M=(0,h.Mz)((B,b,R)=>{if(!(b&&(0,d.TZ)(B)&&C(B,b,R)&&(0,c.D)(B)))return!1;const w=(0,a.Yc)(B);var W;const K=(W=w==null?void 0:w.id)!==null&&W!==void 0?W:"",Y=(0,i.Ic)(w);return!!Y&&b.indexOf((0,i.k7)(K,Y))===-1&&b.indexOf(K.slice(1))===-1});M.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(B,b,R)=>{if(!(b&&(0,d.TZ)(B)&&C(B,b,R)&&(0,c.D)(B)))return!1;const w=(0,a.Yc)(B);var W;const K=(W=w==null?void 0:w.id)!==null&&W!==void 0?W:"",Y=(0,i.Ic)(w);return!!Y&&b.indexOf((0,i.k7)(K,Y))===-1&&b.indexOf(K.slice(1))===-1}};function D(B,b){return(0,m.d4)(R=>M(R,B,b))}u(D,"useCanImportThisEmoji");function E(B){return(0,m.d4)(b=>B.find(R=>M(b,R==null?void 0:R.url,R==null?void 0:R.name)))}u(E,"useFindFirstImportEmojiFromArray");function S(B,b){for(const R of b||[])(0,y.E)(R)?R.display_url&&B.set(R.display_url,{emojiName:R.name,emojiUrl:R.display_url}):f(R)&&S(B,R.elements)}u(S,"collectMessageEmojis");function k(B,b){for(const{name:R,url:z}of b||[])z&&B.set(z,{emojiName:R,emojiUrl:z})}u(k,"collectMessageReactjis");const U=(0,o.F)((B,b)=>b,(B,b)=>(0,A.bk)(B,(0,T.J)(b)),(B,b)=>{const R=new Map;return k(R,b),S(R,B.blocks),[...R.values()].sort(O)}),L=(0,p.eI)((B,b)=>{let{channelId:R,ts:z}=b;if(!(0,c.D)(B)||!(0,d.TZ)(B))return r.Ml;const w=(0,v.Ld)(B,R,z);return!w||(0,_.aK)(w)?r.Ml:U(B,w).filter(W=>{let{emojiName:K,emojiUrl:Y}=W;return M(B,Y,K)})})},5892132962:(x,g,e)=>{"use strict";e.d(g,{Ep:()=>_,sc:()=>m});var t=e(9548888903),n=e(2233365467),s=e(1407713935);const r={name:"sf-opportunity",variation:"filled"},c={name:"sf-account",variation:"filled"},o={name:"sf-case",variation:"filled"},a={name:"sf-lead",variation:"filled"},l={name:"sf-contact",variation:"filled"},i={name:"sf-cloud",variation:"filled"},d={name:"headphones",variation:"filled"};function _(h){switch(h){case t.hM.Opportunity:return r;case t.hM.Account:return c;case t.hM.Lead:return a;case t.hM.Case:return o;case t.hM.Contact:return l;case t.hM.Org:default:return i}}u(_,"getSalesforceObjectTypeIconProps");function m(h){if(!(0,s.rI)(h))return null;const v=(0,n.LJ)(h);switch((0,n.fI)(v==null?void 0:v.record_id)){case t.B4.Huddle:return d;default:return null}}u(m,"getRecordChannelOverrideIconProps")},7244076749:(x,g,e)=>{"use strict";e.d(g,{b:()=>n});var t=e(4724591729);function n(){return(0,t.b3)()}u(n,"isSlackKitPlaygroundEnabled")},1212974695:(x,g,e)=>{"use strict";e.d(g,{d:()=>I,H:()=>P});var t=e(9706240641),n=e(3134334389),s=e(6122756707),r=e(9132066222),c=e(8024681778),o=e(4427921758),a=e(7245481391),l=e(7056498591),i=e(796111729),d=e(6304789565),_=e(9530687876),m=e(9101533895),h=e(3430841143);const v=(0,d.Ay)("updateListTabDefaultViewId",function(){var C=(0,t.coroutine)(function*(M,D,E){var S,k;const{label:U,value:L,targetTabId:B,currentTabId:b,defaultTabId:R,channelId:z}=E,w=(0,i.Ay)({getState:D}),W=D();if(!z)return;const K=(S=(0,m.OL)(W,z))===null||S===void 0||(k=S.properties)===null||k===void 0?void 0:k.tabs;if(!K)return;const Y=[...K],X=Y.findIndex(Ae=>B?Ae.id===B:Ae.id===b);if(X<0)return;Y[X].data={...Y[X].data,lists_channel_tab_default_refine_view_id:L},Y[X].label=U;const Z=(0,m.OL)(W,z),ie={...Z,properties:{...Z.properties,tabs:Y}};M((0,h.F)({channel:ie,reason:_.rd.SET_CHANNEL_PROPERTIES_TABS}));try{(yield M((0,l.k)({id:B||b||R||a.fY.Channel,channelId:z,label:U,reason:"updateListTabDefaultViewId",data:{...Y[X].data,listsChannelTabDefaultRefineViewId:L}}))).ok||M((0,h.F)({channel:Z,reason:_.rd.SET_CHANNEL_PROPERTIES_TABS}))}catch(Ae){throw M((0,h.F)({channel:Z,reason:_.rd.SET_CHANNEL_PROPERTIES_TABS})),w.error(new Error(`updateTabLabel error: ${Ae}`)),Ae}});return function(M,D,E){return C.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkupdateListTabDefaultViewId",description:"updateListTabDefaultViewId"};const T=(0,d.Ay)("Updates a channel tab label",function(){var C=(0,t.coroutine)(function*(M,D,E){var S;const k=(0,i.Ay)({getState:D}),U=D(),{tabId:L,label:B,reason:b="updateTabLabel",channelId:R}=E;if(!R||!L||!B)return;const z=(0,m.OL)(U,R);var w;const W=[...(w=z==null||(S=z.properties)===null||S===void 0?void 0:S.tabs)!==null&&w!==void 0?w:[]],K=W.find(Z=>Z.id===L);if(!K)return;K.label=B;const Y={...z},X={...z,properties:{...z==null?void 0:z.properties,tabs:W}};M((0,h.F)({channel:X,reason:_.rd.SET_CHANNEL_PROPERTIES_TABS}));try{const Z=yield M((0,l.k)({id:L,channelId:R,label:B,reason:b}));return Z.ok||M((0,h.F)({channel:Y,reason:_.rd.SET_CHANNEL_PROPERTIES_TABS})),Z}catch(Z){throw M((0,h.F)({channel:Y,reason:_.rd.SET_CHANNEL_PROPERTIES_TABS})),k.error(new Error(`updateTabLabel error: ${Z}`)),Z}});return function(M,D,E){return C.apply(this,arguments)}}());T.meta={name:"createThunk",key:"createThunkupdateTabLabel",description:"Updates a channel tab label"};var A=e(4131775356),y=e(7937864072),p=e(2562405183),f=e(6252535684),O=e(4761125736);const I=(0,n.createContext)({});function P(C){let{channelId:M,children:D,tabParams:E,currentTabId:S}=C;var k;const U=(0,p.d4)(ae=>(0,O._Z)(ae,"channel_default_tabs")==="on"),L=(0,p.d4)(ae=>(0,O._Z)(ae,"saved_channel_active_tabs")==="on"),B=(0,p.d4)(ae=>(0,f.M)(ae,M)),b=(0,p.d4)(ae=>(0,m.OL)(ae,M)),R=(0,s.wA)(),z=(0,y.A)(),w=(0,p.d4)(ae=>(0,c.G)(ae,{channelId:M,includeDisabled:!1})),W=U?(k=b.properties)===null||k===void 0?void 0:k.default_tab_id:"",K=L?B:"",Y=(0,r.Fi)(w,S)||(0,r.Fi)(w,K)||(0,r.Fi)(w,W)||(0,r.Fi)(w,a.fY.Channel),X=(0,n.useCallback)(function(){var ae=(0,t.coroutine)(function*(V){let{sourceIndex:ve,destinationIndex:be}=V;const Ue=w[ve],Re=w[ve>be?be-1:be];return R((0,A.x)({targetTab:Ue,afterTab:Re,channelId:M,isDefaultTab:U&&ve===0}))});return function(V){return ae.apply(this,arguments)}}(),[M,R,w,U]),Z=(0,n.useCallback)(function(){var ae=(0,t.coroutine)(function*(V){const ve=S||W||a.fY.Channel;return R(T({tabId:ve,label:V,channelId:M}))});return function(V){return ae.apply(this,arguments)}}(),[M,S,W,R]),ie=(0,n.useCallback)(function(){var ae=(0,t.coroutine)(function*(V){let{label:ve,value:be,targetTabId:Ue}=V;return R(v({label:ve,value:be,targetTabId:Ue,currentTabId:S,defaultTabId:W,channelId:M}))});return function(V){return ae.apply(this,arguments)}}(),[S,W,R,M]),Ae=(0,n.useMemo)(()=>({tabParams:E,tabSchema:w,channelId:M,currentTab:Y,updateTabOrder:X,updateTabLabel:Z,updateListTabDefaultViewId:ie}),[E,w,M,Y,X,Z,ie]);return Y?n.createElement(I.Provider,{value:Ae},n.createElement(o.j.Provider,{value:Ae},D)):(z.error(new Error("No current channel tab selected.")),null)}u(P,"TabbedChannelProvider"),P.displayName="TabbedChannelProvider"},4131775356:(x,g,e)=>{"use strict";e.d(g,{x:()=>p});var t=e(9706240641),n=e(3367239067),s=e(166097325),r=e(9132066222),c=e(7245481391),o=e(1783582283),a=e(796111729),l=e(735940183),i=e(6304789565),d=e(9530687876),_=e(9101533895),m=e(3430841143),h=e(4347488242),v=e(5534420337);const T=(0,i.Ay)(d.rd.SET_CHANNEL_PROPERTIES_DEFAULT_TAB_ID,(f,O,I)=>{let{channelId:P,defaultTabId:C}=I;const M=O(),D=!1,E=(0,_.OL)(M,P,D);if(!P||!E)return;let S;try{S=JSON.stringify({default_tab_id:C})}catch(U){(0,v.Ay)({getState:O}).error(U,"failed serializing new properties");return}const k={...E,properties:{...E==null?void 0:E.properties,default_tab_id:C}};return f((0,m.F)({channel:k,reason:d.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT})),f((0,h.D)({channelId:P,props:S,reason:"set_channel_canvas_default_tab_id"})).then(()=>{f((0,m.F)({channel:k,reason:d.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT}))}).catch(U=>{f((0,m.F)({channel:E}))})});T.meta={name:"createThunk",key:"createThunksetChannelPropertiesDefaultTabId",description:d.rd.SET_CHANNEL_PROPERTIES_DEFAULT_TAB_ID};var A=e(4761125736);const y=new l.Ay("tabbed-channel"),p=(0,i.Ay)("Updates channel tab order",function(){var f=(0,t.coroutine)(function*(O,I,P){var C;const M=I(),D=(0,a.Ay)({getState:I}),{targetTab:E,afterTab:S,channelId:k,optimisticUpdate:U=!0,isDefaultTab:L=!1}=P;if(!(0,r.g3)(E))return;const B=(0,_.OL)(M,k,!1);if(!B)return;const b=B==null||(C=B.properties)===null||C===void 0?void 0:C.tabs,R=u(ie=>{O((0,m.F)({channel:{...B,properties:{...B==null?void 0:B.properties,tabs:ie??b}},reason:d.rd.SET_CHANNEL_PROPERTIES_TABS}))},"setTabs");var z;const w=(z=b==null?void 0:b.findIndex(ie=>ie.id===E.id))!==null&&z!==void 0?z:0;var W;const K=(W=b==null?void 0:b.findIndex(ie=>ie.id===(S==null?void 0:S.id)))!==null&&W!==void 0?W:0;let Y=0;w===-1&&E.type===c.Xy.ChannelCanvas?S?Y=K+1:Y=0:K>-1&&(Y=w>K?K+1:K);const X=(0,A._Z)(M,"channel_default_tabs")==="on",Z=[...b||[]];if(U){const[ie]=(0,n.A)(Z,ae=>ae.id===E.id);if(ie)Z==null||Z.splice(Y,0,ie);else if(E.type===c.Xy.ChannelCanvas)Y=S?K+1:0,Z==null||Z.splice(Y,0,{id:c.fY.ChannelCanvas,type:c.Xy.ChannelCanvas,label:y.t("Canvas")});else{D.error(new Error(`updateTabOrder error: targetTab ${E.id} ${E.type} not found for ${B.id}`));return}const Ae={...B,properties:{...B==null?void 0:B.properties,tabs:Z}};O((0,m.F)({channel:Ae,reason:d.rd.SET_CHANNEL_PROPERTIES_TABS}))}try{X&&(S?L&&(yield O(T({channelId:k,defaultTabId:""}))):yield O(T({channelId:k,defaultTabId:E.id})));const ie=yield O((0,o.i)({channelId:k,id:E.id,...!!S&&!(0,r.PN)(S)&&{after:S==null?void 0:S.id},reason:"updateTabOrder"}));if(!ie.ok)return R(),ie;const Ae=ie==null?void 0:ie.tabs;if(U&&!(0,s.A)(Ae,Z)&&R(Ae),!U){const ae={...B,properties:{...B==null?void 0:B.properties,tabs:Ae}};O((0,m.F)({channel:ae}))}return ie}catch(ie){throw R(),D.error(new Error(`updateTabOrder error: ${ie}`)),ie}});return function(O,I,P){return f.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkupdateTabOrder",description:"Updates channel tab order"}},73855031:(x,g,e)=>{"use strict";e.d(g,{n:()=>i});var t=e(3134334389),n=e(5255740490),s=e(2036354333),r=e(8683010724),c=e(6627147571),o=e.n(c);function a(){return a=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var m=arguments[_];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(d[h]=m[h])}return d},a.apply(this,arguments)}u(a,"_extends");const l={item:"accordion-list-item",itemHeader:"accordion-list-item-header",itemDescription:"accordion-list-item-description",expandedIcon:"accordion-list-item-expanded-icon",imageCaret:"accordion-list-item-image-caret"};function i(d){let{accordionItems:_,className:m,showImageCaret:h,autoClogProps:v,showItemBorder:T=!0,itemClassName:A="",itemHeaderClassName:y="",itemHeaderButtonClassName:p="",itemDescriptionClassName:f="",expandedIconClassName:O="",collapsedIconClassName:I="",imageCaretClassName:P="",applyCustomAnimation:C=!1}=d;const[M,D]=(0,t.useState)(!1),[E,S]=(0,t.useState)(_.map((K,Y)=>({...K,isExpanded:Y===0}))),[k,U]=(0,t.useState)(""),L=(0,t.useRef)({}),B=(0,t.useCallback)((K,Y)=>()=>{M||D(!0),!Y.isExpanded&&(S(E.map((X,Z)=>({...X,isExpanded:Z===K}))),U(Y.id),typeof Y.onExpand=="function"&&Y.onExpand())},[E,M]),b=(0,t.useCallback)(K=>Y=>{L.current[K]=Y},[]);(0,t.useEffect)(()=>{if(k&&L.current[k]){var K;(K=L.current[k])===null||K===void 0||K.focus()}},[k]);const R=u(K=>({...v,onClick:{enableClogAction:!K.isExpanded},elementValue:K.id}),"getAutoClogProps"),z=(0,t.useCallback)((K,Y)=>t.createElement("h2",{className:(0,n.A)(o().header,{[y]:!!y,[o().customItemTextAnimation]:C&&Y&&M,[o().customItemText]:C&&Y&&!M}),"data-qa":l.itemHeader},K),[C,y,M]),w=(0,t.useCallback)((K,Y,X)=>{let Z=(0,n.A)({[o().defaultShowDescriptionAnimation]:Y&&M,[o().defaultShowDescription]:Y&&!M});return C&&(Z=(0,n.A)({[o().customItemTextAnimation]:C&&Y&&M,[o().customItemText]:C&&Y&&!M})),t.createElement("div",{className:Z},t.createElement("div",{className:o().description},t.createElement("div",{id:`description-${X}`,"aria-hidden":!Y,"data-qa":l.itemDescription,className:(0,n.A)({[f]:!!f})},K)))},[C,f,M]),W=C?{[o().customItemTransition]:C}:{};return t.createElement("ul",{className:(0,n.A)(o().accordion,m)},E.map((K,Y)=>t.createElement("li",{key:K.id,"data-qa":l.item,className:(0,n.A)(o().item,{[o().expanded]:K.isExpanded,[o().noBorder]:!T,...W},A)},t.createElement(s.A,{"aria-expanded":K.isExpanded,"aria-controls":`description-${Y}`,className:(0,n.A)(o().itemHeader,{[p]:!!p}),onClick:B(Y,K),autoClogProps:R(K),ref:b(K.id),"aria-label":typeof K.header=="string"?K.header:void 0,"aria-describedby":K.isExpanded?`description-${Y}`:void 0},t.createElement("div",{className:o().iconSpacer},K.isExpanded?t.createElement("span",{className:(0,n.A)(o().expandedIcon,{[O]:!!O}),"data-qa":l.expandedIcon},K.iconProps?t.createElement(r.A,a({},K.iconProps)):t.createElement(r.A,{name:"check",variation:"filled"})):t.createElement("span",{className:(0,n.A)({[I]:!!I})},t.createElement(r.A,{name:"caret-right",variation:"filled"}))),t.createElement("div",{className:"display_flex flex_direction_column"},z(K.header,K.isExpanded),w(K.description,K.isExpanded,Y))),h&&K.isExpanded&&t.createElement("div",{className:(0,n.A)(o().imageCaret,P),"data-qa":l.imageCaret}))))}u(i,"Accordion"),i.displayName="Accordion"},7156540029:(x,g,e)=>{"use strict";e.d(g,{K8:()=>s,Q1:()=>t});const t=20,n={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},s={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},9509635375:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(2562405183),n=e(603616571),s=e(735940183),r=e(5255740490),c=e(3134334389),o=e(1206744593),a=e(5624319675);function l(){return l=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])}return m},l.apply(this,arguments)}u(l,"_extends");const i=new s.Ay("members");function d(m){let{className:h,inverse:v=!1,isWorkflow:T=!1,isLegacyWorkflow:A=!1,isAgent:y=!1,...p}=m;const f=(0,t.d4)(n.TX),O=(0,t.d4)(o.x$),I=(0,t.d4)(a.mr);let P=i.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"});A&&O&&(P=i.t("LEGACY WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"})),f&&T?P=i.t("BETA"):I&&y?P=i.t("AGENTFORCE",{fallbackHash:"635643b67608c4426a4ad8287a8b687415bee6b5"}):T||(P=i.t("APP"));const C=(0,r.A)(h,"c-app_badge",{"c-app_badge--inverse":v});return c.createElement("span",l({},p,{className:C,"data-stringify-suffix":" "}),P)}u(d,"AppBadge"),d.displayName="AppBadge";const _=(0,c.memo)(d)},5874162200:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(735940183);const n=new t.Ay("audio_player");function s(c){const o=Math.floor(c/3600),a=Math.floor((c-o*3600)/60),l=Math.floor(c-o*3600-a*60);return o>0?n.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:l,minutes:a,hours:o}):a>0?n.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:l,minutes:a}):n.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:l})}u(s,"secondsToSpokenTime");const r=s},7999544567:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(297247517);function n(s){if((0,t.P)(s)){const r=s&&s.text&&s.text.trim();if(r)return r.length}return 0}u(n,"__WEBPACK_DEFAULT_EXPORT__")},5577180258:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(45851552),n=e(5404505308),s=e(6783791506),r=e(297247517),c=e(8389327410),o=e(5305906809),a=e(7999544567);const{_EMOJI_GROUP:l}=c.Lv;function i(_,m,h,v,T,A,y){const p=_.slice(A,y),f=A+(0,t.A)(p,s.E),O=A+(0,n.A)(p,s.E)+1;_.splice(f,O-f,{type:l,name:m,size:h,displayAlias:v,skinTone:T,elements:_.slice(f,O)})}u(i,"insertEmojiGroup");function d(_){let m,h,v,T,A,y=_.length-1;for(;y>=-1;){const f=_[y];if(v=v??y,h=h??0,(0,s.E)(f))f.name===m&&f.displayAlias===T&&f.skinTone===A?h+=1:(h>=o.uz&&i(_,m,h,T,A,y+1,v+1),m=f.name,T=f.displayAlias,A=f.skinTone,v=y,h=1);else if(!(0,r.P)(f)||(0,a.A)(f)!==0){var p;h>=o.uz&&i(_,m,h,T,A,y+1,v+1),m=void 0,T=void 0,A=void 0,v=void 0,h=void 0,!((p=f)===null||p===void 0)&&p.elements&&d(f.elements)}y-=1}return _}u(d,"groupEmojis")},7592430824:(x,g,e)=>{"use strict";e.d(g,{N:()=>r,u:()=>s});var t=e(3134334389),n=e(6152845331);const s=(0,n.Ay)("Embedded UI Provider",null),r=t.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},7330763135:(x,g,e)=>{"use strict";e.d(g,{Jn:()=>T,N2:()=>i,OD:()=>I,RO:()=>P,Wg:()=>l,h$:()=>v,j6:()=>p,nH:()=>y,o8:()=>f,pg:()=>m,v_:()=>O});var t=e(3262078016),n=e(735940183),s=e(6946629059),r=e(5645915081),c=e(9084547259);const o=new n.Ay("slack_docs");var a;(function(C){C.START_THREAD="start-thread",C.OPEN_THREAD="open-thread",C.START_ASSISTANT_THREAD="start-assistant-thread",C.INSERT_VARIABLE="insert-variable",C.MAX_VARIABLE_LIMIT_REACHED="variable-limit-reached",C.SHARE="share",C.OPEN_IN_DETACHED_WINDOW="open-in-detached-window",C.VIEW_FULL_SCREEN="view-full-screen",C.VIEW_IN_SLACK="view-in-slack",C.OPEN_IN_NEW_WINDOW="open-in-new-window",C.SHARE_CHANNEL_CANVAS="channel-canvas-share",C.ADD_REACTION="add-reaction",C.OPEN_REACTION="open-reaction"})(a||(a={}));const l="option-list-divider";var i;(function(C){C.SUGGEST_EDITS="canvas-suggest-edits",C.REWRITE="canvas-rewrite",C.CHAT="canvas-chat",C.EXPLAIN="canvas-explain",C.SHORTEN="canvas-shorten",C.LENGTHEN="canvas-lengthen",C.CHANGE_TONE="canvas-change-tone",C.CHANGE_FORMATTING="canvas-change-formatting",C.TRANSLATE="canvas-translate"})(i||(i={}));var d;(function(C){C.ENGLISH="en",C.SPANISH="es",C.GERMAN="de",C.FRENCH="fr",C.PORTUGUESE="pt",C.ITALIAN="it",C.JAPANESE="ja",C.KOREAN="ko",C.CHINESE_SIMPLIFIED="zh-CN",C.CHINESE_TRADITIONAL="zh-TW",C.PROFESSIONAL="professional",C.WITTY="witty",C.EMPATHETIC="empathetic",C.DIRECT="direct",C.PIRATE="pirate"})(d||(d={}));const _=[i.SUGGEST_EDITS,i.CHAT,i.EXPLAIN,i.CHANGE_FORMATTING],m=u((C,M)=>{if(!M)return"";switch(C){case d.PROFESSIONAL:return o.t("Professional",{fallbackHash:"6f719fb045c0b6fc89e44e33177ba6d4c3e21055",fallbackHashNs:"composer"});case d.WITTY:return o.t("Witty",{fallbackHash:"89d3e5e4e9788f9e7c9f15d5ba5d02ab6c4f6757",fallbackHashNs:"composer"});case d.EMPATHETIC:return o.t("Empathetic",{fallbackHash:"f8b682c6e9202623d369bea1073ed20ea4969fce",fallbackHashNs:"composer"});case d.DIRECT:return o.t("Direct",{fallbackHash:"bc81524a554d8a0ff1c122ddd69f8eeebdf76f02",fallbackHashNs:"composer"});case d.PIRATE:return o.t("Pirate",{fallbackHash:"4778a2e5249d620c6e3309e4f9cac43d5821da7e",fallbackHashNs:"composer"});case d.ENGLISH:return o.t("English");case d.SPANISH:return o.t("Spanish");case d.GERMAN:return o.t("German");case d.FRENCH:return o.t("French");case d.PORTUGUESE:return o.t("Portuguese");case d.ITALIAN:return o.t("Italian");case d.JAPANESE:return o.t("Japanese");case d.KOREAN:return o.t("Korean");case d.CHINESE_SIMPLIFIED:return o.t("Chinese");case d.CHINESE_TRADITIONAL:return o.t("Chinese (Traditional)");default:return""}},"getCanvasAiSubmenuItemLabel"),h=new Map([[i.CHANGE_TONE,[d.PROFESSIONAL,d.WITTY,d.EMPATHETIC,d.DIRECT,d.PIRATE]],[i.TRANSLATE,[d.ENGLISH,d.SPANISH,d.GERMAN,d.FRENCH,d.PORTUGUESE,d.ITALIAN,d.JAPANESE,d.KOREAN,d.CHINESE_SIMPLIFIED,d.CHINESE_TRADITIONAL]],[i.CHANGE_FORMATTING,[]]]),v=u(C=>h.get(C),"getCanvasAiSubmenuContent"),T=u(C=>!_.includes(C),"isCanvasAiSelectAndRefineActionSupported"),A=[i.SHORTEN,i.LENGTHEN,i.CHANGE_TONE,i.CHANGE_FORMATTING];function y(C){if(A.includes(C))return null;switch(C){case i.SUGGEST_EDITS:return{name:"glasses"};case i.REWRITE:return{name:"magic-wand"};case i.CHAT:return{name:"direct-messages"};case i.EXPLAIN:return{name:"help"};default:return{name:"magic-wand"}}}u(y,"getCanvasAiIcons");const p=u((C,M)=>{if(!M)return;const D=C.refinementId,E=C.contextId;switch(D){case i.LENGTHEN:return o.t("Make this content longer.");case i.SHORTEN:return o.t("Make this content shorter.");case i.REWRITE:return o.t("Rewrite");case i.CHANGE_TONE:{if(E){const S=E===d.PIRATE?o.t("like a pirate"):m(E,M).toLowerCase();return o.t("Change the content tone to sound {tone}.",{tone:S})}break}case i.TRANSLATE:{if(E){const S=m(E,M);return o.t("Translate the content to the following language: {language}.",{language:S})}break}default:return}},"getSelectAndRefinementPresetPromptText"),f={...r.zF,...c.L},O={...f,...a,...i};function I(C,M){return Object.values(M).some(D=>D===C)}u(I,"isToolbarAction");const P=u(function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.DocBlockStyle.PLAIN;const D=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).map(E=>(0,c.B)(E)).filter(s.b);return C&&D.push((0,r.Zq)(C)||r.zF.PARAGRAPH),D},"getFormats")},5645915081:(x,g,e)=>{"use strict";e.d(g,{Zq:()=>o,zF:()=>n,zf:()=>a});var t=e(3262078016),n;(function(l){l.PARAGRAPH="paragraph",l.H1="h1",l.H2="h2",l.H3="h3",l.CHECK_LIST="check-list",l.CHECK_LIST_TOGGLE="check-list-toggle",l.ORDERED_LIST="ordered-list",l.BULLET_LIST="bullet-list",l.BLOCKQUOTE="blockquote",l.CODE_BLOCK="code-block"})(n||(n={}));const s=[[t.DocBlockStyle.PLAIN,n.PARAGRAPH],[t.DocBlockStyle.H1,n.H1],[t.DocBlockStyle.H2,n.H2],[t.DocBlockStyle.H3,n.H3],[t.DocBlockStyle.LIST_CHECKLIST,n.CHECK_LIST],[t.DocBlockStyle.LIST_NUMBERED,n.ORDERED_LIST],[t.DocBlockStyle.LIST_BULLET,n.BULLET_LIST],[t.DocBlockStyle.BLOCKQUOTE,n.BLOCKQUOTE],[t.DocBlockStyle.CODE,n.CODE_BLOCK]],r=new Map(s),c=new Map(s.map(l=>[l[1],l[0]]));function o(l){return r.get(l)}u(o,"blockStyleToFormat");function a(l){return c.get(l)}u(a,"formatToBlockStyle")},4843305308:(x,g,e)=>{"use strict";e.d(g,{P:()=>s});var t=e(7731278967),n=e(9084547259);const s=u(r=>{switch(r){case t.r.FILE:return{name:"attachment"};case t.r.IMAGE:return{name:"image"};case t.r.CHECK_LIST:return{name:"checkbox"};case t.r.CHECK_LIST_TOGGLE:return{name:"checkbox"};case t.r.BULLET_LIST:return{name:"bulleted-list"};case t.r.ORDERED_LIST:return{name:"numbered-list"};case t.r.VIDEO_CLIP:return{name:"video"};case t.r.AUDIO_CLIP:return{name:"microphone"};case t.r.DIVIDER:return{name:"divider"};case t.r.TABLE:return{name:"spreadsheet"};case t.r.LAYOUT_2_COLUMNS:return{name:"column-two"};case t.r.LAYOUT_3_COLUMNS:return{name:"column-three"};case t.r.PINS:return{name:"pin"};case t.r.SMART_SUMMARY:case t.r.RECENT_FILES:case t.r.ACTIVE_DISCUSSIONS:case t.r.CHANNEL_HUDDLES:return{name:"magic-wand"};case t.r.BLOCKQUOTE:return{name:"quote"};case t.r.CODE_BLOCK:return{name:"code-block"};case n.L.CODE:return{name:"code"};case t.r.PARAGRAPH:return{name:"paragraph"};case t.r.H1:return{name:"heading-1"};case t.r.H2:return{name:"heading-2"};case t.r.H3:return{name:"heading-3"};case t.r.CANVAS:return{name:"canvas"};case t.r.WORKFLOW:return{name:"play"};case t.r.LIST:return{name:"lists"};case t.r.WIDGET:return{name:"blocks"};case t.r.SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.USER_PROFILE_UNFURL:return{name:"user"};case t.r.PLACEHOLDER_CARD_SUBMENU:return{name:"add-placeholder"};case t.r.PLACEHOLDER_CARD_VIDEO:return{name:"video"};case t.r.PLACEHOLDER_CARD_PROFILE:return{name:"user"};case t.r.PLACEHOLDER_CARD_AUDIO:return{name:"microphone"};case t.r.PLACEHOLDER_CARD_WORKFLOW:return{name:"play"};case t.r.PLACEHOLDER_CARD_IMAGE:return{name:"image"};case t.r.PLACEHOLDER_CARD_CANVAS:return{name:"canvas"};case t.r.PLACEHOLDER_CARD_FILE:return{name:"attachment"};case t.r.PLACEHOLDER_CARD_LINK:return{name:"link"};case t.r.PLACEHOLDER_CARD_LIST:return{name:"lists"};case t.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.DATE_MENTION:return{name:"calendar"};case t.r.AI_ASSISTANT:return{name:"sparkles"};case t.r.CALLOUT:return{name:"callout"};default:return{name:"help"}}},"getQuipButtonIcon")},8079225585:(x,g,e)=>{"use strict";e.d(g,{O:()=>c});var t=e(735940183),n=e(7731278967),s=e(9084547259);const r=new t.Ay("slack_docs"),c=u(function(o){let{experimentCanvasInsertWorkflowMenuGroupOn:a,experimentCanvasSmartCardsGroupOn:l,experimentWidgetsGroupOn:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(o){case n.r.FILE:return r.t("File");case n.r.IMAGE:return r.t("Image");case n.r.CHECK_LIST:return r.t("Check list");case n.r.CHECK_LIST_TOGGLE:return r.t("Check list");case n.r.BULLET_LIST:return r.t("Bulleted list");case n.r.ORDERED_LIST:return r.t("Ordered list");case n.r.VIDEO_CLIP:return r.t("Record video clip");case n.r.AUDIO_CLIP:return r.t("Record audio clip");case n.r.DIVIDER:return r.t("Divider");case n.r.PINS:return r.t("Pins");case n.r.SMART_SUMMARY:return l?r.t("AI Channel Summary"):"";case n.r.RECENT_FILES:return l?r.t("Recent Files"):"";case n.r.ACTIVE_DISCUSSIONS:return l?r.t("Active Discussions"):"";case n.r.CHANNEL_HUDDLES:return l?r.t("Huddles"):"";case n.r.BLOCKQUOTE:return r.t("Blockquote");case n.r.CODE_BLOCK:return r.t("Code block");case n.r.PARAGRAPH:return r.t("Paragraph");case n.r.H1:return r.t("Big heading");case n.r.H2:return r.t("Medium heading");case n.r.H3:return r.t("Small heading");case n.r.CANVAS:return r.t("Canvas");case n.r.WORKFLOW:return a?r.t("Workflow"):"";case s.L.CODE:return r.t("Code");case n.r.TABLE:return r.t("Table");case n.r.LAYOUT_2_COLUMNS:return r.t("2 columns",{fallbackHash:"8d8f0f25822179c33b917613ec2d022ef593c340",fallbackHashNs:"quip_shortcut_handlers"});case n.r.LAYOUT_3_COLUMNS:return r.t("3 columns",{fallbackHash:"b505f5f09f70ff9d216f1c3cbb5c1a8a4e82179b",fallbackHashNs:"quip_shortcut_handlers"});case n.r.LIST:return r.t("List");case n.r.WIDGET:return i?r.t("Widget"):"Widget";case n.r.USER_PROFILE_UNFURL:return r.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case n.r.SALESFORCE_RECORD:return r.t("Salesforce record");case n.r.PLACEHOLDER_CARD_VIDEO:return r.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"slack_kit_video"});case n.r.PLACEHOLDER_CARD_PROFILE:return r.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case n.r.PLACEHOLDER_CARD_AUDIO:return r.t("Audio",{fallbackHash:"acdac205f5e24cb75113c4b281a2c13f08b75159",fallbackHashNs:"files"});case n.r.PLACEHOLDER_CARD_WORKFLOW:return r.t("Workflow",{fallbackHash:"d7a484140f5f9f7f5427e1f2c44dbfc1d3ad9eea",fallbackHashNs:"slack_docs"});case n.r.PLACEHOLDER_CARD_IMAGE:return r.t("Image");case n.r.PLACEHOLDER_CARD_CANVAS:return r.t("Canvas");case n.r.PLACEHOLDER_CARD_FILE:return r.t("File");case n.r.PLACEHOLDER_CARD_LINK:return r.t("Link");case n.r.PLACEHOLDER_CARD_LIST:return r.t("List");case n.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return r.t("Salesforce record");case n.r.DATE_MENTION:return r.t("Date",{fallbackHash:"eb9a4bc1c0c153e4e4b042a79113b815b7e3021d",fallbackHashNs:"calendar"});case n.r.CALLOUT:return r.t("Callout",{fallbackHash:"f3e792e7d41d161d609362af9fd451593481fd5d"});case n.r.AI_ASSISTANT:return r.t("Slack AI",{fallbackHash:"fc7ba35433ce677dc7b72889cebdbbaf99c6d596",fallbackHashNs:"ai_apps"});default:return o}},"getQuipButtonLabel")},9084547259:(x,g,e)=>{"use strict";e.d(g,{B:()=>r,L:()=>n});var t=e(3262078016),n;(function(c){c.BOLD="bold",c.STRIKE="strike",c.ITALIC="italic",c.CODE="code",c.LINK="link",c.UNDERLINE="underline"})(n||(n={}));const s=new Map([[t.DocInlineStyle.BOLD,n.BOLD],[t.DocInlineStyle.STRIKETHROUGH,n.STRIKE],[t.DocInlineStyle.ITALIC,n.ITALIC],[t.DocInlineStyle.CODE,n.CODE],[t.DocInlineStyle.LINK,n.LINK]]);function r(c){return s.get(c)}u(r,"inlineStyleToFormat")},7731278967:(x,g,e)=>{"use strict";e.d(g,{r:()=>s});var t=e(5645915081),n;(function(r){r.UNKNOWN="unknown",r.TITLE="title",r.FILE="file",r.IMAGE="image",r.VIDEO_CLIP="video-clip",r.AUDIO_CLIP="audio-clip",r.DIVIDER="divider",r.TABLE="table",r.SHORTCUT="shortcut",r.MENU_SEPARATOR="menu-separator",r.PINS="pins",r.BOOKMARKS="bookmarks",r.USER_UNFURL="user-unfurl",r.CANVAS_UNFURL="canvas-unfurl",r.MESSAGE_UNFURL="message-unfurl",r.PUBLIC_LINK_UNFURL="public-link-unfurl",r.SHORTCUT_UNFURL="shortcut-unfurl",r.USER_PROFILE_UNFURL="user-profile-unfurl",r.UNFURL="unfurl",r.CANVAS="canvas",r.GENERIC="generic",r.WORKFLOW="workflow",r.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",r.SMART_SUMMARY="smart-summary",r.RECENT_FILES="recent-files",r.ACTIVE_DISCUSSIONS="active-discussions",r.CHANNEL_HUDDLES="channel-huddles",r.LIST="list",r.WIDGET="widget",r.LAYOUT_2_COLUMNS="layout-2-columns",r.LAYOUT_3_COLUMNS="layout-3-columns",r.PLACEHOLDER_CARD_SUBMENU="placeholder-card-submenu",r.PLACEHOLDER_CARD_VIDEO="placeholder-card-video",r.PLACEHOLDER_CARD_PROFILE="placeholder-card-profile",r.PLACEHOLDER_CARD_AUDIO="placeholder-card-audio",r.PLACEHOLDER_CARD_WORKFLOW="placeholder-card-workflow",r.PLACEHOLDER_CARD_IMAGE="placeholder-card-image",r.PLACEHOLDER_CARD_CANVAS="placeholder-card-canvas",r.PLACEHOLDER_CARD_FILE="placeholder-card-file",r.PLACEHOLDER_CARD_LINK="placeholder-card-link",r.PLACEHOLDER_CARD_LIST="placeholder-card-list",r.PLACEHOLDER_CARD_SALESFORCE_RECORD="placeholder-card-salesforce-record",r.SALESFORCE_RECORD="salesforce-record",r.DATE_MENTION="date-mention",r.CALLOUT="callout",r.AI_ASSISTANT="ai-assistant"})(n||(n={}));const s={...t.zF,...n}},1069376685:(x,g,e)=>{"use strict";e.d(g,{D:()=>t});var t;(function(n){n.SpecificMembers="add-specific-members",n.AllMembers="add-all-members"})(t||(t={}))},8414606991:(x,g,e)=>{"use strict";e.d(g,{v:()=>o});var t=e(3134334389),n=e(5255740490),s=e(207659888),r=e(8683010724),c=e(1610251172);const o=u(a=>{let{type:l,spacing:i="medium"}=a;const d=(0,n.A)("three_fourths_opacity",{margin_right_0:i==="none",margin_right_25:i==="small",margin_right_50:i==="medium"});return l===s.VZ.Channels||l===s.VZ.OrgChannels?t.createElement(c.A,{type:"channel",size:"inherit",className:d}):l===s.VZ.DirectMessages?t.createElement(c.A,{type:"dm",size:"inherit",className:d}):l===s.VZ.RecentApps?t.createElement(c.A,{type:"gn-menu",size:"inherit",className:d}):l===s.VZ.SlackConnect||l===s.VZ.SharedChannels?t.createElement(c.A,{type:"shared-channels-outline",size:"inherit",className:d}):l===s.VZ.Stars?t.createElement(c.A,{type:"star-o",size:"inherit",className:d}):l===s.VZ.UserGroup?t.createElement("div",{className:(0,n.A)("c-icon","c-icon--inherit",d)},t.createElement(r.A,{variation:"filled",name:"user-groups"})):t.createElement(c.A,{type:"star-o",size:"inherit",className:d})},"InlineChannelSectionFallbackIcon");o.displayName="InlineChannelSectionFallbackIcon"},126225536:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3134334389),n=e(6122756707),s=e(5255740490),r=e(4308550795),c=e(1030162945),o=e(207659888),a=e(863162513),l=e(1033870301),i=e(8414606991);function d(m){let{channelSection:h,className:v,spacing:T="medium",showIcon:A=!0}=m;const p=(0,n.wA)()((0,l.i1)({channelSection:h})),f=p&&p.split(" "),O=f&&f[0],I=f&&(f.length>1?` ${f.slice(1).join(" ")}`:null),P=u(()=>{if(!A)return null;if(h.type===o.VZ.UserGroup)return t.createElement(i.v,{type:h.type,spacing:T});const C=(0,s.A)({margin_right_0:T==="none",margin_right_25:T==="small",margin_right_50:T==="medium"});return h.emoji?t.createElement(c.Ay,{className:C,shouldFallbackOnLoadError:!0,text:h.emoji,stopAnimations:!0,emojiSize:c.lw.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):h.type===o.VZ.ExternalWorkspace?t.createElement(r.A,{workspaceId:(0,a.de)(h.id),size:15,className:C}):t.createElement(i.v,{type:h.type,spacing:T})},"getIcon");return P.displayName="getIcon",t.createElement("span",{className:(0,s.A)("p-inline_channel_section",v)},t.createElement("span",{className:"p-inline_channel_section__lockup"},P(),O),I)}u(d,"InlineChannelSection"),d.displayName="InlineChannelSection";const _=d},4308550795:(x,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(3134334389),n=e(5255740490),s=e(2562405183),r=e(9950739645),c=e(138341465),o=e(3391133100),a=e(5865611660),l=e(3677514771),i=e(5672691263),d=e.n(i);const _=20,m=.8,h=.2,v={width:"auto"};function T(p){let{id:f,size:O,spacing:I}=p;const P=`${Math.ceil(O/2-1)}px`,C=`${O}px`,M=`${I}px`;return t.createElement("svg",{className:"sr-only"},t.createElement("mask",{id:f},t.createElement("rect",{x:P,y:P,width:C,height:C,rx:M,ry:M,fill:"white"})))}u(T,"SecondaryIconMask"),T.displayName="SecondaryIconMask";function A(p){let{size:f=_,className:O,workspaceId:I,externalWorkspaceHostId:P}=p;const C=(0,t.useMemo)(()=>`scw-icon-mask-${(0,o.r9)()}`,[]),M=(0,t.useMemo)(()=>({mask:`url(#${C}) exclude, linear-gradient(#000 0 0)`}),[C]),D=Math.floor(f*m),E=Math.floor(f*h),S=(0,t.useMemo)(()=>({marginRight:`-${E}px`,marginBottom:`-${E}px`}),[E]);return t.createElement("span",{style:v,className:(0,n.A)(O,d().container)},t.createElement("span",{style:M,className:d().primaryIcon},t.createElement(c.A,{id:I,size:f,allowTeamInitials:!0})),t.createElement("span",{style:S,className:d().secondaryIcon},t.createElement(c.A,{id:P,size:D,allowTeamInitials:!0})),t.createElement(T,{id:C,size:D,spacing:E}))}u(A,"ExternalWorkspaceIconStack"),A.displayName="ExternalWorkspaceIconStack";function y(p){let{size:f=_,className:O,workspaceId:I}=p;const P=(0,s.d4)(M=>(0,l._J)(M,I)),C=(0,s.d4)(M=>(0,a.m)(M,P));return(0,r.N)(P)?C?t.createElement(A,{workspaceId:I,externalWorkspaceHostId:C,size:f,className:O}):t.createElement(c.A,{id:I,size:f,className:O,allowTeamInitials:!0}):null}u(y,"ExternalWorkspaceIcon"),y.displayName="ExternalWorkspaceIcon"},9399618736:(x,g,e)=>{"use strict";e.d(g,{AV:()=>l,Cu:()=>m,Gu:()=>a,g4:()=>d,qn:()=>i});var t=e(4423055085),n=e(796111729),s=e(6188550760);let r=1,c=1;const o=(0,n.Wo)({label:"HISTORY-NAVIGATION"}),a=u(()=>{c!==r&&(o.info("Incrementing the users current position in the history stack"),c+=1)},"onNavigateForward"),l=u(()=>{c!==1&&(o.info("Decrementing the users current position in the history stack"),c-=1)},"onNavigateBack"),i=u(()=>c===1,"isBackDisabled"),d=u(()=>c===r,"isForwardDisabled");function _(){o.info("Adding route to the history stack"),c+=1,r=c}u(_,"incrementHistoryLength");function m(v){let{shouldReplaceState:T,reason:A}=v;T||A!==s.GB&&_()}u(m,"maybeIncrementHistoryLength"),(0,t.ul)("history",{getHistoryLength:()=>r,getHistoryIndex:()=>c});const h={maybeIncrementHistoryLength:m}},5670315214:(x,g,e)=>{"use strict";e.d(g,{Hu:()=>h,OJ:()=>M,q8:()=>P,vU:()=>C,wZ:()=>D});var t=e(6249041335),n=e(735940183),s=e(4813703725),r=e(5597672932),c=e(462591818),o=e(6565762531),a=e(1223723593),l=e(4808464886),i=e(3677514771),d=e(6470070112),_=e(6946629059),m=e(6790819894);const h={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},v=new n.Ay("huddles"),T=u((E,S)=>({video:[...E&&E.video?E.video:[]],audio:[...!S&&E&&E.audio?E.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),A=u(E=>{const S=E.reduce((U,L)=>(Object.entries(L).forEach(B=>{let[b,R]=B;(b==="video"||b==="audio")&&(U[b]=U[b]?[...U[b],...R]:[...R])}),U),{}),k={video:[],audio:[]};return Object.entries(S).forEach(U=>{let[L,B]=U;(L==="video"||L==="audio")&&(k[L]=B.filter((b,R,z)=>R===z.findIndex(w=>w.id===b.id&&w.id!==void 0)))}),k},"combineCallApps"),y=u(E=>{const k=(0,i.FR)(E).map(L=>(0,r.xp)(E,"calls_apps",L.id)).filter(_.b);return A(k)},"retrieveCallsAppsForUnifiedOrg"),p=u(E=>(0,l.ss)(E)?y(E):(0,r.xp)(E,"calls_apps"),"retrieveCallsAppsFromPrefs"),f=u((E,S)=>{const k=p(E);if(S){var U;const L=k==null||(U=k.video)===null||U===void 0?void 0:U.findIndex(B=>B.id===c.rq);L>=0&&k.video.splice(L,1)}return k},"filterCallsAppsFromTeamPref"),O=(0,s.ik)((E,S)=>f(E,S),E=>T(E,!1)),I=(0,s.ik)((E,S)=>f(E,S),E=>T(E,!0)),P=u(function(E){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?I(E,!0):O(E,!0)},"getCallsAppsFromTeamPref"),C=(0,m.F)(P,d.pt,(E,S)=>{const k={},U=E&&E.video?E.video:[],L=E&&E.audio?E.audio:[],B=v.t("Start a huddle"),b=S?[{id:"A01",name:B,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...U,...L,...b].forEach(R=>{let z;R.id===c.rq?z={id:R.id,name:R.name,image:R.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(w=>R.id===w)!==-1?z={id:R.id,name:R.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:z=R,k[z.id]=z}),k}),M=u(E=>{let{callsApp:S,memberPhoneNumber:k,hideVideoApps:U=!1}=E;const L=[];return S&&(!U&&S.video&&L.push(...S.video.map(B=>({...B,type:a.JG.Video}))),S.audio&&(0,o.A)((0,t.A)(k))&&L.push(...S.audio.map(B=>({...B,type:a.JG.Audio})))),L},"getCallAppList"),D=u(E=>{const S=f(E,!0),k=S&&S.video?S.video:[],U=S&&S.audio?S.audio:[];return[...k,...U]},"getFlattenTeamPrefCallsApps")},4980558152:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3134334389),n=e(4103274853),s=e(7715417323),r=e(3245843483),c=e(2664504268),o=e(3514831633),a=e(3588592544),l=e(7060103922);function i(){return i=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])}return m},i.apply(this,arguments)}u(i,"_extends");let d=u(class extends t.Component{onDesktopContextMenu(h){const{getTemplate:v,overrideDefaultMenu:T}=this.props,A=u(O=>({...O,id:(0,c.A)(),submenu:O.submenu&&O.submenu.map(A)}),"addIdsToItem"),y=v?v().map(A):[];if(!y.length)return;const{x:p,y:f}=(0,n.A)(this.getCoordinatesForContextMenu(h),O=>(0,r.xhB)()*O);(0,r.O0f)(y,{x:p,y:f,overrideDefaultMenu:T}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(h){if(!this.props.hasKeyboardFocus||!h)return{};const{left:v,top:T,width:A,height:y}=h.currentTarget.getBoundingClientRect(),p=v+A/2,f=T+y/2;return{x:p,y:f}}renderMenuFromTemplate(h){const{getTemplate:v,width:T,showSlackKitContextMenuOnDesktop:A,menuAriaLabel:y}=this.props;function p(O){return O.replace(/&([\w&])/g,(I,P)=>P)}u(p,"removeKeyboardAccelerators");const f=v?v().map(O=>!O.label||A?O:{...O,label:p(O.label)}):[];return f.length?t.createElement(o.a,i({"aria-label":y,width:T},h,{template:f,isContextMenu:!0,stripTerminalSeparators:!0})):null}render(){if((0,r.g9M)()&&!this.props.showSlackKitContextMenuOnDesktop)return(0,l.A)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:h,onClick:v,onClose:T,isDisabled:A,renderMenu:y,preventScroll:p}=this.props;return this.props.desktopAppOnly?(0,l.A)(this.props.children):t.createElement(o.cQ,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:h,shouldFade:!1,renderMenu:y||this.renderMenuFromTemplate,onClick:v,onClose:T,isDisabled:A,preventScroll:p},this.props.children)}constructor(h){super(h),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this)}},"ContextMenuTrigger");d.displayName="ContextMenuTrigger",d.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:s.A,onClose:s.A,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1};const _=(0,a.A)(d)},2837660778:(x,g,e)=>{"use strict";e.d(g,{$g:()=>I,Mo:()=>y,rp:()=>O});var t=e(6217320234),n=e(7823346015),s=e(3385422400),r=e(8161242485),c=e(735940183),o=e(3707193570),a=e(6839188756),l=e(9950739645),i=e(6536982570),d=e(8276911661),_=e(3677514771),m=e(8847766420),h=e(241752795),v=e(5962670951),T=e(8180302442);const A=new c.Ay("create_channel_modal"),y=(0,r.Ay)(P=>{const C=(0,d.cA)(P),M=(0,i.HI)(C),D=(0,_.H7)(P);if(!D)return[];const E=(0,m.VO)(P)||[],S=[D.id,...M,...E],k=[...new Set(S)].filter(U=>!(0,o.JV)(U)).map(U=>(0,_._J)(P,U)).filter(U=>!!U&&!(0,a.Zx)(U));return(0,t.A)(k,U=>(0,a.F1)(U))});y.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:P=>{const C=(0,d.cA)(P),M=(0,i.HI)(C),D=(0,_.H7)(P);if(!D)return[];const E=(0,m.VO)(P)||[],S=[D.id,...M,...E],k=[...new Set(S)].filter(U=>!(0,o.JV)(U)).map(U=>(0,_._J)(P,U)).filter(U=>!!U&&!(0,a.Zx)(U));return(0,t.A)(k,U=>(0,a.F1)(U))}};const p=u((P,C)=>{const M=C==null?void 0:C.map(D=>D.id);return P.map(D=>{var E,S;return{label:(0,a.F1)(D),value:D,optgroup:D.enterprise_name,key:D.id,isDisabled:!!(M!==void 0&&M.includes(D.id)),displayReason:(S=(E=C==null?void 0:C.find(k=>k.id===D.id))===null||E===void 0?void 0:E.displayReason)!==null&&S!==void 0?S:""}})},"mapWorkspacesToSelectOptionItems"),f=u((P,C)=>{let{ineligibleWorkspaces:M,excludeExternalWorkspaces:D}=C;const[E,S]=(0,n.A)(P,U=>(0,l.N)(U)),k={value:void 0,label:"",type:"divider"};return[...p(S,M),...!D&&E.length>0?[k,...p(E,M)]:[]]},"mapInvitableWorkspacesToSelectOptions"),O=(0,r.Ay)(P=>{const C=(0,T.g)(P),M=(0,h.y5)(P),D=(0,v.S)(P),E=y(P),S=E.filter(k=>!M.includes(k.id)&&!D.includes(k.id)).map(k=>({id:k.id,displayReason:C?"":A.t("You don\u2019t have access to this")}));return f(E,{ineligibleWorkspaces:S})});O.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:P=>{const C=(0,T.g)(P),M=(0,h.y5)(P),D=(0,v.S)(P),E=y(P),S=E.filter(k=>!M.includes(k.id)&&!D.includes(k.id)).map(k=>({id:k.id,displayReason:C?"":A.t("You don\u2019t have access to this")}));return f(E,{ineligibleWorkspaces:S})}};const I=(0,s.Mz)(y,P=>P.length>1)},9364044512:(x,g,e)=>{"use strict";e.d(g,{D:()=>sn,A:()=>Ve});var t=e(3134334389),n=e(6122756707),s=e(5255740490),r=e(9003400431),c=e(980293773),o=e(2293211408);function a($e){return $e&&$e.id}u(a,"getEmojiCollectionId");var l=e(370406050);function i($e){return $e&&$e.author}u(i,"getEmojiCollectionAuthor");var d=e(6045879501);function _($e){return $e&&$e.localEmoji}u(_,"getEmojiCollectionLocalEmoji");var m=e(735940183),h=e(2562405183),v=e(9113979368),T=e(2101927269),A=e(2141441167),y=e(6217320234),p=e(3783303734),f=e(4978843660),O=e(3004085654),I=e(7564917982);function P($e){return $e&&$e.date_create}u(P,"getEmojiCollectionDateCreate");var C=e(5071545805),M=e(2047021170),D=e(387484329),E=e(8840779375),S=e(5331686899),k=e(1610251172),U=e(7420598276),L=e(2036354333);const B=new m.Ay("custom_emoji_list"),b="emoji_packs_clicked_collection_cta",R=u($e=>{let{id:Et,name:It,author:Tt,emoji:Ct,installed:Wt,onClick:Gt}=$e;const wt=(0,n.wA)(),qt=(0,h.d4)(Zt=>(0,M.ty)(Zt,b)),Yt=(0,h.d4)(O.fl),In=(0,h.d4)(O._J);if(!Ct)return null;const yt=a(In)===Et&&Yt&&!qt;function bt(){yt&&wt((0,D.AZ)({pref:b,value:!0})),Gt()}u(bt,"handleOnClick");const Ht=(0,E.A)(Ct,(Zt,Mn)=>({name:Mn,url:Zt})),ln=(0,f.A)(Ht,4),rn=B.t("by {author}",{author:Tt});return t.createElement(L.A,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:bt},t.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.createElement("div",{className:"flex_one"},t.createElement("div",{className:"p-emoji_pack_card__header"},It,yt&&t.createElement("span",{className:"margin_left_25"},t.createElement(U.A,null,B.t("NEW")))),t.createElement("div",{className:"p-emoji_pack_card__subheader"},rn)),Wt&&!yt&&t.createElement("div",{className:"flex_none"},t.createElement(k.A,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.createElement("div",{className:"p-emoji_pack_card_rows"},ln.map(Zt=>t.createElement("div",{key:Zt.map(Mn=>`${Mn.name}-card-`).join(),className:"p-emoji_pack_card__row"},Zt.map(Mn=>t.createElement(S.Ay,{key:`emoji-pack-${Mn.name}`,showTooltip:!1,text:`:${Mn.name}:`,url:Mn.url,emojiSize:S.lw.LARGE})),[...new Array(4-Zt.length)].map((Mn,es)=>`emoji-pack-spacer-${es}`).map(Mn=>t.createElement("div",{key:Mn,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");R.displayName="EmojiPackCard";const z=R,w=new m.Ay("custom_emoji_list"),W=u(()=>{const $e=w.t("STAY TUNED"),Et=w.t("More emoji packs are on the way");return t.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.createElement(U.A,{className:"p-emoji_pack_coming_soon__pill"},$e),t.createElement("div",{className:"p-emoji_pack_coming_soon__text"},Et),t.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("g",{clipPath:"url(#clip0)"},t.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.createElement("defs",null,t.createElement("clipPath",null,t.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");W.displayName="EmojiPackComingSoon";const K=W,Y=new m.Ay("custom_emoji_list");function X($e){let{row:Et=[],className:It,onPackClick:Tt}=$e;return t.createElement("div",{key:Et.map(Ct=>`${a(Ct)}-row`).join(),className:It},Et.map(Ct=>{if(Ct.type==="coming_soon")return t.createElement(K,{key:"emoji-pack-coming-soon"});if(Ct.type==="spacer")return t.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const Wt=(0,C.j)(Ct);return t.createElement(z,{key:`emoji-pack-${a(Ct)}`,installed:Wt,id:a(Ct)||void 0,name:(0,l.M)(Ct),author:i(Ct),emoji:(0,d.H)(Ct),onClick:()=>Tt(Ct,{installed:Wt})})}))}u(X,"Row"),X.displayName="Row";function Z($e){let{orgName:Et,onPackClick:It}=$e;const Tt=(0,n.wA)(),Ct=(0,h.d4)(O.uI);if((0,t.useEffect)(()=>{Tt((0,I.H)({reason:"emojiPack:dialog"}))},[Tt]),(0,v.A)(Ct))return null;const Wt=(0,T.A)(Ct,Yt=>(0,C.j)(Yt)).length;let Gt=(0,A.A)(Ct);Gt=(0,y.A)(Gt,Yt=>-1*P(Yt)),(0,p.A)(Ct)<2&&Gt.push({type:"coming_soon"}),Gt.length%2!==0&&Gt.push({type:"spacer"});const wt=(0,f.A)(Gt,2);let qt;return Et?qt=Y.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.createElement("b",null,Et)}):qt=Y.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.createElement(c.$m,null,t.createElement(c.qf,null,t.createElement("div",null,Wt>0&&t.createElement("div",{className:"p-emoji_pack__header"},Y.t("Added"),t.createElement("div",{className:"p-emoji_pack__pill"},Wt)),t.createElement("div",{className:"p-emoji_pack__list"},wt.map(Yt=>t.createElement(X,{key:Yt.map(In=>`${a(In)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:Yt,onPackClick:It}))),t.createElement("div",{className:"p-emoji_pack__help"},qt))))}u(Z,"AddEmojiPackDialogContent"),Z.displayName="AddEmojiPackDialogContent";const ie=Z;var Ae=e(9391594207),ae=e(2003990933),V=e(7715417323),ve=e(9268023148),be=e(4426213732),Ue=e(56548687),Re=e(2219904496),ge=e(1030162945),ne=e(5733135148),ee=e(581167618),F=e(6084388622),H=e(1563996154),j=e(5795074931),N=e(5060694341),J=e(3842747943),le=e(1224315998),ce=e(3297051565),Ee=e.n(ce),ye=e(9746734072),Ie=e(7156798807),he=e(5109269968),Ce=e(5257368278),oe=e(330221449),de=e(8161242485);const De=(0,de.Ay)($e=>!$e||!$e.customizeEmoji||!$e.customizeEmoji.customEmojiData||!$e.customizeEmoji.customEmojiData.length?[]:$e.customizeEmoji.customEmojiData);De.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:$e=>!$e||!$e.customizeEmoji||!$e.customizeEmoji.customEmojiData||!$e.customizeEmoji.customEmojiData.length?[]:$e.customizeEmoji.customEmojiData};const Te=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.customEmojiTotalCount?$e.customizeEmoji.customEmojiTotalCount:0);Te.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.customEmojiTotalCount?$e.customizeEmoji.customEmojiTotalCount:0};const pe=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.currentPage?$e.customizeEmoji.currentPage:0);pe.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.currentPage?$e.customizeEmoji.currentPage:0};const Me=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.totalPages?$e.customizeEmoji.totalPages:0);Me.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.totalPages?$e.customizeEmoji.totalPages:0};const ke=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.isLoadingNewPage?$e.customizeEmoji.isLoadingNewPage:!1);ke.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.isLoadingNewPage?$e.customizeEmoji.isLoadingNewPage:!1};const Ke=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.isLoadingNewSearchQuery?$e.customizeEmoji.isLoadingNewSearchQuery:!1);Ke.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.isLoadingNewSearchQuery?$e.customizeEmoji.isLoadingNewSearchQuery:!1};const Ze=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.deletedEmojiList?$e.customizeEmoji.deletedEmojiList:[]);Ze.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.deletedEmojiList?$e.customizeEmoji.deletedEmojiList:[]};const Q=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.disabledEmoji?$e.customizeEmoji.disabledEmoji:{});Q.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.disabledEmoji?$e.customizeEmoji.disabledEmoji:{}};const se=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.sortDir?$e.customizeEmoji.sortDir:"asc");se.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.sortDir?$e.customizeEmoji.sortDir:"asc"};const He=(0,de.Ay)($e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.sortBy?$e.customizeEmoji.sortBy:"name");He.meta={name:"createSelector",key:"createSelectorgetSortBy",description:$e=>$e&&$e.customizeEmoji&&$e.customizeEmoji.sortBy?$e.customizeEmoji.sortBy:"name"};const Ge=(0,Ce.A)("Load the next page of custom emoji data",function($e,Et){let{count:It=100,queries:Tt,userIds:Ct,reason:Wt="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Gt=Et();$e((0,oe.en)(!0));const qt={page:pe(Gt)+1,count:It,sort_by:He(Gt),sort_dir:se(Gt)};return Tt&&(qt.queries=JSON.stringify(Tt)),Ct&&(qt.user_ids=JSON.stringify(Ct)),$e((0,he.apiCall)({method:"emoji.adminList",reason:Wt,args:qt})).then(Yt=>{$e((0,oe.en)(!1));const In=(0,ye.A)(Yt.disabled_emoji)?(0,Ie.A)(Yt.disabled_emoji,"name"):Yt.disabled_emoji;$e((0,oe.X8)({newCustomEmojiData:Yt.emoji,disabledEmoji:In,customEmojiTotalCount:Yt.custom_emoji_total_count,customEmojiSearchCount:Yt.paging.total,currentPage:Yt.paging.page,totalPages:Yt.paging.pages}))}).catch(Yt=>{throw Yt})});Ge.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},Ge.propTypes={queries:Ee().array,userIds:Ee().array};const Be=(0,Ce.A)("Load custom emoji data with a new search query",function($e,Et){let{queries:It,page:Tt=1,count:Ct=100,sortBy:Wt,sortDir:Gt,userIds:wt,reason:qt="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$e((0,oe.d$)(!0));const Yt={page:Tt,count:Ct};return It&&(Yt.queries=JSON.stringify(It)),wt&&(Yt.user_ids=JSON.stringify(wt)),Wt&&Gt&&(Yt.sort_by=Wt,Yt.sort_dir=Gt),$e((0,he.apiCall)({method:"emoji.adminList",reason:qt,args:Yt})).then(In=>{$e((0,oe.d$)(!1));const ft=(0,ye.A)(In.disabled_emoji)?(0,Ie.A)(In.disabled_emoji,"name"):In.disabled_emoji;$e((0,oe.Ot)({newCustomEmojiData:In.emoji,disabledEmoji:ft,customEmojiTotalCount:In.custom_emoji_total_count,customEmojiSearchCount:In.paging.total,currentPage:In.paging.page,totalPages:In.paging.pages,sortBy:Wt,sortDir:Gt}))}).catch(In=>{throw In})});Be.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},Be.propTypes={queries:Ee().array,page:Ee().number,count:Ee().number,sortBy:Ee().oneOf(["created","name"]),sortDir:Ee().oneOf(["asc","desc"]),userIds:Ee().array};const we=(0,Ce.A)("Deletes the given custom emoji",function($e,Et){let{emojiName:It,isPrimaryEmoji:Tt=!1,synonyms:Ct=[],reason:Wt="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $e((0,oe.gx)({emojiName:It,isPrimaryEmoji:Tt,synonyms:Ct})),$e((0,he.apiCall)({method:"emoji.remove",reason:Wt,args:{name:It}})).then(Gt=>Gt).then(()=>{(0,Ue.e)({state:Et()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(Gt=>{throw(0,Ue.e)({state:Et()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),Gt})});we.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},we.propTypes={emojiName:Ee().string,isPrimaryEmoji:Ee().bool,synonyms:Ee().array};const xe=(0,Ce.A)("Creates a new custom emoji or alias",function($e,Et){let{mode:It,name:Tt,aliasFor:Ct,image:Wt,searchArgs:Gt={},reason:wt="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $e((0,he.apiCall)({method:"emoji.add",reason:wt,args:{mode:It,name:Tt,alias_for:Ct,image:Wt}})).then(qt=>qt).then(()=>{$e(Be(Gt))}).catch(qt=>{throw qt})});xe.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},xe.propTypes={mode:Ee().string,name:Ee().string,aliasFor:Ee().string,image:Ee().object};const Oe=(0,Ce.A)("Gets the emoji data for a given emoji",function($e,Et){let{name:It,reason:Tt="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $e((0,he.apiCall)({method:"emoji.getInfo",reason:Tt,args:{name:It}})).then(Ct=>Ct).catch(Ct=>{throw Ct})});Oe.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},Oe.propTypes={name:Ee().string};const Xe=(0,Ce.A)("Renames the custom emoji with the new name",function($e,Et){let{oldName:It,newName:Tt,reason:Ct="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $e((0,he.apiCall)({method:"emoji.rename",reason:Ct,args:{name:It,new_name:Tt}})).then(Wt=>Wt).then(()=>{$e(Be()),$e((0,oe.S9)(It))}).catch(Wt=>{throw Wt})});Xe.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},Xe.propTypes={oldName:Ee().string,newName:Ee().string};var Ye=e(3456937405);function dt($e){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test($e)}u(dt,"isValidEmojiName");var mt=e(4244379358),it=e(9211483338);const At=new m.Ay("custom_emoji_list"),Ot={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let Kt=u(class extends t.PureComponent{componentDidMount(){const{clogger:Et}=this.props;Et.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:Et,uploadedImage:It,nameErrorText:Tt}=this.state,{emojiUrl:Ct}=this.props,Wt=Et.length>100;return!Et||Wt||!!Tt||!Ct&&!It}onDragOver(Et){Et.preventDefault(),Et.dataTransfer.dropEffect="copy"}onDrop(Et){Et.preventDefault();const It=Et.dataTransfer.files[0];if(It){const Tt=It.name,Ct=URL.createObjectURL(It);this.updateAfterUpload({uploadedImage:It,fileName:Tt,previewImageUrl:Ct})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(Et){const{standardEmojiData:It}=this.props;let Tt="";this.setState(()=>({newEmojiName:Et})),/[A-Z]/.test(Et)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(Et)?Tt=At.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):Et in It?Tt=At.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):dt(Et)?this.checkIfEmojiNameAlreadyExists(Et):Tt=At.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:Tt}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(Et){Et&&Et.preventDefault();const{newEmojiName:It,uploadedImage:Tt}=this.state,{emojiUrl:Ct}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const Gt={...{reason:"add-custom-emoji-dialog-content",name:It},...Ct?{mode:"url",url:Ct}:{mode:"data",searchArgs:this.props.searchArgs,...Tt?{image:Tt}:{}}};this.props.addCustomEmoji(Gt).then(()=>{this.props.closeModal();const wt=this.renderToastMessage();this.props.enqueueToast({element:wt}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:Ct?"import_custom_emoji":"add_custom_emoji",action:Ct?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(wt=>{let qt;const Yt=(0,ae.A)(wt,"data.error");(Yt===Ye.W.NoUrlProvided||Yt===Ye.W.NoUrlImage)&&(qt=At.t("Something happened that prevented the image from being imported. Try again?")),Yt==="error_bad_upload"?qt=At.t("Something happened that prevented your file from being uploaded. Try again?"):Yt==="error_bad_format"?qt=At.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):Yt==="resized_but_still_too_large"||Yt==="too_many_frames"?qt=At.t("This image is a bit too big, even after resizing. A smaller file might help?"):Yt==="error_too_big"?qt=At.t("Please choose an image smaller than 64KB."):Yt==="error_name_taken_i18n"?qt=At.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:It}):Yt==="error_name_taken"?qt=At.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:It}):(Yt==="error_bad_name"||Yt==="error_bad_name_i18n")&&(qt=At.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:qt,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var Et,It;const Tt=!((Et=this.fileInput)===null||Et===void 0||(It=Et.current)===null||It===void 0)&&It.files?this.fileInput.current.files[0]:null;if(Tt){const Ct=Tt.name,Wt=URL.createObjectURL(Tt);this.updateAfterUpload({uploadedImage:Tt,fileName:Ct,previewImageUrl:Wt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:Et}=this.props;Et&&this.setState(()=>({previewImageUrl:Et,imagePreviewError:!1}))}convertFileNameToEmojiName(Et){if(!Et)return null;const It=Et.lastIndexOf("."),Tt=It>0?Et.substring(0,It):Et;return Tt?Tt.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(Et){let{uploadedImage:It,fileName:Tt,previewImageUrl:Ct}=Et;const{newEmojiName:Wt,fileName:Gt}=this.state;let wt=Wt;(!Wt||Wt===this.convertFileNameToEmojiName(Gt))&&(wt=this.convertFileNameToEmojiName(Tt)||wt),this.setState(()=>({uploadedImage:It,fileName:Tt,previewImageUrl:Ct,imagePreviewError:!1}),()=>this.onEmojiNameChange(wt))}fileUpload(){var Et;const It=(Et=this.props.windowRef.deref())===null||Et===void 0?void 0:Et.document.getElementById("emojiimg");It==null||It.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:Et,nameErrorText:It}=this.state;return t.createElement("ol",{className:"black margin_bottom_0",start:2},t.createElement("li",{className:"margin_bottom_0"},t.createElement("div",null," ",At.t("Give it a name")," "),t.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},At.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.createElement(Re.A,{id:"emojiname",name:"name",value:Et,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:It,"data-qa":Ot.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:Et,nameErrorText:It}=this.state,Tt=At.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return It===Tt?t.createElement("div",{className:"inline_flex full_width","data-qa":Ot.ADD_DIALOG_DUPLICATE_PREVIEW},t.createElement(ge.Ay,{text:Et,alt:Et,emojiSize:"larger",className:"flex_shrink_none"}),t.createElement("div",{className:"padding_left_50 overflow_hidden"},t.createElement("strong",null,At.t("Existing emoji")),t.createElement("span",{className:"block normal overflow_ellipsis"},":",Et,":"))):null}renderDialogMessage(){const{orgName:Et}=this.props;let It;return Et?It=At.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:Et}):It=At.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":Ot.ADD_DIALOG_MESSAGE},t.createElement("div",null,It),t.createElement("div",null,this.renderErrorMessage()),t.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:Et}=this.state;return Et?t.createElement(ee.Ay,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":Ot.ADD_DIALOG_ERROR},t.createElement("span",null," ",Et," ")):null}renderImagePreview(){const{previewImageUrl:Et}=this.state,It=t.createElement("img",{src:Et,alt:At.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:Tt}=this.state;return Tt?t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":Ot.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.createElement(H.Ay,{tip:At.t("We couldn't preview your image. Make sure it's a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.createElement(k.A,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":Ot.ADD_DIALOG_IMAGE_PREVIEW},It)}renderPlaceholderText(){const{placeholder:Et}=this.state;let It;return Et?It=At.t("avocado"):It="",It}renderToastMessage(){const{newEmojiName:Et,previewImageUrl:It}=this.state,Tt=t.createElement(ge.Ay,{text:Et,url:It,emojiSize:ge.lw.MEDIUM}),Ct=At.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:Tt,newEmojiName:Et});return t.createElement(ne.Ay,{toastClasses:"p-customize_emoji_list__toast"},t.createElement("span",null,Ct))}renderUploadImagePrompt(){const{emojiUrl:Et}=this.props,It=At.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),Tt=t.createElement(t.Fragment,null,t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),Ct=Et?At.t("Import external emoji"):At.t("Upload an image");return t.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":Ot.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.createElement("li",{className:"large_bottom_margin"},t.createElement("div",null," ",Ct," "),!Et&&t.createElement("div",{className:"normal sk_foreground_max"},It),t.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},Tt,!Et&&t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":Ot.ADD_DIALOG_FILE_INPUT}),t.createElement(F.Ay,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":Ot.ADD_DIALOG_UPLOAD}," ",At.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:Et}=this.state,{emojiUrl:It}=this.props;let Tt;return Et||It?Tt=this.renderImagePreview():Tt=t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":Ot.ADD_DIALOG_UPLOAD_PREVIEW},t.createElement(k.A,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),Tt}renderUploadedFileText(){const{fileName:Et}=this.state;let It;return Et?It=t.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",Et," "):It=t.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",At.t("Select an image")," "),It}render(){const{goButtonIsPending:Et}=this.state,It=this.shouldPreventSubmit();return t.createElement(t.Fragment,null,t.createElement(c.$m,null,t.createElement(c.qf,{"data-qa":`${Ot.ADD_DIALOG}_body`},this.renderDialogMessage())),t.createElement(c.jl,null,t.createElement(c.ox,null,t.createElement(c.s_,{type:"outline","aria-label":At.t("Cancel")},At.t("Cancel")),t.createElement(F.lV,{type:"primary",onClick:this.onSubmit,loading:Et,disabled:It,"data-qa":`${Ot.ADD_DIALOG}_go`,"aria-label":At.t("Save")},At.t("Save")))))}constructor(Et){super(Et),this.fileInput=t.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=It=>{this.props.getEmojiInfo({name:It}).then(()=>{this.state.newEmojiName===It&&this.setState(()=>({nameErrorText:At.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(V.A)},this.checkIfEmojiNameAlreadyExists=(0,ve.A)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.createRef(),this.eventId=Et.clientApp?le.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:le.EventId.PAGE_CUSTOMIZE_EMOJI,(0,be.v)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");Kt.displayName="AddCustomEmojiDialogContent",Kt.defaultProps={standardEmojiData:{},addCustomEmoji:V.A,enqueueToast:V.A,clientApp:!1,closeModal:V.A,getEmojiInfo:V.A,searchArgs:{},emojiNameSuggestion:"",windowRef:(0,it.O)(window)};const Xt=u($e=>({addCustomEmoji:Et=>$e((0,Ye.l)(Et)),enqueueToast:function(){for(var Et=arguments.length,It=new Array(Et),Tt=0;Tt<Et;Tt++)It[Tt]=arguments[Tt];return $e((0,N.M)(...It))},closeModal:()=>$e((0,r.O)()),getEmojiInfo:function(){for(var Et=arguments.length,It=new Array(Et),Tt=0;Tt<Et;Tt++)It[Tt]=arguments[Tt];return $e(Oe(...It))}}),"mapDispatchToProps"),vn=u($e=>({standardEmojiData:(0,J.O)($e),clientApp:(0,j.TZ)($e),clogger:(0,Ue.e)({state:$e})}),"mapStateToProps"),Sn=(0,Ae.N)(vn,Xt)((0,mt.A)(Kt));var jt=e(1194535350),hn=e(4318855015),xt=e(5510392579),Dn=e(9236644324),St=e(6105929840),dn=e(5305906809);const fn=new m.Ay("custom_emoji_list"),un=u($e=>{let{adding:Et,name:It}=$e;const Tt=(0,n.wA)();return t.createElement(ne.Ay,{onCloseComplete:()=>{Et&&Tt((0,hn.su)())}},t.createElement("span",{"data-qa":"emoji-pack-action"},Et&&fn.rt("The {name} emoji pack has been added to your workspace.",{name:t.createElement("b",null,It)}),!Et&&fn.rt("The {name} emoji pack has been removed from your workspace.",{name:t.createElement("b",null,It)})))},"InstallToast");un.displayName="InstallToast";const _n=u($e=>{let{name:Et,url:It,index:Tt,copyToClipboard:Ct,onClose:Wt}=$e;const Gt=(0,n.wA)(),wt=t.createElement(S.Ay,{showTooltip:!0,text:Et,url:It,emojiSize:S.lw.LARGE});function qt(){(0,Dn.x3)(Et),Wt&&Wt(),Gt((0,r.O)()),Gt((0,N.M)({element:t.createElement(ne.Ay,null,t.createElement("span",null,fn.rt("Emoji copied to clipboard",{name:Et})))}))}return u(qt,"onClick"),qt.displayName="onClick",Ct&&(0,Dn.tD)()?t.createElement(L.A,{className:"p-emoji_pack_details__button","data-color-index":Tt%dn.dX,onClick:qt},wt):wt},"EmojiButton");_n.displayName="EmojiButton";const tn=u($e=>{let{collectionId:Et,name:It,author:Tt,installed:Ct,emoji:Wt,onCancelClick:Gt,onClose:wt}=$e;const qt=(0,n.wA)(),Yt=(0,h.d4)(xt.h3),[In,ft]=(0,t.useState)(!1),yt=(0,t.useCallback)(()=>{ft(!0),qt((0,jt._J)({collectionId:Et,reason:"emojiPack:dialog"})).then(()=>{ft(!1),wt&&wt(),qt((0,r.O)()),qt((0,N.M)({element:t.createElement(un,{adding:!0,name:It})}))})},[qt,Et,It,wt]),[bt,Ht]=(0,t.useState)(!1),ln=(0,t.useCallback)(()=>{Ht(!0),qt((0,jt.zx)({collectionId:Et,reason:"emojiPack:dialog"})).then(()=>{Ht(!1),wt&&wt(),qt((0,r.O)()),qt((0,N.M)({element:t.createElement(un,{adding:!1,name:It})}))})},[qt,Et,It,wt]);if(!Wt)return null;const rn=(0,E.A)(Wt,(Yn,wn)=>({name:wn,url:Yn})).map((Yn,wn)=>({...Yn,index:wn})),Zt=(0,f.A)(rn,5),Mn=fn.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:(0,p.A)(Wt)}),es=fn.t("by {author}",{author:Tt}),jn=t.createElement(t.Fragment,null,t.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},es),Mn),Kn=t.createElement(St.A,{"aria-label":fn.t("Go back"),svgIconProps:{name:"caret-left-full"},onClick:()=>Gt()});return t.createElement(t.Fragment,null,t.createElement(c.rQ,null,t.createElement(c.Rc,{icon:Kn,title:It,subtitle:jn})),t.createElement(c.$m,null,t.createElement(c.qf,null,Zt.map(Yn=>t.createElement("div",{key:Yn.map(wn=>wn.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},Yn.map(wn=>t.createElement(_n,{key:`emoji-pack-details-${wn.name}`,name:`:${wn.name}:`,url:wn.url,index:wn.index,copyToClipboard:Ct,onClose:wt})),[...new Array(5-Yn.length)].map((wn,Rt)=>`emoji-pack-details-spacer-${Rt}`).map(wn=>t.createElement("div",{key:wn,className:"p-emoji_pack_details__emoji_spacer"})))))),t.createElement(c.jl,null,Ct&&(0,Dn.tD)()&&t.createElement("span",{className:"p-emoji_pack_details__tip"},fn.t("Click an emoji to copy to clipboard")),t.createElement(c.ox,null,Ct&&Yt&&t.createElement(F.lV,{autoFocus:!0,type:"danger",loading:bt,onClick:ln,"aria-label":fn.t("Remove pack")},fn.t("Remove pack")),!Ct&&t.createElement(F.lV,{autoFocus:!0,loading:In,onClick:yt,"aria-label":fn.t("Add pack")},fn.t("Add pack")))))},"EmojiPackDetails");tn.displayName="EmojiPackDetails";const nn=tn;var An=e(1655938719);const yn=new m.Ay("custom_emoji_list"),sn={CUSTOM:"custom",PACKS:"packs"},Nn=u($e=>{let{orgName:Et="",searchArgs:It={},showEmojiPacks:Tt,initialTab:Ct=sn.CUSTOM,emojiNameSuggestion:Wt="",emojiUrl:Gt,megaphoneEventOnClose:wt}=$e;const qt=(0,n.wA)(),[Yt,In]=(0,t.useState)(Ct),[ft,yt]=(0,t.useState)(!1),[bt,Ht]=(0,t.useState)(null),ln=Gt?yn.t("Add emoji to your organization"):void 0,rn=Tt?yn.t("Add emoji"):yn.t("Add custom emoji"),Zt=ln??rn,Mn=yn.t("Emoji packs"),es=yn.t("Custom emoji"),jn=(0,t.useMemo)(()=>[{title:es,id:sn.CUSTOM,onClick:()=>In(sn.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:Mn,id:sn.PACKS,onClick:()=>In(sn.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[es,Mn]),Kn=(0,t.useCallback)(()=>{wt&&qt((0,An.iR)({event:{type:wt}}))},[qt,wt]),Yn=(0,t.useCallback)(()=>{Kn(),qt((0,r.O)())},[qt,Kn]),wn=Tt&&Yt===sn.PACKS,Rt=Tt?t.createElement(o.A,{tabs:jn,currentTabId:Yt,className:"p-add_custom_emoji_dialog__tabs",ariaLabel:Zt}):null,je=(0,s.A)("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!Tt});return Tt&&bt?t.createElement(c.dW,{closeModal:Yn,isOpen:!0,className:je},t.createElement(nn,{collectionId:a(bt),name:(0,l.M)(bt),author:i(bt),emoji:ft?_(bt):(0,d.H)(bt),installed:ft,onCancelClick:()=>{Ht(null)},onClose:Kn})):t.createElement(c.dW,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:Yn,isOpen:!0,className:je},t.createElement(c.rQ,null,t.createElement(c.Rc,{title:Zt,className:"no_min_height padding_bottom_50"}),Rt),wn&&t.createElement(ie,{orgName:Et,onPackClick:(qe,st)=>{let{installed:q}=st;yt(q),Ht(qe)}}),!wn&&t.createElement(Sn,{orgName:Et,searchArgs:It,emojiNameSuggestion:Wt,emojiUrl:Gt}))},"AddEmojiDialog");Nn.displayName="AddEmojiDialog";const Ve=Nn},5331686899:(x,g,e)=>{"use strict";e.d(g,{lw:()=>U,Ay:()=>z});var t=e(7752974446),n=e.n(t),s=e(3134334389),r=e(2562405183),c=e(9391594207),o=e(5255740490),a=e(2047021170),l=e(8525228540),i=e(8847766420),d=e(3829348308),_=e(3043682041),m=e(9599231336),h=e(735940183),v=e(8556787853),T=e(5799716058),A=e(4921059838),y=e(6795568989),p=e(3695531806),f=e(1563996154),O=e(1610251172),I=e(796111729);function P(){return P=Object.assign||function(w){for(var W=1;W<arguments.length;W++){var K=arguments[W];for(var Y in K)Object.prototype.hasOwnProperty.call(K,Y)&&(w[Y]=K[Y])}return w},P.apply(this,arguments)}u(P,"_extends");function C(w){return class extends s.PureComponent{componentDidCatch(W,K){this.setState(()=>({hasError:!0})),(0,I.Wo)().error({label:"Error rendering emoji component",error:W,message:K})}render(){return this.state.hasError?s.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},s.createElement("img",{src:n()})):s.createElement(w,P({},this.props))}constructor(W){super(W),this.state={hasError:!1}}}}u(C,"withEmojiErrorBoundary"),C.displayName="withEmojiErrorBoundary";const M=C;var D=e(9580887194),E=e(8021873188),S=e(9936232041);function k(){return k=Object.assign||function(w){for(var W=1;W<arguments.length;W++){var K=arguments[W];for(var Y in K)Object.prototype.hasOwnProperty.call(K,Y)&&(w[Y]=K[Y])}return w},k.apply(this,arguments)}u(k,"emoji_extends");const U={SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},L=u(w=>{const W=(0,r.d4)(K=>{if(!w.isStandard)return w.url;var Y;const X=(Y=w.sourceTeamId)!==null&&Y!==void 0?Y:(0,i.ZT)(K);return w.isStandard?(0,d.Ez)(K,{text:w.text||"",teamId:X,emojiMode:(0,_.w)(K,{forceDisplay:!!w.forceDisplay}),emojiSize:U.XLARGE}):w.url});return s.createElement(B,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:U.LARGER,text:w.text,displayText:w.displayText,url:W||"",sourceTeamId:w.sourceTeamId,ariaLabel:w.ariaLabel,alt:w.alt,unicode:w.unicode,emojiNameFromText:w.emojiNameFromText,dispatch:w.dispatch,stopAnimations:w.stopAnimations,fallbackUrl:w.fallbackUrl,isStandard:w.isStandard})},"EmojiTooltipEmoji");L.displayName="EmojiTooltipEmoji";let B=u(class extends s.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return s.createElement(O.A,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:W}=this.state,{isImportAllowed:K,isStandard:Y}=this.props;return K&&!Y&&!W}renderEmojiElement(){const{text:W,displayText:K,url:Y,emojiSize:X,isEmojiInlineWithText:Z,className:ie,shouldFallbackOnLoadError:Ae,fallbackUrl:ae,ariaLabel:V,alt:ve}=this.props,{isLoadError:be}=this.state,Ue=(0,o.A)("c-emoji",`c-emoji__${X}`,ie,{"c-emoji--inline":Z}),Re=V??(K&&(0,T.A)(K)),ge={"data-stringify-type":"emoji","data-stringify-emoji":W},ne=this.isImportable()?this.handleEmojiImport:void 0;return Z?s.createElement("span",{className:Ue,"data-qa":(be||!Y)&&Ae?"emoji-fallback":"emoji"},s.createElement("img",k({src:(be||!Y)&&Ae?ae:Y,onError:this.onLoadError,onContextMenu:ne,"aria-label":Re,alt:K},ge))):s.createElement("img",k({src:(be||!Y)&&Ae?ae:Y,onError:this.onLoadError,"aria-label":Re,alt:ve??K,className:Ue,onContextMenu:ne,"data-qa":(be||!Y)&&Ae?"emoji-fallback":"emoji"},ge))}renderUnicodeAsEmoji(W){if(W&&(0,y.d)(W)){const{emojiSize:K}=this.props,Y=(0,p.z)({codePointLikeString:W});return s.createElement("span",{className:(0,o.A)("c-emoji__unicode",{"c-emoji__unicode--large":K===U.LARGE})},Y)}}renderTooltip(){const{renderAsText:W,displayText:K,text:Y,isStandard:X,url:Z,unicode:ie,sourceTeamId:Ae,ariaLabel:ae,alt:V,emojiNameFromText:ve,stopAnimations:be,fallbackUrl:Ue,forceDisplay:Re}=this.props;if(W)return K;const ge=X?void 0:Z;return s.createElement(s.Fragment,null,s.createElement("div",{className:"c-emoji__emoji-tooltip"},s.createElement(L,{text:Y,displayText:K,url:ge,sourceTeamId:Ae,ariaLabel:ae,alt:V,unicode:ie,emojiNameFromText:ve,dispatch:this.props.dispatch,stopAnimations:be,fallbackUrl:Ue,isStandard:X,forceDisplay:Re})),K,this.isImportable()&&s.createElement(E.K,{emojiName:K,emojiUrl:Z}))}render(){const{displayText:W,url:K,renderAsText:Y,showTooltip:X,iconInTextMode:Z,renderEmojiFallback:ie,unicode:Ae,emojiNameFromText:ae}=this.props;if(!K&&!W&&!Ae)return null;if((Y||!K)&&!ie&&!Ae)return Z?this.renderIconFallback():W;if(Ae&&!ae){var V;return(V=this.renderUnicodeAsEmoji(Ae))!==null&&V!==void 0?V:W}return X?s.createElement(f.Ay,{tip:this.renderTooltip,delay:f.PK,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(W){super(W),this.handleEmojiImport=K=>{if(K!=null&&K.altKey)return;const{url:Y,dispatch:X,displayText:Z}=this.props;X((0,D.a)({emojiName:Z,emojiUrl:Y,event:K}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");B.displayName="Emoji",B.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:U.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0};const b=u((w,W)=>{const{stopAnimations:K,forceDisplay:Y,emojiSize:X=U.MEDIUM,url:Z,unicode:ie}=W;let{text:Ae}=W,ae=(0,d.qJ)(w,ie??"");ae&&ae.charAt(ae.length-1)!==":"&&ae.charAt(0)!==":"&&(ae=`:${ae}:`),Ae=ae||Ae||"";let V=Z;const ve=(0,i.ZT)(w)||"",be=!(0,a.ty)(w,"a11y_animations"),Ue=K||be,Re=(0,h.Yp)({teamOrEnterpriseId:ve,recalc:!1}),ge=(0,l.bR)({state:w,locale:Re,name:Ae}),ne=!Y&&(0,m.P)(w),ee=(0,S.A)(Ae),F=(0,A.R)(w,ee);if(!ne&&!V){const N=(0,_.w)(w,{forceDisplay:!!Y});var H;const J=(H=W.sourceTeamId)!==null&&H!==void 0?H:ve;V=(0,d.Ez)(w,{text:Ae,parsedEmoji:ee,teamId:J,emojiMode:N,emojiSize:X===U.LARGER?U.XLARGE:X})||void 0}if(Ue&&!F){var j;V=(j=(0,v.Ay)(w,{url:V,stopAnimations:Ue,isEmoji:!0}))!==null&&j!==void 0?j:void 0}return{text:Ae,url:V,renderAsText:ne,emojiSize:X,displayText:ge||"",stopAnimations:Ue,fallbackUrl:n(),isStandard:F,emojiNameFromText:ae}},"mapStateToProps"),R={mapStateToProps:b},z=M((0,c.N)(b)(B))},1030162945:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>n,lw:()=>t.lw});var t=e(5331686899);const n=t.Ay},4899054948:(x,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3134334389),n=e(9391594207),s=e(5255740490),r=e(3879245650),c=e(3202757386),o=e(4724591729),a=e(735940183),l=e(6084388622),i=e(8739505998),d=e(796111729),_=e(2786906754),m=e(9190452268),h=e(6968387112),v=e(7545496485);const A=u(M=>!!(0,v.w)(M).isWorkspace,"looksLikeWorkspaceState");var y=e(2229064554),p=e(8022922400),f=e(6338445630);const O=new a.Ay("error_boundary"),I="REB";let P=u(class extends t.Component{componentDidUpdate(D){this.state.hasError&&D.id!==this.props.id&&this.resetHasError()}componentDidCatch(D,E){let S=null;try{S=`${I}${(0,r.B)((0,p.A)(D.message)).substr(0,9).toUpperCase()}`}catch{}if(this.setState(()=>({hasError:!0,errCode:S}),()=>{var U,L;return(L=(U=this.props).onError)===null||L===void 0?void 0:L.call(U,D)}),!(0,o.Cu)()){var k;const U=E==null||(k=E.componentStack)===null||k===void 0?void 0:k.split(`
`).slice(0,Error.stackTraceLimit).join(`
`);this.props.logger.error("ERROR-BOUNDARY",D,S,U,{subtype:this.props.subtype||"component_error_boundary"})}}onClickReloadButton(D){D.preventDefault();let E=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),(0,c.A)()?(E=(0,_.M6)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${E} after hitting ErrorBoundary`),(0,f.Lz)().finally(()=>{window.location.href=E})):(this.props.logger.info("LEGACY",`Reloading at ${E} after hitting ErrorBoundary`),window.location.href=E)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const D=u(E=>{let{text:S,key:k}=E;return t.createElement(i.A,{href:`https://${(0,h.qF)()}/help/contact`,rel:"noopener noreferrer",key:k},S)},"renderLink");return this.state.errCode==="REBD7A8C1099"?O.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},D):O.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,D)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const D=(0,s.A)("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.createElement("div",{className:D},t.createElement("div",{className:"p-error_boundary__content"},t.createElement("div",{className:"p-error_boundary__message"},t.createElement("h1",{className:"p-error_boundary__heading"},t.createElement("span",null,O.t("Something went wrong")),t.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":O.t("Something went wrong")},"\u{1F422}")),t.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.createElement(y.A,{errCode:this.state.errCode}),t.createElement(l.Ay,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},O.t("Reload"))))}return this.props.children}constructor(D){super(D),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");P.displayName="ErrorBoundary";const C=(0,n.N)(M=>({logger:A(M)?(0,d.Ay)({state:M}):(0,d.Wo)(),telemeter:A(M)?(0,m.Cy)({state:M}):(0,m.rh)()}))(P)},2229064554:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(735940183);const s=new n.Ay("error_boundary");function r(c){let{errCode:o}=c;return t.createElement("p",{className:"p-error_boundary__error_code_container"},t.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},s.t("Error: "),o))}u(r,"ErrorCode")},3837503631:(x,g,e)=>{"use strict";e.d(g,{H:()=>o,A:()=>a});var t=e(4899054948),n=e(3134334389);function s(){return s=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var d=arguments[i];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(l[_]=d[_])}return l},s.apply(this,arguments)}u(s,"_extends");const r=u(()=>null,"renderError"),o=u(l=>n.createElement(t.A,s({renderError:r},l)),"QuietErrorBoundary"),a=t.A},8022922400:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});const t=/\bA[A-Z0-9]{8,}\b/g,n=/\bB[A-Z0-9]{8,}\b/g,s=/\b(C|G|D)[A-Z0-9]{8,}\b/g,r=/\bF[A-Z0-9]{8,}\b/g,c=/\b(U|W)[A-Z0-9]{8,}\b/g,o=/\b[\d]{10}\.[\d]{6}\b/g,a=/\bS[A-Z0-9]{8,}\b/g,l=/\bT[A-Z0-9]{8,}\b/g;function i(d){return String(d).replace(t,"[APP_ID]").replace(n,"[BOT_ID]").replace(s,"[CHANNEL_ID]").replace(r,"[FILE_ID]").replace(c,"[MEMBER_ID]").replace(o,"[MESSAGE_TS]").replace(a,"[USER_GROUP_ID]").replace(l,"[TEAM_ID]")}u(i,"normalizeError")},5141066605:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(735940183),n=e(5549390246),s=e(4761125736);const r=new t.Ay("files");function c(o,a){if(!o.is_external)return null;if((0,s._Z)(a,"file_consistency")==="treatment"){let i="File";switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":i=r.t("Google Sheet");break;case"gdoc":i=r.t("Google Doc");break;case"gpres":i=r.t("Google Slide");break;case"gdraw":i=r.t("Google Drawing");break;default:i=r.t("Google {fileType}",{fileType:o.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":i=r.t("{fileType}",{fileType:o.pretty_type});break;default:i=r.t("File")}return i}switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":return r.t("Spreadsheet from Google Drive");case"gdoc":return r.t("Document from Google Drive");case"gpres":return r.t("Presentation from Google Drive");case"gdraw":return r.t("Drawing from Google Drive");default:return r.t("{fileType} from Google Drive",{fileType:o.pretty_type})}case"dropbox":return r.t("{fileType} from Dropbox",{fileType:o.pretty_type});case"box":return r.t("{fileType} from Box",{fileType:o.pretty_type});case"onedrive":return r.t("{fileType} from OneDrive",{fileType:o.pretty_type});case"app":return r.t("{fileType} from {appName}",{fileType:o.pretty_type,appName:(0,n.Y)(a,o)||""});default:return r.t("File")}}u(c,"getExternalFiletypeDescription")},8642919232:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(9706240641),n=e.n(t),s=e(6304789565),r=e(8950789382),c=e(8677230210);const o=(0,s.Ay)("Opens a member profile in a tile",function(){var l=(0,t.coroutine)(function*(i,d,_){(0,c.wC)(d(),_)&&i((0,r.s)({viewId:"rimeto_profile",params:{memberId:_}}))});return function(i,d,_){return l.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkopenProfileInWindow",description:"Opens a member profile in a tile"};const a=o},6565762531:(x,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(n){return!!(n&&n!=="-")}u(t,"isValidFieldValue")},7969928607:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(5734673180),s=e(8509961938),r=e(1030162945),c=e(6818330210);function o(l){let{text:i="",inputIsEscaped:d=!1,emojiSize:_=r.lw.SMALL,showTooltips:m=!0,stopAnimations:h=!1,emojiDisplayInfo:v={}}=l;const T=[];let A=0;const y=d?(0,n.A)(i??""):i??"";if(y.replace((0,s.A)(),(p,f,O)=>{if(O>A){const C=y.slice(A,O);T.push(t.createElement(t.Fragment,{key:`${O}-${C}`},C))}const{name:I=p,url:P=void 0}=(0,c.H)(p,v);return T.push(t.createElement(r.Ay,{text:I,emojiSize:_,key:`${O}-${I}`,showTooltip:m,stopAnimations:h,isEmojiInlineWithText:!0,url:P})),A=O+p.length,""}),!T.length)return t.createElement(t.Fragment,null,y);if(A<y.length){const p=y.substr(A);T.push(t.createElement(t.Fragment,{key:`last-${p}`},p))}return t.createElement(t.Fragment,null,T)}u(o,"FormatTextWithEmoji"),o.displayName="FormatTextWithEmoji";const a=t.memo(o)},6159136815:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(5734673180),s=e(7969928607);const r=/\ue000([^\ue001]*)\ue001/g;function c(a){let{text:l="",inputIsEscaped:i=!1,showTooltips:d=!0,stopAnimations:_=!1}=a;const m=[];let h=0;const v=i?(0,n.A)(l??""):l??"";if(v.replace(r,(T,A,y)=>{if(y>h){const p=v.slice(h,y);m.push(t.createElement(s.A,{key:`${y}-${p}`,text:p,showTooltips:d,inputIsEscaped:i,stopAnimations:_}))}m.push(t.createElement("span",{className:"c-mrkdwn__highlight",key:`${y}-${A}`},t.createElement(s.A,{text:A,showTooltips:d,inputIsEscaped:i,stopAnimations:_}))),h=y+T.length}),!m.length&&l)return t.createElement(t.Fragment,null,t.createElement(s.A,{text:l,showTooltips:d,inputIsEscaped:i,stopAnimations:_}));if(l&&h<l.length){const T=v.substr(h);m.push(t.createElement(s.A,{key:`last-${T}`,text:T,showTooltips:d,inputIsEscaped:i,stopAnimations:_}))}return t.createElement(t.Fragment,null,m)}u(c,"FormatTextWithHighlightMarkers"),c.displayName="FormatTextWithHighlightMarkers";const o=t.memo(c)},1743656885:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(8951118047);const n=t.A},8808892924:(x,g,e)=>{"use strict";e.d(g,{i:()=>D});var t=e(3134334389),n=e(8212623464),s=e(5255740490),r=e(3391133100),c=e(2562405183),o=e(8847766420),a=e(3288846409),l=e(6533394955),i=e(6470070112),d=e(3462964303),_=e(1563996154),m=e(5286203919),h=e(1766818988),v=e(9548972574),T=e(8683010724),A=e(543174729);const y=t.memo(E=>{let{id:S}=E;return t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:S,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))});var p=e(1407713935),f=e(9101533895),O=e(796111729);function I(){return I=Object.assign||function(E){for(var S=1;S<arguments.length;S++){var k=arguments[S];for(var U in k)Object.prototype.hasOwnProperty.call(k,U)&&(E[U]=k[U])}return E},I.apply(this,arguments)}u(I,"_extends");const P=2;function C(E){let{channelId:S,withTooltip:k,className:U,excludeIcon:L,excludeMemberOverflowCount:B,maxMembers:b=P,avatarSize:R=d.RG.verySmall,includeChannelNameInTooltip:z=!1,excludeSelf:w=!1}=E;const W=(0,t.useMemo)(()=>`huddles-mask-${(0,r.r9)()}`,[]),K=(0,t.useMemo)(()=>({"--huddles-mask":`url(#${W})`,"--huddles-avatar-size":`${R}px`}),[W,R]),Y=(0,c.d4)(H=>(0,i.pt)(H)||(0,h.s)(H)),X=(0,c.d4)(H=>(0,f.OL)(H,S)),Z=(0,a.cw)(m.hc),ie=(0,a.cw)(m.vO),ae=Z===S&&(0,i.pZ)(ie),V=(0,c.Z2)(H=>(0,v.A7)(H,S,w)),ve=V.length,be=ve>b,Ue=be?ve-2:0,Re=be?V.slice(0,b):V,ge=(0,t.useMemo)(()=>{const H=z&&!(0,p.PC)(X),j=t.createElement(A.A,{channelId:S,includeChannelName:H});return j||(0,O.Wo)().info("HUDDLE-FACEPILE",`channelId: ${S}, includeChannelName: ${H}`),j},[S,z,X]),ne=(0,t.useCallback)(()=>null,[]);if(!Y||!ve)return null;const ee=t.createElement("div",{className:(0,s.A)("p-huddle_avatar_stack",U),"data-qa":"huddle_avatar_stack__avatars_container",style:K},t.createElement(y,{id:W}),!L&&t.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.createElement(T.A,{name:"headphones",size:"18"})),Re.map((H,j)=>t.createElement(d.Ay,{key:H,"data-qa":"huddle_avatar_stack__member",className:(0,s.A)("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":j===0}),userId:H,size:R,renderCustomBadge:ne,isInteractive:!1})),!B&&be&&t.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${Ue}`)),F=k&&ge?t.createElement(_.Ay,{tip:ge},ee):ee;return ae?null:F}u(C,"HuddleAvatarStackContent"),C.displayName="HuddleAvatarStackContent";const M=t.memo(C),D=t.memo(E=>{const{channelId:S}=E,k=(0,c.d4)(b=>(0,v.LY)(b,S)),U=(0,a.cw)(m.l4),L=(0,a.cw)(m.hc),B=(0,c.d4)(o.ZT);if(!k)return null;if(L===S){const b=(0,l.getStoreInstanceByTeamId)(U||B);return t.createElement(n.Kq,{store:b},t.createElement(M,I({},E)))}return t.createElement(M,I({},E))})},1465889885:(x,g,e)=>{"use strict";e.d(g,{A:()=>I});var t=e(5255740490),n=e(3134334389),s=e(735940183),r=e(9195837907),c=e(5075331445),o=e(2562405183),a=e(6533394955),l=e(3288846409),i=e(6251210828),d=e(5286203919),_=e(4250409994),m=e(1610251172),h=e(2036354333),v=e(2312625946),T=e(3496486794);const A=new s.Ay("huddles"),y=65,p=80,f=100,O=u(P=>{let{updatePreview:C,onEffectSelected:M,isSmallLayout:D=!1}=P;const E=(0,T.A)(),S=(0,l.cw)(d.E9),k=(0,o.d4)(Y=>(0,i.pj)(Y,{huddleId:S})),[U,L]=(0,n.useState)("NONE"),B=(0,n.useCallback)(Y=>()=>{Y==="NONE"?((0,a.dispatchForClientStore)((0,_.Rb)({effect:void 0,effectBgKey:void 0})),M==null||M({backgroundType:void 0,effectBgKey:void 0})):Y==="BLUR"?((0,a.dispatchForClientStore)((0,_.Rb)({effect:r.t.Blur})),M==null||M({backgroundType:r.t.Blur,backgroundKey:void 0})):((0,a.dispatchForClientStore)((0,_.Rb)({effect:r.t.Background,effectBgKey:Y})),M==null||M({backgroundType:r.t.Background,backgroundKey:Y})),C!==void 0&&C(),L(Y)},[M,C]),b=(0,c.i)(),R=E.find(Y=>Y.key===b.backgroundEffectBgKey);(0,n.useEffect)(()=>{b.blurEffectIsEnabled?L("BLUR"):b.backgroundEffectBgKey===void 0?L("NONE"):R===void 0?(L("NONE"),B("NONE")()):L(b.backgroundEffectBgKey)},[L,R,B,b.backgroundEffectBgKey,b.blurEffectIsEnabled]);const{imgHeight:z,imgWidth:w}=(0,n.useMemo)(()=>D?{imgHeight:y,imgWidth:y}:k?{imgHeight:p,imgWidth:p}:{imgHeight:f,imgWidth:f},[k,D]),K=(0,n.useCallback)(()=>{const Y=E.map(X=>{const Z=U===X.key,ie=u(()=>n.createElement(n.Fragment,null,X.name,X.description?n.createElement("div",{className:"c-tooltip__subtitle normal"},X.description):null),"tooltipGetLabel");return ie.displayName="tooltipGetLabel",n.createElement(v.Ay,{tip:ie(),position:"top",key:X.key},n.createElement(h.A,{key:X.key,onClick:B(X.key)},n.createElement("div",{className:"p-huddle_video_background_menu__image_and_checkbox_container"},Z&&X.key!=="NONE"&&n.createElement(n.Fragment,null,n.createElement(m.A,{className:"p-huddle_video_background_menu__checkbox_icon p-huddle_video_background_menu__checkbox_icon_background",type:"real-checkbox-checked-o"}),n.createElement(m.A,{className:"p-huddle_video_background_menu__checkbox_icon",type:"real-checkbox-checked"})),X.key==="NONE"&&n.createElement("div",{style:{height:z,width:w},className:(0,t.A)("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_none",{"p-huddle_video_background_menu__category_preview_image_none--selected":Z,"p-huddle_video_background_menu__category_preview_image--selected":Z,"p-huddle_video_background_menu__category_preview_image--compact_mode":k})},A.rt("<strong>None</strong>",{fallbackHash:"0dfae2820b8c3e724ad95bfde6a9b4539a58d6fb",fallbackHashNs:"canvas"})),X.key==="BLUR"&&n.createElement("div",{style:{height:z,width:w},className:(0,t.A)("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_blur",{"p-huddle_video_background_menu__category_preview_image_blur--selected":Z,"p-huddle_video_background_menu__category_preview_image--selected":Z,"p-huddle_video_background_menu__category_preview_image--compact_mode":k})},X.key==="BLUR"&&A.rt("<strong>Blur</strong>",{fallbackHash:"7d5c2a9cc6a1684caefb5c90e47bcfd22356902e",fallbackHashNs:"canvas"})),X.key!=="NONE"&&X.key!=="BLUR"&&n.createElement("img",{className:(0,t.A)("p-huddle_video_background_menu__category_preview_image",{"p-huddle_video_background_menu__category_preview_image--selected":Z,"p-huddle_video_background_menu__category_preview_image--compact_mode":k}),alt:X.name,src:X.preview,height:z,width:w}))))});return n.createElement("div",{className:(0,t.A)("p-huddle_video_background_menu__category_previews","p-huddle_video_background_menu__category_previews--has_video_preview",{"p-huddle_video_background_menu__category_previews--compact_mode":k,"p-huddle_video_background_menu__category_previews--small_layout":D})},Y)},[E,k,D,U,B,z,w])();return n.createElement(n.Fragment,null,K)},"HuddleVideoBackgroundMenu");O.displayName="HuddleVideoBackgroundMenu";const I=n.memo(O)},3496486794:(x,g,e)=>{"use strict";e.d(g,{A:()=>W,g:()=>z});var t=e(3134334389),n=e(735940183),s=e(9679390338),r=e.n(s),c=e(4553218033),o=e.n(c),a=e(5475210953),l=e.n(a),i=e(7485089530),d=e.n(i),_=e(3342291988),m=e.n(_),h=e(9631995895),v=e.n(h),T=e(5908540923),A=e.n(T),y=e(553949882),p=e.n(y),f=e(7000154057),O=e.n(f),I=e(1672115571),P=e.n(I),C=e(7234375712),M=e.n(C),D=e(4136357865),E=e.n(D),S=e(8514307482),k=e.n(S),U=e(5738074488),L=e.n(U),B=e(3607863955),b=e.n(B);const R=new n.Ay("huddles"),z=[{key:"NONE",preview:A()},{key:"BLUR",preview:A()},{key:"LIVING_ROOM",url:L(),preview:b()},{key:"REMOTE_WORK",url:E(),preview:k()},{key:"TOKYO_SIGHT",url:P(),preview:M()},{key:"GYM",url:p(),preview:O()},{key:"HOME",url:m(),preview:v()},{key:"OFFICE",url:l(),preview:d()},{key:"BEACH",url:r(),preview:o()}],W=u(()=>(0,t.useMemo)(()=>z.map(Y=>{let X,Z;switch(Y.key){case"NONE":X=R.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":X=R.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":X=R.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),Z=R.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":X=R.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),Z=R.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":X=R.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),Z=R.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":X=R.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),Z=R.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":X=R.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":X=R.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":X=R.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:X="NO_NAME",Z="NO_DESCRIPTION"}return{...Y,name:X,description:Z}}),[]),"useGetVideoBackgrounds")},5203103513:(x,g,e)=>{"use strict";e.d(g,{Mz:()=>s,NY:()=>r,VW:()=>n,_q:()=>t,aI:()=>o,xX:()=>c});const t="huddles_play_music_when_last",n="huddles_play_music_timeout",s="huddles_music_player_song_key",r="calendar_huddles_default_access_policy",c="calendar_huddles_default_auto_start_summary",o="huddles_show_join_preview"},3622858354:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(7969928607),s=e(1030162945);const r=u(o=>{let{text:a,emojiSize:l=s.lw.SMALL}=o;return t.createElement(t.Fragment,null,t.createElement(n.A,{text:a,emojiSize:l}))},"FormattedHuddleTopic");r.displayName="FormattedHuddleTopic";const c=r},7723800688:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>_,Hi:()=>i,uV:()=>d});var t=e(3134334389),n=e(6122756707),s=e(2562405183),r=e(3288846409),c=e(6251210828),o=e(8239363237),a=e(5286203919),l=e(6470070112),i;(function(m){m.CANVAS_OPEN="canvas_open",m.CANVAS_JOIN="canvas_join",m.CANVAS_LEAVE="canvas_leave",m.CANVAS_TOOLBAR="canvas_toolbar",m.EMOJI_PICKER_OPEN="emoji_picker_open",m.EMOJI_SENT="emoji_sent",m.LINK_OPEN="link_open",m.FOCUS_OPEN="focus_open",m.FOCUS_CLOSE="focus_close",m.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",m.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",m.MINI_PLAYER_VIEW_START="mini_player_view_start",m.MINI_PLAYER_VIEW_END="mini_player_view_end",m.SCREENSHARE_START="screenshare_start",m.SCREENSHARE_END="screenshare_end",m.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",m.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",m.THREAD_WINDOW_VIEW_START="thread_window_view_start",m.THREAD_WINDOW_VIEW_END="thread_window_view_end",m.THREAD_OPEN="thread_open",m.THREAD_CLOSE="thread_close",m.SELF_VIDEO="self_video",m.WINDOW_COMPACT_VIEW_START="window_compact_view_start",m.WINDOW_COMPACT_VIEW_END="window_compact_view_end",m.WINDOW_FULL_VIEW_START="window_full_view_start",m.WINDOW_FULL_VIEW_END="window_full_view_end",m.WINDOW_RESIZE_BUTTON="window_resize_button",m.BACKGROUND_CHANGED="background_changed",m.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",m.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",m.CAPTIONS_START="huddles_captions_start",m.CAPTIONS_STOP="huddles_captions_stop",m.INVITATION_SENT="invitation_sent",m.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",m.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",m.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",m.NOTES_OPEN="notes_open",m.NOTES_CLOSE="notes_close",m.CHANNEL_SPACE_OPEN="channel_space_open",m.CHANNEL_SPACE_CLOSE="channel_space_close",m.CHANNEL_SPACE_AUTO_OPEN="channel_space_auto_open"})(i||(i={}));var d;(function(m){m.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",m.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",m.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",m.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",m.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",m.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",m.CANVAS_WINDOW="canvas_window",m.LEAVE_CALL="leave_call",m.CLOSE_MODAL="close_modal",m.EMOJI_PICKER="emoji_picker",m.JUKEBOX_MENU="jukebox_menu",m.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",m.REACTION_BUBBLE="reaction_bubble",m.CHANGE_BACKGROUND_DIALOG="change_background_dialog",m.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",m.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",m.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(d||(d={}));function _(){const m=(0,r.cw)(a.E9),h=(0,s.Z2)(f=>(0,l.$t)(f,{huddleId:m})),v=(0,r.cw)(l.kn,n.bN),T=(0,r.cw)(l.UE,n.bN),A=(0,s.d4)(f=>(0,c.Ec)(f,{huddleId:m})),y=(0,s.d4)(o.Tk);return(0,t.useMemo)(()=>({canvasThreadChannelId:h.canvas_thread_channel_id,canvasThreadId:h.canvas_thread_id,canvasHuddleSessionId:v.canvas_huddle_session_id,callsRoomId:T.room_id,callsChannelId:T.channel_id,uiPage:A?A.toString():null,fileId:y}),[h.canvas_thread_channel_id,h.canvas_thread_id,v.canvas_huddle_session_id,T.room_id,T.channel_id,A,y])}u(_,"useHuddleClogContext")},4233000497:(x,g,e)=>{"use strict";e.d(g,{A:()=>c,H:()=>r});var t=e(3134334389),n=e(2562405183),s=e(6470070112),r;(function(o){o.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",o.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",o.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(r||(r={}));function c(o){const a=(0,n.Z2)(l=>o?(0,s.w1)(l,o):{});return(0,t.useMemo)(()=>({callsChannelId:a.channel_id,callsChannelType:a.channel_type,callsNumParticipants:a.num_participants,callsRoomId:a.room_id}),[a.channel_id,a.channel_type,a.num_participants,a.room_id])}u(c,"useHuddlesClogContext")},5169680368:(x,g,e)=>{"use strict";e.d(g,{k:()=>a});var t=e(2562405183),n=e(387328355),s=e(735940183),r=e(9365970888),c=e(8736071954);const o=new s.Ay("huddles"),a=u(()=>{var l;const i=(0,t.d4)(v=>!!(0,n.WQ)(v,"isMicrophoneEnabled")),d=(0,t.Z2)(v=>(0,r.ql)(v,c.lW.Microphone)),_=i?o.t("Mute mic"):o.t("Unmute mic"),m=o.t("Mute microphone"),h=(d==null||(l=d.label)===null||l===void 0?void 0:l.replace(/ *?\([^)]*?\) *?/g,""))||void 0;return{microphoneLabel:_,isMicrophoneEnabled:i,deviceLabel:h,ariaLabel:m}},"useMicrophoneOnOff")},1638377365:(x,g,e)=>{"use strict";e.d(g,{z:()=>l});var t=e(2562405183),n=e(387328355),s=e(735940183),r=e(9365970888),c=e(8736071954),o=e(416787925);const a=new s.Ay("huddles"),l=u(()=>{const i=(0,t.d4)(y=>!!(0,n.WQ)(y,"isHidingSelf")),d=!!(0,t.d4)(y=>(0,n.WQ)(y,"isCameraEnabled"))||!1,_=(0,t.Z2)(y=>(0,r.ql)(y,c.lW.Camera));let m;_!=null&&_.label&&(m=(0,o.On)(_.label));const h=a.t("Turn on video"),v=a.t("Turn off video"),T=d?v:h,A=a.t("Enable video",{fallbackHash:"3007beee8017f0f6378579cbb4d3dc70a5745024",fallbackHashNs:"call_buttons"});return{videoLabel:T,isCameraEnabled:d,isHidingSelf:i,deviceLabel:m,ariaLabel:A}},"useVideoOnOff")},4385664584:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(8212623464),s=e(5950652755);const r=u(o=>{let{store:a,children:l}=o;const i=(0,t.useMemo)(()=>({...a,subscribe:d=>a.subscribeImmediate((0,s.A)(d,16))}),[a]);return t.createElement(n.Kq,{store:i}," ",l," ")},"BackgroundableProvider");r.displayName="BackgroundableProvider";const c=r},7280065019:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(5255740490);const s=u(a=>{let{className:l,wasCameraEverEnabled:i}=a;return t.createElement("div",{className:(0,n.A)("p-huddle_camera_icon","p-huddle_camera_icon__container",l),"data-qa":"huddle_video_icon_camera_off"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.6694 6.44613L13.0988 8.21302C13.1635 8.32628 13.2578 8.42265 13.3746 8.4902C13.6064 8.62424 13.8922 8.62449 14.1242 8.49088L17.5 6.54725V13.4528L14.1242 11.5091C13.8922 11.3755 13.6064 11.3758 13.3746 11.5098C13.1428 11.6438 13 11.8913 13 12.1591V14.75C13 15.1642 12.6642 15.5 12.25 15.5H6.62151L5.28818 17H12.25C13.4926 17 14.5 15.9926 14.5 14.75V13.4563L17.1263 14.9684C17.9596 15.4482 19 14.8468 19 13.8852V6.11483C19 5.15324 17.9596 4.55176 17.1263 5.03155L14.6694 6.44613ZM1.5 14.4883V5.25C1.5 4.00736 2.50736 3 3.75 3H11.7118L10.3785 4.5H3.75C3.33579 4.5 3 4.83579 3 5.25V12.8008L1.5 14.4883Z",fill:"currentColor"}),t.createElement("path",{className:(0,n.A)({"p-huddle_camera_icon--slash_animated":i}),d:"M2 17.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))},"renderCameraOff");s.displayName="renderCameraOff";const r=u(a=>{let{className:l}=a;return t.createElement("div",{className:(0,n.A)("p-huddle_camera_icon","p-huddle_camera_icon__container",l),"data-qa":"huddle_video_icon_camera_on"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3.75 3.75C2.92157 3.75 2.25 4.42157 2.25 5.25V14.75C2.25 15.5784 2.92157 16.25 3.75 16.25H12.25C13.0784 16.25 13.75 15.5784 13.75 14.75V12.1591L17.5005 14.3185C17.8339 14.5104 18.25 14.2698 18.25 13.8852V6.11483C18.25 5.7302 17.8338 5.4896 17.5005 5.68152L13.75 7.84091V5.25C13.75 4.42157 13.0784 3.75 12.25 3.75H3.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),t.createElement("circle",{className:"p-huddle_camera_icon--dot",cx:"8",cy:"10",r:"2.5",fill:"currentColor"})))},"renderCameraOn");r.displayName="renderCameraOn";const c=u(a=>{let{isCameraEnabled:l,className:i}=a;const[d,_]=(0,t.useState)(l);return(0,t.useEffect)(()=>{l&&_(!0)},[l]),l?r({className:i}):s({className:i,wasCameraEverEnabled:d})},"HuddleCameraIcon"),o=t.memo(c)},543174729:(x,g,e)=>{"use strict";e.d(g,{A:()=>I,z:()=>O});var t=e(3134334389),n=e(2562405183),s=e(5135324409),r=e(9548972574),c=e(1766818988),o=e(4742719639),a=e(5795074931),l=e(3462964303),i=e(3622858354),d=e(6470070112),_=e(3534324375),m=e(8701485242),h=e(735940183),v=e(9101533895),T=e(9884588328),A=e(796111729);const y=new h.Ay("huddles"),p=5,f=8,O=u(P=>{let{channelId:C}=P;const M=(0,n.Z2)(k=>(0,r.A7)(k,C,!1)),D=M.length,E=D>p,S=E?M.slice(0,p):M;return D===0?null:t.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},S.map((k,U)=>{const L=U===S.length-1;return t.createElement("div",{key:k,className:"p-huddle_channel_tooltip__avatar_container",style:{width:L?"auto":l.RG.medium-f}},t.createElement(l.Ay,{className:"p-huddle_channel_tooltip__avatar",userId:k,size:l.RG.medium,renderCustomBadge:s.Q,isInteractive:!1,additionalOverlay:E&&L?D-S.length+1:void 0}))}))},"HuddleTooltipAvatarStack");O.displayName="HuddleTooltipAvatarStack";function I(P){let{channelId:C,includeChannelName:M=!1}=P;const D=(0,n.d4)(Y=>(0,v.OL)(Y,C)),E=(0,n.d4)(Y=>{const X=(0,d.Bn)(Y,D),Z=(0,c.s)(Y),ie=X||Z;return ie||(0,A.Wo)().info("HUDDLE-FACEPILE",`isHuddlesEnabled: ${ie}, doesChannelSupportHuddles: ${X}, isHuddlesEnabledForSponsoredTeam: ${Z}`),ie}),S=(0,n.d4)(a.WR),k=(0,n.Z2)(Y=>(0,r.ft)(Y,C)),U=(0,n.d4)(d.df),L=(0,T.Mn)(D),B=k.length,R=B>p?k.slice(0,p):k,z=(0,n.Z2)(Y=>R.map(X=>({id:X.id,name:X.id===S?y.t("you",{fallbackHash:"8af56de68279cb6f5ed022f31af18b9fcdcc2e92",fallbackHashNs:"a11y"}):(0,_.sE)(Y,X)})).sort((X,Z)=>X.id===S?1:Z.id===S?-1:(0,m.Ay)(X.name,Z.name)).map(X=>{let{name:Z}=X;return Z})),w=(0,n.d4)(Y=>(0,o.o)(Y,C)),W=(0,t.useMemo)(()=>M?z.length===1?k[0].id===S?y.rt("Just you in the huddle #{channelName}",{fallbackHash:"9c06151657f5f165820e8137ffe359a9f128d6a4",channelName:L}):y.rt("{name} is in the huddle #{channelName}",{name:z[0],fallbackHash:"296abf823386caa202e6d84323121c5454a50ff0",channelName:L}):y.rt("{memberCount} people in the huddle #{channelName}",{memberCount:B,fallbackHash:"d8a4c5ef1bc88840241821fced733296db51cc36",channelName:L}):z.length===1?k[0].id===S?y.rt("Just you in the huddle"):y.rt("{name} is in the huddle",{name:z[0]}):y.rt("{memberCount} people in the huddle",{memberCount:B}),[M,z,B,L,k,S]);let K=w!=null&&w.trim()?t.createElement(i.A,{text:w}):null;return k.length>=U&&(K=y.t("Only {maxParticipants} people can join a huddle",{maxParticipants:U})),E?t.createElement("div",{className:"p-huddle_channel_tooltip"},t.createElement(O,{channelId:C}),t.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},K),t.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},W)):null}u(I,"HuddleChannelTooltip")},9477894139:(x,g,e)=>{"use strict";e.d(g,{A:()=>i,g:()=>l});var t=e(3134334389),n=e(6122756707),s=e(5253428843),r=e(9712681361),c=e(3837503631),o=e(2825968873);const a=(0,o.tZ)("HUDDLE-ERROR");var l;(function(d){d.Huddles="huddles",d.Sidebar="huddles_pro_max-sidebar",d.Flexpane="huddles_pro_max-flexpane",d.CompactWindow="huddles_pro_max-compact_window",d.LargeWindow="huddles_pro_max-large_window",d.WindowFooter="huddles_pro_max-window_footer",d.AlertBanner="huddles_pro_max-alert_banner",d.InviteWindow="huddles_invite_window",d.ControlStripButton="huddles_control_strip_button",d.ChannelHeader="huddles_channel_header",d.Composer="huddles_composer",d.HuddleSpecialReactions="huddle_special_reactions"})(l||(l={}));function i(d){let{children:_,onError:m,isQuiet:h=!0,shouldStopHuddle:v=!1,subtype:T=l.Huddles}=d;const A=(0,n.wA)(),y=(0,t.useCallback)(()=>{v&&A((0,s.A)({terminalState:r.M6.ClientUIError}))},[A,v]),p=(0,t.useCallback)(O=>{a.error(`${T} ${O}`),m?m():y()},[y,m,T]),f=h?c.H:c.A;return t.createElement(f,{subtype:T,onError:p},_)}u(i,"HuddleErrorBoundary")},4695727674:(x,g,e)=>{"use strict";e.d(g,{A:()=>Y});var t=e(3134334389),n=e(6122756707),s=e(462591818),r=e(2562405183),c=e(825587348),o=e(8739505998),a=e(6470070112),l=e(9712681361),i=e(735940183),d=e(5363983309),_=e(9101533895),m=e(9884588328),h=e(5881236351),v=e(5286203919),T=e(3037015781),A=e(2350349607),y=e(3288846409),p=e(5332875232),f=e(3677514771),O=e(6839188756),I=e(6323355797),P=e(7914553163),C=e(2279207117),M=e(3245843483),D=e(8193414630),E=e(4096483543),S=e(6533394955),k=e(3810478625);function U(X,Z,ie){const Ae=(0,S.getStoreInstanceByTeamId)(ie);if(!Ae)return null;const ae=(0,E.A)(),V=(0,k.g)(Ae.getState());if(!X||X===P.MX.TrialFetching)return null;const ve=(0,C.FK)(X,V);switch(X){case P.MX.TrialIneligible:return{text:ve,onClick:()=>{(0,M.Pxz)((0,I.m6)(Ae.getState()))}};case P.MX.TrialEligible:return{text:ve,onClick:(0,C.w9)(Ae.dispatch,Z,X)};case P.MX.TrialIneligibleUserCannotUpgrade:return{text:ve,onClick:()=>{(0,M.Pxz)((0,C.aD)(X))}};case P.MX.TrialTeam:return{text:ve,onClick:()=>{if(ae){(0,C.uY)(Ae.dispatch)();return}(0,M.Pxz)((0,C.aD)(X))}};case P.MX.TrialExpiry:return{text:ve,onClick:()=>{(0,M.Pxz)((0,I.m6)(Ae.getState(),{action:I.um.CHECKOUT}))}};default:(0,D.Kh)(X)}}u(U,"freemiumPrimaryCtaAttributes");var L=e(8847766420);const B=new i.Ay("huddles");function b(X){let{closeModal:Z}=X;const ie=I.zG.Vhq,Ae=(0,P.Ay)({promoSubtype:ie}),ae=(0,r.d4)(L.ZT)||"",V=(0,t.useMemo)(()=>U(Ae,ie,ae),[Ae,ie,ae]),ve=(0,t.useCallback)(()=>{V==null||V.onClick(),Z==null||Z()},[V,Z]);return!V||Ae!==P.MX.TrialEligible&&Ae!==P.MX.TrialIneligible&&Ae!==P.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement(c.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:Z,onCancel:Z,onSubmit:ve,showCancelButton:!0,cancelButtonText:B.t("Dismiss"),showSubmitButton:!0,title:B.t("Your huddle has ended"),submitButtonText:V.text},B.t("On the free version of Slack, your huddles are limited to {min} minutes. You may restart the huddle if you\u2019d like.",{min:30}))}u(b,"HuddleTimeLimitReachedModal"),b.displayName="HuddleTimeLimitReachedModal";const R=new i.Ay("huddles");function z(X){let{errorCode:Z,isJoinError:ie,closeModal:Ae}=X;var ae;const V=(0,n.wA)(),ve=(ae=(0,y.cw)(v.Qn))===null||ae===void 0?void 0:ae.channelId,be=(0,r.d4)(p.TM),Ue=(0,r.d4)(ye=>(0,_.OL)(ye,ve)),Re=(0,r.d4)(ye=>(0,T.uz)(Ue)?(0,m.SB)(ye,Ue,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),ge=(0,r.d4)(a.df),ne=R.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{maxAmount:ge}),ee=(0,t.useCallback)(()=>{V((0,h.RX)())},[V]),F=(0,t.useCallback)(()=>{V((0,h.e$)())},[V]),H=(0,A.V)(Ue),j=(0,r.d4)(f.H7),N=u(ye=>t.createElement(o.A,{target:"_blank",href:`${(0,O.Zl)(j)}help/requests/new`},ye),"renderContactUsLink");if(!(0,r.d4)(a.pl)&&!be)return null;if(Z===l.M6.FreemiumMaxParticipants)return ee(),null;const le=(()=>{switch(Z){case l.M6.MaxParticipants:return ne;case l.M6.AudioJoinedFromAnotherDevice:return R.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.");case l.M6.ChimeMeetingEnded:return ie?R.rt("The Huddle has ended."):H?R.rt("We ended the huddle since you were the only one there for a bit."):R.rt("We ended your huddle since you were the only one there for a bit.");case l.M6.PermissionDenied:return be?R.rt("You are unable to join the Huddle as you do not have permission to join Huddles."):null;case s.uZ.CallEnded:return R.rt("The Huddle has ended.");case l.M6.DeviceLocked:return R.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,ye=>{let{text:Ie,tag:he}=ye;return he==="a"?t.createElement(o.A,{onClick:F},Ie):null});case l.M6.FailedStartingRecording:case l.M6.FailedResumingRecording:return R.rt("We\u2019re not sure what went wrong, but try giving it another go in a few minutes.");case l.M6.FailedStartingRecordingUser:case l.M6.FailedResumingRecordingUser:return R.rt("It looks like not everyone on this huddle has access to this feature just yet.");case l.M6.FailedPausingRecording:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try deleting the notes, or <a>contact us</a> for support.",null,ye=>{let{text:Ie,tag:he}=ye;return he==="a"?N(Ie):null});case l.M6.FailedDeletingRecording:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try ending the huddle and deleting the canvas once it\u2019s ready, or <a>contact us</a> for support.",null,ye=>{let{text:Ie,tag:he}=ye;return he==="a"?N(Ie):null});default:return R.rt("You\u2019ll have to go back and give it another try.")}})(),ce=(()=>ie?R.t("Can\u2019t join the huddle"):Z===l.M6.AudioJoinedFromAnotherDevice?R.t("You\u2019ve joined the huddle on a different device"):Z===l.M6.ChimeMeetingEnded&&!ie?H?R.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:Re}):R.t("You\u2019re no longer in a huddle"):Z===l.M6.DeviceLocked?R.t("You\u2019re no longer in a huddle"):Z===l.M6.FailedStartingRecording||Z===l.M6.FailedStartingRecordingUser?R.rt("Couldn\u2019t start Slack AI notes"):Z===l.M6.FailedResumingRecording||Z===l.M6.FailedResumingRecordingUser?R.rt("Couldn\u2019t resume Slack AI notes"):Z===l.M6.FailedPausingRecording?R.rt("Couldn\u2019t stop Slack AI notes"):Z===l.M6.FailedDeletingRecording?R.rt("Couldn\u2019t delete Slack AI notes"):R.t("Something went wrong with your huddle"))(),Ee=(()=>Z===l.M6.AudioInputStreamEnded||Z===l.M6.MaxParticipants||Z===l.M6.ChimeMeetingEnded&&!ie?R.t("Got It"):R.t("OK"))();return t.createElement(c.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:Ae,onSubmit:Ae,showCancelButton:!1,showSubmitButton:!0,title:ce,submitButtonText:Ee},le)}u(z,"HuddleErrorModal"),z.displayName="HuddleErrorModal";const w={HuddleErrorModal:z},W="huddle_error_modal";function K(X){switch(X.errorCode){case l.M6.ChimeMeetingEndedFromTimeLimit:return b(X);default:return z(X)}}u(K,"HuddleErrorModalManager");const Y=(0,d.A)(K,{modalName:W,allowMultiple:!1,isStackable:!0})},5933621899:(x,g,e)=>{"use strict";e.d(g,{Wx:()=>w,YM:()=>L});var t=e(2003990933),n=e(3134334389),s=e(6122756707),r=e(735940183),c=e(2562405183),o=e(825587348),a=e(5363983309),l=e(1407713935),i=e(9101533895),d=e(1471580244),_=e(8286248123),m=e(1779488764),h=e.n(m),v=e(7268021173),T=e(3677514771),A=e(6839188756),y=e(8871937520),p=e(1224315998),f=e(4481313819),O=e(7003004874),I=e(6259241484),P=e(4902318931),C=e(2938177083),M=e(1273480023),D=e(3810478625);function E(){return E=Object.assign||function(W){for(var K=1;K<arguments.length;K++){var Y=arguments[K];for(var X in Y)Object.prototype.hasOwnProperty.call(Y,X)&&(W[X]=Y[X])}return W},E.apply(this,arguments)}u(E,"_extends");const S=new r.Ay("huddles"),k={elementName:"cancel",onClick:{enableClogAction:!0}},U={elementName:"start-huddle",onClick:{enableClogAction:!0}},L=u(W=>{let{channelId:K,channelType:Y,channelMembersCount:X,isTeamOnTrial:Z,isFreeTeam:ie,trialExpirationTS:Ae,handleOnSubmit:ae,closeModal:V,UNSAFE_parentSelector:ve,isCurrentTeamSponsoredInSlackConnectChannel:be=!1}=W;const Ue=(0,c.d4)(D.g),Re=S.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),ge=n.createElement(d.A,{channelId:K});let ne,ee;switch(Z&&!be?ee=p.UiComponentVariant.TRIAL_TEAM:ie&&!be?ee=p.UiComponentVariant.FREE_TEAM:ee=p.UiComponentVariant.PAID_TEAM,Y){case l.Cu.mpim:{const F=u(()=>S.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:X}),"genericCopy");Ue?ne=F():Z?ne=S.rt("Use this message as a jumping off point for a huddle with anyone in this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:(0,y.Pd)(Ae),fallbackHash:"2955534d96227983f0f85447fb8f3f044131c94f"}):ie?ne=S.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."):ne=F();break}case l.Cu.im:ne=S.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:{const F=u(()=>S.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:X,channelName:ge}),"genericCopy");Ue||be?ne=F():Z?ne=S.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:ge,trialEndDate:(0,y.Pd)(Ae)}):ie?ne=S.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:ge}):ne=F()}}return n.createElement(f.A,{uiComponentName:p.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:p.EventId.CANVAS_EVENT,uiComponentVariant:ee},n.createElement(o.A,{onClose:V,"data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:S.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}),title:Re,onSubmit:ae,submitAutoClogProps:U,onCancel:V,cancelAutoClogProps:k,headerImageSrc:h(),className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:S.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:ve},n.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},ne)))},"BaseHuddleInThreadSpeedBumpModalBase");L.displayName="BaseHuddleInThreadSpeedBumpModalBase";const B=u(W=>{let{channelId:K,onConfirm:Y,closeModal:X}=W;const Z=(0,s.wA)(),ie=(0,c.d4)(ne=>(0,i.OL)(ne,K)),Ae=(0,l.mz)(ie),ae=(0,c.d4)(ne=>(0,_.q8)(ne,K)),V=(0,t.A)(ae,"counts.member_count")||0,ve=(0,A.tc)((0,c.d4)(T.H7)),be=(0,c.d4)(v.iH),Ue=(0,c.d4)(v.Sk),Re=(0,c.d4)(ne=>(0,M.u)(ne,ie));(0,n.useEffect)(()=>(Z((0,O.A)({notificationName:I.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:I.hw.IMPRESSION})),()=>{Z((0,C.A)({spaceName:I.xu.LAUNCH_MODAL,action:I.hw.DISMISS}))}),[Z]);const ge=(0,n.useCallback)(()=>{Y(),X==null||X()},[X,Y]);return n.createElement(L,{channelType:Ae,channelMembersCount:V,isFreeTeam:ve,isTeamOnTrial:be,trialExpirationTS:Ue,handleOnSubmit:ge,channelId:K,onConfirm:Y,closeModal:X,isCurrentTeamSponsoredInSlackConnectChannel:Re})},"HuddleInThreadSpeedBumpModalBase");B.displayName="HuddleInThreadSpeedBumpModalBase";const b={spaceName:I.xu.LAUNCH_MODAL,notifications:{[I.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:B}}},R=u(W=>{let{channelId:K,onConfirm:Y,closeModal:X}=W;return n.createElement(P.Ay,E({},b,{channelId:K,onConfirm:Y,closeModal:X}))},"HuddleInThreadSpeedBumpModal");R.displayName="HuddleInThreadSpeedBumpModal";var z=null;const w=(0,a.A)(R)},7843142872:(x,g,e)=>{"use strict";e.d(g,{D7:()=>_,Lk:()=>v,Vp:()=>T,g6:()=>h});var t=e(3134334389),n=e(6304789565),s=e(6533394955),r=e(4423055085),c=e(6122756707),o=e(2562405183),a=e(5492559860),l=e(9719951405),i=e(2832209848);let d=1;const _=u((A,y)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:p=!1,component:f=i.G7.HuddleCallNudgesBanner}=y;if(!p||!(0,l.kI)(A,f,i.X8.Click)&&!(0,l.kI)(A,f,i.X8.Dismiss))return!1;var O;const I=(O=(0,l.ky)(A,f,i.X8.Click))!==null&&O!==void 0?O:0;var P;const C=(P=(0,l.ky)(A,f,i.X8.Dismiss))!==null&&P!==void 0?P:0;return!(I>=d||C>=d)},"shouldShowHuddleDiscoveryBanner"),m=u(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:A=!1,component:y=UiComponent.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:UiComponent.HuddleCallNudgesBanner};const p=useDispatch();useEffect(()=>{A&&p(loadUserInteractions({interactions:[{component:y,type:InteractionType.Click},{component:y,type:InteractionType.Dismiss}],useCache:!0,cacheFilter:hasLoadedInteraction,reason:"huddle-discovery-calls"}))},[p,A,y])},"useHuddleDiscoveryCallsUserInteractions"),h=(0,n.Ay)("Send interaction to dismiss nudge",(A,y,p)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:f,interactionType:O}=p;if(!f)return;const I=y();(0,l.ky)(I,i.G7.HuddleCallNudgesBanner,O)>d||A((0,a.z)({component:i.G7.HuddleCallNudgesBanner,type:O,reason:"huddle-discovery-calls"}))});h.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const v=u(A=>{let{component:y,type:p}=A;const f=(0,c.wA)();return(0,t.useEffect)(()=>{f((0,a.b)({interactions:[{component:y,type:p}],reason:y}))},[f,y,p]),(0,o.d4)(O=>(0,l.kI)(O,y,p)?(0,l.PU)(O,y):null)},"useTrialProBannerInteraction"),T=(0,n.Ay)("Record trial pro banner interaction",(A,y,p)=>{let{component:f,type:O}=p;return A((0,a.z)({component:f,type:O,reason:f}))});T.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},(0,r.ul)("huddleInteractionUtils",{addOneMoreThanClickCount:A=>{const y=(0,s.getStateByTeamId)(A);d=(0,l.ky)(y,i.G7.HuddleCallNudgesBanner,i.X8.Click)+1},addOneMoreThanDismissCount:A=>{const y=(0,s.getStateByTeamId)(A);d=(0,l.ky)(y,i.G7.HuddleCallNudgesBanner,i.X8.Dismiss)+1}})},8330768070:(x,g,e)=>{"use strict";e.d(g,{G$:()=>E,Oe:()=>L,Y6:()=>k});var t=e(3134334389),n=e(6122756707),s=e(3037015781),r=e(2562405183),c=e(1471580244),o=e(6496493732),a=e(7138682671),l=e(3989454579),i=e(4481313819),d=e(1407713935),_=e(5363983309),m=e(5795074931),h=e(9101533895),v=e(8286248123),T=e(9884588328),A=e(8798294025),y=e(8921478798),p=e(1224315998),f=e(735940183),O=e(387484329),I=e(2047021170);function P(){return P=Object.assign||function(B){for(var b=1;b<arguments.length;b++){var R=arguments[b];for(var z in R)Object.prototype.hasOwnProperty.call(R,z)&&(B[z]=R[z])}return B},P.apply(this,arguments)}u(P,"_extends");const C=new f.Ay("huddles"),M={elementName:"huddles_confirmation_dialog_ok",eventId:p.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},D={elementName:"huddles_confirmation_dialog_cancel",eventId:p.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},E=u(B=>{let{children:b,closeModal:R,onConfirm:z,uiComponentName:w,...W}=B;const K=(0,t.useCallback)(()=>{z(),R==null||R()},[R,z]);return t.createElement(i.A,{uiComponentName:w,eventId:p.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.createElement(o.A,P({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:R,onClose:R,onSubmit:K,submitButtonText:C.t("OK"),submitAutoClogProps:M,cancelAutoClogProps:D},W),b))},"HuddleJoinModal");E.displayName="HuddleJoinModal";const S=u(B=>{let{prevChannelId:b,nextChannelId:R,onConfirm:z,closeModal:w}=B;const W=(0,r.d4)(Ae=>(0,h.OL)(Ae,b)),K=(0,r.Z2)(Ae=>{if(!W)return[];let ae=[];if((0,d.LI)(W))ae=[(0,A.e)(W)];else if((0,d.yz)(W)){const V=(0,T.Ug)(W);if(V&&V.length){const ve=(0,m.WR)(Ae);ae=V.filter(be=>be!==ve)}}return ae.map(V=>(0,y.I)(Ae,V))}),Y=(0,r.d4)(Ae=>(0,h.OL)(Ae,R)),X=(0,r.Z2)(Ae=>{if(!Y)return[];let ae=[];if((0,d.LI)(Y))ae=[(0,A.e)(Y)];else if((0,d.yz)(Y)){const V=(0,T.Ug)(Y);if(V&&V.length){const ve=(0,m.WR)(Ae);ae=V.filter(be=>be!==ve)}}return ae.map(V=>(0,y.I)(Ae,V))});let Z=C.rt("You\u2019re already in a huddle.");K.length?Z=C.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:(0,f.jd)(K).join("")}):W&&(0,s.uz)(W)&&(Z=C.rt("You\u2019re already in a huddle in {channel}.",{channel:t.createElement(c.A,{channel:W,channelId:b})}));let ie=C.rt("Would you like to leave it and join this one instead?");return X.length?ie=C.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.createElement("strong",null,(0,f.jd)(X).join(""))}):Y&&(0,s.uz)(Y)&&(ie=C.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.createElement("strong",null,t.createElement(c.A,{channel:Y,channelId:R}))})),t.createElement(E,{uiComponentName:p.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:C.t("Switch to this huddle?"),onConfirm:z,closeModal:w},t.createElement("p",null,Z," ",ie))},"HuddleSwitchModal");S.displayName="HuddleSwitchModal";const k=(0,_.A)(S),U=u(B=>{let{channelId:b,onConfirm:R,closeModal:z}=B;const w=(0,r.d4)(ve=>(0,h.OL)(ve,b));var W;const K=(0,r.d4)(ve=>{var be,Ue;return(W=(be=(0,v.q8)(ve,b))===null||be===void 0||(Ue=be.counts)===null||Ue===void 0?void 0:Ue.member_count)!==null&&W!==void 0?W:0}),Y=(0,r.d4)(ve=>(0,I.ty)(ve,"huddles_show_shouty_rooster")),[X,Z]=(0,t.useState)(Y),ie=(0,n.wA)(),Ae=w&&(0,s.uz)(w)&&t.createElement("strong",null,t.createElement(c.A,{channelId:b,channel:w})),ae=K>1?C.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.createElement("strong",null,K),channel:Ae}):C.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:Ae}),V=(0,t.useCallback)(()=>{const ve=!X;Z(ve),ie((0,O.AZ)({pref:"huddles_show_shouty_rooster",value:ve}))},[X,ie]);return t.createElement(E,{uiComponentName:p.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:C.t("Start a huddle in this channel?"),onConfirm:R,closeModal:z},t.createElement("p",null,ae),t.createElement(a.A,{text:C.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.createElement(l.A,{name:"ns",checked:!X,onChange:V,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");U.displayName="HuddleShoutyRoosterModal";const L=(0,_.A)(U)},3143500799:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(2047021170),r=e(2562405183),c=e(3677363342),o=e.n(c);const a=t.memo(_=>{let{className:m,iconClassName:h,allowMuteAnimation:v,wasMicEverEnabled:T,isMicStrikethroughRed:A}=_;return t.createElement("div",{className:(0,n.A)("p-huddle_mic_icon p-huddle_mic_icon__container",m),"data-qa":"huddle_mic_icon_unmute"},t.createElement("svg",{className:h,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.createElement("path",{className:(0,n.A)({"p-huddle_mic_icon__microphone--slash_animated":v&&T,"p-huddle_mic_icon__microphone--slash":A}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),l=t.memo(_=>{let{volumeLevel:m=0,className:h,iconClassName:v,allowUnmutedAnimation:T}=_;const[A,y]=(0,t.useState)(0);(0,t.useEffect)(()=>{if(m!=="auto"){y(Math.min(1,m||0));return}const O=setInterval(()=>{const I=(Math.floor(Math.random()*100)+1)/100;y(I)},100);return()=>{clearInterval(O)}},[m]);const p=(0,r.d4)(O=>!(0,s.ty)(O,"a11y_animations")),f=(0,t.useMemo)(()=>T?p?t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3 8.9V11M5.8 6.1V13.8M8.6 4V16.6M11.4 7.5V12.4M14.2 5.4V14.5M17 8.9V11",stroke:"#178F65",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})):t.createElement("img",{className:"p-huddle_mic_icon__img",src:o(),alt:""}):t.createElement("svg",{className:v,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${A})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),[T,v,A,p]);return t.createElement("div",{className:(0,n.A)("p-huddle_mic_icon p-huddle_mic_icon__container",h),"data-qa":"huddle_mic_icon_mute"},f)}),i=u(_=>{let{type:m,volumeLevel:h,className:v,iconClassName:T,allowMuteAnimation:A=!1,isMicStrikethroughRed:y=!1,allowUnmutedAnimation:p=!1}=_;const[f,O]=(0,t.useState)(m==="unmuted");return(0,t.useEffect)(()=>{m==="unmuted"&&O(!0)},[m]),m==="unmuted"?t.createElement(l,{className:v,iconClassName:T,volumeLevel:h,allowUnmutedAnimation:p}):t.createElement(a,{className:v,iconClassName:T,allowMuteAnimation:A,wasMicEverEnabled:f,isMicStrikethroughRed:y})},"HuddleMicIcon");i.displayName="HuddleMicIcon";const d=t.memo(i)},5043394918:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(7715417323),s=e(1829947126),r=e(1337358413),c=e(3143500799);function o(a){let{peerId:l,isMicrophoneEnabled:i,className:d,allowMuteIconAnimation:_=!1,isMicStrikethroughRed:m=!1}=a;const[h,v]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(!i)return n.A;const T=u(A=>{const y=(0,r.Ft)(A);v(y)},"onLevelUpdated");return s.A.subscribe(l,T),()=>{s.A.unsubscribe(l,T)}},[l,i]),t.createElement(c.A,{type:i?"unmuted":"muted",volumeLevel:h,className:d||"",allowMuteAnimation:_,isMicStrikethroughRed:m})}u(o,"HuddleMicVolumeIndicator")},438845125:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(2023515700);function s(c){let{slackId:o,displayName:a}=c;return!o&&!a?null:o?t.createElement(n.A,{isBold:!1,id:o}):t.createElement("span",null,a)}u(s,"HuddleMsgTextUser"),s.displayName="HuddleMsgTextUser";const r=s},1051015021:(x,g,e)=>{"use strict";e.d(g,{V:()=>T});var t=e(3134334389),n=e(7433432223),s=e(9548972574),r=e(2562405183),c=e(735940183),o=e(5255740490),a=e(7914553163),l=e(6005700845),i=e(6323355797),d=e(7949425452),_=e(3810478625),m=e(7573583373),h=e.n(m);const v=new c.Ay("huddles");function T(A){let{showProBadge:y,className:p}=A;const f=(0,r.d4)(s.qr),O=(0,r.d4)(_.g),I=i.zG.Vhq,P=(0,a.Ay)({promoSubtype:I}),C=(0,t.useMemo)(()=>t.createElement(l.A,{useLink:!0,variant:P,promoSubtype:i.zG.Vhq,ctaClassName:h().cta}),[P]);return!f||!O||P!==a.MX.TrialEligible&&P!==a.MX.TrialIneligible&&P!==a.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement("div",{className:(0,o.A)(h().container,p)},t.createElement(n.A,null,t.createElement("div",{className:h().alertBanner},y&&t.createElement(d.Ay,{size:d.vj.Medium,className:h().proBadge}),t.createElement("span",null,v.t("On the free version of Slack, your huddles are limited to {min} minutes.",{min:30}),"\xA0",C))))}u(T,"HuddleTimeLimitUpgradeAlert"),T.displayName="HuddleTimeLimitUpgradeAlert"},4745917661:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(735940183);const s=new n.Ay("huddles");function r(o){let{actionLabel:a,deviceLabel:l,audioOnlyModeEnabledWarning:i}=o;if(i){const d=s.t("Audio only mode will be disabled if you turn on your camera",{fallbackHash:"27892acc411157e52b1022f480b10c11e51b2350"});return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},d))}return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},a),l&&t.createElement("div",{className:"p-huddle_tooltip_device_label"},l))}u(r,"HuddlesToolTipDeviceContent"),r.displayName="HuddlesToolTipDeviceContent";const c=r},8320929653:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>H,e3:()=>ge,lc:()=>ne});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(5255740490),c=e(6122756707),o=e(2562405183),a=e(3288846409),l=e(1149563359),i=e(3037015781),d=e(9012396182),_=e(1289024643),m=e(5795074931),h=e(9101533895),v=e(5286203919),T=e(8746998952),A=e(9712681361),y=e(4742719639),p=e(5332875232),f=e(6251210828),O=e(2802517438),I=e(4481313819),P=e(3622858354),C=e(4233000497),M=e(6749400491),D=e(9373230523),E=e(1407713935),S=e(8798294025),k=e(9884588328),U=e(6470070112),L=e(8683010724),B=e(3708320478),b=e(3462964303),R=e(2683115972),z=e(3165300465),w=e(1471580244),W=e(2527782504),K=e(4275787242),Y=e(735940183),X=e(1224315998),Z=e(8869383561),ie=e(5519146941),Ae=e(3193155968),ae=e(7429662208);function V(){return V=Object.assign||function(j){for(var N=1;N<arguments.length;N++){var J=arguments[N];for(var le in J)Object.prototype.hasOwnProperty.call(J,le)&&(j[le]=J[le])}return j},V.apply(this,arguments)}u(V,"_extends");const ve=new Y.Ay("huddles"),be={elementName:"huddles_invite_decline",eventId:X.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},Ue={elementName:"huddles_invite_joining_soon",eventId:X.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},Re={elementName:"huddles_invite_join",eventId:X.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ge=u(j=>{let{topic:N,formattedTopic:J,channel:le,channelName:ce,otherMemberNamesString:Ee,imMemberName:ye,experimentHuddlesLaterGroupOn:Ie}=j;if(!Ie)return s.createElement(s.Fragment,null);let he=N?ve.rt("Join the scheduled huddle about {topic}",{topic:J}):ve.rt("Join the scheduled huddle");return(0,E.LI)(le)&&ye?he=N?ve.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:J,imMemberName:ye}):ve.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:ye}):(0,E.yz)(le)?he=N?ve.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:J,otherMemberNamesString:Ee}):ve.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:Ee}):(0,i.uz)(le)&&!(0,E.LI)(le)&&(he=N?ve.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:J,channelName:ce}):ve.rt("Join the scheduled huddle in {channelName}",{channelName:ce})),he},"getScheduledHuddleInviteCopy");function ne(j){let{channelId:N,senderUserId:J,callId:le,teamId:ce,isInviter:Ee}=j;const ye=(0,c.wA)(),{shouldUseNavigate:Ie,activeTab:he}=(0,s.useContext)(ie.A),Ce=(0,o.d4)(p.MJ),oe=(0,o.d4)(m.WR),de=(0,o.d4)(jt=>(0,D.A)(jt,J)),De=(0,o.d4)(jt=>(0,h.OL)(jt,N)),Te=(0,o.d4)(jt=>{if(!De||!Ce||!(0,E.LI)(De))return;const hn=(0,S.e)(De);if(hn)return(0,D.A)(jt,hn)}),pe=(0,o.Z2)(jt=>(0,E.yz)(De)?((0,k.Ug)(De)||[]).filter(xt=>xt!==J&&xt!==oe).map(xt=>(0,D.A)(jt,xt)).filter(xt=>xt):[]),Me=(0,a.cw)(v.vO),ke=(0,U.eu)(Me),Ze=(0,o.d4)(jt=>(0,_.Ck)(jt,le,oe))==="joining_soon",Q=(0,o.d4)(jt=>(0,_.H6)(jt,le));var se;const He=(se=Q==null?void 0:Q.isScheduled)!==null&&se!==void 0?se:!1,Ge=(0,o.d4)(O.A),Be=(0,o.d4)(jt=>{if(Ie){var hn;return(hn=(0,ae.F8)(jt,{tab:he,container:Ae.mq.Primary}))===null||hn===void 0?void 0:hn.id}return Ge}),we=(0,a.cw)(d.getFocusedWorkspace),xe=N===Be&&we&&ce&&we===ce,Oe=(0,s.useCallback)(()=>{ye((0,M.A)({callId:le,channelId:N,inviteResponse:M.J.DECLINE}))},[le,N,ye]),[Xe,Ye]=(0,s.useState)(!1),[dt,mt]=(0,s.useState)(!1),it=(0,s.useCallback)(()=>{(function(){var hn=(0,t.coroutine)(function*(){mt(!0),Ye(!1);const xt=ye((0,M.A)({callId:le,channelId:N,inviteResponse:M.J.JOINING_SOON}));if(xt)try{yield xt}catch{Ye(!0)}finally{mt(!1)}else mt(!1)});return u(function(){return hn.apply(this,arguments)},"respondToInvite")})()()},[le,N,ye]),At=(0,s.useCallback)(()=>{ye((0,T.A)({channelId:N,callId:le,entryPoint:A.su.SIDEBAR_HUDDLE_INVITE}))},[N,le,ye]),Ot=(0,o.d4)(jt=>N&&(0,y.o)(jt,N))||"",Kt=Ot?s.createElement("span",{className:"p-huddle_invite__topic"},s.createElement(P.A,{text:Ot})):null,Xt=s.createElement("span",{className:"p-huddle_invite__sender_name"},de);let vn;if(He){const jt=s.createElement(w.A,{channelId:N,boldIcon:!0});vn=ge({topic:Ot,formattedTopic:Kt,channel:De,channelName:jt,experimentHuddlesLaterGroupOn:!0})}else if((0,E.LI)(De))Ee?vn=ge({topic:Ot,formattedTopic:Kt,channel:De,imMemberName:Te,experimentHuddlesLaterGroupOn:Ce}):vn=ve.rt("Join huddle with {senderName}",{senderName:Xt});else if((0,E.yz)(De)){const jt=(0,Z.A)(pe,{react:!0}).join("");if(Ee)vn=ge({topic:Ot,formattedTopic:Kt,channel:De,otherMemberNamesString:jt,experimentHuddlesLaterGroupOn:Ce});else{const hn=(0,Z.A)([de].concat(pe),{react:!0}).join(""),xt=s.createElement("span",{className:"p-huddle_invite__all_member_names"},hn);vn=ve.rt("Join huddle with {allMemberNames}",{allMemberNames:xt})}}else{const jt=s.createElement(w.A,{channelId:N,boldIcon:!0});Ee?vn=ge({topic:Ot,formattedTopic:Kt,channel:De,channelName:jt,experimentHuddlesLaterGroupOn:Ce}):xe?vn=ve.rt("{senderName} is inviting you to a huddle in this channel",{senderName:Xt}):vn=ve.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:Xt,channelName:jt})}return{avatarOverflowBadgeCount:(0,E.yz)(De)?pe.length+1:0,didRespondingToInviteFail:Xe,formattedTopic:Kt,handleDecline:Oe,handleJoiningSoon:it,handleJoin:At,inviteText:vn,isCurrentUserJoiningSoon:Ze,isJoiningSoonResponsePending:dt,isLoading:ke}}u(ne,"useHuddleInviteProps"),ne.displayName="useHuddleInviteProps";const ee={name:"warning"},F=u(j=>{let{channelId:N,senderUserId:J,callId:le,teamId:ce}=j;const Ee=(0,o.d4)(p.MJ),ye=(0,o.d4)(m.WR),Ie=Ee&&ye===J,he=(0,C.A)(N),{avatarOverflowBadgeCount:Ce,didRespondingToInviteFail:oe,formattedTopic:de,handleDecline:De,handleJoiningSoon:Te,handleJoin:pe,inviteText:Me,isCurrentUserJoiningSoon:ke,isJoiningSoonResponsePending:Ke,isLoading:Ze}=ne({channelId:N,senderUserId:J,callId:le,teamId:ce,isInviter:Ie}),Q=(0,s.useRef)(null),se=(0,s.useCallback)(()=>{var mt;(mt=Q.current)===null||mt===void 0||mt.focus()},[]);(0,l.A)(W.Ay.HUDDLE_INVITE_JOIN,se);const He="huddle-invite-text",Ge=s.createElement(R.Ay,{type:"outline",className:"p-huddle_invite__button",onClick:De,"data-qa":"huddle_invite_declined",disabled:Ze,autoClogProps:be},s.createElement("span",{className:"p-huddle_invite__label"},ve.t("Decline"))),Be=s.createElement(z.A,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Ke,onClick:Te,disabled:Ze,autoClogProps:Ue,"aria-label":ve.t("Be there soon")},s.createElement("span",{className:"p-huddle_invite__label"},ve.t("Be there soon"))),[we,xe]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let mt=0;return ke&&(xe(!0),mt=window.setTimeout(()=>{xe(!1)},6e3)),()=>{mt&&clearTimeout(mt)}},[ke]);const Oe=we?s.createElement("div",{className:"p-huddle_invite__header_notif"},s.createElement("div",{className:"p-huddle_invite__header_notif_content"},s.createElement(L.A,{name:"clock",size:"20"}),s.createElement("span",{className:"margin_left_50"},ve.t("Join when you\u2019re ready!")))):null,Xe=s.createElement(z.A,{ref:Q,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:Ze,onClick:pe,"data-qa":"huddle_invite_join",autoClogProps:Re,"aria-label":ve.t("Join")},s.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},ve.t("Join"))),Ye=(0,o.d4)(f.jI),dt=Ye?{width:Ye}:null;return s.createElement(I.A,V({eventId:X.EventId.CANVAS_EVENT,uiComponentName:X.UiComponentName.HUDDLES_INVITE,clogImpression:!0},he),s.createElement("div",V({className:(0,r.A)("p-huddle_invite",{"p-huddle_invite--with_header":!!de})},dt&&{style:dt}),s.createElement("div",{className:"p-huddle_invite__content"},Oe,de&&s.createElement("div",{className:"p-huddle_invite__message_header"},de),s.createElement("div",{className:"p-huddle_invite__message"},!Ie&&s.createElement("div",{className:(0,r.A)("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!Ce})},s.createElement(b.Ay,{key:J,className:"p-huddle_invite__avatar",size:Ce?14:20,userId:J,isInteractive:!1}),!!Ce&&s.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},Ce)),s.createElement(B.z,null,s.createElement("div",{className:"p-huddle_invite__text",id:He},Me,s.createElement("span",{className:"offscreen"},ve.rt("Press {key} to join",{key:(0,U.$z)(),fallbackHash:"bd062cb22cea3388535c0f834ebf6df702757691",fallbackHashNs:"keyboard_keys"}))))),s.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":He},Xe,!ke&&Be,Ge)),oe&&s.createElement(K.A,{svgIconProps:ee},ve.t("Something went wrong responding to the invite."))))},"HuddleInvite");F.displayName="HuddleInvite";const H=F},6749400491:(x,g,e)=>{"use strict";e.d(g,{A:()=>i,J:()=>a});var t=e(6304789565),n=e(6533394955),s=e(4250409994),r=e(1070786785),c=e(5319025363),o=e(5170073955),a;(function(d){d.ACCEPT="accept",d.DECLINE="decline",d.JOINING_SOON="joining_soon"})(a||(a={}));const l=(0,t.Ay)("Respond to an invitation to a huddle",(d,_,m)=>{let{channelId:h,inviteResponse:v,callId:T}=m;d((0,c.z)());let A;return v!==a.ACCEPT&&(A=d((0,o.Q)({response:v,channelId:h,roomId:T,reason:"respond-to-huddle-invite"}))),v===a.DECLINE&&((0,n.dispatchForClientStore)((0,s.u8)(h)),d((0,r.V3)(h))),A});l.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"};const i=l},4983989341:(x,g,e)=>{"use strict";e.d(g,{x:()=>a});var t=e(6422693406),n=e(6304789565),s=e(1070786785),r=e(1452921056),c=e(9712681361),o=e(7631186994);const a=(0,n.Ay)("Creates a new huddle in mpim where all huddle participants are channel members",(l,i,d)=>{let{channelId:_,memberIds:m}=d;return l((0,o.r)({memberIds:m})).then(h=>{l((0,s.Ay)(_)),l((0,r.A)({channelId:h.id,entryPoint:c.su.CREATE_NEW_MPIM}))}).catch(h=>t.S.reject(h))});a.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},5907086961:(x,g,e)=>{"use strict";e.d(g,{A:()=>L});var t=e(3134334389),n=e(6084388622),s=e(6122756707),r=e(9003400431),c=e(2562405183),o=e(2527994834),a=e(4761125736),l=e(3288846409),i=e(5658567578),d=e(581167618),_=e(980293773),m=e(9101533895),h=e(5286203919),v=e(735940183),T=e(4446301238),A=e(1471580244),y=e(5363983309),p=e(7868634217),f=e(4061200313),O=e(9183417278),I=e(1612857492),P=e(5743225531),C=e(8847766420);const M=new v.Ay("huddles"),D=u(B=>{let{numOfExternalMembers:b,members:R}=B;const z=(0,c.d4)(C.Kc),w=(0,l.cw)(h.hc)||"",W=(0,c.d4)(H=>(0,m.OL)(H,w)),K=(0,c.d4)(H=>(0,a._Z)(H,"invite_to_channel_permission")==="on"),Y=(0,c.d4)(H=>(0,O.Q)(H,W)),X=(0,c.d4)(H=>(0,I.q)(H,W)),Z=b===R.length,ie=b>0,Ae=!b,ae=R.length-b>0,V=!(R.length-b),ve=M.rt("They can join the huddle, but since you are not allowed to invite external people to this channel, they won\u2019t be able to see messages or reply to the thread."),be=t.createElement(t.Fragment,null,t.createElement("p",null,M.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,M.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(P.A,{id:z}),channelName:t.createElement(A.A,{className:"bold",channel:W})})),t.createElement("p",null,M.t("You don\u2019t have permission to add external people to this channel."))),Ue=t.createElement(t.Fragment,null,t.createElement("p",null,M.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,M.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(P.A,{id:z}),channelName:t.createElement(A.A,{className:"bold",channel:W})}))),Re=M.rt("They can join the huddle, but since you are not allowed to invite people from {org} to this channel, they won\u2019t be able to see messages or reply to the thread.",{org:t.createElement(P.A,{id:z})}),ge=t.createElement(t.Fragment,null,t.createElement("p",null,M.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,M.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(P.A,{id:z}),channelName:t.createElement(A.A,{className:"bold",channel:W})})),t.createElement("p",null,M.t("You don\u2019t have permission to add internal people to this channel."))),ne=t.createElement(t.Fragment,null,t.createElement("p",null,M.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,M.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(P.A,{id:z}),channelName:t.createElement(A.A,{className:"bold",channel:W})}))),ee=M.rt("They can join the huddle, but since you are not allowed to invite people to this channel, they won\u2019t be able to see messages or reply to the thread."),F=M.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:t.createElement(A.A,{className:"bold",channel:W})});switch(!0){case(!K&&!X&&Z):return ve;case(!K&&!X&&ie):return be;case(!K&&!X&&Ae):return Ue;case(!K&&X):return F;case(K&&Y&&!X&&Z):return ve;case(K&&Y&&!X&&ie):return be;case(K&&Y&&!X&&Ae):return Ue;case(K&&!Y&&X&&Ae):return Re;case(K&&!Y&&X&&ae):return ge;case(K&&!Y&&X&&V):return ne;case(K&&!Y&&!X):return ee;default:return F}},"DisallowedHuddleInviteSubtitle");D.displayName="DisallowedHuddleInviteSubtitle";const E=D,S=new v.Ay("huddles");function k(B){let{members:b}=B;const R=(0,s.wA)(),[z,w]=(0,t.useState)(null),[W,K]=(0,t.useState)([]),[Y,X]=(0,t.useState)(!1),Z=(0,l.cw)(h.hc)||"",ie=(0,c.d4)(Ie=>(0,m.OL)(Ie,Z)),Ae=(0,t.useCallback)(()=>R((0,r.O)()),[R]),ae=(0,t.useCallback)(()=>R((0,r.O)({closeAll:!0})),[R]),V=(0,t.useCallback)(Ie=>{w(Ie),R((0,T.Cw)({channelId:Z,users:Ie})).then(()=>{W.push(Ie),K(W),w(null)}).catch(()=>{w(null),X(!0)})},[Z,R,W]),ve=(0,c.d4)(Ie=>(0,a._Z)(Ie,"invite_to_channel_permission")==="on"),be=(0,c.d4)(Ie=>(0,a._Z)(Ie,"shared_channel_invite_requested_event_ga")==="on"),Ue=(0,c.d4)(Ie=>(0,o.Q)(Ie,"shared_channel_invite_requested",ie.id)&&be),Re=(0,c.d4)(Ie=>(0,p.Z)(Ie,b)),ge=(0,t.useMemo)(()=>({addedToChannel:S.t("Added to channel"),notInChannel:S.t("Not in channel"),inviteRequestPending:be?S.t("Invitation request pending approval"):"",added:S.t("Added"),pending:be?S.t("Pending"):"",inviteToChannel:S.t("Invite to channel"),cantBeInvitedToChannel:S.t("Can\u2019t be invited to channel")}),[be]),ne=(0,c.d4)(Ie=>(0,O.Q)(Ie,ie)),ee=(0,c.d4)(Ie=>(0,I.q)(Ie,ie)),F=(0,c.Z2)(Ie=>b.filter(he=>(0,f.i)(Ie,he))),H=F.length,j=!ve&&!ee,N=ve&&ne&&!ee,J=H===b.length,le=!H,ce=(0,t.useMemo)(()=>S.rt("{count, plural, =1 {This person is not a member} other {These people are not members}} of {channelName}",{count:b.length,channelName:t.createElement(A.A,{channel:ie})}),[ie,b]),Ee=(0,t.useCallback)(Ie=>Ie&&Ue?ge.inviteRequestPending:Ie?ge.addedToChannel:ge.notInChannel,[Ue,ge.addedToChannel,ge.inviteRequestPending,ge.notInChannel]),ye=(0,t.useCallback)((Ie,he)=>{let Ce;switch(he&&Ue?Ce=ge.pending:Ce=he?ge.added:ge.inviteToChannel,!0){case((j||N)&&J):return null;case((j||N)&&F.includes(Ie)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},ge.cantBeInvitedToChannel);case(ve&&!ne&&ee&&le):return null;case(ve&&!ne&&ee&&!F.includes(Ie)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},ge.cantBeInvitedToChannel);case(ve&&!ne&&!ee):return null;default:return t.createElement(n.lV,{type:"outline",size:"small",disabled:he,loading:z===Ie,onClick:()=>V(Ie),"aria-label":Ce},Ce)}},[Ue,ge.pending,ge.added,ge.inviteToChannel,ge.cantBeInvitedToChannel,j,N,J,F,ve,ne,ee,le,z,V]);return t.createElement(_.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Ae,contentLabel:ce,shouldReturnFocusAfterClose:!0},t.createElement(_.rQ,null,t.createElement(_.Rc,{title:ce}),t.createElement("div",{className:"p-huddle_invite_add_to_channel__subtitle"},t.createElement(E,{numOfExternalMembers:H,members:b}))),t.createElement(_.$m,null,t.createElement(_.qf,null,Y&&t.createElement(d.Ay,{className:"margin_bottom_150",level:d.A_.error,type:d.QE.inline},S.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"})),Re.map(Ie=>{const he=W.includes(Ie);return t.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:Ie},t.createElement(i.Ay,{id:Ie,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:t.createElement("small",{className:"sk_dark_gray"},Ee(he))}),ye(Ie,he))}))),t.createElement(_.jl,null,t.createElement(_.ox,null,t.createElement(n.Ay,{onClick:ae,type:"primary"},ve&&!ne||!ee?S.t("OK"):S.t("Done")))))}u(k,"HuddleInviteAddToChannel"),k.displayName="HuddleInviteAddToChannel";const U={HuddleInviteAddToChannel:k},L=(0,y.A)(k,{isStackable:!0})},5911067953:(x,g,e)=>{"use strict";e.d(g,{A:()=>Xe});var t=e(9706240641),n=e(3134334389),s=e(6122756707),r=e(235108050),c=e(3462964303),o=e(6084388622),a=e(581167618),l=e(2023515700),i=e(1563996154),d=e(2562405183),_=e(7937864072),m=e(5751973043),h=e(980293773),v=e(3339229351),T=e(5795074931),A=e(5332875232),y=e(6470070112),p=e(7631186994),f=e(735940183),O=e(3730613858),I=e(666760496),P=e(1407713935),C=e(8746998952),M=e(9712681361),D=e(4481313819),E=e(1224315998),S=e(7268021173),k=e(3677514771),U=e(6839188756),L=e(9548972574),B=e(716227588),b=e(1743656885),R=e(6259241484),z=e(9953252450),w=e(3288846409),W=e(9101533895),K=e(5286203919),Y=e(1471580244),X=e(3534324375),Z=e(8276911661),ie=e(6962474707),Ae=e(2823938397);function ae(Ye){let{memberId:dt}=Ye;const mt=(0,d.d4)(At=>(0,Z.nv)(At,dt)),it=(0,d.d4)(At=>(0,X.sE)(At,mt,!1,!1));return(0,Ae.mX)(mt)?n.createElement(ie.A,{type:"unknown"}):(0,Ae.lv)(mt)?n.createElement(ie.A,{type:"non-existent"}):n.createElement("span",null,it)}u(ae,"DeprecatedHuddleName"),ae.displayName="DeprecatedHuddleName";const V=new f.Ay("huddles");function ve(Ye){let{unknownMemberIds:dt}=Ye;const mt=(0,w.cw)(K.hc),it=(0,d.d4)(Kt=>(0,W.OL)(Kt,mt)),At=(0,n.useMemo)(()=>mt?dt:[],[mt,dt]);let Ot;if(At.length===1)Ot=V.rt("{name1} is not a member of {channel}.",{name1:n.createElement(ae,{memberId:At[0]}),channel:n.createElement(Y.A,{channel:it})});else if(At.length===2)Ot=V.rt("{name1} and {name2} are not a member of {channel}.",{name1:n.createElement(ae,{memberId:At[0]}),name2:n.createElement(ae,{memberId:At[1]}),channel:n.createElement(Y.A,{channel:it})});else if(At.length===3)Ot=V.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:n.createElement(ae,{memberId:At[0]}),name2:n.createElement(ae,{memberId:At[1]}),name3:n.createElement(ae,{memberId:At[2]}),channel:n.createElement(Y.A,{channel:it})});else if(At.length>3){const[Kt,Xt,vn,...Sn]=At,jt=Sn.map(hn=>n.createElement(ae,{key:hn,memberId:hn}));Ot=V.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:n.createElement(ae,{memberId:Kt}),name2:n.createElement(ae,{memberId:Xt}),name3:n.createElement(ae,{memberId:vn}),channel:n.createElement(Y.A,{channel:it}),numOthers:At.length-3},hn=>{let{text:xt}=hn;return n.createElement(i.Ay,{tip:(0,f.jd)(jt,{noEscape:!0})},n.createElement("span",null,xt))})}return n.createElement("small",null,Ot)}u(ve,"HuddleInviteNotAMember"),ve.displayName="HuddleInviteNotAMember";const be=ve;var Ue=e(5907086961),Re=e(7396657731),ge=e(9236164662),ne=e(9645800439),ee=e(6011052675),F=e(3109955471),H=e(5103024697),j=e(1681415537),N=e(3215419563),J=e(2293211408),le=e(7889060196),ce=e(6007206761),Ee=e(8170643398),ye=e(4562579337),Ie=e(8040098042),he=e(181849556);const Ce=new f.Ay("huddles");var oe;(function(Ye){Ye.CHANNEL="channel",Ye.PEOPLE="people"})(oe||(oe={}));const de=u(Ye=>{let{isFreeTeam:dt,onSuggestedChannelSelected:mt,onSuggestedUserSelected:it,selectedChannelId:At,selectedMemberIds:Ot}=Ye;const Kt=(0,d.d4)(T.WR),Xt=(0,d.wz)(he.b5),vn=(0,d.wz)(he.mc),Sn=(0,d.wz)(sn=>{if(!Xt)return[];if(Ot.length)return[];const Nn=[];return Xt.forEach(Ve=>{if(Ve.id===At)return;const $e=(0,W.OL)(sn,Ve.id);(0,ce.F)($e)||Nn.push(Ve)}),Nn}),jt=(0,n.useMemo)(()=>Sn.map(sn=>sn.id),[Sn]),hn=(0,d.wz)(sn=>{if(!vn)return[];if(At)return[];const Nn=[];return vn.forEach(Ve=>{if(Ve.id===Kt||Ot.includes(Ve.id))return;const $e=(0,Z.nv)(sn,Ve.id);(0,ye.A)($e)||(0,Ee.oy)($e)||Nn.push(Ve)}),Nn}),xt=(0,n.useMemo)(()=>hn.map(sn=>sn.id),[hn]),Dn=(0,n.useMemo)(()=>{const Ve=xt.length*60,$e=32,Et=jt.length*$e;return Math.min(Math.max(Ve,Et),240)},[jt,xt]),St=(0,n.useCallback)(sn=>{if(!sn.id)return;(0,Ie.A)(sn.id)?mt(sn.id):it(sn.id)},[mt,it]),dn=(0,n.useCallback)(sn=>{const Nn=Sn[sn];if(Nn)return n.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},n.createElement(N.A,{channelId:Nn.id}))},[Sn]),fn=(0,n.useCallback)(()=>n.createElement(H.A,{disableHeight:!0},sn=>{let{width:Nn}=sn;return n.createElement(le.A,{"aria-label":Ce.t("Channel"),keys:jt,rowRenderer:dn,onItemClick:St,width:Nn,height:Dn})}),[St,dn,jt,Dn]),un=(0,n.useCallback)(sn=>{const Nn=hn[sn];if(Nn)return n.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},n.createElement(j.A,{id:Nn.id}))},[hn]),_n=(0,n.useCallback)(()=>n.createElement(H.A,{disableHeight:!0},sn=>{let{width:Nn}=sn;return n.createElement(le.A,{"aria-label":Ce.t("People"),keys:xt,rowRenderer:un,onItemClick:St,width:Nn,height:Dn})}),[St,un,xt,Dn]),[tn,nn]=(0,n.useState)(oe.PEOPLE),An=(0,n.useCallback)(sn=>{nn(sn)},[]);(0,n.useEffect)(()=>{tn===oe.PEOPLE&&At?nn(oe.CHANNEL):tn===oe.CHANNEL&&Ot.length&&nn(oe.PEOPLE)},[tn,At,Ot]);const yn=(0,n.useMemo)(()=>{const sn=[];return xt.length&&sn.push({title:Ce.t("People"),id:oe.PEOPLE,content:_n()}),jt.length&&sn.push({title:Ce.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:oe.CHANNEL,content:fn()}),sn},[jt,xt,fn,_n]);return dt?null:n.createElement("div",{className:"p-huddle_start_suggestion_tabs"},n.createElement(J.A,{fullHeight:!0,tabs:yn,currentTabId:tn,onTabChange:An,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");de.displayName="HuddleStartSuggestionTabs";const De=n.memo(de);var Te=e(8808892924),pe=e(1794107122),Me=e(5142752606);const ke=new f.Ay("huddles"),Ke=n.memo(Ye=>{let{error:dt}=Ye;const mt=(0,d.d4)(Kt=>(0,Z.nv)(Kt,dt.invitedMemberId)),it=(0,d.d4)(Kt=>(0,X.sE)(Kt,mt));if(!(0,d.d4)(A.TM))return null;let Ot=ke.t("{userName} could not be invited to the Huddle.",{userName:it});return dt.inviteRejectionReason===Me.g.RecipientHuddlesDisabled&&(Ot=ke.t("{userName} could not be invited as Huddles is not enabled for them.",{userName:it})),n.createElement(a.Ay,{level:"error"},Ot)});var Ze=e(9623497342),Q=e(5255740490),se=e(1051015021),He=e(952756744);function Ge(){return Ge=Object.assign||function(Ye){for(var dt=1;dt<arguments.length;dt++){var mt=arguments[dt];for(var it in mt)Object.prototype.hasOwnProperty.call(mt,it)&&(Ye[it]=mt[it])}return Ye},Ge.apply(this,arguments)}u(Ge,"_extends");var Be;(function(Ye){Ye.COMPOSER="composer",Ye.PUBLIC_CHANNEL="public_channel",Ye.PRIVATE_CHANNEL="private_channel"})(Be||(Be={}));function we(Ye){let{channel:dt}=Ye;return dt?dt&&(0,P.Zp)(dt)?Be.PRIVATE_CHANNEL:Be.PUBLIC_CHANNEL:Be.COMPOSER}u(we,"getModalContext");const xe=new f.Ay("huddles");function Oe(Ye){let{closeModal:dt,callId:mt,channel:it,channelSuggestion:At,memberSuggestionId:Ot,selectedMemberIds:Kt=m.Ml}=Ye;const Xt=(0,s.wA)(),vn=(0,_.A)(),Sn=we({channel:it}),jt=Sn===Be.PRIVATE_CHANNEL&&!(0,P.PC)(it),hn=Sn===Be.COMPOSER,[xt,Dn]=(0,n.useState)(Kt),[St,dn]=(0,n.useState)(),[fn,un]=(0,n.useState)(!1),[_n,tn]=(0,n.useState)(!1),nn=(0,d.d4)(A.TM),[An,yn]=(0,n.useState)(void 0),sn=(0,d.d4)(T.WR),Nn=(0,d.d4)(k.H7),Ve=(0,U.tc)(Nn),$e=(0,d.d4)(S.iH),Et=(0,d.d4)(We=>(0,pe.$)(We,(it==null?void 0:it.id)||"")),It=(0,d.d4)(A.Si),Tt=(0,d.d4)(L.qr),Ct=(0,d.d4)(Ze.$J),Gt=(0,d.d4)(We=>(0,B.Hp)(We,R.xu.HUDDLE_INVITE_MODAL))===R.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,wt=(0,d.Z2)(We=>(0,L.ft)(We,it==null?void 0:it.id).filter(ze=>ze.id!==sn).map(ze=>ze.id)),qt=(0,d.d4)(y.pl),Yt=(0,d.Z2)(We=>jt?xt.filter(ze=>{const ht=it&&(0,O.Sv)(We,it.id,ze);return ht&&ht.isKnown&&!(ht!=null&&ht.isMember)}):[]);(0,n.useEffect)(()=>{At&&dn({id:At.id,isCurrentSuggestedChannel:!0})},[At]),(0,n.useEffect)(()=>{Ot&&Dn([Ot])},[Ot]);const In=(0,n.useCallback)(We=>Dn(We),[]),ft=(0,n.useCallback)(We=>{if(We===(St==null?void 0:St.id)&&(St!=null&&St.isCurrentSuggestedChannel)){dn({id:We,isCurrentSuggestedChannel:!0});return}dn({id:We,isCurrentSuggestedChannel:!1})},[St==null?void 0:St.id,St==null?void 0:St.isCurrentSuggestedChannel]),yt=(0,n.useCallback)(We=>{Dn(xt.concat(We))},[xt]),bt=(0,n.useCallback)(()=>{dn({id:it==null?void 0:it.id,isCurrentSuggestedChannel:!0})},[it==null?void 0:it.id]),Ht=(0,n.useCallback)(()=>{St!=null&&St.id&&(Xt((0,C.A)({channelId:St.id,entryPoint:M.su.COMPOSER_HUDDLE_START})),dt())},[St,Xt,dt]),ln=(0,n.useCallback)((0,t.coroutine)(function*(){un(!0),yield Xt((0,p.r)({memberIds:xt})).then(We=>{Xt((0,C.A)({channelId:We.id,entryPoint:M.su.COMPOSER_HUDDLE_START})),dt(),un(!1),tn(!1)}).catch(We=>{vn.error(We),un(!1);const{message:ze}=We;(ze==null?void 0:ze.indexOf(v.O3.INVALID_USER_COMBINATION))!==-1&&tn(!0)})}),[xt,Xt,vn,dt]),rn=(0,n.useCallback)((0,t.coroutine)(function*(){if(!it)return;un(!0);let We=xt;(St==null?void 0:St.id)===it.id&&(St!=null&&St.isCurrentSuggestedChannel)&&(We=(0,r.A)([...xt,...Et])),yield Xt((0,I.A)({channelId:it.id,userIds:We})).then(()=>{un(!1),Yt&&Yt.length>0&&jt?Xt((0,Ue.A)({members:Yt})):dt()}).catch(ze=>{vn.error(ze),un(!1),nn&&yn(ze)})}),[it,Et,dt,Xt,nn,jt,vn,St==null?void 0:St.id,St==null?void 0:St.isCurrentSuggestedChannel,xt,Yt]),Zt=(0,n.useMemo)(()=>Sn===Be.COMPOSER?St!=null&&St.id?Ht:ln:rn,[rn,ln,Sn,St,Ht]),Mn={[Be.COMPOSER]:{eventId:E.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:E.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[Be.PUBLIC_CHANNEL]:{eventId:E.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[Be.PRIVATE_CHANNEL]:{eventId:E.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},es=u(()=>Ve&&!It&&!Tt?n.createElement(Re.A,null):$e&&!Gt?n.createElement(z.A,{v2ClassName:(0,Q.A)({"p-huddle_invite_modal_banner":Ct})}):null,"maybeRenderBanner");es.displayName="maybeRenderBanner";const jn=Mn[Sn],Kn=(0,n.useMemo)(()=>hn?xe.t("Start a Huddle"):xt.length>1?xe.t("Send Invites"):xe.t("Send Invite"),[hn,xt]);if(!qt)return null;const Yn=xe.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),wn=u(We=>n.createElement(b.A,{articleId:4402059015315,ariaLabel:xe.t("Learn more about Huddles"),forceOpenInBrowser:!0},We),"renderLearnMoreLink");let Rt,je,qe,st;const q=u(We=>{const ze=We.map(ht=>n.createElement(l.A,{key:ht,isBold:!1,id:ht}));return ze&&(0,f.jd)(ze)},"listifiedOverflowMembers");if(q.displayName="listifiedOverflowMembers",Ve&&It&&!Tt)je=xe.t("Invite someone to your huddle"),Rt=jt?xe.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:n.createElement(Y.A,{channel:it}),"<a>":We=>{let{text:ze}=We;return wn(ze)}}):xe.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":We=>{let{text:ze}=We;return wn(ze)}});else if(hn?(je=xe.t("Start a Huddle"),qe=Ct?xe.t("You can invite whomever you\u2019d like to the huddle, they\u2019ll receive a notification in Slack to join."):xe.t("Find a person or channel to huddle with")):(je=xe.t("Invite people to your huddle"),qe=jt?Yn:xe.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),it!=null&&it.id&&wt.length){const We=xe.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:wt.length-1,firstParticipant:n.createElement(l.A,{isBold:!0,id:wt[0]}),secondParticipant:n.createElement(l.A,{isBold:!0,id:wt[1]}),"<a>":ze=>{let{text:ht}=ze;return n.createElement(i.Ay,{zIndex:"above_fs",tip:q(wt.slice(2))},n.createElement("span",null,ht))}});st=n.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},n.createElement(Te.i,{channelId:it.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:c.RG.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),n.createElement("div",null,We))}const me=nn&&An!==void 0,Le="huddle-invite-description";return n.createElement(h.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:dt,contentLabel:je,describedby:Le,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},n.createElement(h.rQ,null,n.createElement(h.Rc,{title:je,subtitle:qe})),n.createElement(h.$m,null,n.createElement(h.qf,null,st,Rt&&n.createElement("p",{id:Le},Rt),n.createElement(ne.A,{isFreeTeam:Ve&&!Tt,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:It,channel:it,otherMembersInHuddle:wt,onSelectedMembersChange:In,onSelectedChannelChange:ft,selectedMemberIds:xt,selectedChannel:St}),jt&&Yt&&Yt.length>0&&n.createElement(be,{unknownMemberIds:Yt}),_n&&n.createElement(a.Ay,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},xe.t("All external people must already be in at least one channel together to send this invitation.")),me&&n.createElement(Ke,{error:An})),es(),n.createElement(He.s,null),Tt&&Ve&&!Gt&&n.createElement(se.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),mt&&n.createElement(F.A,{activeHuddleCallId:mt,channel:it,isFreeTeam:Ve&&!Tt,onSuggestedUserSelected:yt,otherMembersInHuddle:wt,selectedMemberIds:xt,onChannelSelected:bt,channelSuggestionOptionSelected:St==null?void 0:St.isCurrentSuggestedChannel}),!mt&&n.createElement(De,{isFreeTeam:Ve&&!Tt,onSuggestedChannelSelected:ft,onSuggestedUserSelected:yt,selectedChannelId:St==null?void 0:St.id,selectedMemberIds:xt})),n.createElement(h.jl,null,n.createElement(h.ox,{className:"p-huddle_invite_channel_or_start_footer_actions"},n.createElement(ee.A,{channelId:it==null?void 0:it.id}),n.createElement(h.s_,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close","aria-label":xe.t("Cancel")},xe.t("Cancel")),n.createElement(D.A,Ge({},jn,{clogImpression:!0}),n.createElement(o.lV,{"data-qa":"send_invite_button",loading:fn,onClick:Zt,type:"primary",disabled:!xt.length&&!(St!=null&&St.id),"aria-label":Kn},Kn)))),It&&Ve&&!Tt&&n.createElement(ge.A,{selectedMemberIds:xt}))}u(Oe,"HuddleInviteChannelOrStart"),Oe.displayName="HuddleInviteChannelOrStart";const Xe=Oe},6011052675:(x,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),n=e(6122756707),s=e(735940183),r=e(6084388622),c=e(5904726069);const o=new s.Ay("huddles"),a=u(i=>{let{channelId:d}=i;const _=(0,n.wA)(),m=(0,t.useCallback)(()=>{_((0,c.r)({channelId:d}))},[_,d]);return d?t.createElement(r.Ay,{onClick:m,type:"outline",className:"p-huddle_invite_link_button__copy_link"},o.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");a.displayName="HuddleInviteLinkButton";const l=a},9236164662:(x,g,e)=>{"use strict";e.d(g,{A:()=>D});var t=e(4481313819),n=e(1224315998),s=e(5751973043),r=e(735940183),c=e(3134334389),o=e(2562405183),a=e(8739505998),l=e(6323355797),i=e(6122756707),d=e(1267040415),_=e(236241007),m=e(5641442783),h=e(3994181705),v=e(5332875232),T=e(5881236351),A=e(7268021173),y=e(1384076438),p=e(2607644860),f=e(8112788848),O=e(8214116048);const I=new r.Ay("trials_highlight_paid_features"),P={onClick:{enableClogAction:!0},elementName:"start_trial"},C={elementName:"upgrade_link",onClick:{enableClogAction:!0}},M=u(E=>{let{selectedMemberIds:S=s.Ml}=E;const k=(0,i.wA)(),U=l.ZO.PaidFeatureTrial,L=l.zG.Vhq,B=(0,o.d4)(K=>(0,A.hq)(K,U,L)),b=(0,o.d4)(K=>(0,A.bp)(K,U,L)),R=(0,o.d4)(v.Si),z=(0,c.useCallback)(()=>{k((0,T.Ov)(S))},[k,S]),w=(0,c.useCallback)(()=>{k((0,_.A)({uiComponentVariant:n.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:z}))},[k,z]);if((0,c.useEffect)(()=>{k((0,y.A)({campaignType:U,campaignSubType:L,reason:"huddle_invite_modal",context:p.y.huddleInviteModal}))},[k,U,L]),!R||b)return null;const W=B?I.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":K=>{let{text:Y}=K;return c.createElement(a.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:w,autoClogProps:P},Y)}}):I.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":K=>{let{text:Y}=K;return c.createElement(d.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:C,useLink:!0},Y)}});return c.createElement(t.A,{eventId:n.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:n.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},c.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},c.createElement(m.A,{variant:h.G.HuddlesFreemiumDeprecated,promoType:U,promoSubtype:L,uiComponentVariant:n.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:f.m.AboveFullScreen,toolTipPosition:O.yX.Bottom}),c.createElement("span",{className:"margin_left_50"},W)))},"HuddleInviteModalFooterBanner");M.displayName="HuddleInviteModalFooterBanner";const D=M},7396657731:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3134334389),n=e(735940183),s=e(1224315998),r=e(4481313819),c=e(1743656885),o=e(3328083357),a=e(5712872315);const l=new n.Ay("trials_highlight_paid_features"),i=u(m=>{let{text:h}=m;return t.createElement(c.A,{articleId:4402059015315,ariaLabel:l.t("Learn more about Huddles")},h)},"AlertBannerHelpLink"),_=u(()=>t.createElement(r.A,{eventId:s.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:s.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(o.A,{theme:a.B.NONE,"data-qa":"huddle_invite_modal_free_banner"},l.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":i})))),"HuddleInviteModalFreeBanner")},9645800439:(x,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3134334389),n=e(2562405183),s=e(735940183),r=e(3215419563),c=e(5882561377),o=e(1407713935),a=e(3730613858),l=e(1289024643),i=e(8040098042),d=e(4327331459);const _=new s.Ay("huddles");var m;(function(M){M.CHANNEL="channel",M.MEMBER="member"})(m||(m={}));function h(M){let{id:D,entity:E,channel:S,huddleId:k}=M,U;(0,i.A)(D)?U=m.CHANNEL:(0,d.A)(D)&&(U=m.MEMBER);const L=(0,n.d4)(K=>S&&(0,a.Sv)(K,S.id,D)),B=L&&L.isKnown&&(L==null?void 0:L.isMember),b=S&&(0,o.JM)(S),R=(0,n.d4)(K=>(0,l.Ck)(K,k,D)),z=!!R&&R==="joining_soon";let w=null;if(R?w=z?_.t("Joining soon"):_.t("Invited"):S&&b&&!B?w=_.t("Not in conversation"):S&&!b&&!B&&(w=_.t("Not in channel")),!U)return null;let W;return U===m.CHANNEL?W=t.createElement(r.A,{channelId:D,channel:E}):U===m.MEMBER&&(W=t.createElement(c.A,{id:D,member:E,showPresence:!0,secondaryContent:w})),t.createElement("div",{className:"display_flex"},W)}u(h,"HuddleInviteMultiSelectRenderOption"),h.displayName="HuddleInviteMultiSelectRenderOption";const v=(0,t.memo)(h);var T=e(7090824688),A=e(630868093),y=e(3288846409),p=e(5286203919),f=e(5751973043);function O(){return O=Object.assign||function(M){for(var D=1;D<arguments.length;D++){var E=arguments[D];for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(M[S]=E[S])}return M},O.apply(this,arguments)}u(O,"_extends");const I=new s.Ay("huddles"),P=u(M=>{let{isFreeTeam:D,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:E,channel:S,otherMembersInHuddle:k,onSelectedMembersChange:U,onSelectedChannelChange:L,selectedMemberIds:B=f.Ml,selectedChannel:b}=M;const R=(0,y.cw)(p.E9),z=(0,t.useMemo)(()=>L&&!S&&!D&&!(B!=null&&B.length),[S,D,L,B]),w=(0,t.useMemo)(()=>b!=null&&b.id&&b.isCurrentSuggestedChannel?!0:!(b!=null&&b.id),[b]),W=(0,t.useMemo)(()=>({entities:{...z&&{channels:{canPost:!0,includeArchived:!1}},...w&&{members:{includeSelf:!1,includeSlackbot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:S},allowEmptyQuery:!0,filter:ae=>!k.includes(ae.id)}),[z,w,S,k]),K=(0,t.useCallback)(ae=>{L&&(0,i.A)(ae.value)?L(ae.value):U([ae.value])},[L,U]),Y=(0,t.useCallback)(ae=>{const V=[];let ve;ae.forEach(be=>{(0,i.A)(be.value)?(!ve||be.value!==(b==null?void 0:b.id))&&(ve=be.value):V.push(be.value)}),L==null||L(ve),U(V)},[L,U,b]),X=(0,t.useCallback)(ae=>{let{value:V,entity:ve}=ae;return t.createElement(v,{channel:S,id:V,entity:ve,huddleId:R})},[S,R]),Z=(0,t.useCallback)(ae=>{let{value:V}=ae;return(0,i.A)(V)?t.createElement(r.A,{channelId:V}):t.createElement(c.A,{id:V,showAvatar:!0})},[]),ie=(0,t.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:W,renderOption:X,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:D,focusOnMount:!0}),[W,X,D]),Ae=(0,t.useMemo)(()=>{const ae=B.map(V=>({value:V}));return b!=null&&b.id&&ae.push({value:b.id}),ae},[b,B]);return D&&E?t.createElement(A.uR,O({},ie,{onOptionSelected:K,placeholderText:I.t("Find someone to invite\u2026"),renderSelectedOption:Z,selectedOption:Ae[0]})):t.createElement(T.h7,O({},ie,{onSelectedItemsChange:Y,selectedOptions:Ae,placeholderText:I.t("Search by name")}))},"HuddleInviteModalSelect");P.displayName="HuddleInviteModalSelect";const C=P},605594140:(x,g,e)=>{"use strict";e.d(g,{A:()=>ce});var t=e(3134334389),n=e(2562405183),s=e(3288846409),r=e(7715417323),c=e(5751973043),o=e(5363983309),a=e(9101533895),l=e(5286203919),i=e(6470070112),d=e(1407713935),_=e(5911067953),m=e(9706240641),h=e(4075246222),v=e(6122756707),T=e(6084388622),A=e(7937864072),y=e(3730613858),p=e(666760496),f=e(1563996154),O=e(2023515700),I=e(980293773),P=e(9548972574),C=e(5795074931),M=e(5332875232),D=e(735940183),E=e(9884588328),S=e(581167618),k=e(3534324375),U=e(8276911661),L=e(8739505998),B=e(438845125);const b=new D.Ay("huddles");function R(Ee){let{members:ye,createNewMpim:Ie}=Ee;var he,Ce,oe;const de=(0,n.Z2)(pe=>ye.map(Me=>(0,k.sE)(pe,(0,U.nv)(pe,Me.slackId))));if(!ye)return null;const De=de&&de.slice(3),Te=b.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:ye.length,name1:t.createElement(B.A,{slackId:(he=ye[0])===null||he===void 0?void 0:he.slackId}),name2:t.createElement(B.A,{slackId:(Ce=ye[1])===null||Ce===void 0?void 0:Ce.slackId}),name3:t.createElement(B.A,{slackId:(oe=ye[2])===null||oe===void 0?void 0:oe.slackId}),numOthers:t.createElement(f.Ay,{zIndex:"above_fs",position:"top",tip:(0,D.jd)(De)},t.createElement("span",null,ye.length-3))},pe=>{let{text:Me,tag:ke}=pe;return ke==="a"?t.createElement(L.A,{onClick:Ie},Me):null});return t.createElement(S.Ay,{level:S.A_.info,type:S.QE.custom},Te)}u(R,"HuddleInviteMpimAlert"),R.displayName="HuddleInviteMpimAlert";const z=R;var w=e(7268021173),W=e(3677514771),K=e(6839188756),Y=e(4983989341),X=e(4481313819),Z=e(1224315998),ie=e(1743656885),Ae=e(9953252450),ae=e(7396657731),V=e(9236164662),ve=e(9645800439),be=e(6011052675),Ue=e(3109955471),Re=e(9623497342),ge=e(1051015021),ne=e(952756744),ee=e(716227588),F=e(6259241484);const H=new D.Ay("huddles"),j={elementName:"learn_more",onClick:{enableClogAction:!0}};function N(Ee){let{closeModal:ye,callId:Ie,channelId:he,selectedMemberIds:Ce=c.Ml}=Ee;const oe=(0,v.wA)(),de=(0,A.A)(),De=(0,n.d4)(C.WR),Te=(0,n.d4)(i.pl),pe=(0,n.d4)(St=>(0,a.OL)(St,he)),Me=(0,n.d4)(P.qr),ke=(0,n.d4)(M.Si),Ke=(0,n.d4)(Re.$J),Ze=(0,n.Z2)(St=>(0,P.ft)(St,he).filter(dn=>dn.id!==De).map(dn=>dn.id)),se=(0,n.d4)(St=>(0,ee.Hp)(St,F.xu.HUDDLE_INVITE_MODAL))===F.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,[He,Ge]=(0,t.useState)(Ce),[Be,we]=(0,t.useState)(!1),xe=(0,n.Z2)(St=>!he||!(He!=null&&He.length)?[]:He.filter(fn=>{const un=(0,y.Sv)(St,he,fn);return un&&un.isKnown&&!(un!=null&&un.isMember)?fn:!1})),Oe=(0,n.d4)(W.H7),Xe=(0,K.tc)(Oe),Ye=(0,n.d4)(w.iH),dt=(0,t.useCallback)(St=>{Ge(St)},[]),mt=(0,t.useCallback)(St=>{Ge(He.concat(St))},[He]),it=(0,t.useMemo)(()=>{const St=(0,E.Hd)(pe);return Array.isArray(St)?St:[]},[pe]),At=it.filter(St=>St!==De),Ot=(0,t.useCallback)((0,m.coroutine)(function*(){if(!he)return;let St=He.concat(Ze);return it&&(St=(0,h.A)(St,it)),oe((0,Y.x)({channelId:he,memberIds:St})).then(()=>{ye()}).catch(dn=>{de.error(dn),we(!1)})}),[he,He,Ze,it,oe,ye,de]),Kt=(0,t.useCallback)((0,m.coroutine)(function*(){if(!he)return;we(!0);const St=He.concat(Ze);return oe((0,p.A)({channelId:he,userIds:St})).then(()=>{ye()}).catch(dn=>{de.error(dn),we(!1)})}),[he,ye,oe,de,Ze,He]),Xt=u(()=>Xe&&!ke&&!Me?t.createElement(ae.A,null):Ye&&!Me&&!Ke?t.createElement(Ae.A,null):null,"maybeRenderBanner");Xt.displayName="maybeRenderBanner";let vn,Sn,jt,hn;const xt=u(St=>{const dn=St.map(fn=>t.createElement(O.A,{key:fn,isBold:!1,id:fn}));return dn&&(0,D.jd)(dn)},"listifiedOverflowMembers");xt.displayName="listifiedOverflowMembers",Xe&&ke&&!Me?(vn=H.t("Invite someone else to your huddle"),jt=H.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(At==null?void 0:At.length)-1,firstParticipant:t.createElement(O.A,{isBold:!1,id:At[0]}),secondParticipant:t.createElement(O.A,{isBold:!1,id:At[1]}),"<a>":St=>{let{text:dn}=St;return t.createElement(f.Ay,{zIndex:"above_fs",tip:xt(At==null?void 0:At.slice(1))},t.createElement("span",null,dn))},"<b>":St=>{let{text:dn}=St;return t.createElement("b",null,dn)}}),hn=H.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":St=>{let{text:dn}=St;return t.createElement(ie.A,{articleId:4402059015315,ariaLabel:H.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:j},dn)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(vn=H.t("Invite people to your huddle"),Sn=H.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const Dn=(0,t.useMemo)(()=>He.length>1?H.t("Send Invites"):H.t("Send Invite"),[He]);return!Te||!he?null:t.createElement(I.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:ye,contentLabel:vn,shouldReturnFocusAfterClose:!0},t.createElement(I.rQ,null,t.createElement(I.Rc,{title:vn,subtitle:Sn})),t.createElement(I.$m,null,t.createElement(I.qf,null,(jt||hn)&&t.createElement("p",null,jt,hn),t.createElement(ve.A,{isFreeTeam:Xe&&!Me,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:ke,channel:pe,otherMembersInHuddle:Ze,onSelectedMembersChange:dt,selectedMemberIds:He}),(xe==null?void 0:xe.length)>0&&t.createElement(z,{members:xe.map(St=>({slackId:St})),createNewMpim:Ot})),Xt(),Ke&&t.createElement(ne.s,null),Me&&Xe&&!se&&t.createElement(ge.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),t.createElement(Ue.A,{activeHuddleCallId:Ie,channel:pe,isFreeTeam:Xe&&!Me,onSuggestedUserSelected:mt,otherMembersInHuddle:Ze,selectedMemberIds:He})),t.createElement(I.jl,null,t.createElement(be.A,{channelId:he}),t.createElement(I.ox,null,t.createElement(I.s_,{type:"outline","aria-label":H.t("Cancel")},H.t("Cancel")),t.createElement(X.A,{clogImpression:!0,eventId:Z.EventId.HUDDLES_MPIM_INVITE},t.createElement(T.lV,{loading:Be,onClick:Kt,type:"primary",disabled:!He.length,"aria-label":Dn},Dn)))),ke&&Xe&&!Me&&t.createElement(V.A,{selectedMemberIds:He}))}u(N,"HuddleInviteMpim"),N.displayName="HuddleInviteMpim";const J=N;function le(Ee){let{closeModal:ye=r.A,selectedMemberIds:Ie=c.Ml}=Ee;const he=(0,n.d4)(i.pl),Ce=(0,s.cw)(l.E9),oe=(0,s.cw)(l.hc),de=(0,n.d4)(De=>(0,a.OL)(De,oe));return he?(0,d.JM)(de)?t.createElement(J,{callId:Ce,channelId:oe,closeModal:ye,selectedMemberIds:Ie}):t.createElement(_.A,{callId:Ce,channel:de,closeModal:ye,selectedMemberIds:Ie}):null}u(le,"HuddleInviteOrStartModal"),le.displayName="HuddleInviteOrStartModal";const ce=(0,o.A)(le,{isStackable:!0})},3109955471:(x,g,e)=>{"use strict";e.d(g,{A:()=>X});var t=e(3134334389),n=e(2003990933),s=e(7156798807),r=e(5103024697),c=e(2562405183),o=e(5795074931),a=e(3730613858),l=e(8276911661),i=e(1289024643),d=e(1681415537),_=e(2293211408),m=e(7889060196),h=e(8683010724),v=e(9884588328),T=e(1407713935),A=e(8798294025),y=e(4562579337),p=e(8170643398),f=e(863407566),O=e(181849556),I=e(735940183),P=e(2828836153),C=e(3877384923);const M=new I.Ay("huddles");var D;(function(Z){Z[Z.Channel=0]="Channel",Z[Z.Here=1]="Here"})(D||(D={}));const E=u(Z=>{let{variation:ie}=Z;const Ae=(0,t.useMemo)(()=>{const ae=ie===D.Channel?M.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):M.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),V=ie===D.Channel?M.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):M.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.createElement(h.A,{name:"mentions",size:"24"})),t.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},ae),t.createElement("span",{className:"c-base_entity__subtext"},V)))},[ie]);return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(P.A,{size:C.ny.medium,padding:C.FK.normal,primaryContent:Ae}))},"HuddleInviteChannelListEntity");E.displayName="HuddleInviteChannelListEntity";const S=E;var k=e(8286248123),U=e(9548972574),L=e(5751973043),B=e(9680914051),b=e(6470070112);const R=new I.Ay("huddles");var z;(function(Z){Z.SUGGESTIONS="suggestions",Z.INVITED="invited"})(z||(z={}));function w(Z,ie,Ae,ae,V,ve,be){return!(!Z||ie||Ae||Z===ae||V.includes(Z)||ve.includes(Z)||be.includes(Z))}u(w,"shouldSuggestMember");const W="channelEntityId",K="channelHereEntityId",Y=u(Z=>{let{activeHuddleCallId:ie,channel:Ae,isFreeTeam:ae,onSuggestedUserSelected:V,onChannelSelected:ve,onChannelHereSelected:be,otherMembersInHuddle:Ue,selectedMemberIds:Re,channelSuggestionOptionSelected:ge=!1}=Z;const ne=(0,c.d4)(o.WR),ee=(0,c.d4)(Oe=>(0,k.q8)(Oe,Ae==null?void 0:Ae.id)),F=(0,c.d4)(b.df),H=(0,n.A)(ee,"counts.member_count")||void 0,j=(0,T.JM)(Ae),N=(0,c.d4)(U.Sx),J=(0,c.d4)(Oe=>(0,i.k9)(Oe,ie)),le=(0,c.d4)(Oe=>(0,i.I1)(Oe,ie)),Ee=N+1+J+le,ye=(0,c.Z2)(Oe=>(0,i.Kx)(Oe,ie)),Ie=(0,t.useMemo)(()=>ye?Object.keys(ye):[],[ye]),he=Ie.length,Ce=25,oe=(0,c.Z2)(Oe=>(0,f.A)(Oe,(Ae==null?void 0:Ae.id)||"",Ce,Ce,!0).map(Ye=>Ye.id));let de=[];if((0,T.LI)(Ae)){const Oe=(0,A.e)(Ae);Oe&&de.push(Oe)}else if((0,T.yz)(Ae)){const Oe=(0,v.Ug)(Ae);Oe&&Oe.length&&(de=[...Oe])}else de=oe;const De=(0,c.wz)(Oe=>{if(ge||!de||!de.length)return L.Ml;const Xe=[];return de.forEach(Ye=>{const dt=(0,l.nv)(Oe,Ye);w(Ye,(0,y.A)(dt),(0,p.oy)(dt),ne,Ue,Ie,Re)&&Xe.push({id:Ye,isMemberOfChannel:!0})}),Xe}),Te=(0,c.wz)(O.mc),pe=(0,c.wz)(Oe=>{if(!Te||!Te.length)return L.Ml;const Xe=[];return Te.forEach(Ye=>{const dt=(0,l.nv)(Oe,Ye.id);if(!w(Ye.id,(0,y.A)(dt),(0,p.oy)(dt),ne,Ue,Ie,Re)||de.includes(Ye.id))return;const mt=Ae&&(0,a.Sv)(Oe,Ae.id,Ye.id),it=mt&&mt.isKnown&&mt.isMember;Xe.push({id:Ye.id,isMemberOfChannel:it})}),Xe}),Me=(0,t.useMemo)(()=>!ve||(0,T.PC)(Ae)?!1:H<=B.XG&&Ee+H<=F&&!ge,[H,ge,Ee,F,ve,Ae]),ke=(0,t.useMemo)(()=>De.length>=Ce?De.slice(0,Ce):[...De,...pe].slice(0,Ce),[De,pe]),Ke=(0,t.useMemo)(()=>ke.map(Oe=>Oe.id),[ke]),Ze=(0,t.useMemo)(()=>(0,s.A)(ke,"id"),[ke]),Q=(0,t.useMemo)(()=>Math.min(60*Math.max(he,Ke.length),240),[Ke,he]),se=(0,t.useCallback)((Oe,Xe)=>{if(Xe.key===W)return t.createElement(S,{variation:D.Channel});if(Xe.key===K)return t.createElement(S,{variation:D.Here});const Ye=Ze[Xe.key];if(!Ye)return;let dt=null;return Ye.isMemberOfChannel===!1&&(j||(0,T.PC)(Ae)?dt=R.t("Not in conversation"):dt=R.t("Not in channel")),t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(d.A,{id:Ye.id,secondaryContent:dt}))},[j,Ze,Ae]),He=(0,t.useCallback)(Oe=>{if(Oe.id){if(Oe.id===W){ve&&ve();return}if(Oe.id===K){be&&be();return}V(Oe.id)}},[be,ve,V]),Ge=(0,t.useCallback)(()=>{let Oe=Ke;return Me&&(Oe=[W,...Ke]),t.createElement(r.A,{disableHeight:!0},Xe=>{let{width:Ye}=Xe;return t.createElement(m.A,{"aria-label":R.t("Suggested"),keys:Oe,rowRenderer:se,onItemClick:He,width:Ye,height:Q})})},[Me,se,Ke,He,Q]),Be=(0,t.useCallback)(Oe=>{const Xe=Ie[Oe],Ye=ye==null?void 0:ye[Xe];if(!Ye)return null;const dt=Ye==="joining_soon",mt=t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.createElement(h.A,{name:dt?"clock":"paper-plane",size:"20"}),t.createElement("span",null,dt?R.t("Joining soon"):R.t("Invited")));return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.createElement(d.A,{id:Xe,secondaryContent:mt}))},[Ie,ye]),we=(0,t.useCallback)(()=>t.createElement(r.A,{disableHeight:!0},Oe=>{let{width:Xe}=Oe;return t.createElement(m.A,{"aria-label":R.t("Invited"),keys:Ie,rowRenderer:Be,width:Xe,height:Q})}),[Ie,Be,Q]),xe=(0,t.useMemo)(()=>{const Oe=[];return Ke.length&&Oe.push({title:R.t("Suggested"),id:z.SUGGESTIONS,content:Ge()}),Oe.push({title:R.t("Invited"),id:z.INVITED,titleCount:he,content:we()}),Oe},[Ke,he,we,Ge]);return!ie||ae?null:t.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.createElement(_.A,{fullHeight:!0,tabs:xe,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");Y.displayName="HuddleInviteSuggestionTabs";const X=t.memo(Y)},3015351052:(x,g,e)=>{"use strict";e.d(g,{s:()=>$e,_:()=>Et});var t=e(3134334389),n=e(825587348),s=e(5363983309),r=e(1593595278),c=e(8801078943),o=e(9948866681),a=e(9706240641),l=e(7396150282),i=e(8157829725),d=e(462591818),_=e(8736071954),m=e(7149946954);function h(It){let{microphoneDeviceId:Tt,handleMicrophoneStreamError:Ct}=It;const[Wt,Gt]=(0,t.useState)(!1),wt=(0,t.useRef)(null),qt=(0,t.useRef)(null),[Yt,In]=(0,t.useState)(void 0),ft=(0,t.useCallback)((0,a.coroutine)(function*(){let rn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Wt&&!rn)return;const Zt=m.Ay.canAccessMediaResource(d.mT.MICROPHONE);if(Zt.status===_.eJ.Denied){Ct==null||Ct();return}if(!((!Tt||wt.current)&&Zt.status!==_.eJ.Prompt))try{const Mn=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:Tt}});wt.current=Mn,qt.current=new l.x,qt.current.setPreviewStream(Mn),Gt(!0),In(Tt)}catch{Ct==null||Ct()}}),[Ct,Wt,Tt]),yt=(0,t.useCallback)(()=>{qt.current&&(qt.current.cleanup(),qt.current=null),wt.current&&(wt.current.getTracks().forEach(rn=>rn.stop()),wt.current=null),Gt(!1)},[]),bt=(0,t.useCallback)(rn=>{rn!==Yt&&(yt(),ft({isMicSwitch:!0}),In(rn))},[ft,Yt,yt]);(0,i.A)(()=>(ft(),()=>{yt()}),[]),(0,t.useEffect)(()=>{Tt&&Tt!==Yt&&Yt!==void 0&&bt(Tt)},[Tt,Yt,bt]);const Ht=(0,t.useCallback)(()=>{ft()},[ft]),ln=(0,t.useCallback)(()=>{yt()},[yt]);return{turnOn:Ht,turnOff:ln}}u(h,"useGetHuddleJoinPreviewMicLevels");var v=e(2562405183),T=e(9365970888),A=e(387328355),y=e(5597672932),p=e(1535211300),f=e.n(p);const O=t.memo(It=>{let{handleMicrophonePermissionsError:Tt,microphonePermissionDenied:Ct,cameraPermissionDenied:Wt}=It;const Gt=(0,v.Z2)(T.oG),wt=(0,v.d4)(yt=>!!(0,A.WQ)(yt,"isMicrophoneEnabled")),qt=(0,v.d4)(yt=>(0,y.xp)(yt,"allow_huddles_video")),Yt=(0,t.useCallback)(()=>{Tt==null||Tt()},[Tt]),In=(0,t.useMemo)(()=>Gt.microphone.filter(yt=>!!yt.id).map(yt=>({label:yt.label,value:yt.id})),[Gt.microphone]),ft=In==null?void 0:In[0];return h({microphoneDeviceId:ft==null?void 0:ft.value,handleMicrophoneStreamError:Yt}),t.createElement("div",{className:f().container},t.createElement(r.A,{className:f().device,audioMeterLayout:r.Y.Inline,selectSize:"medium",isEnabled:wt,microphonePermissionDenied:Ct}),t.createElement(o.A,{className:f().device,selectSize:"medium",showTestSpeaker:!0,microphonePermissionDenied:Ct}),qt&&t.createElement(c.A,{className:f().device,selectSize:"medium",cameraPermissionDenied:Wt}))});var I=e(5011231008),P=e(4745917661),C=e(1638377365),M=e(2312625946),D=e(735940183),E=e(7280065019),S=e(6084388622),k=e(8683010724),U=e(5255740490),L=e(2688127376),B=e.n(L);const b=new D.Ay("huddles"),R=t.memo(It=>{let{turnOffCameraHandler:Tt,turnOnCameraHandler:Ct,cameraIsOn:Wt,cameraPermissionDenied:Gt,microphonePermissionDenied:wt,scaleOffset:qt=1}=It;const{videoLabel:Yt,deviceLabel:In}=(0,C.z)(),ft=(0,v.d4)(ln=>(0,y.xp)(ln,"allow_huddles_video")),yt=(0,v.d4)(ln=>!!(0,A.WQ)(ln,"isMicrophoneEnabled")&&!wt),bt=(0,t.useCallback)(()=>{if(Wt){Tt==null||Tt();return}Ct==null||Ct()},[Tt,Ct,Wt]),Ht=(0,t.useMemo)(()=>Gt?b.t("Camera permission denied",{fallbackHash:"3bca281bb714e2057db7a3b764b3502a1915a27a",fallbackHashNs:"huddles_audio_video_prefs"}):t.createElement(P.A,{actionLabel:Yt,deviceLabel:In,audioOnlyModeEnabledWarning:!1}),[In,Gt,Yt]);return t.createElement("div",{className:B().container,style:{transform:`scale(${qt})`}},t.createElement(I.A,{className:(0,U.A)(B().toolbarButton,{[B().activeButton]:yt}),microphonePermissionDenied:wt,displayShortcutTooltip:!1}),ft&&t.createElement(M.Ay,{tip:Ht},t.createElement(S.Nm,{htmlType:"button",onClick:bt,role:"switch","aria-label":b.t("Video"),"aria-checked":Wt,"data-qa":"huddle_camera_huddle_toolbar",className:(0,U.A)(B().toolbarButton,{[B().cameraDisabled]:Gt,[B().activeButton]:Wt}),"aria-disabled":Gt},t.createElement(E.A,{isCameraEnabled:Wt,className:"p-huddle_toolbar__video_button"}),Gt&&t.createElement("div",{className:B().warningBadgeContainer},t.createElement("div",{className:B().warningBadge},t.createElement(k.A,{name:"warning",variation:"filled"}))))))});var z=e(8419239240),w=e(9632269965),W=e.n(w);const K=t.memo(It=>{let{channelId:Tt}=It;const Ct=(0,z.I)({channelId:Tt});return t.createElement("div",{className:W().container},Ct)});var Y=e(6122756707),X=e(3462964303),Z=e(5795074931),ie=e(6251210828),Ae=e(7434063642),ae=e(581167618),V=e(8739505998),ve=e(9289216704),be=e(5332875232);const Ue=new D.Ay("huddles"),Re=t.memo(It=>{let{cameraPermissionDenied:Tt,microphonePermissionDenied:Ct}=It;const Wt=(0,v.d4)(be.Rk),Gt=(0,t.useMemo)(()=>{if(!Ct)return null;const Yt=Wt?Ue.rt("Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let In=null;return ve.mt&&(In=t.createElement(V.A,{href:ve.mt},Wt?Ue.t("Open system preferences"):"Open system preferences")),t.createElement(ae.Ay,{type:ae.QE.boxed,level:ae.A_.error,icon:"info-circle",align:ae.AO.left,heading:Wt?Ue.rt("Allow microphone access"):"Allow microphone access"},Yt,t.createElement("br",null),t.createElement("br",null),In)},[Wt,Ct]),wt=(0,t.useMemo)(()=>{if(!Tt)return null;const Yt=Wt?Ue.rt("Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let In=null;return ve.Oi&&(In=t.createElement(V.A,{href:ve.Oi},Wt?Ue.t("Open system preferences"):"Open system preferences"," ")),t.createElement(ae.Ay,{type:ae.QE.boxed,level:ae.A_.warning,icon:"info-circle",align:ae.AO.left,heading:Wt?Ue.rt("Slack doesn\u2019t have camera access"):"Slack doesn\u2019t have camera access"},Yt,t.createElement("br",null),t.createElement("br",null),In)},[Tt,Wt]);return!(Gt!==null||wt!==null)||!Wt?null:t.createElement("div",{className:"margin_bottom_100"},Gt,t.createElement("br",null),wt)});var ge=e(5946832122),ne=e(5734745215),ee=e(2375333597),F=e(1473609332),H=e(9195837907),j=e(1465889885),N=e(6533394955),J=e(4250409994),le=e(9003400431),ce=e(980293773),Ee=e(5526670257),ye=e.n(Ee);const Ie=new D.Ay("huddles"),he=u(()=>{const It=(0,Y.wA)(),Tt=(0,t.useCallback)(Wt=>{let{backgroundType:Gt,backgroundKey:wt}=Wt;const qt=(0,F.Bh)();qt.video.effect=Gt,qt.video.effectBgKey=wt,(0,F.i4)(qt),(0,N.dispatchForClientStore)((0,J.yW)({backgroundEffectBgKey:wt,blurEffectIsEnabled:Gt===H.t.Blur}))},[]),Ct=(0,t.useCallback)(()=>It((0,le.O)()),[It]);return t.createElement(ce.dW,{closeModal:Ct,showCloseButton:!0,shouldCloseOnOverlayClick:!0,className:ye().modal,overlayClassName:ye().overlay},t.createElement(ce.rQ,null,t.createElement(ce.Rc,{title:Ie.t("Video background")})),t.createElement(ce.$m,null,t.createElement(ce.qf,null,t.createElement(j.A,{onEffectSelected:Tt,isSmallLayout:!0}))))},"HuddleJoinPreviewBackgroundModal");he.displayName="HuddleJoinPreviewBackgroundModal";var Ce=e(7059233720),oe=e.n(Ce);const de=new ne.Ay("huddles"),De=t.memo(()=>{const It=(0,Y.wA)(),Tt=(0,t.useCallback)(()=>{It((0,ee.q)({element:t.createElement(he,null),isStackable:!0}))},[It]),Ct=(0,t.useMemo)(()=>({name:"image"}),[]),Wt=de.t("Video background");return t.createElement("div",{className:oe().container},t.createElement(M.Ay,{tip:Wt},t.createElement(ge.A,{className:oe().button,onClick:Tt,"aria-label":Wt,svgIconProps:Ct})))});var Te=e(2457673737),pe=e(6664301844),Me=e(6673728906),ke=e(63202349),Ke=e(5075331445),Ze=e(3496486794),Q=e(3288846409),se=e(5286203919);const He="medium",Ge=new ke.k("HUDDLE-JOIN-PREVIEW"),Be=u(It=>{let{videoRef:Tt,preferredCameraId:Ct,startOnMount:Wt=!0,isVideoElementReady:Gt=!0,handleCameraStreamError:wt}=It;const qt=(0,t.useRef)(null),Yt=(0,t.useRef)(!0),[In,ft]=(0,t.useState)(void 0),[yt,bt]=(0,t.useState)(!1),[Ht,ln]=(0,t.useState)(void 0),rn=(0,Q.cw)(se.aU),Zt=(0,Q.cw)(se.d4),Mn=(0,Ze.A)();(0,i.A)(()=>{const je=(0,pe.zg)(),qe=new je(Ge);ft(qe);const st=(0,Ke.i)();return(0,N.dispatchForClientStore)((0,J.yW)({backgroundEffectBgKey:st.backgroundEffectBgKey,blurEffectIsEnabled:st.blurEffectIsEnabled})),()=>{In==null||In.stopVideoInput(),qe.destroy()}},[]);const es=(0,t.useMemo)(()=>({backgroundEffectBgKey:rn,blurEffectIsEnabled:Zt}),[Zt,rn]),jn=(0,t.useCallback)(()=>{Tt.current&&pe.xc.disconnectVideoStreamFromVideoElement(Tt.current,!1),In==null||In.stopVideoInput(),ln(void 0),bt(!1)},[In,Tt]);(0,t.useMemo)((0,a.coroutine)(function*(){if((qt==null?void 0:qt.current)===void 0||(qt==null?void 0:qt.current)===null)return;const je=qt.current,qe=Mn.find(q=>q.key===es.backgroundEffectBgKey),st={backgroundBlur:{isEnabled:es.blurEffectIsEnabled,strength:He},backgroundReplacement:{isEnabled:es.backgroundEffectBgKey!==void 0,backgroundImageURL:qe==null?void 0:qe.url,defaultColor:void 0}};try{yield je.setEffectConfig(st)}catch{}}),[Mn,es.backgroundEffectBgKey,es.blurEffectIsEnabled]);const Kn=(0,t.useCallback)((0,a.coroutine)(function*(){let je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const qe=Tt.current,st=m.Ay.canAccessMediaResource(d.mT.CAMERA);if(st.status===_.eJ.Denied){wt==null||wt();return}if(st.status!==_.eJ.Prompt&&(!Gt||!qe||!Ct||yt&&!je))return;const q=yield navigator.mediaDevices.getUserMedia({video:{deviceId:Ct,width:Te.hX,height:Te.Qs,frameRate:Te.LD},audio:!1});bt(!0),ln(Ct);const me=[];if(yield pe.Ws.isSupported()){const on=yield pe.Ws.create();on!==void 0&&me.push(on)}const Le=Mn.find(on=>on.key===es.backgroundEffectBgKey),We={backgroundBlur:{isEnabled:es.blurEffectIsEnabled,strength:He},backgroundReplacement:{isEnabled:es.backgroundEffectBgKey!==void 0,backgroundImageURL:Le==null?void 0:Le.url,defaultColor:void 0}};let ze;try{ze=yield pe.i3.create(Ge,We)}catch{return}qt.current=ze;const ht=new pe.Ze(Ge,q,[ze]);if(In===void 0)return;const Mt=yield In.startVideoInput(ht);Yt.current||jn(),!(Tt.current===void 0||Tt.current===null)&&Mt!==void 0&&qe!==null&&(qe.srcObject=Mt,qe.autoplay=!0,qe.playsInline=!0)}),[Tt,Gt,Ct,yt,es,Mn,In,wt,jn]),Yn=(0,t.useCallback)(je=>{(0,Me.cT)(je,_.lW.Camera),(0,N.dispatchForClientStore)((0,J.WM)({setVideoEnabled:!0}))},[]);(0,t.useEffect)(()=>{Ht!==Ct&&Ct!==void 0&&Ht!==void 0&&Gt&&(jn(),Kn(!0))},[Ct,Kn,jn,Gt,Ht]),(0,i.A)(()=>(Wt&&Kn(),()=>{Yt.current=!1,jn()}),[]),(0,t.useEffect)(()=>{Gt&&!yt&&!Wt&&Kn()},[Gt,yt,Kn,Wt]);const wn=(0,t.useCallback)(()=>{const je=Tt.current;je&&((0,N.dispatchForClientStore)((0,J.yi)({videoElement:je})),jn())},[jn,Tt]),Rt=(0,t.useCallback)(()=>{const je=Tt.current;Gt&&(!je||!Ct||Kn())},[Gt,Ct,Kn,Tt]);return{turnOnCamera:Yn,turnOffCameraPreview:wn,turnOnCameraPreview:Rt,previewCameraIsOn:yt}},"useJoinPreviewCamera");var we=e(6308822),xe=e(2047021170),Oe=e(1049642794),Xe=e(4803841689),Ye=e(1641606663),dt=e(9295473340),mt=e.n(dt);const it=320,At=600,Ot=500,Kt=.6,Xt=50,vn=t.memo(It=>{let{channelId:Tt}=It;var Ct,Wt;const Gt=(0,Y.wA)(),{windowRef:wt}=(0,t.useContext)(Ye.Mn),qt=(0,t.useRef)(null),Yt=(0,v.d4)(an=>(0,ie.gW)(an,{channelId:Tt})),In=(0,v.d4)(an=>(0,ie.zK)(an,{channelId:Tt})),ft=(0,v.d4)(an=>(0,xe.ty)(an,"huddles_mute_by_default")),yt=(0,Xe.A)(),bt=(0,v.Z2)(T.oG),Ht=(0,v.d4)(Z.WR),ln=(0,v.d4)(an=>!!(0,A.WQ)(an,"isMicrophoneEnabled")),rn=(0,t.useMemo)(()=>bt.camera.filter(an=>!!an.id).map(an=>({label:an.label,value:an.id})),[bt.camera]),Zt=(0,t.useMemo)(()=>bt.microphone.filter(an=>!!an.id).map(an=>({label:an.label,value:an.id})),[bt.microphone]),[Mn,es]=(0,t.useState)({width:(Ct=wt.deref())===null||Ct===void 0?void 0:Ct.innerWidth,height:(Wt=wt.deref())===null||Wt===void 0?void 0:Wt.innerHeight}),[jn,Kn]=(0,t.useState)(0),[Yn,wn]=(0,t.useState)(1),[Rt,je]=(0,t.useState)(!1),[qe,st]=(0,t.useState)(!1),[q,me]=(0,t.useState)(!0),[Le,We]=(0,t.useState)(rn!=null&&rn.length?rn[0]:void 0),[ze,ht]=(0,t.useState)(Zt!=null&&Zt.length?Zt[0]:void 0),[Mt,on]=(0,t.useState)(!1),[zn,Qn]=(0,t.useState)(!1),[lt,$]=(0,t.useState)(!0),te=(0,t.useCallback)(()=>{on(!0)},[]),fe=(0,t.useCallback)(()=>{Qn(!0)},[]),{turnOffCameraPreview:Pe,previewCameraIsOn:Qe}=Be({videoRef:qt,preferredCameraId:Le==null?void 0:Le.value,isVideoElementReady:qe,startOnMount:!1,handleCameraStreamError:te});(0,t.useEffect)(()=>()=>{Pe()},[Pe]),(0,t.useEffect)(()=>{!Qe&&!lt&&$(!0)},[Qe,lt]);const ut=(0,t.useCallback)(()=>{Pe(),q&&(st(!1),me(!1))},[q,Pe]),et=(0,t.useCallback)(()=>{q||(st(!1),me(!0))},[q]),Ft=(0,t.useCallback)(()=>{var an,hs;es({width:(an=wt.deref())===null||an===void 0?void 0:an.innerWidth,height:(hs=wt.deref())===null||hs===void 0?void 0:hs.innerHeight})},[wt]);(0,t.useEffect)(()=>{var an;return(an=wt.deref())===null||an===void 0||an.addEventListener("resize",Ft),u(function(){var Cs;(Cs=wt.deref())===null||Cs===void 0||Cs.removeEventListener("resize",Ft)},"cleanup")},[Ft,wt]);const $t=(0,t.useCallback)(an=>{if((an==null?void 0:an.value)===(Le==null?void 0:Le.value))return;const hs=q;ut(),We(an),hs&&(me(!0),et())},[Le==null?void 0:Le.value,q,ut,et]);(0,t.useEffect)(()=>{if(rn.length>0){const an=rn[0];(an==null?void 0:an.value)!==(Le==null?void 0:Le.value)&&$t(an)}},[rn,Le,$t]),(0,t.useEffect)(()=>{if(Zt.length>0){const an=Zt[0];(an==null?void 0:an.value)!==(ze==null?void 0:ze.value)&&ht(an)}},[rn,Zt,Le,ze==null?void 0:ze.value,$t]);const Pn=(0,t.useCallback)(an=>{an!=null&&an.value&&We(an)},[We]);(0,t.useEffect)(()=>{rn.length!==0&&Rt&&(Pn(rn[0]),je(!1))},[rn,Rt,Pn]);const Bn=(0,t.useCallback)(an=>{qt.current!==an&&(!an&&qe&&qt!==void 0&&Qe&&Pe(),!(!an&&!qe)&&(qt.current=an,st(!0)))},[qe,Pe,Qe]),os=(0,t.useCallback)(()=>{$(!1)},[]),Zn=(0,t.useMemo)(()=>(Qe||q)&&!Mt?t.createElement(t.Fragment,null,lt&&t.createElement("div",{className:mt().loading},t.createElement(we.A,{color:"blue",size:"jumbo"})),t.createElement("video",{className:mt().videoPreview,ref:Bn,onCanPlay:os}),t.createElement(De,null)):t.createElement(X.Ay,{size:it,userId:Ht,isInteractive:!1,className:mt().videoAvatar}),[Qe,q,Mt,Ht,lt,Bn,os]);(0,i.A)(()=>{ft&&(Gt((0,Ae.fP)({channelId:Tt,cameraEnabled:Qe,microphoneEnabled:!1})),Gt((0,Oe.A)(!1))),ut()},[]),(0,t.useEffect)(()=>{if(Mn.height===void 0)return;const an=At*yt,hs=Ot*yt;if(Mn.height>an&&Yn!==1){wn(1),Kn(0);return}if(Mn.height<=an&&Mn.height>=hs){const Cs=1-(an-Mn.height)/100*(1-Kt);wn(Cs);const G=-((an-Mn.height)/100)*Xt;Kn(G);return}Mn.height<hs&&Yn!==Kt&&(wn(Kt),Kn(-Xt))},[Yn,Mn.height,yt]),(0,t.useEffect)(()=>{(Qe!==Yt||In!==ln)&&Gt((0,Ae.fP)({channelId:Tt,cameraEnabled:Qe,microphoneEnabled:ln}))},[Gt,Qe,Tt,ln,Yt,In]);const qn=1+(1-Yn);return t.createElement("div",null,t.createElement(Re,{cameraPermissionDenied:Mt,microphonePermissionDenied:zn}),t.createElement(K,{channelId:Tt}),t.createElement("div",{className:mt().videoAndDevicesContainer},t.createElement("div",{className:mt().videoContainer,style:{transform:`scale(${Yn}) translateY(${jn}px)`}},t.createElement("div",{className:mt().videoInnerContainer},Zn),t.createElement(R,{turnOffCameraHandler:ut,turnOnCameraHandler:et,cameraIsOn:Qe,microphonePermissionDenied:zn,cameraPermissionDenied:Mt,scaleOffset:qn})),t.createElement(O,{handleMicrophonePermissionsError:fe,microphonePermissionDenied:zn,cameraPermissionDenied:Mt})))});var Sn=e(1973246490),jt=e(2164739987),hn=e(9101533895),xt=e(9884588328);const Dn=new D.Ay("huddles");function St(It){let{channelId:Tt,isHost:Ct}=It;const Wt=(0,v.d4)(ft=>(0,hn.OL)(ft,Tt)),{memberCount:Gt}=(0,Sn.W)({channelId:Tt}),wt=Gt>0,qt=(0,jt.f)(Wt),Yt=(0,v.d4)(ft=>(0,xt.SB)(ft,Wt,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}));return(0,t.useMemo)(()=>Ct?qt&&!wt?Dn.t("Ready to start {displayName}?",{displayName:(0,D.nr)(Yt)}):!qt&&!wt?Dn.t("Ready to start the huddle?",{displayName:Yt}):qt?Dn.t("Ready to join {displayName}?",{displayName:(0,D.nr)(Yt)}):Dn.t("Ready to join the huddle?",{displayName:(0,D.nr)(Yt)}):qt?Dn.t("Ready to join {displayName}?",{displayName:(0,D.nr)(Yt)}):Dn.t("Ready to join the huddle?",{displayName:(0,D.nr)(Yt)}),[Ct,qt,Yt,wt])}u(St,"useGetHuddleJoinPreviewTitle");var dn=e(1407713935),fn=e(3052395304),un=e(3989454579),_n=e(7138682671),tn=e(387484329),nn=e(5203103513);const An=new D.Ay("huddles"),yn=t.memo(()=>{const It=(0,Y.wA)(),Tt=(0,v.d4)(be.Rk),Ct=!(0,v.d4)(Gt=>(0,xe.ty)(Gt,nn.aI)||!1),Wt=(0,t.useCallback)(()=>{It((0,tn.AZ)({pref:nn.aI,value:Ct}))},[It,Ct]);return Tt?t.createElement("div",null,t.createElement(_n.A,{text:An.t("Don\u2019t show this preview again"),type:"inline",cursor:"pointer"},t.createElement(un.A,{name:"agc",checked:Ct,onChange:Wt}))):null});var sn=e(2458754542),Nn=e.n(sn);const Ve=new D.Ay("huddles"),$e=t.memo(It=>{let{channelId:Tt,closeModal:Ct,handleJoin:Wt}=It;const Gt=(0,v.d4)(Z.WR),wt=(0,v.d4)(wn=>(0,hn.OL)(wn,Tt)),qt=(0,dn.PC)(wt),Yt=(0,v.d4)(wn=>(0,ie.Ln)(wn,{channelId:Tt})),In=(0,v.d4)(be.Rk),{memberCount:ft}=(0,Sn.W)({channelId:Tt}),yt=qt||Yt,bt=(0,fn.q)(Tt),{windowId:Ht,windowRef:ln}=(0,t.useContext)(Ye.Mn),rn=bt===Ht;let Zt=!0;yt&&(Zt=(0,xt.Wb)(wt)===Gt);const Mn=St({isHost:Zt,channelId:Tt}),es=(0,t.useCallback)(()=>{if(Ct==null||Ct(),rn){var wn;(wn=ln.deref())===null||wn===void 0||wn.close()}},[Ct,ln,rn]),jn=(0,t.useCallback)(()=>{Ct==null||Ct()},[Ct]),Kn=(0,t.useCallback)(()=>{(0,N.dispatchForClientStore)((0,J._o)({channelId:Tt})),Wt==null||Wt(),Ct==null||Ct()},[Ct,Wt,Tt]),Yn=(0,t.useMemo)(()=>ft===0?Ve.t("Start huddle"):Ve.t("Join huddle"),[ft]);return In?t.createElement(n.A,{onClose:jn,title:Mn,onSubmit:Kn,onCancel:es,showCancelButton:!0,submitButtonText:Yn,className:Nn().modal,footerText:t.createElement(yn,null),overlayClassName:Nn().overlay},t.createElement(vn,{channelId:Tt})):null}),Et=(0,s.A)($e)},4869203191:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>p,Gr:()=>y,Lv:()=>_,jc:()=>T,z2:()=>A});var t=e(9706240641),n=e.n(t),s=e(735940183),r=e(2778217221),c=e(8664881451),o=e(2854284421),a=e(2047021170),l=e(5203103513),i=e(6673728906);const d=new s.Ay("huddles"),_="LOUNGE_MUSIC_PLAYER",m=[o.N3,o._4,o.j1,o._V,o.PM,o.tn,o.uu,o.jc];var h;(function(f){f.WaitingRoom="waiting",f.Subway="subway",f.Whistle="whistle",f.Jazz="jazz",f.Focus="focus",f.DiscoParty="disco",f.Zen="zen",f.Nature="nature"})(h||(h={}));const v=h.Jazz,T=u(f=>f?!!Object.values(h).includes(f):!1,"isValidSongKey"),A=u(f=>(0,a.ty)(f,l.Mz)||v,"getSongKeyFromUserPref"),y=u(()=>({[h.WaitingRoom]:{key:h.WaitingRoom,urlName:"waitingRoom",url:o.tn,displayName:d.t("Waiting Room")},[h.Subway]:{key:h.Subway,urlName:"subwayMusic",url:o.PM,displayName:d.t("Subway Music")},[h.Whistle]:{key:h.Whistle,urlName:"whistleTune",url:o.jc,displayName:d.t("Whistle Tune")},[h.Jazz]:{key:h.Jazz,urlName:"waitingMuzak",url:o.uu,displayName:d.t("Smooth Jazz")},[h.Focus]:{key:h.Focus,urlName:"focusBeats",url:o._4,displayName:d.t("Focus Beats")},[h.DiscoParty]:{key:h.DiscoParty,urlName:"discoParty",url:o.N3,displayName:d.t("Happy Bass")},[h.Zen]:{key:h.Zen,urlName:"momentOfZen",url:o.j1,displayName:d.t("Sound Bath")},[h.Nature]:{key:h.Nature,urlName:"natureMeditation",url:o._V,displayName:d.t("Nature Meditation")}}),"getSongsMetadata");let p=u(class yo{static getInstance(){return yo.instance||(yo.instance=new yo),yo.instance}constructor(){this.getCurrentTrackDisplayName=()=>{const I=m[this.activeTrackIndex],P=y(),C=Object.values(P).find(M=>M.url===I);return C==null?void 0:C.displayName};var O=this;this.playMusic=(0,t.coroutine)(function*(){let{songKey:I,registerOnEndedCallback:P,logger:C,fromFirstTrack:M,loopSong:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};M&&(O.activeTrackIndex=0),P&&m.forEach(L=>{(0,c.TQ)(L,{ended:O.playNextTrack})});let E=m[O.activeTrackIndex];const S=(0,c.Dd)(E);if(I){var k;S&&(0,c.ds)(E);const B=(k=y()[I])===null||k===void 0?void 0:k.url,b=B?m.findIndex(R=>R===B):-1;b>-1&&(E=B,O.activeTrackIndex=b)}const U=(0,i._o)();if(U&&S)try{yield S.setSinkId(U),C==null||C.info(r.o7,`setSinkId success for lounge music on deviceID: ${U}`)}catch{C==null||C.info(r.o7,`setSinkId failed for lounge music on deviceID: ${U}`)}(0,c.ZH)(E,{loop:!!D})}),this.stopMusic=I=>{let{clearOnEndedCallback:P,logger:C,logContext:M}=I;P&&m.forEach(D=>{(0,c.Rj)(D,"ended",this.playNextTrack)}),(0,c.ds)(m[this.activeTrackIndex],{logFailure:!1}),C.info(r.o7,`stopped lounge music [${M}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<m.length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{(0,c.ds)(m[this.activeTrackIndex]),this.incrementActiveTrackIndex(),(0,c.ZH)(m[this.activeTrackIndex],{loop:!1})},this.activeTrackIndex=0}},"HuddleLoungeMusicManager")},8419239240:(x,g,e)=>{"use strict";e.d(g,{I:()=>c});var t=e(3134334389),n=e(1973246490),s=e(735940183);const r=new s.Ay("huddles");function c(o){let{channelId:a}=o;const{firstMemberName:l,secondMemberName:i,memberCount:d}=(0,n.W)({channelId:a});return(0,t.useMemo)(()=>d===0?r.t("No one is in the huddle yet.",{fallbackHash:"84a5772a945fb7be09c48235d3fbb096591da4c6"}):d===1?r.rt("{firstMemberName} is currently in the huddle.",{firstMemberName:l}):d===2?r.rt("{firstMemberName} and {secondMemberName} are currently in the huddle.",{firstMemberName:l,secondMemberName:i}):r.rt("{firstMemberName}, {secondMemberName}, and {memberCount, plural, =0 {} =1 {1 other} other {# others}} are currently in the huddle.",{fallbackHash:"e851e92374eb17ce86e7497a3ce9a691b8515b61",firstMemberName:l,secondMemberName:i,memberCount:d-2}),[l,i,d])}u(c,"useGetCopyForMembersInHuddle")},1973246490:(x,g,e)=>{"use strict";e.d(g,{W:()=>r});var t=e(2562405183),n=e(9548972574),s=e(3534324375);function r(c){let{channelId:o}=c;const a=(0,t.d4)(_=>(0,n.ft)(_,o)),l=a?a.length:0,i=(0,t.d4)(_=>!a||a.length<1?null:(0,s.sE)(_,a[0])),d=(0,t.d4)(_=>!a||a.length<2?null:(0,s.sE)(_,a[1]));return{firstMemberName:i,secondMemberName:d,memberCount:l}}u(r,"useGetMembersInHuddle")},2164739987:(x,g,e)=>{"use strict";e.d(g,{f:()=>t});function t(n){var s,r;return!(((s=n.topic)===null||s===void 0?void 0:s.value)===""||(n==null||(r=n.topic)===null||r===void 0?void 0:r.value)===void 0)}u(t,"huddleChannelHasTopic")},5011231008:(x,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3134334389),n=e(6122756707),s=e(5255740490),r=e(2562405183),c=e(387328355),o=e(1224315998),a=e(735940183),l=e(1563996154),i=e(9194155027),d=e(440635146),_=e(6084388622),m=e(1049642794),h=e(5043394918),v=e(6251210828),T=e(4745917661),A=e(5169680368),y=e(7723800688),p=e(8683010724),f=e(571104883);const O=new a.Ay("huddles"),I=[d.tc.CmdOrCtrl,"Shift"],P=u(M=>{let{className:D,microphonePermissionDenied:E=!1,displayShortcutTooltip:S=!0}=M;const k=(0,n.wA)(),U=(0,r.d4)(ie=>!!(0,c.WQ)(ie,"isMicrophoneEnabled")&&!E),L=(0,y.Ay)(),B=(0,r.d4)(ie=>(0,v.U7)(ie,{key:y.Hi.CANVAS_OPEN})),{microphoneLabel:b,deviceLabel:R,ariaLabel:z}=(0,A.k)(),w=(0,t.useCallback)(()=>{E||k((0,m.A)(!U))},[k,U,E]),W=(0,t.useMemo)(()=>({elementName:y.Hi.CANVAS_TOOLBAR,eventId:U?o.EventId.HUDDLES_MUTE:o.EventId.HUDDLES_UNMUTE,onClick:{enableClogAction:!0},interactionId:B,...L}),[L,B,U]),K=(0,f.cX)()?"Meta":"Control",Y=t.createElement(_.Nm,{className:(0,s.A)("c-icon_button","c-icon_button--size_medium","p-huddle_toolbar__button",D,{"p-huddle_toolbar__button--toggled_on":U,"p-huddle_toolbar__mic--disabled":E}),htmlType:"button",onClick:w,autoClogProps:W,"aria-label":z,"aria-describedby":"microphone-info","aria-keyshortcuts":`Space+${K}+Shift`,"aria-pressed":!U,"data-qa":"huddle_video_modal_footer",tabIndex:-1,"aria-disabled":E},t.createElement(h.A,{className:"p-huddle_toolbar__mic_volume_indicator",peerId:"self",isMicrophoneEnabled:U,allowMuteIconAnimation:!0}),E&&t.createElement("div",{className:"p-huddle_toolbar__mic_alert_container"},t.createElement("div",{className:"p-huddle_toolbar__mic_alert"},t.createElement(p.A,{name:"warning",variation:"filled"}))),t.createElement("div",{hidden:!0,id:"microphone-info"},R)),X=(0,t.useMemo)(()=>{if(E)return O.t("Microphone permission denied",{fallbackHash:"fb28c69013a2f5cff9d5ad4f7c2ca97cb1d14d4a",fallbackHashNs:"huddles_audio_video_prefs"});const ie=t.createElement(T.A,{actionLabel:b,deviceLabel:R});return S?t.createElement(i.A,{title:ie,mainKey:"Space",modifiers:I}):ie},[R,b,E,S]);return t.createElement(l.Ay,{tip:X},Y)},"HuddleToolbarMuteButton");P.displayName="HuddleToolbarMuteButton";const C=t.memo(P)},3674485380:(x,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),n=e(735940183),s=e(8736071954),r=e(9365970888),c=e(5536692738),o=e(6673728906),a=e(2562405183);const l=new n.Ay("huddles"),i=390,d=278,_=u(h=>{let{deviceType:v,isBlocked:T,widthStyle:A,size:y}=h;const p=(0,t.useMemo)(()=>({[s.lW.Microphone]:l.t("Microphone devices"),[s.lW.Camera]:l.t("Camera devices"),[s.Q4]:l.t("Audio output devices")}),[]),O=(0,a.d4)(r.oG)[v],I=(0,t.useMemo)(()=>T?[{label:l.t("Permission not yet granted"),value:"no_access",type:v}]:O.map(E=>({label:T||!E.label?l.t("Permission not yet granted"):E.label,value:E.id,type:v})),[O,v,T]),P=(0,t.useCallback)(E=>{(0,o.cT)(E.value,v)},[v]);if(!p)return null;const C=I[0],M=p[v];let D;switch(A){case"inline":D=`${i}px`;break;case"default":D=`${d}px`;break;case"stretch":D="100%";break;default:throw new Error(`unhandled type ${A}`)}return t.createElement(c.Ay,{isDisabled:T,ariaLabel:M,selectId:v,options:I,selectedOption:C,width:D,onOptionSelected:P,className:"p-huddle_troubleshooting_panel__device-selector",size:y})},"DeviceSelector");_.displayName="DeviceSelector";const m=_},8801078943:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),n=e(2465464861),s=e(3674485380),r=e(735940183),c=e(2562405183),o=e(8736071954);const a=new r.Ay("huddles"),l=u(d=>{let{className:_,selectSize:m="small",cameraPermissionDenied:h=!1}=d;const{isCameraBlocked:v}=(0,c.Z2)(n.FP)||{};return t.createElement("div",{className:_},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},a.t("Camera"))),t.createElement(s.A,{deviceType:o.lW.Camera,isBlocked:v||h,widthStyle:"stretch",size:m}))},"Camera");l.displayName="Camera";const i=l},1593595278:(x,g,e)=>{"use strict";e.d(g,{A:()=>v,Y:()=>m});var t=e(3134334389),n=e(5255740490),s=e(2465464861),r=e(3674485380),c=e(735940183),o=e(2562405183),a=e(8736071954),l=e(1337358413),i=e(5671227444),d=e.n(i);const _=new c.Ay("huddles");var m;(function(T){T[T.Default=0]="Default",T[T.Inline=1]="Inline",T[T.Hidden=2]="Hidden"})(m||(m={}));const h=u(T=>{let{className:A,audioMeterLayout:y=m.Default,selectSize:p="small",isEnabled:f=!0,microphonePermissionDenied:O=!1}=T;const{isMicrophoneBluetooth:I}=(0,o.Z2)(s.h)||{},{isMicrophoneBlocked:P}=(0,o.Z2)(s.FP)||{},C=y===m.Default||y===m.Inline;return t.createElement("div",{className:A},t.createElement("div",{className:(0,n.A)("audio-section",{[d().inlineAudioMeterContainer]:y===m.Inline})},t.createElement("span",{className:"p-device-label"},_.t("Microphone")),C&&t.createElement(l.Ay,{initNumBubbles:9,containerClassName:(0,n.A)("p-audio-levels-container",{[d().inlineAudioMeter]:y===m.Inline}),bubbleClassname:"p-audio-bubble",ariaLabel:_.t("Input Level"),isEnabled:f})),t.createElement(r.A,{deviceType:a.lW.Microphone,isBlocked:P||O,widthStyle:"stretch",size:p}),I&&t.createElement("div",{className:"bluetooth-warning"},_.t("Bluetooth can degrade audio quality")))},"Microphone");h.displayName="Microphone";const v=h},9948866681:(x,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(2465464861),c=e(3674485380),o=e(735940183),a=e(2562405183),l=e(8736071954),i=e(2854284421),d=e(6673728906),_=e(8739505998),m=e(571104883);const h=new o.Ay("huddles"),v=u(A=>{let{className:y,selectSize:p="small",showTestSpeaker:f=!1,microphonePermissionDenied:O=!1}=A;const{isSpeakerBluetooth:I}=(0,a.Z2)(r.h)||{},P=(0,s.useRef)(null),C=(0,s.useCallback)((0,t.coroutine)(function*(){if(P.current){const D=(0,d._o)();yield P.current.setSinkId(D),P.current.play()}}),[]);(0,s.useEffect)(()=>(P.current=new Audio(i.pW),()=>{P.current&&(P.current=null)}),[]);const M=O&&!(0,m.y3)();return s.createElement("div",{className:y},s.createElement("div",{className:"audio-section"},s.createElement("span",{className:"p-device-label"},h.t("Speakers")),f&&s.createElement(_.A,{onClick:C},h.t("Test Speaker",{fallbackHash:"d890e6d8efa58744e75a0a5e0017242b538d3aa2",fallbackHashNs:"huddles_audio_video_prefs"}))),s.createElement(c.A,{deviceType:l.Q4,widthStyle:"stretch",size:p,isBlocked:M}),I&&s.createElement("div",{className:"bluetooth-warning"},h.t("Bluetooth can degrade audio quality")))},"Speaker");v.displayName="Speaker";const T=v},124213367:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),n=e(9391594207),s=e(3297051565),r=e.n(s),c=e(4979382452),o=e(4636370173),a=e(2465132699),l=e(6308822),i=e(9003400431);const d={className:r().string,closeModal:r().func.isRequired},_={className:void 0};function m(v){return t.createElement(c.A,{className:v.className,closeModal:v.closeModal},t.createElement(o.A,null,t.createElement(a.A,null,t.createElement("div",{className:"c-lazy_modal"},t.createElement(l.A,null)))))}u(m,"LoadingModal"),m.displayName="LoadingModal",m.propTypes=d,m.defaultProps=_;const h=(0,n.N)(null,v=>({closeModal:function(){for(var T=arguments.length,A=new Array(T),y=0;y<T;y++)A[y]=arguments[y];return v((0,i.O)(...A))}}))(m)},79199995:(x,g,e)=>{"use strict";e.d(g,{WJ:()=>i,eW:()=>l,fJ:()=>h,g2:()=>m,kY:()=>d,oE:()=>a});var t=e(4418517660),n=e.n(t),s=e(583204418),r=e(735940183),c=e(6471801899);const o=new r.Ay("lists");var a;(function(v){v.Today="today",v.Yesterday="yesterday",v.Tomorrow="tomorrow",v.ThisWeek="this_week",v.NextWeek="next_week",v.LastWeek="last_week",v.SinceILastViewed="since_i_last_viewed"})(a||(a={}));const l=u(v=>!v.options||v.options.dateFormat===s.cf.Default?c.Wl:v.options.dateFormat,"getDateFormat"),i=u(v=>Object.values(a).includes(v),"isDateFilterOption"),d=u(v=>{switch(v){case a.Today:return o.t("Today");case a.Yesterday:return o.t("Yesterday");case a.Tomorrow:return o.t("Tomorrow");case a.ThisWeek:return o.t("This week");case a.NextWeek:return o.t("Next week");case a.LastWeek:return o.t("Last week");case a.SinceILastViewed:return o.t("Since last time you viewed");default:return v}},"formatDateForMenu"),_=u(v=>{const T=n()(v).startOf("isoWeek"),A=n()(v).endOf("isoWeek"),y=[];let p=T;for(;p<=A;)y.push(p),p=p.clone().add(1,"days");return y},"getWeekdays"),m=u(v=>{let T;switch(v){case a.Today:T=n()().format(c.DX);break;case a.Yesterday:T=n()().subtract(1,"days").format(c.DX);break;case a.Tomorrow:T=n()().add(1,"days").format(c.DX);break;case a.ThisWeek:T=_(n()()).map(A=>A.format(c.DX));break;case a.NextWeek:T=_(n()().add(1,"weeks")).map(A=>A.format(c.DX));break;case a.LastWeek:T=_(n()().subtract(1,"weeks")).map(A=>A.format(c.DX));break;case a.SinceILastViewed:T=n()().format(c.DX);break;default:T=v}return T},"getStaticDateValue"),h=n()().format(c.DX)},3001769570:(x,g,e)=>{"use strict";e.d(g,{Mu:()=>m,OQ:()=>p,PL:()=>l,R8:()=>P,U3:()=>h,UE:()=>A,Ui:()=>y,aI:()=>T,aN:()=>f,bV:()=>v,lx:()=>O,nM:()=>I,rD:()=>d});var t=e(1649982175),n=e(166097325),s=e(7682358855),r=e(8191156954),c=e(4097827290),o=e(735940183);const a=new o.Ay("lists"),l=u((C,M)=>C.indexOf(M)===-1?[...C,M]:C.filter(E=>E!==M),"toggleValueInFilterValues"),i=u(C=>{if(!C.length)return C;const M=C==null?void 0:C.flatMap(E=>E.split("|"));return[...new Set(M)]},"parseUserIdsAndRemoveDupes"),d=u((C,M)=>{const D=[];return Object.values(C??{}).forEach(S=>{if(S.fields&&S.fields[M]){const k=S.fields[M];D.push(k.trim())}}),[s._4,...i(D)]},"getUserIdsInUserColumns"),_=u(C=>{try{return JSON.stringify(C)}catch{return"[]"}},"safeStringify"),m=u((C,M)=>{var D;const E=u(U=>U.map(L=>({...(0,t.A)(L,["columnId"]),ascending:(D=L.ascending)!==null&&D!==void 0?D:!1})),"normalizeSorts"),S=E(C),k=E(M);return(0,n.A)(S,k)},"isLocalAndServerSortEqual"),h=u((C,M)=>{const D=u(k=>k.map(U=>({...(0,t.A)(U,["columnId"]),values:_(U.values||[]),typedValues:_(U.typedValues||[])})),"normalizeFilters"),E=D(C),S=D(M);return(0,n.A)(E,S)},"isLocalAndServerFilterEqual"),v=u((C,M)=>{var D;const E=M.get((D=C.key)!==null&&D!==void 0?D:"");return E?!(0,n.A)(E.operator,C.operator)||!(0,n.A)(new Set(E.values),new Set(C.values)):!0},"isFilterUnsavedOrModified"),T=u(C=>{let M=C;return Boolean(M.find(E=>E.type===r.$.CreatedTime))||(M=[...M,{id:r.$.CreatedTime,name:"Created time",key:r.$.CreatedTime,type:r.$.CreatedTime,isPrimaryColumn:!1}]),M},"appendCreatedTimeDataColumn"),A=u(C=>{switch(C.type){case r.$.Checkbox:case r.$.Completed:case r.$.Message:case r.$.Link:case r.$.TodoCompleted:return[c.t.IsEmpty,c.t.IsNotEmpty];case r.$.Assignee:case r.$.CreatedBy:case r.$.LastEditedBy:case r.$.Rating:case r.$.Select:case r.$.User:case r.$.Text:case r.$.TodoAssignee:return[c.t.Contains,c.t.DoesNotContain,c.t.IsEmpty,c.t.IsNotEmpty];case r.$.Currency:case r.$.Number:case r.$.Date:case r.$.TodoDueDate:return[c.t.Equal,c.t.NotEqual,c.t.LessThan,c.t.GreaterThan,c.t.IsEmpty,c.t.IsNotEmpty];default:return[c.t.Equal,c.t.NotEqual,c.t.IsEmpty,c.t.IsNotEmpty]}},"getOperatorsFromColumn"),y=u(C=>C.type===r.$.Checkbox,"isCheckboxFilter"),p=u(C=>C.type===r.$.Completed||C.type===r.$.TodoCompleted,"isCompletedFilter"),f=u(C=>C===c.t.IsEmpty||C===c.t.IsNotEmpty,"isEmptyOperator"),O=u(C=>C===c.t.IsMe||C===c.t.IsNotMe,"isMeOperator"),I=u(C=>C.type===r.$.Date||C.type===r.$.DueDate||C.type===r.$.CreatedTime||C.type===r.$.LastEditedTime||C.type===r.$.TodoDueDate,"isDateFilter"),P=u((C,M)=>{switch(C){case c.t.IsEmpty:return y(M)?a.t("is not checked"):p(M)?a.t("Not completed"):a.t("is empty");case c.t.IsNotEmpty:return y(M)?a.t("is checked"):p(M)?a.t("Completed"):a.t("is not empty");case c.t.Equal:return I(M)?a.t("is"):a.t("is equal to");case c.t.NotEqual:return I(M)?a.t("is not"):a.t("is not equal to");case c.t.GreaterThan:return I(M)?a.t("is after"):a.t("is greater than");case c.t.LessThan:return I(M)?a.t("is before"):a.t("is less than");case c.t.GreaterThanOrEqual:return a.t("is greater than or equal to");case c.t.LessThanOrEqual:return a.t("is less than or equal to");case c.t.Contains:return a.t("includes");case c.t.DoesNotContain:return a.t("does not include");case c.t.IsMe:return a.t("is me");case c.t.IsNotMe:return a.t("is not me");default:return""}},"getFilterOperatorLabel")},9216332371:(x,g,e)=>{"use strict";e.d(g,{AO:()=>V,Hs:()=>ee,Jn:()=>I,M1:()=>Ue,Nh:()=>ae,Po:()=>b,Q6:()=>z,RO:()=>H,Rw:()=>F,Sb:()=>be,be:()=>j,c$:()=>ge,g2:()=>ne,iT:()=>Re,kv:()=>W,u1:()=>ve,us:()=>ie});var t=e(3783723764),n=e(1703559452),s=e(2240330919),r=e(2101927269),c=e(4418517660),o=e.n(c),a=e(7682358855),l=e(79199995),i=e(8191156954),d=e(4097827290),_=e(2647703359),m=e(7334104107),h=e(4919145213),v=e(583204418),T=e(5045557812),A=e(3342113153),y=e(3802883493),p=e(8088280230),f=e(6471801899),O=e(7606781622);const I=u(N=>{let{record:J,colKey:le}=N;var ce,Ee,ye,Ie,he;if(!(J==null||(ce=J.fallback)===null||ce===void 0)&&ce[le])return J.fallback[le];if(!(J==null||(Ee=J.fields)===null||Ee===void 0||(ye=Ee.fallback)===null||ye===void 0)&&ye[le])return J==null||(Ie=J.fields)===null||Ie===void 0||(he=Ie.fallback)===null||he===void 0?void 0:he[le];if(J[le]){if((0,T.A)(J[le])){var Ce,oe,de,De,Te;return(Te=(De=(de=(Ce=J[le])===null||Ce===void 0||(oe=Ce[0])===null||oe===void 0?void 0:oe.elements[0])===null||de===void 0?void 0:de.elements[0])===null||De===void 0?void 0:De.text)!==null&&Te!==void 0?Te:""}return J[le].toString()}return""},"getStringValue"),P=u(N=>{const J=o()(N).startOf("isoWeek"),le=o()(N).endOf("isoWeek"),ce=[];let Ee=J;for(;Ee<=le;)ce.push(Ee),Ee=Ee.clone().add(1,"days");return ce},"getWeekdays"),C=u((N,J)=>{const le="YYYY-MM-DD";let ce;switch(N){case l.oE.Today:ce=o()().format(le);break;case l.oE.Yesterday:ce=o()().subtract(1,"days").format(le);break;case l.oE.Tomorrow:ce=o()().add(1,"days").format(le);break;case l.oE.ThisWeek:ce=P(o()()).map(ye=>ye.format(le));break;case l.oE.NextWeek:ce=P(o()().add(1,"weeks")).map(ye=>ye.format(le));break;case l.oE.LastWeek:ce=P(o()().subtract(1,"weeks")).map(ye=>ye.format(le));break;case l.oE.SinceILastViewed:return ce=o().unix(J),ce;default:ce=o()(N,le).format(le)}return Array.isArray(ce)?ce.map(ye=>o()(ye,le)):o()(ce,le)},"convertDynamicDateToStatic"),M=u(N=>N.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),"normalizeText"),D=u(function(N,J,le){let ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const Ee=ce?J:J==null?void 0:J.clone().startOf("day"),ye=ce?le:le==null?void 0:le.clone().startOf("day");switch(N){case d.t.NotEqual:return!(Ee!=null&&Ee.isSame(ye));case d.t.GreaterThan:return Ee==null?void 0:Ee.isBefore(ye);case d.t.GreaterThanOrEqual:return Ee==null?void 0:Ee.isSameOrBefore(ye);case d.t.LessThan:return Ee==null?void 0:Ee.isAfter(ye);case d.t.LessThanOrEqual:return Ee==null?void 0:Ee.isSameOrAfter(ye);case d.t.Equal:default:return Ee==null?void 0:Ee.isSame(ye)}},"multiDateOperatorFilterValueCheck"),E=u((N,J,le,ce,Ee)=>{if(!J.values[0])return N;let ye=le;const Ie=J.values[0]===l.oE.SinceILastViewed;return Ie&&(ye=d.t.GreaterThan),N.filter(he=>{if(Ee!=null&&Ee.has(he.id))return!0;const Ce=he[J.key];let oe=Ce?o()(Ce).startOf("day"):void 0;return isNaN(Ce)||(oe=o().unix(Ce)),J.values.some(de=>{if(!de)return!1;const De=C(de.toString(),ce);return Array.isArray(De)?ye===d.t.NotEqual?!De.some(Te=>Te&&oe?Te.clone().startOf("day").isSame(oe):!1):De.some(Te=>Te&&oe?D(ye,Te,oe):!1):De&&oe?D(ye,De,oe,Ie):!1})})},"multiDateFilter"),S=u((N,J,le,ce)=>{const Ee=J.values[0]||"";return N.filter(ye=>{if(ce!=null&&ce.has(ye.id))return!0;const Ie=ye[J.key]||"";switch(le){case d.t.DoesNotContain:return!Ie.toLowerCase().includes(Ee.toString().toLowerCase());case d.t.Contains:default:return Ie.toLowerCase().includes(Ee.toString().toLowerCase())}})},"textFilter"),k=u((N,J,le,ce)=>{const Ee=J.values[0]||"";return N.filter(ye=>{if(ce!=null&&ce.has(ye.id))return!0;const Ie=I({record:ye,colKey:J.key});switch(le){case d.t.DoesNotContain:return!Ie.toLowerCase().includes(Ee.toString().toLowerCase());case d.t.Contains:default:return Ie.toLowerCase().includes(Ee.toString().toLowerCase())}})},"richTextFilter"),U=u((N,J,le,ce)=>{if(!J.values.length)return N;var Ee;const ye=Number((Ee=J.values[0])!==null&&Ee!==void 0?Ee:"");return N.filter(Ie=>{if(ce!=null&&ce.has(Ie.id))return!0;const he=Ie[J.key],Ce=Number(he??"");if(he!=null)switch(le){case d.t.NotEqual:return Ce!==ye;case d.t.GreaterThan:return Ce>ye;case d.t.GreaterThanOrEqual:return Ce>=ye;case d.t.LessThan:return Ce<ye;case d.t.LessThanOrEqual:return Ce<=ye;case d.t.Equal:default:return Ce===ye}})},"numberFilter"),L=u((N,J,le,ce)=>{const Ee=new Set(J.values);return Ee.size?N.filter(ye=>{if(ce!=null&&ce.has(ye.id))return!0;var Ie;const he=String((Ie=ye[J.key])!==null&&Ie!==void 0?Ie:"");switch(le){case d.t.Contains:return Ee.has(he);case d.t.DoesNotContain:return!Ee.has(he);case d.t.IsEmpty:return he===null;case d.t.IsNotEmpty:return he!==null;default:return!0}}):N},"multiRatingFilter"),B=u((N,J,le,ce,Ee,ye)=>{const Ie=J.values.map(Ce=>Ce===a._4&&ye?ye:Ce),he=new Set(Ie);return he.size?N.filter(Ce=>{if(Ee!=null&&Ee.has(Ce.id))return!0;const oe=Ce[J.key],de=(oe??"").split(a.eY).filter(Boolean);let De=!1;for(const Te of de){if(he.has(Te)){De=!0;break}if(!ce)break}return le===d.t.Equal?De:le===d.t.NotEqual?!De:le===d.t.Contains?De:le===d.t.DoesNotContain?!De:!0}):N},"multiOptionFilter");function b(N){return N===0?!1:!N||Array.isArray(N)&&N.length===0}u(b,"isEmptyValue");const R=u((N,J,le,ce,Ee,ye)=>{let Ie=N;return J.forEach(he=>{const Ce=le.find(Te=>Te.key===he.key);if(!Ce)return;const oe=he.operator;if(oe===d.t.IsEmpty){Ie=Ie.filter(Te=>ye!=null&&ye.has(Te.id)?!0:b(Te[he.key]));return}if(oe===d.t.IsNotEmpty){Ie=Ie.filter(Te=>ye!=null&&ye.has(Te.id)?!0:!b(Te[he.key]));return}switch(Ce.type){case i.$.Text:Ie=k(Ie,he,oe,ye);break;case i.$.Email:case i.$.Phone:Ie=S(Ie,he,oe,ye);break;case i.$.Number:case i.$.Currency:Ie=U(Ie,he,oe,ye);break;case i.$.Rating:Ie=L(Ie,he,oe,ye);break;case i.$.Date:case i.$.DueDate:case i.$.TodoDueDate:case i.$.CreatedTime:case i.$.LastEditedTime:Ie=E(Ie,he,oe,Ee,ye);break;case i.$.Checkbox:case i.$.Completed:case i.$.TodoCompleted:case i.$.Link:return;case i.$.Select:var de;Ie=B(Ie,he,oe,((de=Ce.options)===null||de===void 0?void 0:de.format)===v.YP.MultiSelect,ye);break;case i.$.Channel:case i.$.Canvas:case i.$.User:case i.$.Assignee:case i.$.TodoAssignee:case i.$.CreatedBy:case i.$.LastEditedBy:switch(oe){case d.t.IsMe:Ie=Ie.filter(Te=>{var pe;return ye!=null&&ye.has(Te.id)?!0:(pe=Te[he.key])===null||pe===void 0?void 0:pe.includes(ce)});break;case d.t.IsNotMe:Ie=Ie.filter(Te=>{var pe;return ye!=null&&ye.has(Te.id)?!0:!(!((pe=Te[he.key])===null||pe===void 0)&&pe.includes(ce))});break;default:var De;Ie=B(Ie,he,oe,((De=Ce.options)===null||De===void 0?void 0:De.format)===v.hx.MultiEntity,ye,ce)}break;default:Ie=S(Ie,he,oe,ye);break}}),Ie},"applyFiltersToRecords"),z=new Map([[i.$.Text,""],[i.$.Email,""],[i.$.Date,""],[i.$.TodoDueDate,""],[i.$.Checkbox,!1],[i.$.Completed,!1],[i.$.TodoCompleted,!1],[i.$.Number,0],[i.$.Rating,0],[i.$.CreatedTime,0],[i.$.LastEditedTime,0],[i.$.Channel,""],[i.$.User,""],[i.$.TodoAssignee,""],[i.$.CreatedBy,""],[i.$.LastEditedBy,""]]);function w(N){if(!Array.isArray(N)||N.length===0)return"";const J=u(le=>{for(const ce of le){if(ce.type==="text"&&ce.text)return ce.text;if(ce.elements&&Array.isArray(ce.elements)){const Ee=J(ce.elements);if(Ee)return Ee}}return""},"findTextRecursively");for(const le of N)if(le.elements&&Array.isArray(le.elements)){const ce=J(le.elements);if(ce)return ce}return""}u(w,"extractFirstTextElement");const W=u((N,J,le,ce,Ee)=>{const ye=J.map(oe=>oe.ascending?"asc":"desc"),Ie=new Map;for(const oe of le)if(oe.type===i.$.Select){var he;const de=((he=oe.options)===null||he===void 0?void 0:he.choices)||[];for(let De=0;De<de.length;De++){const Te=de[De],pe=`${oe.key}:${Te.value}`;Ie.set(pe,De)}}const Ce=J.map(oe=>de=>{const De=le.find(Q=>Q.key===oe.key),Te=oe.ascending;if(!De)return"";const pe=de[oe.key];let Me=pe??z.get(De.type||i.$.Text);if(Me==null&&(Me=Te?Number.MAX_SAFE_INTEGER:-1/0),De.type===i.$.Select){var ke;const Q=(((ke=De.options)===null||ke===void 0?void 0:ke.choices)||[]).length,se=(pe??"").split(a.eY).filter(Boolean);if(Q===0||se.length===0)Me=Te?Number.MAX_SAFE_INTEGER:-1/0;else{let He=Q;for(const Ge of se){const Be=`${De.key}:${Ge}`;var Ke;const we=(Ke=Ie.get(Be))!==null&&Ke!==void 0?Ke:Q;He=Math.min(He,we)}He<Q?Me=He:Me=Te?Number.MAX_SAFE_INTEGER:-1/0}}if((De.type===i.$.User||De.type===i.$.TodoAssignee)&&ce&&(pe==null||pe===""?Me=Te?"zzzzzzzz":"":ce[pe]?Me=ce[pe].toLowerCase():Me=Te?"zzzzzzzz":""),De.type===i.$.Text&&(pe==null||pe===""||Array.isArray(pe)&&pe.length===0?Me=Te?"zzzzzzzz":"":typeof pe=="string"?Me=pe.toLowerCase():Me=w(pe).toLowerCase()),De.type===i.$.Vote){const Q=(pe??"").split(a.eY).filter(Boolean);Q.length>0?Me=Q.length:Te?Me=Number.MAX_SAFE_INTEGER:Me=-1/0}if((De.type===i.$.Number||De.type===i.$.Currency||De.type===i.$.Rating)&&(pe==null||pe===""?Me=Te?Number.MAX_SAFE_INTEGER:-1/0:Me=Number(pe)),De.type===i.$.Date||De.type===i.$.DueDate||De.type===i.$.TodoDueDate||De.type===i.$.CreatedTime||De.type===i.$.LastEditedTime){const Q=new Date(pe);pe==null||pe===""?Me=Te?Number.MAX_SAFE_INTEGER:-1/0:isNaN(Q.getTime())||(Me=Q.getTime())}if(De.type===i.$.Channel&&Ee)if(pe==null||pe==="")Me=Te?"zzzzzzzz":"";else{const Q=pe.split("|")[0];var Ze;Me=((Ze=Ee[Q])!==null&&Ze!==void 0?Ze:"").toLowerCase()}return Me});return(0,t.A)(N,Ce,ye)},"applySortToRecords"),K=new Set([i.$.Text,i.$.Email,i.$.Phone,i.$.Number,i.$.Rating,i.$.Select,i.$.User,i.$.Channel,i.$.Vote]),Y=u((N,J,le,ce,Ee)=>{const ye=J.filter(de=>K.has(de.type)),Ie=new Map;for(const de of ye)if(de.type===i.$.Select){var he,Ce;const De=(Ce=(he=de.options)===null||he===void 0?void 0:he.choices)!==null&&Ce!==void 0?Ce:[];for(const{value:Te,label:pe}of De){const Me=`${de.key}:${Te}`;Ie.set(Me,pe)}}const oe=le.toLowerCase();return N.filter(de=>(0,n.A)(ye,De=>{const Te=I({record:de,colKey:De.key});if(De.type===i.$.Select){var pe;let Q=Te.split(a.eY).filter(Boolean);((pe=De.options)===null||pe===void 0?void 0:pe.format)===v.YP.MultiSelect||(Q=Q.slice(0,1));for(const He of Q){const Ge=`${De.key}:${He}`;var Me;if(((Me=Ie.get(Ge))!==null&&Me!==void 0?Me:Te).toLowerCase().includes(oe))return!0}}if(De.type===i.$.Channel&&Ee){var ke;const Q=(ke=Ee[Te])!==null&&ke!==void 0?ke:"";return Q&&M(Q).includes(oe)}if(De.type===i.$.User&&ce){var Ke;const Q=(Ke=ce[Te])!==null&&Ke!==void 0?Ke:"";return Q&&Q.toLowerCase().includes(oe)}if(De.type===i.$.Vote){const Q=de[De.key],se=typeof Q=="string"?Q:void 0;var Ze;return`${(Ze=se==null?void 0:se.split("|").length)!==null&&Ze!==void 0?Ze:0}`.includes(oe)}return M(Te).includes(oe)}))},"applySearchStringToRecords"),X=u(N=>{let{listRecords:J,records:le}=N;return le.map(ce=>{const Ee=J==null?void 0:J[ce.id];return{...ce,highlightAsNew:Ee==null?void 0:Ee.highlightAsNew}})},"applyHighlightAsNew"),Z=u(N=>{let{listRecords:J,records:le}=N;return le.map(ce=>{const Ee=J==null?void 0:J[ce.id];return{...ce,isOpenInFlexpane:Ee==null?void 0:Ee.isOpenInFlexpane}})},"applyIsOpenInFlexpane"),ie=u(N=>{let{listRecords:J,records:le,schema:ce,filterObj:Ee,sorts:ye,searchString:Ie,lastReadTimestamp:he,bottomRecordIds:Ce,userNames:oe,channelNames:de}=N,De=le;if(Ee){const{filters:Te,currentUserId:pe}=Ee;De=R(De,Te,ce,pe,he,Ce)}return ye&&(De=W(De,ye,ce,oe,de)),Ie&&(De=Y(De,ce,Ie,oe,de)),De=X({listRecords:J,records:De}),De=Z({listRecords:J,records:De}),De},"applyModifiersToRecords");function Ae(N,J,le){const ce=(0,O.Ld)(N,J,le);return ce&&!(0,h.A)(ce)&&!(0,m.aw)(ce)&&!(0,m.aH)(ce)}u(Ae,"isValidMarkedMessageForListThread");function ae(N,J,le){return(0,s.A)((0,r.A)(le,ce=>Ae(N,J,ce)))}u(ae,"maxRealTsForListThread");function V(N,J,le,ce){const Ee=(0,f.Dv)(ce,Object.values(le)),ye=Ee.get(N==null?void 0:N.id),Ie=Ee.get(J==null?void 0:J.id);let he=null,Ce=null;if(N&&J){if(ye)he=ye;else{var oe,de;he=!((oe=le[N.id])===null||oe===void 0)&&oe.position?`${(de=le[N.id])===null||de===void 0?void 0:de.position}`:null}if(Ie)Ce=Ie;else{var De,Te;Ce=!((De=le[J.id])===null||De===void 0)&&De.position?`${(Te=le[J.id])===null||Te===void 0?void 0:Te.position}`:null}}else if(N)if(ye)he=ye;else{var pe,Me;he=!((pe=le[N.id])===null||pe===void 0)&&pe.position?`${(Me=le[N.id])===null||Me===void 0?void 0:Me.position}`:null}else if(J)if(Ie)Ce=Ie;else{var ke,Ke;Ce=!((ke=le[J.id])===null||ke===void 0)&&ke.position?`${(Ke=le[J.id])===null||Ke===void 0?void 0:Ke.position}`:null}return(0,y.TU)(he,Ce)}u(V,"calculateFractionalRecordPosition");const ve=u(N=>{var J;const le=(0,p.A)({input:N});return le&&le[0]&&le[0].offset===0&&((J=le[0].url)===null||J===void 0?void 0:J.length)===(N==null?void 0:N.length)?[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"link",url:le[0].url||""}]}]}]:[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"text",text:N||""}]}]}]},"convertStringToBlocks"),be=u(N=>{if(N instanceof HTMLElement){if(N instanceof HTMLInputElement&&["checkbox","radio"].includes(N.type))return!0;if(["input","textarea","select"].includes(N.tagName.toLowerCase())||N.isContentEditable)return!1}return!0},"shouldHandleUndoFrom"),Ue=u((N,J)=>{const le=[];var ce;const Ee=(ce=(0,_.Df)(N))!==null&&ce!==void 0?ce:[],ye=(0,_.Jq)(N).length||(0,_.Si)(N);return J.forEach((Ie,he)=>{const Ce=Ee.some(Me=>(Me==null?void 0:Me.user_id)===(Ie==null?void 0:Ie.id));var oe;const de=(oe=Ie==null?void 0:Ie.is_profile_only_user)!==null&&oe!==void 0?oe:!1;var De;const Te=(De=Ie==null?void 0:Ie.is_self)!==null&&De!==void 0?De:!1;!de&&!Te&&!Ce&&!ye&&le.push(he)}),le},"getRestrictedSelectedTokenIndexes"),Re=u(N=>["created_time","created_by","last_edited_time","last_edited_by"].includes(N.type),"isMetaColumn"),ge=u((N,J)=>{if(!N)return"";const le=I({record:N,colKey:"name"});if(!le)return"";let ce=(0,A.Kx)(le==null?void 0:le.toLowerCase().split(/[ :/-]/).filter(Boolean).join("-"));return ce=ce.split("-").filter(Boolean).join("-"),J&&!ce.startsWith(J)&&(ce=`${J}${ce}`),ce.slice(0,(0,A.zU)())},"generateChannelNameFromRecordName"),ne=u((N,J)=>((J==null?void 0:J.editors)||[]).filter(le=>le!==N),"getListRecordChannelInitialInvitedMemberIds"),ee=u((N,J)=>{var le,ce;return N?J&&(J.type===i.$.MultiSelect||J.type===i.$.Select&&(J==null||(le=J.options)===null||le===void 0?void 0:le.format)===v.YP.MultiSelect||(J.type===i.$.User||J.type===i.$.Channel||J.type===i.$.Canvas)&&(J==null||(ce=J.options)===null||ce===void 0?void 0:ce.format)===v.hx.MultiEntity)?new Set(N.split(a.eY).filter(Boolean)):new Set([N]):new Set},"splitMultiValueField"),F=u(N=>N==null?void 0:N.includes("/lists/"),"isListLink"),H=u(N=>({key:N.key,operator:N.operator,values:N.values,columnId:N.columnId}),"convertListViewFilterToViewFilter"),j=u(N=>{let{columnType:J}=N;return J?J===i.$.TodoCompleted||J===i.$.TodoAssignee||J===i.$.TodoDueDate:!1},"isTodoListColumn")},2670882607:(x,g,e)=>{"use strict";e.d(g,{e:()=>o});var t=e(3134334389),n=e(5255740490),s=e(2562405183),r=e(6422693406),c=e(2047021170);const o=t.memo(t.forwardRef((a,l)=>{let{getAnimationImport:i,className:d,minHeight:_,svgClassName:m,loadingClassName:h,errorClassName:v,description:T,loop:A=!1,autoplay:y=!1,renderLoading:p,renderError:f,preserveAspectRatio:O}=a;const I=(0,s.d4)(L=>(0,c.ty)(L,"a11y_animations")),[P,C]=(0,t.useState)(!0),[M,D]=(0,t.useState)(!1),E=(0,t.useRef)(null),S=(0,t.useRef)(null),k=(0,t.useRef)(null);k.current||(k.current=r.S.all([e.e("gantry-v2-async-lottie-web").then(e.t.bind(e,221124150,23)),i()]).then(L=>{let[B,b]=L;if(!E.current)throw new Error("Lottie animation missing container");return C(!1),S.current=B.loadAnimation({container:E.current,renderer:"svg",loop:A,autoplay:!!(I&&y),animationData:b,rendererSettings:{className:(0,n.A)("p-lottie__svg",m),description:T,preserveAspectRatio:O}}),r.S.resolve(S.current)}).catch(L=>(D(!0),r.S.reject(L)))),(0,t.useEffect)(()=>()=>{k.current&&k.current.cancel(),S.current&&S.current.destroy()},[k,S]),(0,t.useImperativeHandle)(l,()=>k.current,[k]);const U=(0,t.useMemo)(()=>P&&p?p():M&&f?f():null,[p,f,P,M]);return t.createElement("div",{ref:E,style:_!==void 0?{minHeight:_}:void 0,className:(0,n.A)("p-lottie",d,P&&h,M&&v)},U)}))},5460331959:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),n=e(7715417323),s=e(4978843660),r=e(166097325),c=e(6696292586),o=e(6650208157);const a=4;function l(d){let{children:_,fallbackWidth:m=void 0,onResize:h=n.A}=d;const[v,T]=(0,t.useState)({width:0,height:0}),[A,y]=(0,t.useState)(!1),p=(0,t.useRef)([]);function f(I){let{width:P}=I;if(p.current.unshift(P),p.current.length<a)return!1;p.current.length>a&&(p.current.length=a);const C=(0,s.A)(p.current,2);return C.slice(1).every(M=>(0,r.A)(M,C[0]))}u(f,"looksLikeResizeLoop");const O=(0,t.useCallback)(I=>{h(I),T(I.bounds),(0,c.A)(m)&&!A&&y(f(I.bounds))},[m,h,A]);return t.createElement(o.A,{bounds:!0,onResize:O},I=>{let{measureRef:P}=I;return _({...v,width:A&&m?m:v.width,measureRef:P})})}u(l,"Measure"),l.displayName="Measure";const i=l},9446966957:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(1641606663),s=e(8646591923),r=e(7592430824),c=e(3262078016);const a=u(l=>{let{value:i,max:d,tick:_,jump:m,onChange:h,renderContainer:v,renderTrack:T,renderInner:A,onMouseDown:y,onMouseUp:p,"aria-label":f,"aria-valuetext":O,vertical:I,autoFocus:P}=l;const C=(0,t.useRef)(null),{embeddedUiData:M}=(0,t.useContext)(r.N),{windowRef:D}=(0,t.useContext)(n.Mn),E=(0,t.useCallback)(w=>{let{pageX:W,pageY:K}=w;const Y=C.current;if(!Y)return;const X=Y.getBoundingClientRect(),Z=I?X.y:X.x,ie=Math.max(0,(I?K:W)-Z),Ae=I?X.height:X.width,V=(I?1-Math.min(1,ie/Ae):Math.min(1,ie/Ae))*d;h(V)},[d,h,I]),S=(0,t.useCallback)(w=>{E(w)},[E]),k=(0,t.useCallback)(w=>{var W,K;(W=D.deref())===null||W===void 0||W.document.removeEventListener("mousemove",S),(K=D.deref())===null||K===void 0||K.document.removeEventListener("mouseup",k),p==null||p(w)},[S,p,D]),U=(0,t.useCallback)(w=>{var W,K;w.button!==0||w.ctrlKey||(E(w),w.preventDefault(),(W=D.deref())===null||W===void 0||W.document.addEventListener("mousemove",S),(K=D.deref())===null||K===void 0||K.document.addEventListener("mouseup",k),y==null||y(w))},[S,k,E,y,D]),L=(0,t.useCallback)(w=>{switch(w.which){case s.LE:case s.i7:h(i+(_??1));break;case s.UQ:case s.n6:h(i-(_??1));break;case s.w_:h(i+(m??d*.1));break;case s.dB:h(i-(m??d*.1));break;case s.yZ:h(0);break;case s.Kp:h(d);break;default:return}w.preventDefault()},[i,d,_,m,h]);(0,t.useEffect)(()=>{var w;return C==null||(w=C.current)===null||w===void 0||w.toggleAttribute(c.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!M),()=>{var W,K;(W=D.deref())===null||W===void 0||W.document.removeEventListener("mousemove",S),(K=D.deref())===null||K===void 0||K.document.removeEventListener("mouseup",k)}},[M,S,k,D]),(0,t.useEffect)(()=>{P&&C.current&&C.current.focus()},[P]);const B=`${((d>0?i/d:0)*100).toFixed(2)}%`,b=A({style:I?{height:B}:{width:B}}),R=T({children:b,tabIndex:0,role:"slider","aria-label":f,"aria-valuemin":0,"aria-valuemax":d,"aria-valuenow":Math.floor(i),"aria-valuetext":O,onKeyDown:L,ref:C});return v({children:R,onMouseDown:U})},"CustomizableSlider")},3118200703:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),n=e(735940183),s=e(2312625946),r=e(6105929840),c=e(7592430824),o=e(1224315998);const a=new n.Ay("stories_av"),l={eventId:o.EventId.BK_USER_INTERACTION,interactionElement:o.InteractionElement.VIDEO,onClick:{enableClogAction:!0,interaction:o.Interaction.EXPAND}};function i(_){let{onClick:m,size:h,classPrefix:v}=_;const{embeddedUiData:T}=(0,t.useContext)(c.N),y=!!T?a.t("View full screen",{fallbackHash:"de8414755b5ff3c3e9f07661b8a127f5e5f57865",fallbackHashNs:"file"}):a.t("Expand",{fallbackHash:"5de840011e47d74fc17266744fc23d99a5f90716"});return t.createElement(s.Ay,{tip:y,position:"top"},t.createElement(r.A,{className:`${v}__controls_overlay_fullscreen`,onClick:m,"aria-label":y,icon:"expand",backgroundStyle:"dark",size:h,autoClogProps:l}))}u(i,"FullscreenButton"),i.displayName="FullscreenButton";const d=i},1942976385:(x,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(3134334389),n=e(6122756707),s=e(5255740490),r=e(2664504268),c=e(735940183),o=e(2602118042),a=e(3391133100),l=e(2562405183),i=e(2047021170),d=e(387484329),_=e(5204962244),m=e(3207321841),h=e(7592430824);const v=new c.Ay("stories_av"),T=u(y=>{let{onSpeedChange:p,isInlinePlayer:f,onMouseEnter:O,onMouseLeave:I,className:P}=y;const C=(0,n.wA)(),[M]=(0,t.useState)({}),D=(0,l.d4)(R=>(0,i.ty)(R,"media_playback_speed")),[E,S]=(0,t.useState)(D||1),{embeddedUiData:k}=(0,t.useContext)(h.N),U=(0,_.d)(()=>`playback-speed-${(0,a.r9)()}`);(0,t.useEffect)(()=>{D&&Object.keys(M).length===0&&D!==E&&S(D)},[M,D,E]);const L=(0,t.useCallback)(R=>{const z=R.value,w=E;S(z);const W=(0,r.A)();M[W]=!0,C((0,d.AZ)({pref:"media_playback_speed",value:z})).finally(()=>{delete M[W]}),p==null||p(z,w)},[C,M,E,p]),B=(0,t.useMemo)(()=>[{label:v.t("Playback speed"),options:m.Cv.map(R=>({label:v.t("{speed}x",{speed:R,fallbackHash:"399e68d4ef7e131fd1ddd396dfb6bcf815269ef4"}),value:R}))}],[]),b=(0,t.useMemo)(()=>{var R;if(!((R=B[0])===null||R===void 0)&&R.options){for(const z of B[0].options)if(z.value===E)return z}return null},[E,B]);return t.createElement(o.A,{options:B,className:(0,s.A)("p-media_controls__control--playback-speed",P,{"p-video_controls_overlay__controls__speed":f}),size:"small",minOptionsListWidth:140,selectedOption:b,onOptionSelected:L,ariaLabel:v.t("Set playback speed: currently {mediaPlaybackSpeed}\xD7",{mediaPlaybackSpeed:E}),onMouseEnter:O,onMouseLeave:I,selectId:U,preventScroll:!!k})},"MediaPlaybackSpeedControl");T.displayName="MediaPlaybackSpeedControl";const A=T},8371678613:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3134334389),n=e(2562405183),s=e(5602423845),r=e(1224315998),c=e(735940183),o=e(2047021170),a=e(1942976385),l=e(2312625946);const i=new c.Ay("stories_av");function d(m){let{isInlinePlayer:h,videoRef:v,sharedClogProps:T={},className:A}=m;const y=(0,s.A)(),p=(0,n.d4)(O=>(0,o.ty)(O,"media_playback_speed"));(0,t.useEffect)(()=>{var O;v==null||(O=v.current)===null||O===void 0||O.setPlaybackRate(p)},[p,v]);const f=(0,t.useCallback)((O,I)=>{y.track(r.EventId.MEDIA_PLAYER,{...T,contexts:{...T.contexts,ui_context:{ui_step:h?"embedded":"fullscreen",action:"click",ui_properties:{element_type:"button",element_name:"playback_speed"}}},from:`${I??1}x`,to:`${O??1}x`})},[y,T,h]);return t.createElement(l.Ay,{tip:i.t("Playback speed"),position:"top",delay:l.n1},t.createElement(a.A,{onSpeedChange:f,isInlinePlayer:h,className:A}))}u(d,"PlaybackSpeedButton"),d.displayName="PlaybackSpeedButton";const _=d},3242899446:(x,g,e)=>{"use strict";e.d(g,{A:()=>P});var t=e(3134334389),n=e(6122756707),s=e(2562405183),r=e(2047021170),c=e(387484329),o=e(735940183),a=e(5946832122),l=e(2036354333),i=e(1610251172),d=e(2312625946),_=e(9194155027),m=e(5255740490),h=e(3749524846),v=e(9446966957);function T(){return T=Object.assign||function(C){for(var M=1;M<arguments.length;M++){var D=arguments[M];for(var E in D)Object.prototype.hasOwnProperty.call(D,E)&&(C[E]=D[E])}return C},T.apply(this,arguments)}u(T,"_extends");const A=new o.Ay("stories_av");var y;(function(C){C.Normal="normal",C.Popover="popover",C.Vertical="vertical"})(y||(y={}));const p=u(C=>{let{children:M,volume:D,onChange:E,onMouseDown:S,onMouseUp:k,mode:U=y.Normal,setIsVerticalVolumeActive:L}=C;const B=(0,t.useContext)(h.A),b=(0,t.useCallback)(Z=>{E(Math.round(Z)/100)},[E]),R=(0,t.useCallback)(()=>{L==null||L(!0)},[L]),z=(0,t.useCallback)(()=>{L==null||L(!1)},[L]),w=Math.floor(D*100),W=(0,t.useCallback)(Z=>t.createElement("div",T({className:"p-media_volume_slider__slider"},Z)),[]),K=(0,t.useCallback)(Z=>t.createElement("div",T({className:"p-media_volume_slider__track"},Z)),[]),Y=(0,t.useCallback)(Z=>t.createElement("div",T({className:"p-media_volume_slider__fill"},Z)),[]),X=t.createElement(v.A,{value:w,max:100,onChange:b,renderContainer:W,renderTrack:K,renderInner:Y,onMouseDown:S,onMouseUp:k,"aria-label":A.t("Volume"),"aria-valuetext":`${w}%`,vertical:U===y.Vertical});return t.createElement("div",{className:(0,m.A)("p-media_volume_slider",{"p-media_volume_slider--keyboard_focus":B,[`p-media_volume_slider--${U}`]:U}),onMouseEnter:U===y.Vertical?R:void 0,onMouseLeave:U===y.Vertical?z:void 0,onFocus:U===y.Vertical?R:void 0,onBlur:U===y.Vertical?z:void 0},t.createElement("div",{className:"p-media_volume_slider__children"},M),t.createElement("div",{className:"p-media_volume_slider__slider_container"},X))},"MediaVolumeSlider");p.displayName="MediaVolumeSlider";const f=p,O=new o.Ay("stories_av");function I(C){let{isInlinePlayer:M,useVerticalVolume:D,videoRef:E,className:S,backgroundStyle:k,setIsVerticalVolumeActive:U}=C;const L=(0,n.wA)(),B=(0,s.d4)(Re=>(0,r.ty)(Re,"media_muted"));var b;const R=(b=(0,s.d4)(Re=>(0,r.ty)(Re,"media_volume")))!==null&&b!==void 0?b:1,[z,w]=(0,t.useState)(R),W=(0,t.useRef)(!1);(0,t.useEffect)(()=>{var Re;E==null||(Re=E.current)===null||Re===void 0||Re.setMuted(B)},[B,E]),(0,t.useEffect)(()=>{var Re;E==null||(Re=E.current)===null||Re===void 0||Re.setVolume(z)},[E,z]);const K=(0,t.useCallback)(()=>{L((0,c.AZ)({pref:"media_muted",value:!B})),B&&w(R)},[L,B,R]),Y=(0,t.useCallback)(function(){let Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;Re===0?B||L((0,c.AZ)({pref:"media_muted",value:!0})):(B&&L((0,c.AZ)({pref:"media_muted",value:!1})),!W.current&&Re!==R&&L((0,c.AZ)({pref:"media_volume",value:Re})))},[L,z,B,R]),X=(0,t.useRef)(Y);X.current=Y;const Z=(0,t.useCallback)(Re=>{w(Re),X.current(Re)},[]),ie=(0,t.useCallback)(()=>{W.current=!0},[]),Ae=(0,t.useCallback)(()=>{W.current=!1,X.current()},[]);(0,t.useEffect)(()=>{W.current||w(R)},[R]);const ae=B?O.t("Unmute"):O.t("Mute"),V=O.t("Mute");let ve="volume-off-alt";B||(z>=.6?ve="volume-up":z>=.3?ve="volume-medium":ve="volume-down");const be=(0,t.useMemo)(()=>t.createElement(_.A,{title:ae,mainKey:O.t("M")}),[ae]);if(M){const Re=t.createElement(d.Ay,{tip:ae,position:D?"bottom":"top",delay:d.n1,hideFromScreenReader:!0},t.createElement(l.A,{className:"p-video_controls_overlay__controls__button p-video_controls_overlay__controls__button--mute","aria-label":V,"aria-pressed":B,onClick:K},t.createElement(i.A,{type:ve,size:"inherit"})));return t.createElement(f,{volume:B?0:z,onChange:Z,onMouseDown:ie,onMouseUp:Ae,setIsVerticalVolumeActive:U,mode:D?y.Vertical:y.Popover},Re)}const Ue=t.createElement(d.Ay,{tip:be,position:"top",delay:d.PK,hideFromScreenReader:!0},t.createElement(a.A,{onClick:K,"aria-label":V,"aria-pressed":B,icon:ve,size:"medium",className:S,backgroundStyle:k||"light"}));return t.createElement(f,{volume:B?0:z,onChange:Z,onMouseDown:ie,onMouseUp:Ae},Ue)}u(I,"ToggleMute"),I.displayName="ToggleMute";const P=I},4250078557:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),n=e(735940183),s=e(6422693406),r=e(7937864072);const c="MEDIA-PLAYER";function o(_){const m=(0,r.A)(),[h,v]=(0,t.useState)(!0),[T,A]=(0,t.useState)(),[y,p]=(0,t.useState)();return(0,t.useEffect)(()=>{if(A(void 0),p(void 0),!_){v(!1);return}v(!0);let f;const O=new s.S((I,P,C)=>{const M=new XMLHttpRequest;let D=!1;M.addEventListener("load",()=>{m.info(c,"vtt loaded"),v(!1);const E=M.response;f=URL.createObjectURL(E),A(f),I(M.response),E.text().then(S=>{D||p(S)})}),M.addEventListener("error",()=>{m.warn(c,"error fetching vtt"),v(!1),P(new Error(`VTT load request failed with status ${M.status}`))}),C&&C(()=>{M.abort(),D=!0}),M.responseType="blob",M.withCredentials=!0,M.open("GET",_),M.send(),m.info(c,"fetching vtt")});return()=>{O.isPending()&&O.cancel(),f&&URL.revokeObjectURL(f)}},[m,_]),{vttLoading:h,vttSrc:T,vttText:y}}u(o,"useVtt");const a=o,l=new n.Ay("stories_av");function i(_){let{vtt:m,enableMediaCaptions:h}=_;const{vttSrc:v}=a(m);return!m||!v?null:t.createElement("track",{label:l.t("Captions"),kind:"captions",src:v,default:h})}u(i,"TextTrack"),i.displayName="TextTrack";const d=i},4916948857:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(8800777280);function s(){const[c,o]=(0,t.useState)(!1),a=(0,t.useRef)(),l=(0,t.useRef)(!1),i=(0,t.useRef)(!1),d=(0,t.useCallback)(()=>{clearTimeout(a.current),a.current=setTimeout(()=>{l.current||o(!1)},1300)},[]),_=(0,t.useCallback)(()=>{o(!1),i.current=!1},[]),m=(0,t.useCallback)(()=>{o(!0),i.current=!0,d()},[d]),h=(0,t.useCallback)(()=>{i.current&&(o(!0),d())},[d]),v=(0,t.useCallback)(T=>{const A=(0,n.A)(T.target,y=>(y==null?void 0:y.dataset.preventFade)==="true");l.current=A},[]);return(0,t.useEffect)(()=>()=>clearTimeout(a.current),[]),{mouseIsOverElement:c,onMouseLeave:_,onMouseEnter:m,onMouseMove:h,onMouseOver:v}}u(s,"useDetectMouseOverElement");const r=s},9758574739:(x,g,e)=>{"use strict";e.d(g,{e:()=>I});var t=e(3134334389),n=e(2683115972),s=e(7138682671),r=e(5375115868),c=e(4967176632),o=e(7811786890),a=e(6259241484),l=e(6122756707),i=e(3603672985),d=e(8452232783),_=e(2432967967),m=e(581167618),h=e(8739505998),v=e(1224315998),T=e(4481313819),A=e(3416652175),y=e.n(A);const p={elementName:"dispatch",onClick:{enableClogAction:!0}},f=(0,o.Wz)({notificationName:[o.mw]}),O={picked:"",notificationName:""},I=u(P=>{let{initialValues:C=O,validate:M=f,onCloseModal:D,megaphoneSpaceName:E,notificationList:S}=P;const[k,U]=(0,t.useState)(""),[L,B]=(0,t.useState)(!1),[b,R]=(0,t.useState)(!1),z=(0,l.wA)(),[w,W]=(0,t.useState)(""),K=(0,t.useCallback)(Z=>W(Z),[]),Y=(0,t.useCallback)(()=>{if(!k){B(!0);return}let Z={};if(w.length)try{Z=JSON.parse(w)}catch{R(!0);return}D==null||D(),z((0,i.G0)({spaceName:E,notificationName:k,notificationData:Z})),E===a.xu.LAUNCH_MODAL&&z((0,_.A)())},[k,w,z,E,D]),X=(0,t.useCallback)((Z,ie)=>{U(Z),ie("picked",Z),B(!1),R(!1)},[]);return t.createElement(T.A,{eventId:v.EventId.ANALYTICS_EVENT,uiComponentName:v.UiComponentName.MEGAPHONE_DISPATCHER,megaphoneSpaceName:E,clogImpression:!0},t.createElement(c.A,{initialValues:C,validate:M,onSubmit:Y},Z=>{let{isSubmitting:ie,values:Ae,setFieldValue:ae}=Z;return t.createElement(t.Fragment,null,t.createElement("h2",null,"\u{1F4E3} Megaphone Dispatcher"),"Click the Dispatch button below to instantly render Megaphone Notifications on the UI.",t.createElement("div",{className:y().spaceNameContainer},"Space Name",t.createElement("div",{className:y().spaceName},E)),t.createElement("div",{className:y().notificationName},"Notification Name"),t.createElement("div",{className:y().notificationList},Object.keys(S).sort().map((V,ve)=>t.createElement(s.A,{text:V,htmlFor:`field-radio-${ve}`,type:"inline",cursor:"pointer",key:V},t.createElement(r.A,{id:`field-radio-${ve}`,name:"picked",value:V,checked:Ae.picked===V,onChange:()=>X(V,ae)})))),t.createElement(s.A,{text:"Notification Data",optional:!0},t.createElement(d.A,{name:"notification_data",id:"notification_data",placeholder:'Ex: { "Field Name": "<String Value>", "Field Name": <Numeric Value> }',onChange:K,value:w,className:y().textArea})),t.createElement("div",{className:y().alert},t.createElement(m.Ay,{type:"boxed",level:"warning",icon:"warning",align:"left"},t.createElement("span",{className:y().alertText},t.createElement("b",null,"Some Megaphone notifications may not be dispatched due to various reasons, such as but not limited to:"),t.createElement("li",null," Missing notification data "),t.createElement("li",null,"The notification being part of an experiment "),"For questions or further assistance, reach out to us at"," ",t.createElement("b",null,t.createElement(h.A,{href:"https://app.slack.com/client/E12KS1G65/C0765PUTPDL",target:"_blank"},"#proj-megaphone-dispatcher")),"."))),L&&t.createElement("div",{className:y().formError},"Please select a notification."),b&&t.createElement("div",{className:y().formError},"There was an error parsing Notification Data, please try again."),t.createElement(n.Ay,{autoClogProps:p,onClick:Y,disabled:ie},"Dispatch"))}))},"DispatcherForm");I.displayName="DispatcherForm"},4445888975:(x,g,e)=>{"use strict";e.d(g,{R:()=>a,h:()=>l});var t=e(3134334389),n=e(6122756707),s=e(2562405183),r=e(3603672985),c=e(716227588),o=e(4724591729);const a=u(()=>{const i=!(0,o.KV)()||(0,o.b3)(),d=(0,n.wA)(),_=(0,s.d4)(c.y$);return(0,t.useEffect)(()=>{const m=u(h=>{i&&h.ctrlKey&&h.shiftKey&&h.key==="M"&&d((0,r.cv)(!_))},"handleKeydown");return window.addEventListener("keydown",m),()=>{window.removeEventListener("keydown",m)}},[i,d,_]),{shouldShowDispatcherViewer:_}},"useDispatcherToggleShortcut"),l=u(function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const[d,_]=(0,t.useState)(i),m=(0,t.useCallback)(h=>{_(h)},[]);return{isModalOpen:d,toggleModal:m}},"useModal")},5062503310:(x,g,e)=>{"use strict";e.d(g,{A:()=>t});const t={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",border:0,padding:0,background:"transparent"},overlay:{backgroundColor:"rgba(208, 208, 208, 0.4)",zIndex:1e4}}},4902318931:(x,g,e)=>{"use strict";e.d(g,{$W:()=>b,sl:()=>z,Ay:()=>w});var t=e(3134334389),n=e(6122756707),s=e(2562405183),r=e(716227588),c=e(6259241484),o=e(7487228876),a=e(7003004874),l=e(1655938719),i=e(2938177083),d=e(101973425),_=e(4481313819),m=e(2567914105),h=e(3603672985),v=e(9881565722),T=e(4761125736),A=e(4798756512),y=e(4003148341),p=e(4244379358),f=e(6258289677),O=e(9758574739),I=e(2312625946),P=e(4445888975),C=e(5062503310),M=e(397939223),D=e.n(M);const E=u(W=>{let{megaphoneSpaceName:K,notificationList:Y}=W;const{isModalOpen:X,toggleModal:Z}=(0,P.h)(!1);return t.createElement("div",{className:D().container},t.createElement(I.Ay,{tip:K,position:"top",zIndex:"menu_above_fs"},t.createElement("span",{className:D().dispatcherViewerIcon,role:"button",tabIndex:0,"aria-label":"Open Viewer Modal",onClick:()=>Z(!0)})),t.createElement(f.A,{isOpen:X,onRequestClose:()=>Z(!1),style:C.A},t.createElement("div",{className:D().dispatcherViewerDetails},t.createElement(O.e,{megaphoneSpaceName:K,notificationList:Y,onCloseModal:()=>Z(!1)}))))},"DispatcherViewer");E.displayName="DispatcherViewer";const S=(0,p.A)(E),k=u(W=>{let{children:K,megaphoneSpaceName:Y,notificationList:X}=W;const{shouldShowDispatcherViewer:Z}=(0,P.R)();return t.createElement(t.Fragment,null,Z&&t.createElement("div",{className:D().dispatcherViewer},t.createElement(S,{megaphoneSpaceName:Y,notificationList:X})),K)},"DispatcherToggle");k.displayName="DispatcherToggle";const U=(0,p.A)(k),L={isInMegaphoneContainerContext:!0},B={isInMegaphoneContainerContext:!1},b=(0,t.createContext)(B),R=u(W=>{let{fetchDataOnMount:K,notifications:Y,spaceName:X,children:Z,shouldAlwaysRenderChildren:ie,shouldPassPropsToChildren:Ae,channelScopedId:ae,componentClassName:V,...ve}=W;var be;const Ue=(0,n.wA)(),Re=(0,y.x)(),ge=(0,s.d4)(m.oY),ne=(0,s.d4)(r.up),ee=(0,s.d4)(Ie=>(0,T._Z)(Ie,"megaphone_coachmark_suppression")==="on"),{isInsideModal:F}=(0,v.k)(),H=(0,s.d4)(Ie=>(0,r.Hp)(Ie,X,ae)),j=(0,s.d4)(Ie=>(0,r.OL)(Ie,X,ae)),N=(0,t.useCallback)(()=>{Ue((0,a.A)({notificationName:H,action:c.hw.IMPRESSION}))},[Ue,H]),J=(0,t.useCallback)(()=>{Ue((0,i.A)({spaceName:X,action:c.hw.DISMISS}))},[Ue,X]),le=(0,t.useCallback)(()=>{Ue((0,l.iR)({event:{type:c.jo.REQUEST_SPACES,spaces:[X]}}))},[Ue,X]),ce=u(()=>ie?Ae&&t.isValidElement(Z)?t.cloneElement(Z,{...ve}):t.createElement(U,{megaphoneSpaceName:X,notificationList:Y},Z):t.createElement(U,{megaphoneSpaceName:X,notificationList:Y},null),"maybeRenderChildren");ce.displayName="maybeRenderChildren",(0,t.useEffect)(()=>{X&&K&&le()},[K,X,le]);const Ee=Y==null||(be=Y[H])===null||be===void 0?void 0:be.component,ye=ee&&Ee&&!F&&ge&&X===c.xu.IN_PRODUCT_COACHMARK;if(ye&&!ne){Ue((0,h.co)(!0));const Ie=Re.createMetricsTrace({label:"megaphone",samplingOptions:{sampleType:A.tS.SESSION,sampleRate:.1}}),he=Ie.count({name:"megaphone_coachmark_suppress"});he.addTags({notification:H}),he.close(),Re.reportTrace(Ie)}return!X||!H||ee&&X===c.xu.IN_PRODUCT_COACHMARK&&ne||ye?ce():Ee?t.createElement(_.A,{megaphoneSpaceName:X,megaphoneNotificationName:H},t.createElement(b.Provider,{value:L},t.createElement(U,{megaphoneSpaceName:X,notificationList:Y},null),t.createElement(t.Suspense,{fallback:null},t.createElement(Ee,{...j,recordNotificationEventImpression:N,dismissAndClearNotification:J,notificationName:H,className:V,channelScopedId:ae,...ve},Z)))):(Y||(0,o.h)({spaceName:X,notificationName:H}),ce())},"MegaphoneContainer");R.displayName="MegaphoneContainer";const z=(0,d.Ay)(R),w=R},3656161791:(x,g,e)=>{"use strict";e.d(g,{C:()=>t});const t={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},9887985562:(x,g,e)=>{"use strict";e.d(g,{V:()=>n});var t=e(3134334389);class n extends t.PureComponent{render(){return t.createElement(t.Fragment,null,this.props.children)}}u(n,"PassThrough"),n.displayName="PassThrough"},8950789382:(x,g,e)=>{"use strict";e.d(g,{s:()=>p});var t=e(9706240641),n=e.n(t),s=e(6304789565),r=e(352142497),c=e(82287009),o=e(8999545852),a=e(3193155968),l=e(9938554271),i=e(3110884894),d=e(6514066170),_=e(755982243),m=e(796111729),h=e(485355941),v=e(6695353875),T=e(9932860381),A=e(7176966205),y=e(9629572172);const p=(0,s.Ay)("Opens a view in a new child window",function(){var f=(0,t.coroutine)(function*(O,I,P,C){let{viewId:M,params:D,clogParams:E}=P;if(!(0,h.M2)())return;const S=I(),{isMainWindow:k}=C(y.U);if((0,v.yZ)(S)&&k&&(0,T.Xy)(M)){O((0,A.$)({viewId:M,params:D}));return}let U=!1;if((0,d.A)(S,M)){let L,B={[a.mq.Primary]:{id:M,params:D,viewType:(0,l.A)(M)}};B=O((0,o.VO)({viewSet:B,windowId:a.N2}));const b=(0,_.w)(M),R=b;if(M==="thread"&&(D!=null&&D.threadId)){const z=(0,i.Sb)(D==null?void 0:D.threadId).channelId;U=!0,B={[a.mq.Primary]:{id:z||(D==null?void 0:D.entityId),params:void 0,viewType:r.D.Channel},[a.mq.Secondary]:{id:M,params:D,viewType:r.D.Thread}},L=a.mq.Secondary}M==="channel_canvas"&&(B={[a.mq.Primary]:{id:D==null?void 0:D.channelId,params:void 0,viewType:r.D.Channel},[a.mq.Secondary]:{id:"channel_canvas",params:D,viewType:r.D.ChannelCanvas}}),O((0,c.Bb)({viewSet:B,shouldNavigateInContext:b,shouldShowSearch:R,...L&&{containerOrigin:L},clogParams:E??{uiComponentName:origin,entryPoint:"cmd_click"},forceSingleColumnMode:U}))}else(0,m.Ay)({getState:I}).action("CHILD-WINDOWS","skipped opening a Conversation View because the ID is not supported:",M)});return function(O,I,P,C){return f.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkmaybeOpenInWindow",description:"Opens a view in a new child window"}},3652828077:(x,g,e)=>{"use strict";e.d(g,{O:()=>i});var t=e(3134334389),n=e(2844658640),s=e.n(n),r=e(1641606663),c=e(2233780559);function o(){return o=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var m=arguments[_];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(d[h]=m[h])}return d},o.apply(this,arguments)}u(o,"_extends");const a=(0,c.eF)(c.vt.REACT_VIRTUALIZED,d=>s()(d));function l(d){let{refToForward:_,...m}=d;const{windowRef:h}=(0,t.useContext)(r.Mn),v=a(h.deref()).List;return t.createElement(v,o({ref:_},m))}u(l,"PortableReactVirtualizedList"),l.displayName="PortableReactVirtualizedList";const i=t.forwardRef((d,_)=>t.createElement(l,o({refToForward:_},d)))},7439773700:(x,g,e)=>{"use strict";e.d(g,{C_:()=>d,MH:()=>m,Zj:()=>v,ik:()=>T,kh:()=>o,tl:()=>i,tw:()=>_,vu:()=>h,xu:()=>A});var t=e(3564619745),n=e(735940183),s=e(9421999304);const r=new n.Ay("prefs"),c=u(function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,s.JK)();return t.nW[y]},"getLocaleSpecificDefaults"),o=u(function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,s.JK)();return{default:!0,fontFamily:c(y),label:t.qH,value:"lato"}},"getDefaultFontOption"),a=u(()=>{const y=r.t("{font} (Default)",{font:"Lato"}),p=r.t("{font} (System)",{font:t.qL}),f=t.qL?{label:p,value:"system-font",fontFamily:t.fd}:void 0,O=[{...o(),label:y},t.xw,t.ew,t.Ig,t.k7,t.zZ,t.Z2,t.qS];return f?O.concat([f]):O},"getSupportedFontOptions"),l={default:!1,label:"Custom Font",value:"custom-font"},i=u(y=>{let{includeCustomFont:p}=y;const f=a();return p?f.concat([l]):f},"getAllFontOptions"),d=u(y=>{let{customFont:p,locale:f}=y;const O=f||(0,s.JK)(),I=c(O);return{...l,fontFamily:`${p} , ${I}`}},"getCustomFontOption"),_=u(y=>y.slice().sort((p,f)=>{var O,I;return((O=p==null?void 0:p.label)!==null&&O!==void 0?O:"")<((I=f==null?void 0:f.label)!==null&&I!==void 0?I:"")?-1:1}),"sortFonts"),m=u(y=>Object.values(t.xo).some(p=>p.includes(y.toLowerCase())),"isSupportedFont"),h=u(y=>y.default===!0,"isDefaultFont"),v=u(y=>Object.keys(t.xo).find(p=>t.xo[p].includes(y.toLowerCase())),"getSupportedFontValue"),T=u(y=>{let{fontValue:p,includeCustomFont:f}=y;var O;return(O=i({includeCustomFont:f}).find(I=>I.value===p))!==null&&O!==void 0?O:void 0},"getFontOptionForFontValue"),A=u(y=>!t.hb.includes(y),"isCustomTypefaceSupportedLocale")},4173072539:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(6839188756),s=e(5743225531),r=e(2312625946),c=e(6968387112);const o=u(l=>{let{invitingTeam:i}=l;const d=i.domain&&`${(0,n.k7)(i.id,i.domain)}.${(0,c.Xk)()}`,_=t.createElement(s.A,{id:i.id,team:i,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0,bold:!0,tabIndex:d?0:void 0});return d?t.createElement(r.Ay,{tip:d},t.createElement("span",null,_)):_},"InvitingTeamName");o.displayName="InvitingTeamName";const a=o},3694049677:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(8796434876),s=e(2312625946);const r=u(o=>{let{invitingUser:a,showEmailTooltip:l=!0}=o;var i;const d=a==null||(i=a.profile)===null||i===void 0?void 0:i.email,_=l&&d,m=t.createElement(n.A,{member:a,skipPrefCompliance:!0,tabIndex:_?0:void 0});return _?t.createElement(s.Ay,{tip:d},m):m},"InvitingUserName");r.displayName="InvitingUserName";const c=r},2408732225:(x,g,e)=>{"use strict";e.d(g,{n:()=>i});var t=e(3134334389),n=e(3656161791),s=e(3462964303),r=e(138341465),c=e(6415587347);let o=null;const l=u(()=>(o===null&&(o=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),o),"isPrimer");class i extends t.PureComponent{render(){var _,m;const{className:h,team:v,user:T,size:A,allowDefaultProfileImage:y,fallbackUserIcon:p,fallbackUserIcon2x:f,isInteractive:O,hideUserIcon:I}=this.props,P=!!(!((_=T.profile)===null||_===void 0)&&_.is_custom_image),C=!!p||!!f,M=!(!((m=v.icon)===null||m===void 0)&&m.image_default),{imageUrl:D,imageUrl2x:E}=this.getProfileImages();if((P||y||C)&&!I){const S=T.profile.real_name;return t.createElement(s.f1,{className:h,imageUrl:P||y?D:p,imageUrl2x:P||y?E:f,memberOrBotName:S,size:A,teamId:v.id,team:v,isInteractive:O&&!l()&&!!T.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:T.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...n.C}})}return M?t.createElement(r.U,{teamName:v.name,icon:v.icon,size:A,className:h}):null}constructor(_){super(_),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var A;const{team:y,user:p,size:f}=this.props,O=(0,c.Ay)({size:f,teamOrEnterpriseId:y.id,memberId:p.id,avatarHash:(A=p.profile)===null||A===void 0?void 0:A.avatar_hash}),I=(O==null?void 0:O.imageUrl)||"",P=O!=null&&O.imageUrl2x?`${O.imageUrl2x} 2x`:"";return{imageUrl:I,imageUrl2x:P}};const{team:m,allowTeamInitials:h,shouldRenderTeamBadge:v,teamIconSize:T}=_;v&&(this.renderTeamBadge=(0,s.fp)({isExternal:!0,team:m,teamId:m.id,allowTeamInitials:h,teamIconSize:T}))}}u(i,"UserIcon"),i.displayName="UserIcon",i.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1}},7599421656:(x,g,e)=>{"use strict";e.d(g,{B:()=>s});var t=e(2384831516),n=e(4761125736);const s=(0,t.Mz)(r=>(0,n._Z)(r,"shortcuts_workspace_picker")==="on");s.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:r=>(0,n._Z)(r,"shortcuts_workspace_picker")==="on"}},9874616273:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(8214116048);const s=u(c=>{let{width:o=20,height:a=20,className:l="",theme:i}=c;const d=i===n.Sx.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.createElement("div",{role:"banner"},t.createElement("img",{className:l,src:d,alt:"Slack",width:o,height:a}))},"SlackLogo");s.displayName="SlackLogo";const r=s},7105906370:(x,g,e)=>{"use strict";e.d(g,{Fv:()=>n,Lt:()=>l,NY:()=>r,Uk:()=>s,We:()=>c,ab:()=>o,bK:()=>a});var t=e(4761125736);function n(i){return(0,t._Z)(i,"workflow_composer")==="on"}u(n,"isWorkflowComposerEnabled");function s(i){return(0,t._Z)(i,"workflow_composer_ga_wishlist")==="on"}u(s,"isWorkflowComposerGAWishlistEnabled");function r(i){return(0,t._Z)(i,"workflow_file_dialog")==="on"||(0,t._Z)(i,"solutions")==="on"}u(r,"isWorfklowFileDialogEnabled");const c=u(i=>(0,t._Z)(i,"ask_slack_view")==="on","isAskSlackViewEnabled"),o=u(i=>(0,t._Z)(i,"slackbot_ai_memories")==="on","isSlackbotAiMemoriesEnabled"),a=u(i=>(0,t._Z)(i,"solutions")==="on"&&(0,t._Z)(i,"solutions_nux")==="on","isSolutionsNuxEnabled"),l=u(i=>(0,t._Z)(i,"solutions_template_admin_role")==="on","isSolutionsTemplateAdminRoleEnabled")},5144644376:(x,g,e)=>{"use strict";e.d(g,{n:()=>r});var t=e(8180302442),n=e(5597672932),s=e(4761125736);const r=u(c=>!(!(0,t.g)(c)||!((0,s._Z)(c,"custom_solution_creation")==="on")||!(0,n.xp)(c,"allow_custom_solution_templates")),"isCustomSolutionsEnabledForUser")},6989432693:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),n=e(2562405183),s=e(8276911661),r=e(8921478798),c=e(8170643398),o=e(735940183),a=e(6962474707);const l=new o.Ay("channel_token"),i=u(_=>{let{userId:m,isFirst:h,isSelf:v}=_;var T;const A=(T=(0,n.d4)(p=>(0,s.nv)(p,m)))!==null&&T!==void 0?T:void 0;let y=(0,n.d4)(p=>(0,r.I)(p,m));return(0,c.t8)(A)?t.createElement(a.A,{type:"unknown",subtler:!0}):(0,c.QR)(A)?t.createElement(a.A,{type:"non-existent",subtler:!0}):(v&&(y=h?l.t("You"):l.t("you")),t.createElement(t.Fragment,null,y))},"TooltipMemberName");i.displayName="TooltipMemberName";const d=t.memo(i)},5139044823:(x,g,e)=>{"use strict";e.d(g,{Ab:()=>s,Rk:()=>n,T6:()=>t,Uy:()=>r});var t;(function(c){c.ListItem="list_item",c.NewTask="new_task",c.CompletedHeader="completed_header",c.GroupHeader="group_header",c.RefineHeader="refine_header"})(t||(t={}));var n;(function(c){c.ListItem="list_item",c.CompletedHeader="completed_header",c.RefineHeader="refine_header",c.EmptyState="empty_state"})(n||(n={}));var s;(function(c){c.All="all",c.Open="open",c.Completed="completed"})(s||(s={}));var r;(function(c){c.RecentlyAssigned="recently_assigned",c.DueDate="due_date",c.RecentlyUpdated="recently_updated"})(r||(r={}))},2806459763:(x,g,e)=>{"use strict";e.d(g,{HY:()=>o,No:()=>r,Vr:()=>_,cp:()=>m,fw:()=>c,gk:()=>d,nr:()=>h,qC:()=>l,sD:()=>i,zm:()=>a});var t=e(5139044823),n=e(8191156954),s=e(583204418);const r=u(v=>!!v&&"message"in v,"isMessageReference"),c=u(v=>!!v&&"message"in v,"isMessageReferenceApi"),o=u(v=>!!v&&"list_record"in v,"isListRecordReferenceApi"),a=u(v=>{var T;return v.type===n.$.Select&&((T=v.options)===null||T===void 0?void 0:T.format)!==s.YP.MultiSelect},"isSingleSelectField"),l=u(v=>{if(r(v)){const A=v.message;return A.threadTs?`message-${A.channelId}-${A.ts}-${A.threadTs}`:`message-${A.channelId}-${A.ts}`}const T=v==null?void 0:v.listRecord;return T?`list_record-${T.listId}-${T.rowId}`:""},"makeReferenceTrackerStoreKey"),i=u(v=>{if(c(v)){const A=v.message;return A.thread_ts?`message-${A.channel_id}-${A.ts}-${A.thread_ts}`:`message-${A.channel_id}-${A.ts}`}const T=v==null?void 0:v.list_record;return T?`list_record-${T.list_id}-${T.row_id}`:""},"makeReferenceApiTrackerStoreKey"),d=u(v=>{var T;return!!(!(v==null||(T=v.fields)===null||T===void 0)&&T.todo_completed)},"isMyTaskItemCompleted"),_=u(v=>c(v)?{message:{channelId:v.message.channel_id,ts:v.message.ts,threadTs:v.message.thread_ts}}:{listRecord:{listId:v.list_record.list_id,rowId:v.list_record.row_id}},"convertReferenceApiToReference"),m=u(v=>{let{rowId:T}=v;return T===t.T6.NewTask||T.endsWith(`---${t.T6.NewTask}`)},"isNewTaskRow"),h=u(v=>{let{groupKey:T}=v;return`${T}---${t.T6.NewTask}`},"createNewTaskRowId")},924300050:(x,g,e)=>{"use strict";e.d(g,{A:()=>ke});var t=e(3134334389),n=e(980293773),s=e(6820844347),r=e.n(s),c=e(5006029593),o=e.n(c),a=e(7749140866),l=e.n(a),i=e(7626894131),d=e.n(i),_=e(29804293),m=e.n(_),h=e(6636363964),v=e.n(h),T=e(5913806097),A=e.n(T),y=e(9916635837),p=e.n(y),f=e(555040584),O=e.n(f),I=e(8187362417),P=e.n(I),C=e(2005200212),M=e.n(C),D=e(2563333228),E=e.n(D),S=e(5760619139),k=e.n(S),U=e(668694090),L=e.n(U),B=e(6754250580),b=e.n(B),R=e(1714394002),z=e.n(R),w=e(6435768457),W=e.n(w),K=e(7417918922),Y=e.n(K),X=e(6869712815),Z=e.n(X),ie=e(8089589194),Ae=e.n(ie),ae=e(5748605292),V=e.n(ae),ve=e(4071181961),be=e.n(ve),Ue=e(8071475775),Re=e.n(Ue),ge=e(9733499682),ne=e.n(ge),ee=e(9753292423),F=e.n(ee),H=e(3289703835),j=e.n(H),N=e(1347747715),J=e.n(N),le=e(6050136004),ce=e.n(le),Ee=e(7949425452),ye=e(2683115972),Ie=e(5220162857),he=e(4931940375),Ce=e(1388835426),oe=e(2664504268),de=e(9598582073),De=e.n(de);function Te(){return Te=Object.assign||function(Ke){for(var Ze=1;Ze<arguments.length;Ze++){var Q=arguments[Ze];for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&(Ke[se]=Q[se])}return Ke},Te.apply(this,arguments)}u(Te,"_extends");const pe={elementName:"explore_pro_features_btn",onClick:{enableClogAction:!0}},Me=u(Ke=>{let{featureList:Ze,modalTitle:Q,modalSubtitle:se,buttonText:He,onCTAClick:Ge,customFooter:Be,maxWidth:we,onRequestClose:xe,UNSAFE_parentSelector:Oe,videoTitle:Xe,experimentPnpGoGroupTreatment:Ye}=Ke;const dt=u(()=>t.createElement(Ie.Ay,{listItems:Ze}),"renderFeatureList"),mt={closeModal:xe,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:we,UNSAFE_parentSelector:Oe},{translation:it,enableMediaCaptions:At}=(0,Ce.S)({"de-DE":Ye?d():b(),"en-GB":Ye?m():z(),"en-US":Ye?l():W(),"es-ES":Ye?A():Y(),"es-LA":Ye?v():Z(),"fr-FR":Ye?p():Ae(),"it-IT":Ye?k():V(),"ja-JP":Ye?L():be(),"ko-KR":Ye?O():Re(),"pt-BR":Ye?P():ne(),"zh-CN":Ye?M():F(),"zh-TW":Ye?E():j()}),Ot=(0,oe.A)(),Kt=(0,oe.A)(),Xt=[Ot,Kt].join(" "),vn=(0,t.useMemo)(()=>{let Sn=o(),jt=ce();return Ye&&(Sn=r(),jt=J()),{video:Sn,videoPoster:jt}},[Ye]);return t.createElement(n.dW,Te({closeButtonTone:"dark",className:De().modalBackground,labelledby:Xt},mt),t.createElement(n.$m,{className:De().modalBackground},t.createElement("div",{className:De().bodyContainer},t.createElement("div",{className:De().listContainer},t.createElement(Ee.Ay,{ariaHidden:!0,className:De().proBadge,size:Ee.vj.Large}),t.createElement("h1",{id:Ot,className:De().title},Q),t.createElement("h2",{id:Kt,className:De().subtitle},se),dt(),Be||t.createElement(ye.Ay,{size:"medium",onClick:Ge,className:De().ctaButton,autoClogProps:pe},He)),t.createElement("div",{className:De().videoContainer},t.createElement("div",{className:De().videoPlayer},t.createElement(he.A,{src:vn.video,vtt:it,enableMediaCaptions:At,videoPoster:vn.videoPoster,enableControls:!0,autoPlay:!1,title:Xe}))))))},"Modal");Me.displayName="Modal";const ke=Me},5220162857:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>W,CQ:()=>b,L_:()=>R,XC:()=>S,wj:()=>k});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(5255740490),c=e(7260399618),o=e.n(c),a=e(3555024406),l=e.n(a),i=e(6362113145),d=e.n(i),_=e(5612399517),m=e.n(_),h=e(9754713110),v=e.n(h),T=e(8644018899),A=e.n(T),y=e(8720577475),p=e.n(y),f=e(735940183),O=e(8683010724),I=e(3801841745),P=e(5751973043),C=e(9421999304),M=e(6696573656),D=e.n(M);const E=new f.Ay("trial_expiration_modals"),S={history:v(),headphones:d(),canvas:l(),buildings:A(),bolt:o(),play:o(),tools:p(),lists:m(),"shared-channel":""},k={history:()=>{switch((0,C.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-messages.json").then(e.t.bind(e,3828726715,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-messages.json").then(e.t.bind(e,4311997919,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-messages.json").then(e.t.bind(e,8274489555,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-messages.json").then(e.t.bind(e,1968927099,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-messages.json").then(e.t.bind(e,4244940908,23))}},headphones:()=>e.e("gantry-v2-async-lottie-trial-modal-huddles.json").then(e.t.bind(e,3020879619,23)),canvas:()=>e.e("gantry-v2-async-lottie-trial-modal-canvas.json").then(e.t.bind(e,5417726912,23)),buildings:()=>{switch((0,C.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect.json").then(e.t.bind(e,6800060962,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect.json").then(e.t.bind(e,5190658834,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect.json").then(e.t.bind(e,647591414,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect.json").then(e.t.bind(e,9297924654,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-slack-connect.json").then(e.t.bind(e,6342268209,23))}},play:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),bolt:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),tools:()=>e.e("gantry-v2-async-lottie-trial-modal-templates.json").then(e.t.bind(e,8131963541,23)),"shared-channel":(0,t.coroutine)(function*(){return null}),lists:()=>e.e("gantry-v2-async-lottie-trial-modal-lists.json").then(e.t.bind(e,1734664547,23))},U={history:{"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB.json").then(e.t.bind(e,9570554074,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR.json").then(e.t.bind(e,7096086790,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP.json").then(e.t.bind(e,3015913705,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE.json").then(e.t.bind(e,3095723524,23))},buildings:{"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB.json").then(e.t.bind(e,2450338219,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR.json").then(e.t.bind(e,8873227255,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP.json").then(e.t.bind(e,8007093194,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE.json").then(e.t.bind(e,2760408041,23))}},L=u(K=>K in U,"isLocalizedIconName"),B=u((K,Y)=>Y in K,"isLocale"),b=u((K,Y)=>{if(!L(K))return;const X=U[K];return B(X,Y)?X[Y]:void 0},"getIconToAnimationMapLocalized"),R=u(function(){let{experimentPnpGoGroupTreatment:K=!1,newCopyVariant:Y=!1,trialAwarenessModalVariant:X=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z={history:{iconName:"history",title:E.t("Unlimited message and file history"),text:E.t("Keep and find answers in your team\u2019s archive")},huddles:{iconName:"headphones",title:E.t("Group huddles"),text:E.t("Voice and video conversations with your team")},files:{iconName:"canvas",title:E.t("Canvases and lists"),text:E.t("Share and track work in Slack")},slackConnect:{iconName:"buildings",title:E.t("Slack Connect channels"),text:E.t("Work with people from other organizations")},workflows:{iconName:"bolt",title:E.t("More apps and unlimited workflows"),text:E.t("Connect tools to Slack and build no-code automations")}};return Y&&(Z={...Z,history:{...Z.history,title:E.t("Unlimited message history",{fallbackHash:"df3b6ffa2b734c91a477ef99c651e8368a8de52a"}),text:E.t("Search and view all of your team\u2019s public messages and files, which are stored indefinitely on a paid plan.",{fallbackHash:"6b06612199a2ba4edd538aeab59a0729f0157104"})},huddles:{...Z.huddles,text:E.t("Talk things out live with audio and video huddles. Share your screen, annotate and enable live captions.",{fallbackHash:"9630412b89af32fa5fa77827dafce24e4ff1c61b"})},tools:{iconName:"tools",title:E.t("Premium productivity tools and templates",{fallbackHash:"b65871634e6d8a24479ff1ef8f00bc312fdb516a",fallbackHashNs:"solution_gallery"}),text:E.t("Share, track and manage work with canvases, lists, workflows and more.",{fallbackHash:"46c05e3ac87ab9122d103b976d20f8b16c468e2a",fallbackHashNs:"solution_gallery"})},slackConnect:{...Z.slackConnect,title:E.t("Work with people at other organizations",{fallbackHash:"213e16e29cb2be31a8927a8749fbc5c0e997cefe"}),text:E.t("Make collaborating with outside partners and clients as fast and simple as working with in-house teams.",{fallbackHash:"213e16e29cb2be31a8927a8749fbc5c0e997cefe"})},workflows:{...Z.workflows,iconName:"play",title:E.t("More connected apps",{fallbackHash:"d8abd1625ab6793a75a91c4f759f6deb8aa56399",fallbackHashNs:"reverse-trial"}),text:E.t("Schedule meetings, file tickets, track tasks, and more, by bringing tools your team already uses into Slack.",{fallbackHash:"1a8374bae29b9a54d537703c4906950192fbb822",fallbackHashNs:"reverse-trial"})}}),K&&(Z={...Z,files:{...Z.files,iconName:"tools",title:E.t("Premium productivity tools and templates"),text:E.t("Track and share work with lists and unlimited canvases")},slackConnect:{...Z.slackConnect,iconName:"shared-channel",title:E.t("Slack Connect channels"),text:E.t("Work with people from other organizations")},huddles:{...Z.huddles,title:E.t("Group voice and video huddles"),text:E.t("Instantly connect with screen sharing and more")},workflows:{...Z.workflows,title:E.t("Unlimited apps and workflows"),text:E.t("Access tools you use everyday and automate tasks")}},X&&(Z={...Z,files:{...Z.files,text:E.t("Share, track and manage work with canvases and lists")},slackConnect:{...Z.slackConnect,title:E.t("Slack Connect")},huddles:{...Z.huddles,title:E.t("Group huddles"),text:E.t("Talk it out on a video call with screen sharing")},workflows:{...Z.workflows,title:E.t("Unlimited apps and workflows"),text:E.t("Access tools you use everyday and automate tasks")}})),[Z.history,Z.huddles,...Z.tools?[Z.tools]:P.Ml,...Y?P.Ml:[Z.files],Z.slackConnect,Z.workflows]},"getFeatureList"),z=u(K=>{let{iconClassName:Y,iconName:X,title:Z,text:ie}=K;return s.createElement(I.A,{alignItems:"flex-start"},s.createElement("div",{className:(0,r.A)(D().icon,Y)},s.createElement(O.A,{name:X,size:"20","aria-describedby":X,role:"img","data-qa":`icon-${X}`})),s.createElement(I.A,{flexDirection:"column"},s.createElement("div",{className:D().title},Z),s.createElement("div",{className:D().text},ie)))},"FeaturesListItem");z.displayName="FeaturesListItem";const W=u(K=>{let{className:Y,iconClassName:X,listItems:Z}=K;return s.createElement(I.A,{gap:12,flexDirection:"column",className:(0,r.A)(D().featuresListContainer,Y)},Z.map(ie=>s.createElement(z,{key:ie.title,iconClassName:X,iconName:ie.iconName,title:ie.title,text:ie.text})))},"FeaturesList")},8108449081:(x,g,e)=>{"use strict";e.d(g,{A:()=>U});var t=e(3134334389),n=e(2562405183),s=e(6122756707),r=e(735940183),c=e(4481313819),o=e(924300050),a=e(4963725897),l=e(6518038516),i=e(9003400431),d=e(1224315998),_=e(5220162857),m=e(6259241484),h=e(6323355797),v=e(7115655993),T=e(2683115972),A=e(3677514771),y=e(7914553163),p=e(9623497342),f=e(2612353366),O=e(8871937520),I=e(6839188756);const P=new r.Ay("trials"),C={elementName:"trial_start",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},M={elementName:"compare_plans_cta",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},D={elementName:"explore_all_pro_features_cta",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},E={elementName:"upgrade_to_pro_cta",onClick:{enableClogAction:!0}},S=h.ew.PAID_FEATURE_TRIAL,k=u(L=>{let{promoType:B,uiStep:b,freemiumVariant:R,trialExpirationDate:z,onRequestClose:w}=L;const W=(0,s.wA)(),K=(0,n.d4)(p.$J);(0,v.A)(()=>{W((0,p.E5)())});const Y=(0,n.d4)(A.H7),X=(0,I.F1)(Y),Z=(0,y.Ay)({promoType:B}),ie=R||Z,Ae=(0,t.useMemo)(()=>[m.xu.SIDEBAR_MENU_HEADER],[]),ae=(0,t.useCallback)(()=>{W((0,i.O)())},[W]),V=(0,t.useCallback)(()=>{w?w():W((0,i.O)())},[W,w]),ve=(0,t.useCallback)(()=>{W((0,f.A)()),V()},[W,V]),be=(0,t.useCallback)(()=>{let ne=P.rt("Explore the premium features of our most popular plan with a free {trialDuration}-day trial. No credit card required.",{trialDuration:S});return K&&(ie===y.MX.TrialIneligible||ie===y.MX.TrialIneligibleUserCannotUpgrade)&&(ne=P.rt("Get access to the premium features of our most popular plan.")),K&&z&&(ne=P.rt("Explore all the premium features of our most popular plan, Slack Pro, through {expirationDate}.",{expirationDate:(0,O.Pd)(z)})),ne},[K,ie,z]),Ue=u(()=>{if(K){if(z){const ee=K?P.t("Explore All Pro Features"):"";return t.createElement(T.Ay,{size:"medium",autoClogProps:D,onClick:ve,title:ee},ee)}if(ie===y.MX.TrialEligible)return t.createElement(a.A,{autoClogProps:C,reason:"all_features_modal",onRequestComplete:ae,promoType:B,megaphoneSpacesToRefresh:Ae},P.t("Start Pro Trial"));const ne="all_features_modal";if(ie===y.MX.TrialIneligible){const ee=K?P.t("Upgrade Now"):"";return t.createElement(T.z9,{size:"medium",autoClogProps:E,href:(0,h.Qn)({team:Y,entryPoint:ne}),title:ee},ee)}if(ie===y.MX.TrialIneligibleUserCannotUpgrade){const ee=K?P.t("Compare Plans"):"";return t.createElement(T.z9,{size:"medium",autoClogProps:M,href:(0,h.hZ)({entryPoint:ne}),title:ee},ee)}return null}return t.createElement(t.Fragment,null,t.createElement(a.A,{autoClogProps:C,reason:"all_features_modal",onRequestComplete:ae,promoType:B,megaphoneSpacesToRefresh:Ae},P.t("Start Pro Trial")),t.createElement(l.A,{buttonType:"outline",entryPoint:"global_trial_entrypoint",openInNewTab:!0,planLevel:h.i6.standard.name}))},"getCustomFooterButtons");Ue.displayName="getCustomFooterButtons";const Re=u(()=>t.createElement("div",{className:"p-free_teams_showcase_all_features_modal__ctas"},Ue()),"getCustomFooter"),ge=K&&z?P.t("{teamName} is on a free trial \u{1F389}",{teamName:X}):P.t("Do even more with Slack Pro");return t.createElement(c.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.FREE_TEAMS_SHOWCASE_ALL_FEATURES_MODAL,uiStep:b},t.createElement(o.A,{featureList:(0,_.L_)({experimentPnpGoGroupTreatment:K,trialAwarenessModalVariant:Boolean(z)}),experimentPnpGoGroupTreatment:K,modalTitle:ge,modalSubtitle:be(),customFooter:Re(),onRequestClose:V,maxWidth:832,videoTitle:P.t("Comparison of free vs. paid Slack Video for users on free teams",{fallbackHash:"9398938f8b7049969c93c2f18f103f217bd68228"})}))},"FreeTeamsAllFeaturesModal");k.displayName="FreeTeamsAllFeaturesModal";const U=k},1267040415:(x,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),n=e(735940183),s=e(9391594207),r=e(1224315998),c=e(6323355797),o=e(2562405183),a=e(3677514771),l=e(7268021173),i=e(4481313819),d=e(2683115972),_=e(8739505998),m=e(2312625946);function h(){return h=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(f[P]=I[P])}return f},h.apply(this,arguments)}u(h,"_extends");const v=new n.Ay("plan_change"),T=u(f=>{let{children:O,planLevel:I,entryPoint:P,feature:C,hash:M,action:D,useLink:E,refToForward:S,productId:k,productLevel:U,team:L,isTeamInTrial:B,tooltipProps:b,...R}=f;const z=(0,o.d4)(K=>(0,c.m6)(K,{entryPoint:P,productId:k,productLevel:U,action:D,feature:C,hash:M,planLevel:I})),w=E?_.A:d.z9,W=t.createElement(w,h({ref:S},R,{href:z}),O);return t.createElement(i.A,{eventId:r.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},b?t.createElement(m.Ay,h({tip:v.t("Upgrade")},b),W):W)},"PlansPageCTABase");T.displayName="PlansPageCTABase";const A=u(f=>({team:(0,a.H7)(f),isTeamInTrial:(0,l.iH)(f)}),"mapStateToProps"),y=(0,s.N)(A)(T),p=t.forwardRef((f,O)=>t.createElement(y,h({},f,{refToForward:O})))},4177200783:(x,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),n=e(6122756707),s=e(2562405183),r=e(735940183),c=e(1224315998),o=e(4761125736),a=e(9003400431),l=e(4481313819),i=e(8719380546),d=e(5712872315),_=e(1743656885);const m=new r.Ay("msg_input"),h={elementName:"learn_more",onClick:{enableClogAction:!0}},v=u(O=>{let{isScheduledMessage:I}=O;const P=(0,n.wA)(),C=(0,t.useCallback)(()=>{P((0,a.O)())},[P]);if(!(0,s.d4)(S=>(0,o._Z)(S,"upgrd_5684")==="on"))return null;const D=I?m.t("Message not scheduled"):m.t("Message not sent"),E=m.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":S=>{let{text:k}=S;return t.createElement(_.A,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:h,forceOpenInBrowser:!0},k)}});return t.createElement(l.A,{eventId:c.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:c.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.createElement(i.A,{"data-qa":"message-limit-error-modal",title:D,titleIcon:"warning",bodyContent:E,onRequestClose:C,theme:d.B.ERROR}))},"MessageLimitErrorModal");v.displayName="MessageLimitErrorModal";const T=v;var A=e(6304789565),y=e(2375333597);const p=(0,A.Ay)("Open modal when a message send fails due to team having hit the message limit",function(O,I){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O((0,y.q)({element:t.createElement(T,P)}))});p.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};const f=p},6518038516:(x,g,e)=>{"use strict";e.d(g,{A:()=>E});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(9391594207),c=e(5255740490),o=e(735940183),a=e(2786906754),l=e(7994296598),i=e(9022734571),d=e(6839188756),_=e(6323355797),m=e(3554387543),h=e(3677514771),v=e(3559164431),T=e(8368515877),A=e(2222994823),y=e(6084388622),p=e(8739505998),f=e(8683010724),O=e(4761125736);function I(){return I=Object.assign||function(S){for(var k=1;k<arguments.length;k++){var U=arguments[k];for(var L in U)Object.prototype.hasOwnProperty.call(U,L)&&(S[L]=U[L])}return S},I.apply(this,arguments)}u(I,"_extends");const P=new o.Ay("page_pricing");let C=u(class extends s.Component{getElementName(){const{isSmallFeaturesColumnButton:k,planLevel:U,activePlanLevel:L,isTeamOnTrial:B,isInvoiceCustomer:b,includeFreePlan:R}=this.props;let z;return U===_.i6.enterprise.name?z=`${U}_plan_contact_us`:b?z=`${U}_plan_contact_accounts`:!U&&R?z="free_plan_upgrade":k&&L===U&&!B?z=`${U}_get_slack_ai`:z=`${U}_plan_upgrade`,z}getHref(k){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const L=k+(0,i.iU)({...this.parsedUrlQueryParams,...U});return(0,d.Zl)(this.props.team,L)}navigateToCheckoutFlow(k){var U=this;return(0,t.coroutine)(function*(){const{isSlackAIOptedInByDefault:L,isTeamOnTrial:B,activePlanLevel:b}=U.props;U.setState(()=>({isCTALoading:!0}));try{yield U.props.fetchConfigurationData({productId:k})}catch(w){var R;(w==null||(R=w.data)===null||R===void 0?void 0:R.error)==="invalid_request"?(0,l.A)(`/account/request?entry_point=${U.props.entryPoint}`):(0,l.A)("/admin/billing");return}if(U.props.redirectUrl&&(0,A.I)(U.props.redirectUrl)){U.props.redirectUrl&&(0,l.A)(U.props.redirectUrl);return}const z=(0,_.Qn)({team:U.props.team,entryPoint:U.props.entryPoint,productId:k,addonTypes:L&&!B&&b===""?[_.wi.SlackAI]:void 0});(0,l.A)(z)})()}handleClick(){const{team:k,planLevel:U,activePlanLevel:L,isSmallFeaturesColumnButton:B,productId:b,slackAIAddonId:R,isTeamOnTrial:z,isSlackAIOptedInByDefault:w}=this.props;if(B&&L===U&&!z){const K=(0,_.Qn)({team:k,entryPoint:"plans_page",addon:R,addonTypes:w?[_.wi.SlackAI]:void 0});(0,l.A)(K)}else b&&this.navigateToCheckoutFlow(b)}renderPlanCTA(){const{activePlanLevel:k,planLevel:U,productId:L,activeProductId:B,"data-qa":b,isInvoiceCustomer:R,clogStepId:z,useLink:w,buttonType:W,openInNewTab:K,entryPoint:Y,isSmallFeaturesColumnButton:X,isTeamOnTrial:Z,discountPromoType:ie,discountPromoSubtype:Ae,discountPercent:ae,experimentPnpDiscountsGroupOn:V,className:ve}=this.props;let be="outline",Ue="",Re;const ge=K?"_blank":"_self";if(U===_.i6.enterprise.name)Ue=P.t("Contact Sales"),Re=this.getHref("/contact-sales",{from_plans:1,campaign:"7013y000002UvizAAC"}),be="primary";else if(R)Ue=P.t("Contact Accounts"),Re=this.getHref("/help/requests/new");else{if(U===_.i6.free.name)return null;if(be="primary",X)k===U&&!Z?Ue=P.t("Get Slack AI"):ie===_.k2.PricingAndPackagingPromo?Ue=(0,_.$K)({discountPromoSubtype:Ae,activePlanLevel:k,discountPercent:ae,planLevel:U,experimentPnpDiscountsGroupOn:V}):Ue=P.t("Upgrade");else{Ue=P.t("Upgrade Now");const F=B?2:1;Re=this.getHref(`/${_.nc}`,{s:F,entry_point:Y})}}const ne={className:(0,c.A)("p-upgrade_cta plan_page",ve),type:W||be,"data-qa":b,autoClogProps:{elementName:this.getElementName(),isPrimaryCTA:W==="primary",onClick:{enableClogAction:!0},clogStepId:z,productId:L}};let ee=s.createElement(y.z9,I({href:Re,target:ge},ne),Ue);return U!==_.i6.enterprise.name&&!R&&L&&!w?ee=s.createElement(y.lV,I({onClick:this.handleClick,loading:this.state.isCTALoading},ne,{"aria-label":Ue}),Ue):w&&(ee=s.createElement(p.A,I({href:Re,target:ge},ne,{className:"p-upgrade_cta--link"}),Ue,s.createElement("span",{className:"margin_left_25"},s.createElement(f.A,{name:"arrow-right"})))),ee}render(){return this.renderPlanCTA()}constructor(k){super(k),this.state={isCTALoading:!1},this.handleClick=this.handleClick.bind(this),this.parsedUrlQueryParams=(0,a.qN)(window.location.href)||{}}},"UpgradeCta");C.displayName="UpgradeCta",C.defaultProps={"data-qa":"plans_page_upgrade_cta",clogStepId:"",entryPoint:"plans_page"};const M=u((S,k)=>{const U=(0,m.EV)(S),L=(0,h.H7)(S),B=(0,m.$f)(S);return{team:L,productId:(0,m.UO)(S,k.planLevel,U),slackAIAddonId:(0,m.Zg)(S,B,U),activeProductId:(0,m.xU)(S),activePlanLevel:B,isTeamOnTrial:(0,m.yQ)(S),isInvoiceCustomer:(0,m.Nd)(S),redirectUrl:(0,v.oy)(S),nextPlanLevel:(0,m.Jf)(S),isSlackAIOptedInByDefault:(0,m.qK)(S),discountPercent:(0,m.WG)(S),discountPromoType:(0,m.ZQ)(S),discountPromoSubtype:(0,m.$3)(S),experimentPnpDiscountsGroupOn:(0,O._Z)(S,"pnp_discounts")==="on"}},"mapStateToProps"),D=u(S=>({fetchConfigurationData:k=>S((0,T.l)(k))}),"mapDispatchToProps"),E=(0,r.N)(M,D)(C)},8576613356:(x,g,e)=>{"use strict";e.d(g,{C:()=>I});var t=e(3134334389),n=e(5255740490),s=e(73855031),r=e(6518038516),c=e(2670882607);const o=(0,t.memo)(P=>{let{onLoad:C}=P;return(0,t.useEffect)(()=>()=>{C()},[C]),null});var a=e(2562405183),l=e(2047021170),i=e(5577296129),d=e.n(i);const _=(0,t.memo)(P=>{let{alt:C,className:M,getAnimationImport:D,index:E,onLoad:S,src:k,autoplay:U=!0,loop:L=!0}=P;const B=(0,t.useCallback)(()=>S(E),[E,S]),b=(0,t.useCallback)(()=>t.createElement(o,{onLoad:B}),[B]);return(0,a.d4)(z=>(0,l.ty)(z,"a11y_animations"))&&D?t.createElement(c.e,{autoplay:U,className:(0,n.A)(d().featureImage,M),description:C,getAnimationImport:D,loop:L,renderLoading:b}):t.createElement("img",{alt:C,className:(0,n.A)(d().featureImage,M),key:k,onLoad:B,src:k,"aria-hidden":"true","data-qa":"feature_image_static"})});var m=e(5641442783),h=e(6308822),v=e(6044196829),T=e(980293773),A=e(1224315998),y=e(6323355797),p=e(8985946788),f=e.n(p);const O={subtitle:"accordion-feature-list-modal-subtitle",imageContainer:"accordion-feature-list-modal-image-container",textContent:"accordion-feature-list-modal-text-content"},I=u(P=>{let{accordionClassNames:C={},className:M="",customFooter:D,customHeaderIcon:E,autoClogProps:S,closeModal:k,entryPoint:U,featureListItems:L,featureImageClassName:B="",hideProBadge:b,imageContainerBackground:R="horchata",linkButtonText:z,linkButtonAutoClogProps:w,listContainerClassName:W="",onClickLink:K,subtitle:Y,subtitleClassName:X="",title:Z,ariaLabel:ie="",UNSAFE_parentSelector:Ae}=P;const[ae,V]=(0,t.useState)(0),ve=(0,t.useCallback)(ne=>{V(ne)},[]),be=(0,t.useMemo)(()=>L.map((ne,ee)=>({...ne,onExpand:()=>{var F;ve(ee),(F=ne.onExpand)===null||F===void 0||F.call(ne)}})),[L,ve]),Ue=(0,t.useRef)(new Array(be.length).fill(!0)),Re=(0,t.useCallback)(ne=>{Ue.current=[...Ue.current.slice(0,ne),!1,...Ue.current.slice(ne+1)]},[]),ge="accordion-feature-list-modal-description";return t.createElement(T.dW,{autoClogProps:S,centered:!0,className:(0,n.A)(f().accordionFeatureListModal,M),closeModal:k,maxWidth:900,UNSAFE_parentSelector:Ae,contentLabel:ie,describedby:ge},t.createElement("div",{className:(0,n.A)(f().bodyContainer,{[f().horchataBg]:R==="horchata",[f().aubergineBg]:R==="aubergine"})},t.createElement("div",{className:(0,n.A)(f().listContainer,W),"data-qa":O.textContent},t.createElement("div",{className:f().header},!b&&(E??t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(m.A,{uiComponentVariant:A.UiComponentVariant.SOLUTIONS_GALLERY_UPGRADE_MODAL,"aria-hidden":!0}))),t.createElement("h1",{id:ge,className:f().title},Z),t.createElement("h2",{className:(0,n.A)(f().subtitle,X),"data-qa":O.subtitle},Y)),t.createElement("div",{className:(0,n.A)(f().accordionListContainer,C==null?void 0:C.listContainerClassName)},t.createElement(s.n,{accordionItems:be,className:C==null?void 0:C.className,showImageCaret:!0,showItemBorder:!1,itemClassName:f().accordionItem,itemHeaderClassName:(0,n.A)(f().accordionItemHeader,C==null?void 0:C.itemHeaderClassName),itemHeaderButtonClassName:(0,n.A)(f().accordionItemHeaderButton,C==null?void 0:C.itemHeaderButtonClassName),itemDescriptionClassName:(0,n.A)(f().accordionItemDescription,C==null?void 0:C.itemDescriptionClassName),expandedIconClassName:(0,n.A)(f().accordionExpandedIcon,C==null?void 0:C.expandedIconClassName),collapsedIconClassName:(0,n.A)(f().accordionCollapsedIcon,C==null?void 0:C.collapsedIconClassName),imageCaretClassName:(0,n.A)({[f().horchataCaret]:R==="horchata",[f().aubergineCaret]:R==="aubergine"}),applyCustomAnimation:!0})),D??t.createElement("div",{className:f().footer},t.createElement(r.A,{"button-type":"primary",className:f().upgradeCta,entryPoint:U,openInNewTab:!0,planLevel:y.i6.standard.name}),z&&t.createElement(v.A,{className:"margin_top_100",onClick:K,autoClogProps:w},t.createElement("span",null,z)))),t.createElement("div",{className:(0,n.A)(f().imageContainer),"data-qa":O.imageContainer},Ue.current[ae]&&t.createElement(h.A,{className:f().spinner,size:"large"}),be.map((ne,ee)=>{let{getAnimationImport:F,getLocalizedAnimationImport:H,imageAlt:j,imageSrc:N}=ne;return t.createElement(_,{key:`${N}-${ae}`,getAnimationImport:H??F,index:ee,src:N,alt:j,autoplay:ae===ee,loop:!1,className:(0,n.A)(f().featureImage,{flex:ae===ee,align_items_center:ae===ee,display_none:ae!==ee},B),onLoad:Re})}))))},"AccordionFeatureListModal");I.displayName="AccordionFeatureListModal"},7241534324:(x,g,e)=>{"use strict";e.d(g,{AH:()=>I,DN:()=>o,DX:()=>E,F5:()=>_,Fq:()=>m,HM:()=>v,KH:()=>U,Kq:()=>P,Rk:()=>k,Sr:()=>l,TJ:()=>D,Xh:()=>c,j:()=>S,ko:()=>d,lD:()=>M,tC:()=>h,tt:()=>i,wV:()=>C});var t=e(1224315998);const n="autocharge_feature_trial";function s(L,B){const b=L??"",R=B?`-${B}`:"";return`${b}${R}`}u(s,"getCombinedPromoTypeStr");function r(L){return L?"discount":"regular"}u(r,"getDiscountStr");function c(L,B,b){return{clogImpression:!0,elementName:`${n}_modal`,stepVariant:s(B,b),elementType:t.ElementType.MODAL,eventId:t.EventId.NEWXP_TEAM_CREATE,uiComponentName:r(L)}}u(c,"getAutoChargeFeatureTrialModalAutoClogProps");function o(L){return{elementName:`${n}_try_slack_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK,uiComponentName:r(L)}}u(o,"getTrySlackProLinkButtonAutoClogProps");const a={elementName:`${n}_view_all_paid_features`,elementType:t.ElementType.LINK,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},l={...a,isPrimaryCTA:!0},i={elementName:`${n}_upgrade_to_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},d=a,_=n,m={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${n}_start_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},h={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${n}_upgrade_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},v=n,T="autocharge_feature_trial_admin_overview",A={uiComponentName:`${n}_cancel_pro_plan_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},y={uiComponentName:`${n}_change_plan_details_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},p={clogImpression:!0,uiComponentName:`${n}_cancel_confirmation_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.ADMIN_TEAM_BILLING},f={uiComponentName:`${n}_confirm_cancel_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},O={uiComponentName:`${n}_back_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},I={elementName:`${n}_payment_section_reveal`,elementType:t.ElementType.COMPONENT,action:t.UiAction.COMPLETE},P={elementName:`${n}_all_features_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},C={clogImpression:!0,uiComponentName:`${n}_comparison_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.BILLING_CHECKOUT_V2},M={elementName:`${n}_compare_plans_link`,onClick:{enableClogAction:!0}},D={elementName:`${n}_checkout_next_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},E={clogImpression:!0,uiComponentVariant:`${n}_review_step`,action:t.UiAction.IMPRESSION},S={elementName:"purchase_order",elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,action:t.UiAction.CLICK,onClick:{enableClogAction:!0},stepVariant:n},k={elementName:`${n}_checkout_back_billing_info_button`,elementType:t.ElementType.BUTTON,action:t.UiAction.CLICK,onClick:{enableClogAction:!0}};function U(L,B){return{action:t.UiAction.COMPLETE,element_name:`${n}_complete_checkout`,element_value:s(L,B)}}u(U,"getSubmitCompleteAutoChargeTrialStartProp")},5270990260:(x,g,e)=>{"use strict";e.d(g,{J:()=>b});var t=e(3134334389),n=e(6122756707),s=e(1030162945),r=e(5220162857),c=e(8576613356),o=e(7241534324),a=e(5267010247),l=e(8822892075),i=e(7115655993),d=e(9421999304),_=e(7940058138),m=e(6839188756),h=e(677609895),v=e(6084388622),T=e(8739505998),A=e(659648890),y=e(571104883),p=e(735940183),f=e(698347924),O=e(6323355797),I=e(2562405183),P=e(4761125736),C=e(9003400431),M=e(3554387543),D=e(4005238080),E=e(9623497342),S=e(3677514771),k=e(3366751172),U=e.n(k);const L=new p.Ay("trials");function B(R,z,w,W){return R?z:W?L.rt("{price} per person/month after trial. ",{price:w}):""}u(B,"getFooterText");function b(R){let{onCloseModal:z,entryPoint:w,isEligibleForTrial:W,promoType:K,promoSubtype:Y,trialEndDate:X}=R;const Z=(0,n.wA)(),ie=(0,t.useCallback)(()=>Z((0,C.O)()),[Z]),Ae=(0,I.d4)(S.H7),ae=(0,m.F1)(Ae),V=(0,m.tc)(Ae),ve=(0,I.d4)(E.$J),be=(0,I.d4)(M.Pr),Ue=(0,I.d4)(se=>(0,P._Z)(se,"paid_feature_trial_auto_charge_translation",!1)==="on"),Re=(0,I.d4)(M.nc),ge=(0,I.d4)(se=>(0,M.MO)(se,O.i6.standard.name,O.ck.monthly)),ne=(0,I.d4)(se=>(0,M.UO)(se,O.i6.standard.name,O.ck.monthly)),ee=(0,I.d4)(h.X),F=(0,I.d4)(se=>(0,M.iR)(se,O.i6.standard.name,O.ck.monthly)),H=(0,I.d4)(se=>(0,M.h$)(se,O.i6.standard.name,O.ck.monthly)),j=(0,I.d4)(se=>(0,M.Tm)(se,O.i6.standard.name,O.ck.monthly)),N=Boolean(F),J=(0,A.Ay)(X).format("MMMM Do"),le=ge?(0,f.ZV)(ge,(0,p.Yp)(),{style:"currency",currency:Re,currencyDisplay:"symbol"}):void 0,ce=Ue?L.rt("Free {featureTrialLength} day trial, then a {discountPercent}% off for {discountDuration, plural, =1 {month} other {# months}}, then {monthlyPrice} per person/month. ",{featureTrialLength:O.ew.PAID_FEATURE_TRIAL,monthlyPrice:le,discountPercent:H,discountDuration:j}):"",Ee=(0,O.tc)(Ae,K,Y,w),ye=(0,O.Qn)({team:Ae,productId:ne,excludeDomain:!0,entryPoint:K}),Ie=(0,O.hZ)({planLevel:V?void 0:O.i6.standard.id,entryPoint:K}),he=B(N,ce,le,be),Ce=(0,t.useCallback)(()=>{window.open(Ee,(0,y.y3)()?"_blank":"_self")},[Ee]),oe=(0,t.useCallback)(()=>{Z((0,a.o)((0,l.ZF)(_.c.PaidBenefits))),ie()},[Z,ie]),de=(0,t.useCallback)(()=>{const se=(0,d.JK)();return(0,r.L_)({experimentPnpGoGroupTreatment:ve}).map(Be=>({id:Be.iconName,header:Be.title,description:Be.text,iconProps:{name:Be.iconName},imageAlt:Be.title,imageSrc:r.XC[Be.iconName],getAnimationImport:r.wj[Be.iconName],getLocalizedAnimationImport:(0,r.CQ)(Be.iconName,se)}))},[ve]),De=(0,o.Xh)(N,K,Y),Te=(0,o.DN)(N);(0,i.A)(()=>{Z((0,E.E5)()),be||Z((0,D.A)())});const pe=(0,t.useMemo)(()=>ee?t.createElement(t.Fragment,null,t.createElement(v.z9,{autoClogProps:o.tt,href:ye,type:"primary",className:U().cta},L.t("Upgrade to Pro")),t.createElement(T.A,{autoClogProps:o.ko,href:Ie,className:U().link},L.t("View all paid features"))):t.createElement(v.z9,{autoClogProps:o.Sr,href:Ie,className:U().cta},L.t("View all paid features")),[ee,Ie,ye]),Me=(0,t.useMemo)(()=>t.createElement("div",{className:U().footer},W&&ee?t.createElement(t.Fragment,null,t.createElement(v.z9,{autoClogProps:Te,onClick:Ce,type:"primary",className:U().cta},L.rt("Try Slack Pro <span>Free for 30 days</span>",null,se=>{let{text:He}=se;return t.createElement("span",{className:U().light},He)})),t.createElement("p",{className:U().disclaimer},he,L.t("Cancel anytime."))):pe),[pe,W,ee,he,Ce,Te]),ke=(0,t.useMemo)(()=>t.createElement("div",{className:U().footer},t.createElement(v.z9,{onClick:oe,className:U().cta},L.t("View all Pro Benefits"))),[oe]),Ke=(0,t.useMemo)(()=>t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(s.Ay,{text:"tada",emojiSize:s.lw.LARGE})),[]);let Ze=L.rt("Explore the premium features of our most popular plan with a free {trialLength}-day trial.",{trialLength:O.ew.PAID_FEATURE_TRIAL});(!W||!ee)&&(Ze=L.rt("Get access to the premium features of our most popular plan."));let Q=L.t("Do even more with Slack Pro");return V||(Q=L.t("{teamName} now on Slack Pro",{teamName:ae}),Ze=L.rt("Your team now has access to all the goodness of Slack\u2019s Pro plan for free until <strong>{trialEndDate}</strong>",{trialEndDate:J})),t.createElement(c.C,{autoClogProps:De,closeModal:z||ie,customFooter:V?Me:ke,entryPoint:w,featureListItems:de(),subtitle:Ze,title:Q,customHeaderIcon:V?void 0:Ke})}u(b,"AutoChargeTrialEntryModal"),b.displayName="AutoChargeTrialEntryModal"},2279207117:(x,g,e)=>{"use strict";e.d(g,{FK:()=>_,aD:()=>d,uY:()=>h,w9:()=>m});var t=e(6001125587),n=e(7914553163),s=e(5267010247),r=e(8822892075),c=e(7940058138),o=e(8193414630),a=e(6968387112),l=e(735940183);const i=new l.Ay("trials_highlight_paid_features");function d(v){switch(v){case n.MX.TrialTeam:return`https://${(0,a.Xk)()}/help/articles/115003205446-Slack-plans-and-features`;case n.MX.TrialIneligibleUserCannotUpgrade:return`https://${(0,a.Xk)()}/help/articles/115002422943`;default:(0,o.Kh)(v)}}u(d,"getHref");function _(v){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(v){case void 0:case null:case n.MX.TrialFetching:return"";case n.MX.TrialIneligible:return T?i.t("Upgrade Now"):i.t("See Upgrade Options");case n.MX.TrialEligible:return T?i.t("Try Slack Pro"):i.t("Start Free Trial");case n.MX.TrialIneligibleUserCannotUpgrade:case n.MX.TrialTeam:return T?i.t("Compare Plans"):i.t("Learn More");case n.MX.TrialExpiry:return i.t("Upgrade Now");default:(0,o.Kh)(v)}}u(_,"getDefaultCopy");function m(v,T,A,y){return()=>{v((0,t.A)({uiComponentVariant:y,promoSubtype:T,freemiumVariant:A}))}}u(m,"getTrialEligibleHandler");function h(v){return()=>v((0,s.o)((0,r.ZF)(c.c.PaidBenefits)))}u(h,"getTrialTeamHandler")},6005700845:(x,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),n=e(6122756707),s=e(1267040415),r=e(2279207117),c=e(7914553163),o=e(6084388622),a=e(8739505998),l=e(8193414630),i=e(4096483543),d=e(6323355797),_=e(2562405183),m=e(3810478625);const h={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},v={elementName:"learn_more_usage_limits",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},T={elementName:"learn_more_plans_and_features",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},A={isPrimaryCTA:!0,elementName:"upgrade_link",onClick:{enableClogAction:!0}},y={isPrimaryCTA:!0,elementName:"upgrade_now",onClick:{enableClogAction:!0}},p=u(O=>{let{variant:I,children:P,promoSubtype:C,modalVariant:M,useLink:D=!1,ctaClassName:E}=O;const S=(0,n.wA)(),k=(0,_.d4)(m.g),U=(0,i.A)();if(!I||I===c.MX.TrialFetching)return null;const L=D?a.A:o.z9,B=(0,r.FK)(I,k);switch(I){case c.MX.TrialIneligible:return t.createElement(s.A,{useLink:D,autoClogProps:A,className:E},P??B);case c.MX.TrialEligible:return t.createElement(L,{onClick:(0,r.w9)(S,C,I,M),autoClogProps:h,className:E},P??B);case c.MX.TrialIneligibleUserCannotUpgrade:return t.createElement(L,{href:(0,r.aD)(I),autoClogProps:v,className:E},P??B);case c.MX.TrialTeam:return t.createElement(L,{href:U?void 0:(0,r.aD)(I),autoClogProps:T,onClick:U?(0,r.uY)(S):void 0,className:E},P??B);case c.MX.TrialExpiry:return t.createElement(s.A,{useLink:D,action:d.um.CHECKOUT,autoClogProps:y},P??B);default:(0,l.Kh)(I)}},"FreemiumPrimaryCTA");p.displayName="FreemiumPrimaryCTA";const f=p},6001125587:(x,g,e)=>{"use strict";e.d(g,{A:()=>U});var t=e(9706240641),n=e(3134334389),s=e(6422693406),r=e(8108449081),c=e(1152226587),o=e(8300630630),a=e(1267040415),l=e(5791262841),i=e(9240394198),d=e(266169032),_=e(1224315998),m=e(735940183),h=e(6323355797),v=e(2562405183),T=e(4761125736);const A=new m.Ay("trials_highlight_paid_features"),y=h.ew.PAID_FEATURE_TRIAL,p=u(L=>{let{isEligibleForTrial:B,promoType:b,promoSubtype:R,uiComponentVariant:z,uiPage:w}=L;const W=(0,v.d4)(be=>(0,T._Z)(be,"wfb_freemium")==="on"),K=(0,n.useMemo)(()=>W?[A.t("Automate repetitive, simple tasks"),A.t("Create code-free solutions"),A.t("Customize and share with your team")]:[],[W]),Y=(0,n.useMemo)(()=>W?[A.t("Bring tools you already use into Slack"),A.t("Use apps just for you or with your whole team"),A.t("Streamline your work right from Slack")]:[],[W]);if(!W)return null;const X=u(be=>{let{text:Ue}=be;return n.createElement(a.A,{"data-qa":"workflow_builder_freemium_trial_offer_modal-plans_page_link",useLink:!0},Ue)},"renderPlansPageLink"),Z=z===_.UiComponentVariant.UNLIMITED_WORKFLOWS_TRIAL_OFFER_MODAL;let ie,Ae,ae,V,ve;return Z?(ie=A.t("Save time with unlimited workflows"),ae=A.t("With workflows, you can:"),Ae=B?A.rt(" You can also install unlimited apps, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:y,"<plansPageLink>":X}):A.rt("You can also install unlimited apps, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":X}),V=K,ve="/marketing/img/feature/workflow-builder/hero-wfb-lp.jpg"):(ie=A.t("Bring all your tools into Slack"),ae=A.t("With apps, you can:"),Ae=B?A.rt(" You can also publish unlimited workflows, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:y,"<plansPageLink>":X}):A.rt("You can also install unlimited workflows, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":X}),V=Y,ve="/marketing/img/feature/workflow-builder/hero-wfb-apps.png"),n.createElement(l.A,{"data-qa":"workflow_builder_freemium_trial_offer_modal",imgSrc:ve,modalBannerBackgroundColor:"#4a144a",modalCloseButtonTheme:i.N.LIGHT,modalTitle:ie,modalSubtitle:Ae,modalChecklistHeading:ae,modalChecklistItems:V,onSpeedbumpContinueLabel:w===_.UiPage.WORKFLOW_BUILDER_FREEMIUM_TRIAL_PUBLISH?A.t("Publish Workflow"):A.t("Continue"),promoType:b,promoSubtype:R,startTrialContext:d.M.workflowBuilderFreemiumTrialOfferModal,uiComponentVariant:z,isEligibleForTrial:B})},"WorkflowBuilderFreemiumTrialOfferModal");p.displayName="WorkflowBuilderFreemiumTrialOfferModal";const f=p;var O=e(6304789565),I=e(2375333597),P=e(7268021173),C=e(962959561),M=e(8448112102),D=e(398781533),E=e(9623497342);function S(){return S=Object.assign||function(L){for(var B=1;B<arguments.length;B++){var b=arguments[B];for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(L[R]=b[R])}return L},S.apply(this,arguments)}u(S,"_extends");const k=(0,O.Ay)("Open freemium trial offer modal",function(){var L=(0,t.coroutine)(function*(B,b,R){let z=h.ZO.GlobalEntrypointTrial;const{promoSubtype:w}=R,W=(0,E.$J)(b());let K=null;switch(w){case h.zG.WorkflowBuilder:z=h.ZO.PaidFeatureTrial,K=f;break;case h.zG.Vhq:z=W?h.ZO.GlobalEntrypointTrial:h.ZO.PaidFeatureTrial,K=W?r.A:c.A;break;default:return s.S.resolve()}B((0,D.Q)({entryPoint:"open_trial_offer_modal",campaignType:z,campaignSubType:w,reason:"freemium_all_features_modal"})),yield B((0,o.A)({campaignType:z,campaignSubType:w,reason:w}));const Y=(0,P.hq)(b(),z,w);return(0,C.L9)(b())?B((0,M.r)({promoType:z,promoSubtype:w,entryPoint:"freemium_all_auto_charge_trial_entry_point"})):B((0,I.q)({element:n.createElement(K,S({},R,{promoType:z,promoSubtype:w,isEligibleForTrial:Y}))}))});return function(B,b,R){return L.apply(this,arguments)}}());k.meta={name:"createThunk",key:"createThunkopenFreemiumTrialOfferModal",description:"Open freemium trial offer modal"};const U=k},7914553163:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>T,MX:()=>_});var t=e(3134334389),n=e(6122756707),s=e(6839188756),r=e(677609895),c=e(6323355797),o=e(2562405183),a=e(8871937520),l=e(7268021173),i=e(1384076438),d=e(3677514771);const _={TrialFetching:"trial_fetching",TrialTeam:"trial_team",TrialExpiry:"trial_expiry",TrialEligible:"trial_eligible",TrialIneligible:"trial_ineligible",TrialIneligibleUserCannotUpgrade:"trial_ineligible_user_cannot_upgrade"},m=u(A=>A===_.TrialFetching||A===_.TrialEligible||A===_.TrialIneligible||A===_.TrialIneligibleUserCannotUpgrade,"isFreeVariant"),h=u(A=>A===_.TrialTeam||A===_.TrialExpiry,"isTrialVariant"),T=u(A=>{let{promoType:y=c.ZO.PaidFeatureTrial,promoSubtype:p,context:f,reason:O,isEligibleForTrial:I,trialEndDate:P,isEnabled:C=!0}=A;const M=(0,n.wA)(),D=(0,o.d4)(R=>(0,s.tc)((0,d.H7)(R))),E=(0,o.d4)(l.iH),S=(0,o.d4)(r.X),k=(0,o.d4)(R=>(0,l.hq)(R,y,p)),[U,L]=(0,t.useState)(D);if((0,t.useEffect)(()=>{C&&D&&M((0,i.A)({campaignType:y,campaignSubType:p,context:f,reason:O})).then(()=>{L(!1)})},[M,D,y,p,f,O,k,C]),!C||!(D||E))return null;const B=I!=null;if(U&&!B)return _.TrialFetching;if(E){const z=(0,a.qe)(P);return P!==void 0&&z<=7?_.TrialExpiry:_.TrialTeam}const b=B&&U?I:k;return!b&&!S?_.TrialIneligibleUserCannotUpgrade:b?_.TrialEligible:_.TrialIneligible},"useFreemium")},952756744:(x,g,e)=>{"use strict";e.d(g,{s:()=>c});var t=e(3134334389),n=e(4902318931),s=e(6259241484);const r={[s.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,8240993983)))}},c=u(()=>t.createElement(n.Ay,{spaceName:s.xu.HUDDLE_INVITE_MODAL,notifications:r}),"HuddleInviteModalTrialBannerV2MegaphoneWrapper");c.displayName="HuddleInviteModalTrialBannerV2MegaphoneWrapper"},8240993983:(x,g,e)=>{"use strict";e.r(g),e.d(g,{HuddleInviteModalTrialBannerV2:()=>f,default:()=>O});var t=e(3134334389),n=e(6122756707),s=e(4481313819),r=e(1267040415),c=e(5641442783),o=e(7433432223),a=e(7115655993),l=e(6084388622),i=e(8112788848),d=e(1224315998),_=e(735940183),m=e(6323355797),h=e(2562405183),v=e(8871937520),T=e(9623497342);const A=new _.Ay("guided_trials"),y={elementName:"upgrade_now_cta",onClick:{enableClogAction:!0}},p={elementName:"see_upgrade_options_cta",onClick:{enableClogAction:!0}},f=u(I=>{let{trialEndDate:P,canUserPurchase:C}=I;const M=(0,n.wA)(),D=(0,h.d4)(T.$J),E=(0,h.d4)(k=>(0,m.m6)(k,{action:m.um.CHECKOUT,productLevel:m.i6.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"}));(0,a.A)(()=>{M((0,T.E5)())});const S=u(()=>C?t.createElement(l.z9,{autoClogProps:y,href:E,className:"p-huddle_invite_modal__cta_upgrade",size:"small","data-qa":"huddle-invite-modal-upgrade-cta"},D?A.t("Upgrade to Pro"):A.t("Upgrade Now")):t.createElement(r.A,{feature:m.c4.SLACK_HUDDLES,autoClogProps:p,size:"small",type:D?"primary":"outline"},D?A.t("Compare plans"):A.t("See Upgrade Options")),"getCTA");return S.displayName="getCTA",t.createElement(s.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement(o.A,{className:"p-huddle_invite_modal_trial_banner_v2__container","data-qa":"huddle_invite_modal_trial_banner",primaryCTA:S(),withMargins:!0},t.createElement("div",null,D?A.rt("<strong>Huddles will soon be limited to two people</strong>"):A.rt("<strong>Group huddles aren\u2019t available for much longer</strong>"),t.createElement(c.A,{className:"p-huddle_invite_modal_trial_banner_v2__pro_tooltip",uiComponentVariant:d.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:i.m.MenuAboveFullScreen})),D?A.rt("Upgrade to continue using group huddles with your team."):A.rt("If you choose not to upgrade by {trialEndDate}, your team won\u2019t be able to huddle with more than one other person.",{trialEndDate:(0,v.Pd)(P),fallbackHash:"e680e704766e6c0c74ca66a78c581927a4b36bdf"})))},"HuddleInviteModalTrialBannerV2");f.displayName="HuddleInviteModalTrialBannerV2";const O=f},9953252450:(x,g,e)=>{"use strict";e.d(g,{A:()=>O,x:()=>p});var t=e(3134334389),n=e(6122756707),s=e(4481313819),r=e(2481088989),c=e(7433432223),o=e(3328083357),a=e(7115655993),l=e(8739505998),i=e(1224315998),d=e(735940183),_=e(6323355797),m=e(2562405183),h=e(8871937520),v=e(7268021173),T=e(9623497342);const A=new d.Ay("trials_highlight_paid_features"),y={elementName:"view_all_pro_features",onClick:{enableClogAction:!0}},p=u(I=>{let{trialEndTs:P,experimentPnpGoGroupTreatment:C,viewAllProFeaturesLink:M,v2ClassName:D}=I;return C?t.createElement(s.A,{eventId:i.EventId.UPGRDEXP_TRIAL,uiComponentName:i.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:D},t.createElement(c.A,{className:"padding_left_125"},(0,r.A)(A.rt("Huddles with more than two people is a paid feature, available with your free trial through <strong>{trialExpirationDate}. <viewAllProFeaturesLink>View all Pro features</viewAllProFeaturesLink></strong>",{trialExpirationDate:(0,h.Pd)(P),"<viewAllProFeaturesLink>":M}),{position:r.D.LEFT_ALIGNED})))):t.createElement(s.A,{eventId:i.EventId.UPGRDEXP_TRIAL,uiComponentName:i.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(o.A,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},A.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:(0,h.Pd)(P)}))))},"HuddleInviteModalTrialBanner");p.displayName="HuddleInviteModalTrialBanner";const f=u(I=>{let{v2ClassName:P}=I;const C=(0,n.wA)();(0,a.A)(()=>{C((0,T.E5)())});const M=(0,m.d4)(T.$J),D=(0,m.d4)(v.Sk),E=(0,t.useCallback)(S=>{let{text:k}=S;return t.createElement(l.A,{href:(0,_.hZ)({entryPoint:"huddle_invite_modal_trial_banner"}),autoClogProps:y},k)},[]);return t.createElement(p,{trialEndTs:D,experimentPnpGoGroupTreatment:M,viewAllProFeaturesLink:E,v2ClassName:P})},"ConnectedHuddleInviteModalTrialBanner");f.displayName="ConnectedHuddleInviteModalTrialBanner";const O=f},1152226587:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3134334389),n=e(2670882607),s=e(1267040415),r=e(5791262841),c=e(266169032),o=e(735940183),a=e(6323355797);const l=new o.Ay("huddles"),i=a.ew.PAID_FEATURE_TRIAL,d=u(m=>{let{startTrialContext:h=c.M.huddlesTrialEntryPointModal,uiComponentVariant:v,onSpeedbumpContinue:T,promoType:A,promoSubtype:y,isEligibleForTrial:p}=m;const f=u(E=>{let{text:S}=E;return t.createElement(s.A,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},S)},"renderPlansPageLink"),O=l.t("Try huddles with more people"),I=p?l.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:i,"<plansPageLink>":f}):l.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":f}),P=l.t("With more people, you can:"),C=(0,t.useCallback)(()=>[l.t("Host a team brainstorm from anywhere"),l.t("Get the group\u2019s feedback with a live screenshare"),l.t("Touch base on the go, without all the typing")],[]),M=(0,t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(e,7378585700,23)),[]),D=(0,t.useMemo)(()=>t.createElement(n.e,{getAnimationImport:M,autoplay:!0,loop:!0}),[M]);return t.createElement(r.A,{modalTitle:O,modalSubtitle:I,modalLottieAnimation:D,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:P,modalChecklistItems:C(),promoType:A,promoSubtype:y,startTrialContext:h,uiComponentVariant:v,onSpeedbumpContinue:T,isEligibleForTrial:p})},"HuddleTrialEntryPointModal");d.displayName="HuddleTrialEntryPointModal";const _=d},236241007:(x,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1152226587),c=e(8300630630),o=e(6323355797),a=e(6304789565),l=e(2375333597),i=e(7268021173),d=e(962959561),_=e(8448112102),m=e(398781533);function h(){return h=Object.assign||function(A){for(var y=1;y<arguments.length;y++){var p=arguments[y];for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(A[f]=p[f])}return A},h.apply(this,arguments)}u(h,"_extends");const v=(0,a.Ay)("Open huddles trial entry point modal",function(){var A=(0,t.coroutine)(function*(y,p,f){const O=o.ZO.PaidFeatureTrial,I=o.zG.Vhq;y((0,m.Q)({entryPoint:"open_huddle_trial_entry_point_modal",campaignType:O,campaignSubType:I,reason:"huddle_trial_entry_point_modal"})),yield y((0,c.A)({campaignType:O,campaignSubType:I,reason:"huddle_trial_entry_point_modal"}));const P=(0,i.hq)(p(),O,I);return(0,d.L9)(p())?y((0,_.r)({promoType:O,promoSubtype:I,entryPoint:"slack_connect_auto_charge_trial_entry_point"})):y((0,l.q)({element:s.createElement(r.A,h({},f,{promoType:O,promoSubtype:I,isEligibleForTrial:P}))}))});return function(y,p,f){return A.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};const T=v},2612353366:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(5267010247),n=e(8822892075),s=e(7940058138),r=e(6304789565);const c=(0,r.Ay)("Navigates to paid benefits page",a=>{a((0,t.o)((0,n.ZF)(s.c.PaidBenefits)))});c.meta={name:"createThunk",key:"createThunkopenPaidBenefitsPage",description:"Navigates to paid benefits page"};const o=c},8300630630:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(124213367),c=e(6304789565),o=e(2375333597),a=e(1384076438);const l=(0,c.Ay)("Display loading modal and fetch data for trial entry point modal",function(){var d=(0,t.coroutine)(function*(_,m,h){return _((0,o.q)({element:s.createElement(r.A,{className:"p-trial_entry_point_modal__loading_modal"})})),_((0,a.A)(h))});return function(_,m,h){return d.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"};const i=l},7949425452:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>h,Vu:()=>i,vj:()=>d});var t=e(3134334389),n=e(5255740490),s=e(9113979368),r=e(4481313819),c=e(1224315998),o=e(735940183);function a(){return a=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(v[y]=A[y])}return v},a.apply(this,arguments)}u(a,"_extends");const l=new o.Ay("trials"),i={Purple:"purple",White:"white"},d={Medium:"medium",Large:"large"},_={eventId:c.EventId.UPGRDEXP_TRIAL,uiComponentName:c.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},m=u(v=>{let{ariaHidden:T=!1,className:A,autoClogProps:y,badgeTheme:p=i.Purple,size:f=d.Medium}=v;const O=T?{"aria-hidden":!0}:{"aria-label":l.t("Pro feature",{fallbackHash:"f3b218b5b69cf46f83217a4c553335005e49633f"}),role:"img"},I=t.createElement("div",a({className:(0,n.A)("p-pro_badge",`p-pro_badge--${p}`,`p-pro_badge--${f}`,A),"data-qa":"pro_badge"},O),l.t("PRO"));return(0,s.A)(y)?I:t.createElement(r.A,a({},_,y),I)},"ProBadge");m.displayName="ProBadge";const h=m},5641442783:(x,g,e)=>{"use strict";e.d(g,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(7949425452),r=e(9371668729),c=e(6839188756),o=e(735940183),a=e(6323355797),l=e(2562405183),i=e(7268021173),d=e(3677514771);function _(){return _=Object.assign||function(T){for(var A=1;A<arguments.length;A++){var y=arguments[A];for(var p in y)Object.prototype.hasOwnProperty.call(y,p)&&(T[p]=y[p])}return T},_.apply(this,arguments)}u(_,"_extends");const m=new o.Ay("trials"),h=u(T=>{let{badgeTheme:A=s.Vu.Purple,badgeSize:y=s.vj.Medium,className:p,hideTooltip:f,uiComponentVariant:O,...I}=T;const P=(0,l.d4)(E=>(0,c.tc)((0,d.H7)(E))),C=(0,l.d4)(E=>(0,i.tu)(E)===a.i6.standard.id),M=(0,t.useMemo)(()=>({uiComponentVariant:O}),[O]);if(!(P||C))return null;const D=m.t("PRO");return f?t.createElement(s.Ay,{autoClogProps:M,badgeTheme:A,className:p,size:y}):t.createElement(r.A,_({ariaLabel:D,uiComponentVariant:O},I),t.createElement("span",{className:(0,n.A)("p-trial_pro_badge",p),"data-qa":"trial_pro_badge"},t.createElement(s.Ay,{autoClogProps:M,badgeTheme:A,size:y})))},"TrialProBadge");h.displayName="TrialProBadge";const v=h},3994181705:(x,g,e)=>{"use strict";e.d(g,{A:()=>h,G:()=>d});var t=e(3134334389),n=e(6122756707),s=e(735940183),r=e(6323355797),c=e(2562405183),o=e(3810478625),a=e(7268021173),l=e(1384076438);const i=new s.Ay("trials");var d;(function(v){v.HuddlesFreemiumDeprecated="huddles_freemium"})(d||(d={}));const _=r.ew.PAID_FEATURE_TRIAL,h=u(v=>{let{isFreemium:T,tooltipText:A,promoType:y,promoSubtype:p,variant:f}=v;const O=(0,n.wA)(),I=(0,c.d4)(o.g),P=(0,c.d4)(a.iH);(0,t.useEffect)(()=>{y&&O((0,l.A)({campaignType:y,campaignSubType:p,reason:"trial_tooltip"}))},[O,y,p]);const C=(0,c.d4)(k=>y?(0,a.bp)(k,y,p):!1),M=(0,c.d4)(k=>y?(0,a.hq)(k,y,p):!1),D=u(()=>{if(P)switch(f){case d.HuddlesFreemiumDeprecated:return I?void 0:i.t("Huddles with more than two people are a paid feature, available with your free trial");default:return i.t("This is a paid feature, available with your free trial")}if(M)switch(f){case d.HuddlesFreemiumDeprecated:return I?void 0:i.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:_});default:return i.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:_})}switch(f){case d.HuddlesFreemiumDeprecated:return I?void 0:i.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return i.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),E=u(()=>P?i.t("This feature is unlimited with your free trial"):M?i.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:_}):i.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(C)return{};const S=T?E():D();return A?{tooltipTitle:A,tooltipBody:S}:{tooltipTitle:S}},"useTrialProBadgeTooltipText")},2481088989:(x,g,e)=>{"use strict";e.d(g,{A:()=>o,D:()=>r});var t=e(3134334389),n=e(7949425452),s=e(5641442783);const r={RIGHT_ALIGNED:"right_aligned",LEFT_ALIGNED:"left_aligned"};function c(a){let{position:l=r.RIGHT_ALIGNED,isTrialVariant:i,uiComponentVariant:d,size:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{position:r.RIGHT_ALIGNED,isTrialVariant:!1,uiComponentVariant:void 0,size:n.vj.Medium};const m=t.createElement("span",{className:`p-with_pro_badge__text--${l}`},a),h=i?t.createElement(s.A,{className:"p-with_pro_badge__badge",uiComponentVariant:d,badgeSize:_}):t.createElement(n.Ay,{className:"p-with_pro_badge__badge",size:_});let v;return l===r.RIGHT_ALIGNED?v=t.createElement(t.Fragment,null,m,h):v=t.createElement(t.Fragment,null,h,m),t.createElement("div",{className:"p-with_pro_badge"},v)}u(c,"WithProBadge"),c.displayName="WithProBadge";const o=c},5791262841:(x,g,e)=>{"use strict";e.d(g,{A:()=>L});var t=e(9706240641),n=e(3134334389),s=e(6122756707),r=e(4481313819),c=e(1267040415),o=e(2934784510),a=e(4963725897),l=e(267465465),i=e(280819219),d=e(8719380546),_=e(8683010724);const h=u(B=>{let{checklistItems:b,checklistHeading:R}=B;return n.createElement("div",{className:"p-modal_content_checklist__checklist"},n.createElement("div",{className:"p-modal_content_checklist__heading"},R),b.map(z=>n.createElement("div",{key:z,className:"p-modal_content_checklist__checklist_item"},n.createElement("div",{className:"p-modal_content_checklist__checklist_check"},n.createElement(_.A,{name:"check",size:"16",variation:"filled"})),n.createElement("div",null,z))))},"ModalContentChecklist");var v=e(5267010247),T=e(8822892075),A=e(7940058138),y=e(980293773),p=e(1224315998),f=e(5751973043),O=e(735940183),I=e(2562405183),P=e(6259241484),C=e(8871937520),M=e(9003400431),D=e(5512605238);const E=new O.Ay("trials"),S={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},k={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},U=u(B=>{let{modalClassName:b,modalCloseButtonTheme:R,modalSubtitle:z,modalTitle:w,modalType:W=l.H.VERTICAL_BANNER,modalVideoClassName:K,modalVideoFileName:Y,modalLottieAnimation:X,modalVideoPosterExtension:Z="",modalBannerBackgroundColor:ie="",modalChecklistHeading:Ae="",modalChecklistItems:ae=f.Ml,promoType:V,promoSubtype:ve,imgSrc:be,isEligibleForTrial:Ue,startTrialContext:Re,uiPage:ge,uiComponentVariant:ne,uiStep:ee,onSpeedbumpContinue:F,onSpeedbumpContinueLabel:H,onTrialStart:j,skipSpeedbump:N,"data-qa":J,omitSecondaryCTA:le=!1}=B;const ce=(0,s.wA)(),Ee=(0,I.d4)(D.F),[ye,Ie]=(0,n.useState)(!1),he=(0,n.useRef)(""),Ce=(0,n.useCallback)(()=>{ce((0,M.O)())},[ce]),oe=(0,n.useCallback)((0,t.coroutine)(function*(){let{trialExpirationDate:Ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge&&(he.current=Ge,j==null||j(),N?Ce():Ie(!0))}),[Ce,j,N]),de=(0,n.useCallback)(()=>{Ce(),ce((0,v.o)((0,T.ZF)(A.c.PaidBenefits)))},[ce,Ce]),De=(0,n.useCallback)(()=>{Ce(),F==null||F()},[Ce,F]),Te=n.createElement(h,{checklistHeading:Ae,checklistItems:ae}),pe=(0,n.useMemo)(()=>[P.xu.SIDEBAR_MENU_HEADER],[]),Me=n.createElement(a.A,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:S,reason:"start_trial_from_trial_entry_point_modal",context:Re,promoType:V,promoSubtype:ve,onRequestComplete:oe,megaphoneSpacesToRefresh:pe},E.t("Start Free Trial")),ke=n.createElement(c.A,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:k,onClick:Ce},E.t("See Upgrade Options")),Ke=Ue?Me:ke,Ze=l.H.HORIZONTAL_BANNER?"800px":"586px",Q=u(()=>{if(!he.current)return null;const Ge=n.createElement("div",{className:"display_flex"},n.createElement(i.A,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),E.t("Ta-da! Your team\u2019s on a free trial")),Be=n.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},E.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:(0,C.Pd)(he.current)})),xe=u(()=>H||(F?E.t("Continue"):E.t("Find Out More")),"getContinueButtonLabel")();let Oe=E.t("Dismiss"),Xe=de,Ye=Ce,dt="speedbump_learn_more",mt="speedbump_dismiss";return F&&(Oe=E.t("Learn More"),Xe=De,Ye=de,dt="speedbump_continue",mt="speedbump_learn_more"),n.createElement(y.ty,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:Ge,description:Be,continueButtonLabel:xe,cancelButtonLabel:Oe,onCancel:le?void 0:Ye,onContinue:Xe,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:dt,onClick:{enableClogAction:!0}},cancelButton:{elementName:mt,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");Q.displayName="renderSpeedbump";const se=n.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},E.t("No credit card required.")),He=n.createElement("div",{className:"p-trial_entry_point_modal__footer"},Ke,Ue&&se,Ue&&n.createElement(o.A,{shouldShow:Ee}),ye&&Q());return n.createElement(r.A,{eventId:p.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:p.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:ne,uiStep:ee,uiPage:ge},n.createElement(d.A,{bannerBackgroundColor:ie,"data-qa":J,imgSrc:be,title:w,subtitle:z,bodyContent:Te,footerContent:He,onRequestClose:Ce,maxWidth:Ze,className:b,closeButtonTheme:R,type:W,videoFilename:Y,videoPosterExtension:Z,videoClassName:K,lottieAnimation:X}))},"TrialEntryPointModal");U.displayName="TrialEntryPointModal";const L=U},2934784510:(x,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),n=e(6122756707),s=e(2670882607),r=e(2562405183),c=e(2047021170),o=e(1939990292);const l=t.memo(i=>{let{shouldShow:d=!1}=i;const _=(0,n.wA)(),[m,h]=(0,t.useState)(),[v,T]=(0,t.useState)(!1),A=(0,t.useCallback)(f=>{f&&f.then(O=>h(O))},[h]),y=(0,r.d4)(f=>!(0,c.ty)(f,"a11y_animations")),p=(0,t.useCallback)(()=>e.e("trial-celebration-confetti.json").then(e.t.bind(e,4831955131,23)),[]);return!d||y||v?null:(m&&m._cbs&&m.addEventListener("complete",()=>{_((0,o.DJ)(!1)),T(!0)}),t.createElement(s.e,{autoplay:!0,className:"p-trial_start_confetti",getAnimationImport:p,ref:A}))})},4963725897:(x,g,e)=>{"use strict";e.d(g,{A:()=>B});var t=e(3134334389),n=e(6122756707),s=e(7715417323),r=e(4481313819),c=e(7241534324),o=e(4585652590),a=e(6084388622),l=e(8739505998),i=e(5733135148),d=e(1224315998),_=e(735940183),m=e(2562405183),h=e(1655938719),v=e(1939990292),T=e(962959561),A=e(398781533),y=e(9706240641),p=e(6304789565),f=e(1384076438),O=e(677609895),I=e(6323355797),P=e(3677514771),C=e(56548687);const M=(0,p.Ay)("Open trial checkout or plans page if user can purchase",function(){var b=(0,y.coroutine)(function*(R,z,w){let{campaignType:W,campaignSubType:K,entryPoint:Y}=w;const X=z(),Z=(0,P.H7)(X),ie=(0,I.tc)(Z,W,K,Y),Ae=(0,I.hZ)({entryPoint:W,team:Z}),ae=(0,C.e)({state:X}),{isEligible:V}=yield R((0,f.A)({campaignType:W,campaignSubType:K,reason:"auto_charge_trial_start_cta"}));V&&(0,T.L9)(z())&&(0,O.X)(z())?(ae.track(d.EventId.NEWXP_TEAM_CREATE,c.Fq),window.open(ie,"_blank")):(ae.track(d.EventId.NEWXP_TEAM_CREATE,c.tC),window.open(Ae,"_blank"))});return function(R,z,w){return b.apply(this,arguments)}}());M.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeOpenTrialCheckout",description:"Open trial checkout or plans page if user can purchase"};var D=e(5773584938);function E(){return E=Object.assign||function(b){for(var R=1;R<arguments.length;R++){var z=arguments[R];for(var w in z)Object.prototype.hasOwnProperty.call(z,w)&&(b[w]=z[w])}return b},E.apply(this,arguments)}u(E,"_extends");const S=new _.Ay("trials"),k={name:"warning"},U=u(b=>{let{children:R,reason:z,context:w,megaphoneSpacesToRefresh:W,promoType:K,promoSubtype:Y,onClick:X,onRequestComplete:Z=s.A,onRequestError:ie=s.A,useLink:Ae,refToForward:ae,...V}=b;const ve=(0,n.wA)(),be=(0,m.d4)(D.Ii),Ue=(0,T.aJ)({campaignType:K,campaignSubType:Y}),[Re,ge]=(0,t.useState)(!1),[ne,ee]=(0,t.useState)(!1),F=(0,t.useCallback)(()=>{ge(!0),ee(!1),ie()},[ie]),H=(0,t.useCallback)(()=>{ne||(ee(!0),ge(!1),ve((0,o.a)({reason:z,campaignType:K,campaignSubType:Y,context:w})).then(J=>{let{trial_expiration_date:le}=J;ve((0,v.DJ)(!0)),Z({trialExpirationDate:le}),ve((0,h.yJ)({additionalSpaces:W,megaphoneReason:"trial_start_request_complete"})),le||F()}).catch(F))},[ne,ve,z,K,Y,w,F,Z,W]),j=(0,t.useCallback)(()=>{const J="trial_start_cta";ve((0,A.Q)({entryPoint:J,campaignType:K,campaignSubType:Y,reason:"auto_charge_trial_check"})),be&&Ue?ve(M({campaignType:K,campaignSubType:Y,entryPoint:J})):H(),X==null||X()},[X,H,ve,K,Y,be,Ue]),N=Ae?t.createElement(l.A,E({ref:ae},V,{onClick:j}),R):t.createElement(a.lV,E({ref:ae},V,{onClick:j,loading:ne,"aria-label":void 0}),R);return t.createElement(r.A,{eventId:d.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0,stepVariant:be&&Ue?c.F5:void 0},N,Re&&t.createElement(i.Ay,{svgIconProps:k,svgIconClassName:"align_self_start",shouldAutoFade:!1},S.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");U.displayName="TrialStartCTABase";const B=t.forwardRef((b,R)=>t.createElement(U,E({},b,{refToForward:R})))},1388835426:(x,g,e)=>{"use strict";e.d(g,{S:()=>n});var t=e(735940183);const n=u(s=>{switch((0,t.Yp)()){case"de-DE":return{translation:s["de-DE"],enableMediaCaptions:!0};case"en-GB":return{translation:s["en-GB"],enableMediaCaptions:!1};case"en-US":return{translation:s["en-US"],enableMediaCaptions:!1};case"es-ES":return{translation:s["es-ES"],enableMediaCaptions:!0};case"es-LA":return{translation:s["es-LA"],enableMediaCaptions:!0};case"fr-FR":return{translation:s["fr-FR"],enableMediaCaptions:!0};case"it-IT":return{translation:s["it-IT"],enableMediaCaptions:!0};case"ja-JP":return{translation:s["ja-JP"],enableMediaCaptions:!0};case"ko-KR":return{translation:s["ko-KR"],enableMediaCaptions:!0};case"pt-BR":return{translation:s["pt-BR"],enableMediaCaptions:!0};case"zh-CN":return{translation:s["zh-CN"],enableMediaCaptions:!0};case"zh-TW":return{translation:s["zh-TW"],enableMediaCaptions:!0};default:return{translation:s["en-US"],enableMediaCaptions:!0}}},"useVideoTranslation")},5712872315:(x,g,e)=>{"use strict";e.d(g,{B:()=>n,D:()=>t});var t;(function(s){s.SMALL="small",s.MEDIUM="medium",s.LARGE="large"})(t||(t={}));var n;(function(s){s.NONE="none",s.PURPLE="purple",s.LIGHT_PURPLE="light_purple",s.BLUE="blue",s.ERROR="error",s.HORCHATA="horchata",s.SUNFLOWER="sunflower"})(n||(n={}))},3328083357:(x,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),n=e(5255740490),s=e(5712872315),r=e(280819219),c=e(581167618),o=e(6105929840),a=e(1224315998),l=e(735940183);const i=new l.Ay("upgrades_kit"),d={action:a.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:a.ElementType.X},_=u(h=>{let{className:v,iconType:T,customIcon:A,image:y,heading:p,children:f,onDismiss:O,useRoundedCorners:I=!0,showBorder:P=!0,size:C=s.D.MEDIUM,theme:M=s.B.PURPLE,"data-qa":D="",primaryCTA:E,secondaryCTA:S}=h;const k=u(()=>{let R;const z="p-upgrades_alert_banner__icon";return A?R=t.createElement("div",{className:z},A):y?R=t.createElement("div",{className:(0,n.A)(z,"p-upgrades_alert_banner__icon--image")},y):T&&(R=t.createElement(r.A,{className:z,size:C,theme:M,type:T})),R},"renderIcon");k.displayName="renderIcon";const U=u(()=>t.createElement(o.A,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":i.t("Dismiss"),onClick:O,autoClogProps:d}),"renderCloseIcon");U.displayName="renderCloseIcon";const L=u(()=>!E&&!S?null:t.createElement("div",{className:"p-upgrades_alert_banner__button_container"},E,S),"renderButtons");L.displayName="renderButtons";const B=k(),b=(0,n.A)("p-upgrades_alert_banner",`p-upgrades_alert_banner--${C}`,`p-upgrades_alert_banner--${M}`,v,{"p-upgrades_alert_banner--with_close_icon":!!O,"p-upgrades_alert_banner--rounded_corners":I,"p-upgrades_alert_banner--no_border":!P,"p-upgrades_alert_banner--with_image":!!y});return t.createElement("div",{className:"full_width"},t.createElement(c.Ay,{className:b,"data-qa":D,customIcon:B,heading:p,type:B?c.QE.boxed:c.QE.custom},t.createElement("div",{className:"p-upgrades_alert_banner__body"},f),L(),O&&U()))},"AlertBanner");_.displayName="AlertBanner";const m=_},7433432223:(x,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),n=e(5255740490),s=e(5712872315),r=e(6755588906),c=e(581167618),o=e(6084388622),a=e(6308822),l=e(6105929840),i=e(8683010724),d=e(1224315998),_=e(735940183);function m(){return m=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(f[P]=I[P])}return f},m.apply(this,arguments)}u(m,"_extends");const h=new _.Ay("upgrades_kit"),v=425,T={action:d.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:d.ElementType.X},A=u(f=>{let{className:O,image:I,heading:P,isLoading:C,children:M,onDismiss:D,useRoundedCorners:E=!0,showBorder:S=!0,size:k=s.D.MEDIUM,theme:U=s.B.HORCHATA,primaryCTA:L,secondaryCTA:B,withMargins:b,iconProps:R,"data-qa":z,columnWidth:w=0}=f;const W=u(()=>t.createElement(l.A,{className:"p-upgrades_alert_banner_v2__close_icon",icon:"times",size:"small","aria-label":h.t("Dismiss"),onClick:D,autoClogProps:T}),"renderCloseIcon"),K=u(()=>{const ie=t.createElement("div",null,t.createElement("div",{className:"p-upgrades_alert_banner_v2__heading"},P),t.createElement("div",{className:"p-upgrades_alert_banner_v2__body"},M));if(R){const Ae={inline:!0,size:"20",...R};return t.createElement("div",{className:"display_flex"},t.createElement("span",{className:`margin_right_50 p-upgrades_alert_banner_v2__icon--${U}`},t.createElement(i.A,m({},Ae))),t.createElement("div",{className:"display_flex flex_direction_column"},ie))}return ie},"renderContent");K.displayName="renderContent";const Y=u(()=>!L&&!B?null:t.createElement("div",{className:"p-upgrades_alert_banner_v2__button_container"},C?t.createElement(o.lV,{loading:!0,"aria-label":void 0}):t.createElement(t.Fragment,null,L,B)),"renderButtons");Y.displayName="renderButtons";const X=w<v,Z=(0,n.A)("p-upgrades_alert_banner_v2",`p-upgrades_alert_banner_v2--${k}`,`p-upgrades_alert_banner_v2--${U}`,O,{"p-upgrades_alert_banner_v2--with_close_icon":!!D,"p-upgrades_alert_banner_v2--rounded_corners":E,"p-upgrades_alert_banner_v2--no_border":!S,"p-upgrades_alert_banner_v2--with_image":!!I,"p-upgrades_alert_banner_v2--with_margins":b,"p-upgrades_alert_banner_v2--narrow":X});return t.createElement("div",{className:"full_width"},t.createElement(c.Ay,{className:Z,type:c.QE.inline,"data-qa":z},t.createElement("div",{className:"p-upgrades_alert_banner_v2__content"},C?t.createElement(a.A,{color:"white",inline:!0}):K(),Y(),D&&W())))},"AlertBanner");A.displayName="AlertBanner";const p=(0,r.t)(A)},267465465:(x,g,e)=>{"use strict";e.d(g,{H:()=>t});var t;(function(n){n.MULTI_PANE="multi_pane",n.SINGLE_PANE="single_pane",n.VERTICAL_BANNER="vertical_banner",n.HORIZONTAL_BANNER="horizontal_banner"})(t||(t={}))},280819219:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),n=e(5255740490),s=e(5712872315);const c=t.memo(d=>{let{animationDelay:_,size:m="large"}=d;const h=48,v=h-(m==="large"?48:36),T=h*2,A="#1D9BD1",y="#F2C744",p="#007A5A",f="#E01E5A",O={animationDelay:`${_||0}s`},I=u((D,E)=>t.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:E,className:D,style:O}),"renderDrop"),P=u((D,E)=>t.createElement("circle",{r:"4",fill:E,className:D,style:O}),"renderCircle"),C=u((D,E)=>t.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:E,className:D,style:O}),"renderStar"),M=u((D,E)=>t.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:E,className:D,style:O}),"renderSprinkle");return t.createElement("svg",{className:(0,n.A)("position_absolute",`p-upgrades_icon_celebration_animation--${m}`),style:{top:`-${h/2+v/2}px`,left:`-${h/2+v/2}px`},width:T,height:T,viewBox:`0 0 ${T} ${T}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},I("p-upgrades_icon_celebration_animation__drop_top_right",A),P("p-upgrades_icon_celebration_animation__circle_top_right",y),P("p-upgrades_icon_celebration_animation__circle_right",p),C("p-upgrades_icon_celebration_animation__star_bottom_right",y),P("p-upgrades_icon_celebration_animation__circle_bottom_right",y),M("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",f),I("p-upgrades_icon_celebration_animation__drop_left",y),P("p-upgrades_icon_celebration_animation__circle_top_left",A),C("p-upgrades_icon_celebration_animation__star_top_left",p),M("p-upgrades_icon_celebration_animation__sprinkle_top_left",f))});var o=e(1610251172);function a(){return a=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var m=arguments[_];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(d[h]=m[h])}return d},a.apply(this,arguments)}u(a,"_extends");const l=u(d=>{let{className:_,animationProps:m,hasBorder:h,type:v,size:T=s.D.MEDIUM,theme:A=s.B.PURPLE,showAnimation:y}=d;const p=(0,n.A)(`p-upgrades_icon--${T}`,`p-upgrades_icon--${A}`,_),f=t.createElement(o.A,{className:p,size:"inherit",type:v});if(!h)return f;const O=(0,n.A)("p-upgrades_icon_container",`p-upgrades_icon_container--${T}`,`p-upgrades_icon_container--${A}`,{"p-upgrades_icon_container--with_animation":y});return t.createElement("div",{className:O},f,y&&t.createElement(c,a({size:T},m)))},"UpgradesIcon");l.displayName="UpgradesIcon";const i=l},5207331754:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(5255740490),s=e(980293773);const c=u(o=>{let{children:a,className:l}=o;return t.createElement(s.qf,{className:(0,n.A)("p-upgrades_modal__content_section",l)},a)},"ModalBody")},9240394198:(x,g,e)=>{"use strict";e.d(g,{N:()=>p,A:()=>O});var t=e(3134334389),n=e(5255740490),s=e(267465465),r=e(7949425452),c=e(5207331754),o=e(6000244203),a=e(3357053101),l=e(1935364562),i=e(3801841745),d=e(581167618),_=e(980293773);const h=u(I=>{let{banner:P,bodyContent:C,footerContent:M,showProBadge:D=!0,subtitle:E,title:S,error:k}=I;return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.createElement(i.A,{flexDirection:"column",gap:20},k&&t.createElement(d.Ay,{icon:"warning",level:"error",className:"p-upgrades_modal_with_banner_horizontal__error_alert"},k),t.createElement(a.A,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:S},D&&t.createElement(r.Ay,{className:"p-upgrades_modal_with_banner_horizontal__pro_badge"}))),t.createElement(_.$m,null,E&&t.createElement(l.A,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:E}),t.createElement(c.A,{className:"p-upgrades_modal_with_banner_horizontal__body"},C)),t.createElement(o.A,{className:"p-upgrades_modal_with_banner_horizontal__footer"},M)),P)},"ModalContentHorizontalBanner"),v=u(I=>{let{banner:P,bodyContent:C,footerContent:M,showProBadge:D=!0,subtitle:E,title:S}=I;const k=t.createElement(t.Fragment,null,S,D&&t.createElement(r.Ay,{className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.createElement(t.Fragment,null,t.createElement(a.A,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:k},P),t.createElement(_.$m,null,E&&t.createElement(l.A,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:E}),t.createElement(c.A,{className:"p-upgrades_modal_with_banner_vertical__body"},C)),t.createElement(o.A,null,M))},"ModalContentVerticalBanner");v.displayName="ModalContentVerticalBanner";const T=v;var A=e(9421999304);function y(){return y=Object.assign||function(I){for(var P=1;P<arguments.length;P++){var C=arguments[P];for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(I[M]=C[M])}return I},y.apply(this,arguments)}u(y,"_extends");var p;(function(I){I.LIGHT="light",I.DARK="dark",I.GOLD="gold",I.GRAY="gray"})(p||(p={}));const f=u(I=>{let{bannerBackgroundColor:P,bodyContent:C,centered:M,className:D,closeButtonTheme:E=p.DARK,closeModal:S,dataQa:k,footerContent:U,hero:L,imgSrc:B,imgSrcSet:b,maxWidth:R,shouldCloseOnOverlayClick:z,showProBadge:w=!0,subtitle:W,title:K,error:Y,type:X,videoFilename:Z,videoPosterExtension:ie="png",videoClassName:Ae,lottieAnimation:ae,...V}=I;const ve=(0,A.JK)(),be=`${Z}${ve==="en-US"?"":`.${ve}`}`,Ue=`p-upgrades_modal_with_banner__banner--${X}`,Re=u(()=>L?t.createElement("div",{className:Ue},L):b?t.createElement("img",{className:Ue,alt:"",srcSet:b}):B?t.createElement("img",{className:Ue,alt:"",src:B}):Z?t.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:(0,n.A)(Ue,Ae),poster:`${be}.${ie}`},t.createElement("source",{type:"video/mp4",src:`${be}.mp4`}),t.createElement("source",{type:"video/webm",src:`${be}.webm`})):ae?t.createElement("div",{className:"p-upgrades_modal__lottie_container"},ae):null,"getModalBanner");Re.displayName="getModalBanner";const ge=t.createElement("div",{style:{backgroundColor:P},className:`p-upgrades_modal_with_banner__banner_container--${X}`},Re());return t.createElement(_.dW,y({className:(0,n.A)("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${X}`,`p-upgrades_modal_with_banner--close_button_${E}`,"p-upgrades_modal_with_banner--close_button",D),centered:M,closeModal:S,dataQa:k,maxWidth:R,shouldCloseOnOverlayClick:z},V),X===s.H.VERTICAL_BANNER?t.createElement(T,{banner:ge,bodyContent:C,footerContent:U,showProBadge:w,subtitle:W,title:K}):t.createElement(h,{banner:ge,bodyContent:C,footerContent:U,showProBadge:w,subtitle:W,title:K,error:Y}))},"ModalContentWithBanner");f.displayName="ModalContentWithBanner";const O=f},6000244203:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(5255740490),s=e(980293773);const c=u(o=>{let{children:a,className:l}=o;return t.createElement(s.jl,{className:"p-upgrades_modal__footer"},t.createElement(s.ox,{className:(0,n.A)("p-upgrades_modal__footer_actions",l)},a))},"ModalFooter")},3357053101:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(5255740490),s=e(980293773);const c=u(o=>{let{headerClassName:a,titleClassName:l,children:i,title:d}=o;return t.createElement(s.rQ,{className:(0,n.A)("p-upgrades_modal__header",a)},i,t.createElement(s.Rc,{className:(0,n.A)("p-upgrades_modal__title",l),title:d}))},"ModalHeader")},1935364562:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(5255740490);const r=u(c=>{let{className:o,subtitle:a}=c;return t.createElement("div",{className:(0,n.A)("p-upgrades_modal__subtitle",o)},a)},"ModalSubtitle")},8719380546:(x,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(3134334389),n=e(5255740490),s=e(267465465),r=e(5712872315),c=e(280819219),o=e(5207331754),a=e(6000244203),l=e(3357053101),i=e(1935364562),d=e(980293773);const m=u(p=>{let{subtitle:f,bodyContent:O,footerContent:I,title:P,titleImage:C,titleVideo:M,titleVideoClassName:D,titleIcon:E,showTitleIconAnimation:S,headerClassName:k,footerActionsClassName:U,theme:L}=p;return t.createElement(t.Fragment,null,t.createElement(l.A,{headerClassName:(0,n.A)(k,{"p-upgrades_modal__header--with_animation":S}),title:P},C,M&&t.createElement("div",{className:(0,n.A)(D)},M),E&&t.createElement("div",{className:"p-upgrades_modal__icon"},t.createElement(c.A,{hasBorder:!0,size:r.D.LARGE,type:E,showAnimation:!!S,theme:L}))),f&&t.createElement(i.A,{subtitle:f}),O&&t.createElement(d.$m,null,t.createElement(o.A,null,O)),t.createElement(a.A,{className:U},I))},"ModalContent");var h=e(9240394198),v=e(4376397139);function T(){return T=Object.assign||function(p){for(var f=1;f<arguments.length;f++){var O=arguments[f];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(p[I]=O[I])}return p},T.apply(this,arguments)}u(T,"_extends");const A=u(p=>{const{className:f,maxWidth:O,onRequestClose:I,type:P,"data-qa":C,UNSAFE_parentSelector:M}=p,E={className:(0,n.A)("p-upgrades_modal__container",f),closeModal:I,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:O,dataQa:C,UNSAFE_parentSelector:M};return P===s.H.MULTI_PANE?t.createElement(v.A,T({},p,E)):P===s.H.VERTICAL_BANNER||P===s.H.HORIZONTAL_BANNER?t.createElement(h.A,T({},p,E)):t.createElement(d.dW,T({},E),t.createElement(m,T({},p)))},"Modal");A.displayName="Modal";const y=A},9371668729:(x,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),n=e(5255740490),s=e(4481313819),r=e(7949425452),c=e(3994181705),o=e(2312625946),a=e(1224315998),l=e(2562405183),i=e(7268021173);function d(){return d=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var T=arguments[v];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(h[A]=T[A])}return h},d.apply(this,arguments)}u(d,"_extends");const _=u(h=>{let{ariaLabel:v,tooltipText:T,children:A,onClick:y,isFreemium:p,promoType:f,promoSubtype:O,showProBadge:I,tooltipClassName:P,uiComponentVariant:C,variant:M,toolTipZIndex:D,toolTipPosition:E,...S}=h;const{tooltipTitle:k,tooltipBody:U}=(0,c.A)({isFreemium:p,tooltipText:T,promoType:f,promoSubtype:O,variant:M}),L=(0,l.d4)(R=>(0,i.bp)(R,f,O)),B=U?`${k} - ${U}`:k;if(L)return A;const b=t.createElement(s.A,{clogImpression:!0,eventId:a.EventId.UPGRDEXP_TRIAL,uiComponentName:a.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:C},t.createElement("div",{className:"p-trial_feature_tooltip"},t.createElement("span",{className:"p-trial_feature_tooltip__title"},I&&t.createElement(r.Ay,{badgeTheme:r.Vu.White,className:"p-trial_feature_tooltip__pro_badge"}),t.createElement("div",{className:"p-trial_feature_tooltip__title_text"},k)),t.createElement("div",{className:"p-trial_feature_tooltip__body"},U)));return t.createElement(o.Ay,d({tipClassName:(0,n.A)("p-trial_feature_tooltip__container",P),tip:b,onClick:y,zIndex:D,position:E,"aria-label":v?`${v}: ${B}`:`${B}`},S),A)},"TrialFeatureTooltip");_.displayName="TrialFeatureTooltip";const m=_},4874502712:(x,g,e)=>{"use strict";e.d(g,{P1:()=>l,RU:()=>i,jv:()=>c,yq:()=>r,zs:()=>a});var t=e(2384831516),n=e(4761125736),s=e(7105906370);const r=(0,t.Mz)(d=>(0,n._Z)(d,"improved_workflows_to_channel",!1)==="on");r.meta={name:"createSelector",key:"createSelectorisImprovedWorkflowsToChannelEnabled",description:d=>(0,n._Z)(d,"improved_workflows_to_channel",!1)==="on"};const c=(0,t.Mz)(d=>(0,n._Z)(d,"workflow_composer_pills",!1)==="treatment_2_wf_hats"&&!(0,s.Fv)(d));c.meta={name:"createSelector",key:"createSelectorisWorkflowComposerHatV3Enabled",description:d=>(0,n._Z)(d,"workflow_composer_pills",!1)==="treatment_2_wf_hats"&&!(0,s.Fv)(d)};const o=(0,t.Mz)(d=>(0,n._Z)(d,"workflow_composer_pills",!1)==="treatment_wf_hat");o.meta={name:"createSelector",key:"createSelectorisWorkflowComposerHatV2Enabled",description:d=>(0,n._Z)(d,"workflow_composer_pills",!1)==="treatment_wf_hat"};const a=(0,t.Mz)(d=>(0,n._Z)(d,"workflow_composer_pills",!1)==="treatment");a.meta={name:"createSelector",key:"createSelectorisWorkflowComposerPillsEnabled",description:d=>(0,n._Z)(d,"workflow_composer_pills",!1)==="treatment"};const l=(0,t.Mz)(d=>(0,n._Z)(d,"composer_workflow_access")==="on");l.meta={name:"createSelector",key:"createSelectorisComposerWorkflowAccessEnabled",description:d=>(0,n._Z)(d,"composer_workflow_access")==="on"};const i=(0,t.Mz)(d=>(0,n._Z)(d,"composer_button_workflow_access")==="on");i.meta={name:"createSelector",key:"createSelectorisComposerButtonWorkflowAccessEnabled",description:d=>(0,n._Z)(d,"composer_button_workflow_access")==="on"}},4387298515:(x,g,e)=>{"use strict";e.d(g,{$m:()=>c,AH:()=>y,Ac:()=>a,D0:()=>h,Mh:()=>T,VR:()=>_,th:()=>i});var t=e(9706240641),n=e.n(t),s=e(6045824189);const r=(0,s.Nh)(["callsScreenshare","createBorderWindow"]),c=function(){var p=(0,t.coroutine)(function*(f,O){r.isAvailable()&&r(f,O)});return u(function(O,I){return p.apply(this,arguments)},"createBorderWindow")}(),o=(0,s.Nh)(["callsScreenshare","showBorder"]),a=function(){var p=(0,t.coroutine)(function*(){o.isAvailable()&&o()});return u(function(){return p.apply(this,arguments)},"showBorder")}(),l=(0,s.Nh)(["callsScreenshare","hideBorder"]),i=function(){var p=(0,t.coroutine)(function*(){l.isAvailable()&&l()});return u(function(){return p.apply(this,arguments)},"hideBorder")}(),d=(0,s.Nh)(["callsScreenshare","setWindowOrScreenId"]),_=function(){var p=(0,t.coroutine)(function*(f){d.isAvailable()&&d(f)});return u(function(O){return p.apply(this,arguments)},"setWindowOrScreenId")}(),m=(0,s.Nh)(["callsScreenshare","setWindowBorderWidth"]),h=function(){var p=(0,t.coroutine)(function*(f){m.isAvailable()&&m(f)});return u(function(O){return p.apply(this,arguments)},"setWindowBorderWidth")}(),v=(0,s.Nh)(["callsScreenshare","setWindowBorderColor"]),T=function(){var p=(0,t.coroutine)(function*(f,O,I,P){v.isAvailable()&&v(f,O,I,P)});return u(function(O,I,P,C){return p.apply(this,arguments)},"setWindowBorderColor")}(),A=(0,s.Nh)(["callsScreenshare","getWindowPositionAndDimensions"]),y=function(){var p=(0,t.coroutine)(function*(){if(A.isAvailable())return A()});return u(function(){return p.apply(this,arguments)},"getWindowPositionAndDimensions")}()},9289216704:(x,g,e)=>{"use strict";e.d(g,{Oi:()=>s,XC:()=>n,aH:()=>c,mt:()=>r});var t=e(571104883);const n=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture":(0,t.uF)()?"ms-settings:privacy":null,s=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera":(0,t.uF)()?"ms-settings:privacy-webcam":null,r=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone":(0,t.uF)()?"ms-settings:privacy-microphone":null,c=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.Sound.prefPane":(0,t.uF)()?"ms-settings:sound":null},1583163054:(x,g,e)=>{"use strict";e.d(g,{Ce:()=>_,Pe:()=>i,fI:()=>m,zS:()=>c});var t=e(3245843483),n=e(571104883),s=e(735940183);const r=new s.Ay("prefs"),c=(0,t.g9M)()&&t.MD7.isAvailable()?(0,t.MD7)():"nightly",o={PROD:"prod",BETA:"beta",DOGFOOD:c},a=[o.PROD,o.BETA],l=[o.PROD,o.BETA,o.DOGFOOD];function i(h){return(h?l:a).map(T=>({value:T,label:d(T)}))}u(i,"getReleaseChannelOptions");function d(h){switch(h){case o.PROD:return r.t("Production");case o.BETA:return r.t("Beta");case o.DOGFOOD:return r.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return r.t("Unknown")}}u(d,"getReleaseChannelDisplayName");function _(){return(0,t.g9M)()&&!(0,t.Z9F)()&&!(0,n.j9)()}u(_,"canSeeReleaseChannel");function m(){return _()&&["MSI","SlackSonic","SlackPilot"].every(h=>!navigator.userAgent.includes(h))}u(m,"canModifyReleaseChannel")},4923013394:(x,g,e)=>{"use strict";e.d(g,{Jd:()=>d,X6:()=>_,bO:()=>o,c6:()=>l,fD:()=>T,lJ:()=>v,ve:()=>a,zb:()=>i});var t=e(3398586081),n=e(571104883),s=e(3259512346),r=e(3245843483);const c="sunroof_init",o="fullscreen-ui",a=(0,t.A)(()=>!1),l=(0,t.A)(()=>(0,s.s)("25.1.1")),i=(0,t.A)(()=>(0,r.Z9F)()?(0,n.dY)("38.0.0"):!0),d=(0,t.A)(()=>{if(!(0,n.y3)())return!1;const{titleBarStyle:A}=(0,r.oQe)("environment")||{},{debugFeatures:y}=(0,r.oQe)("settings")||{};return A==="custom-extension"||(y==null?void 0:y.includes("window-chrome"))}),_=(0,t.A)(()=>(0,n.WB)()&&(0,n.dY)("4.33.90")),m=u(()=>{if(!_())return!1;const{useHwAcceleration:A,windowVibrancy:y}=(0,r.oQe)("settings")||{};return A&&y},"shouldEnableWindowSunroof"),h=(0,t.A)(()=>!(0,n.dY)("4.35.97")),v=u(()=>m()?(0,n.cX)()?{transparent:h(),vibrancy:o,backgroundColor:null}:{}:{},"maybeGetSunroofWindowOptions");function T(A){const{windowVibrancy:y}=(0,r.oQe)("settings")||{};if(typeof y>"u")return;if(y&&(!A.experimentDesktopIa4SunroofEnabled||!m())){(0,r.cGU)({name:"windowVibrancy",value:!1});try{localStorage.removeItem(c)}catch{}return}const p=!!localStorage.getItem(c);if(A.experimentDesktopIa4SunroofEnabled&&!p&&!y&&_()){(0,r.cGU)({name:"windowVibrancy",value:!0});try{localStorage.setItem(c,"1")}catch{}}}u(T,"maybeToggleSunroof")},4979734995:(x,g,e)=>{"use strict";e.d(g,{d:()=>o,j:()=>c});var t=e(6422693406),n=e(4724591729),s=e(796111729),r=e(4096483543);function c(a,l,i){const d="noversion",_=Date.now()/1e3,m=`/api/${a}?_x_id=${d}-${_}`,h=new XMLHttpRequest;h.onreadystatechange=()=>{if(h.readyState===4){h.onreadystatechange=null;let y;if(h.status===200||h.status===429)try{y=JSON.parse(h.responseText)}catch{(0,s.Wo)().warn("API","Unable to do anything with api response")}y=y||{ok:!1},i?i(y.ok,y,l):(0,n.Cu)()&&((0,s.Wo)().warn("API","No callback provided. Printing response"),(0,s.Wo)().warn("API",y.ok,y,l))}};const v=!0;h.open("POST",m,v);const T=new FormData;let A=!1;l?Object.keys(l).forEach(y=>{y[0]!=="_"&&(T.append(y,l[y]),A=!0)}):(0,n.Cu)()&&(0,s.Wo)().warn("API","No args provided. Bold, very bold."),A?h.send(T):h.send()}u(c,"callSlackApiUnauthed");const o=u((a,l)=>new t.S(i=>{c(a,l,(d,_)=>{i(_)})}),"callSlackApiUnauthedAsync");(0,r.A)()||(window.callSlackAPIUnauthed=(a,l,i)=>{(0,s.Wo)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.ts"),c(a,l,i)})},4540171876:(x,g,e)=>{"use strict";e.d(g,{Db:()=>i,O3:()=>d,OB:()=>_,TE:()=>h,xB:()=>m});var t=e(2101927269),n=e(4525554634),s=e(2384831516),r=e(5109269968),c=e(6422693406),o=e(796111729),a=e(462591818),l=e(8935621861);const i=(0,s.C6)("Get call info from callId",(v,T,A)=>{let{callIds:y,reason:p}=A;const f=(0,o.Ay)({getState:T});return y.length>3&&f.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${y.length}`),c.S.map(y,O=>v((0,r.apiCall)({method:"screenhero.rooms.info",args:{room:O},reason:p||"huddles-call-info"})).then(I=>{let{room:P}=I;return(0,n.Q)(P)}).catch(I=>(f.error(I,`Error while fetching call: ${O}`),null))).then(t.A)});i.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const d=(0,s.C6)("Join a calls / huddle room",(v,T,A)=>{let{channelId:y,roomId:p,threadTs:f,shouldFetchRegion:O,teamId:I,traceId:P,parentSpanId:C,reason:M,isMultiDevice:D=!1}=A;return(O?l.A.getInstance().getNearestChimeMediaRegion(I):c.S.resolve("")).then(E=>v((0,r.apiCall)({method:"rooms.join",args:{...p&&{id:p},...y&&{channel_id:y},...f&&{thread_ts:f},regions:E,multidevice:D},traceId:P,parentSpanId:C,reason:M||"calls-api/joinRoom"})).then(S=>{var k;return{server:(0,a.YY)(S.call),roomId:S.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:p,channelId:(k=S.huddle)===null||k===void 0?void 0:k.channels[0],...S.canvas&&S.canvas.root_thread_ts&&{rootThreadTs:S.canvas.root_thread_ts},...S.canvas&&S.canvas.canvas_file_id&&{canvasFileId:S.canvas.canvas_file_id}}}))});d.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const _=(0,s.C6)("Notify member to join huddle",(v,T,A)=>{let{reason:y,channelId:p,userId:f}=A;return v((0,r.apiCall)({method:"rooms.notifyMember",args:{channel_id:p,user_id:f},reason:y}))});_.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const m=(0,s.C6)("Set a huddle topic / rename the call",(v,T,A)=>{let{roomId:y,name:p}=A;return v((0,r.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:y,room_name:p}}))});m.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const h=(0,s.C6)("Get a link to a huddle",(v,T,A)=>{let{reason:y,channelId:p}=A;return v((0,r.apiCall)({method:"rooms.getLink",reason:y,args:{channel_id:p}}))});h.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},6580433553:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3297051565),n=e.n(t),s=e(5257368278),r=e(5109269968),c=e(6932877194),o=e(4423055085),a=e(6422693406),l=e(1874577777);let i=!1;const d=(0,s.A)("Sends a message",function(h,v){let{message:T,traceId:A,parentSpanId:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p={...T},f=v();return T.blocks&&typeof T.blocks=="object"&&(p.blocks=JSON.stringify(T.blocks)),T.unfurl&&typeof T.unfurl=="object"&&(p.unfurl=JSON.stringify(T.unfurl)),i?new a.K((O,I)=>{setTimeout(()=>{I(new Error({data:{error:"testing"},message:"testing"}))},2e3)}):(0,l.A)(f)?h((0,c.apiCallPersisted)({method:"chat.postMessage",args:p,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:A,parentSpanId:y})):h((0,r.apiCall)({method:"chat.postMessage",args:p,reason:"webapp_message_send",EXPEDITED:!0,traceId:A,parentSpanId:y}))});d.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"},d.propTypes={message:n().shape({channel:n().string.isRequired,client_msg_id:n().string}).isRequired,traceId:n().string,parentSpanId:n().string};const _=d,m=u(h=>{i=!!h},"setForceMessageFailure");(0,o.ul)("setForceMessageFailure",m)},9694536345:(x,g,e)=>{"use strict";e.d(g,{O:()=>_});var t=e(8840779375),n=e(3297051565),s=e.n(n),r=e(5257368278),c=e(5109269968),o=e(796111729),a=e(28129577),l=e(5795074931),i=e(3683482182),d=e(5657872960);const _=(0,r.A)("Calls client.counts endpoint",function(m,h){let{reason:v="client-counts-api/fetchClientCounts"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T={thread_counts_by_channel:!0,org_wide_aware:!0,include_file_channels:!0},A=(0,i.Cc)(h());return A&&(T.dry_run_last_fetched=A),m((0,c.apiCall)({method:"client.counts",args:T,reason:v})).then(y=>{if(!y||!y.ok)return{};try{const k=["U0620EL8G","WFKHTCZ29","WKLQEGRRB"],U=(0,l.WR)(h());if(k.indexOf(U)>-1){const L=(0,t.A)(y.ims,b=>({id:b.id})),B=(0,t.A)(y.mpims,b=>({id:b.id}));(0,o.Ay)({getState:h}).error("guest_to_guest_visibility",{type:"client_counts_api_results",im_list:L,mpim_list:B})}}catch(k){(0,o.Ay)({getState:h}).error("guest_to_guest_visibility",{type:"client_counts_api_results",error:k})}const{activity:p={},channels:f=[],ims:O=[],mpims:I=[],threads:P={},file_channels:C={has_unreads:!1,mention_count:0},channel_badges:M={},alerts:D=null,counts_last_fetched:E=null}=y,S={activity:p,channels:f,ims:O.map(k=>({...k,is_im:!0})),mpims:I.map(k=>({...k,is_mpim:!0})),threads:P,alerts:D,fileChannels:C,channelBadges:M,countsLastFetched:E};return(0,d.c)(h())&&y.saved&&(S.saved=(0,a.XK)(y.saved)),S})});_.meta={name:"createFetcher",key:"createFetcherfetchClientCounts",description:"Calls client.counts endpoint"},_.propTypes={reason:s().string}},1194535350:(x,g,e)=>{"use strict";e.d(g,{KO:()=>o,_J:()=>a,zx:()=>l});var t=e(3297051565),n=e.n(t),s=e(5109269968),r=e(5257368278),c=e(4318855015);const o=(0,r.A)("Fetch all available and installed emoji collections from the API",function(i,d){let{reason:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i((0,s.apiCall)({method:"emoji.collections.list",reason:_,args:{installed_only:"0"}}))});o.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},o.propTypes={reason:n().string.isRequired};const a=(0,r.A)("Add an emoji collection",(i,d,_)=>{let{collectionId:m,reason:h}=_;return i((0,s.apiCall)({method:"emoji.addCollection",args:{collection_id:m},reason:h})).catch(v=>{if(v.name!=="already_installed")throw v})});a.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},a.propTypes={collectionId:n().string.isRequired,reason:n().string.isRequired};const l=(0,r.A)("Remove an emoji collection",(i,d,_)=>{let{collectionId:m,reason:h}=_;return i((0,c.$x)({collectionId:m})),i((0,s.apiCall)({method:"emoji.removeCollection",reason:h,args:{collection_id:m}}))});l.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},l.propTypes={collectionId:n().string.isRequired,reason:n().string.isRequired}},490494914:(x,g,e)=>{"use strict";e.d(g,{Cl:()=>a,Is:()=>l,af:()=>o});var t=e(5257368278),n=e(6892115804),s=e(8847766420),r=e(2149300053),c=e(2121833688);const o=(0,t.A)("Queries Flannel for a list of external connected orgs/teams",(i,d,_)=>{let{count:m,filter:h,marker:v}=_;return(0,r.P)((0,s.JY)(d()),{method:r.J8.EXTERNAL_TEAMS_LIST,args:{count:m,filter:h,marker:v}})});o.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const a=(0,t.A)("Queries Flannel for channel counts of external connected orgs/teams",(i,d,_)=>{let{teamIds:m,count:h,marker:v}=_;return(0,r.P)((0,s.JY)(d()),{method:r.J8.EXTERNAL_TEAMS_COUNTS,args:{team_ids:m,count:h,marker:v}}).then(T=>T)});a.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const l=(0,t.A)("Fetches and upserts external teams that match a query",(i,d,_)=>{const m=(0,s.JY)(d());return(0,c.Cj)(m,_).then(h=>{let{objects:v,next_marker:T}=h;return i((0,n.OU)({teams:v})),{externalTeams:v,nextMarker:T}})});l.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},165535451:(x,g,e)=>{"use strict";e.d(g,{iV:()=>y,ib:()=>O,oP:()=>m,oQ:()=>f,uV:()=>p});var t=e(2927826522),n=e(28129577),s=e(5109269968),r=e(5257368278),c=e(796111729),o=e(6323355797),a=e(3246555800),l=e(3559164431),i=e(3554387543);const d=u(P=>{let{taxName:C,isVat:M,effectiveTaxPercentage:D=0,salesTaxAmt:E,taxPercentage:S}=P,k=o.Zt.sales_tax;C?k=o.Zt[C.toString().toLowerCase()]||o.Zt.sales_tax:M&&(k=o.Zt.vat);const U=D>0?D:null;return{value:E||0,type:k,percentage:U||S||0}},"formatTaxData"),_=u(P=>{const C=P.tax;return d({taxName:C==null?void 0:C.tax_name,isVat:C==null?void 0:C.is_vat,effectiveTaxPercentage:C==null?void 0:C.effective_tax_percentage,salesTaxAmt:C==null?void 0:C.sales_tax_amt,taxPercentage:C==null?void 0:C.tax_percentage})},"getTaxData"),m=u(P=>d(P),"getAddonTaxData"),h=u(P=>{var C;const M=P.term==="12m"?o.ck.yearly:o.ck.monthly,D=P.term==="12m"?o.OY.yearly:o.OY.monthly,E=(C=P.available_addons)===null||C===void 0?void 0:C.map(S=>({id:S.addon_id,addonType:S.addon_type,upfrontUnitCostPerM:S.upfront_unit_cost_per_m,upfrontUnitCostPerTerm:S.upfront_unit_cost_per_term}));return{id:P.product_id,term:M,currency:P.currency,level:P.level,lengthOfTermInMonths:D,costPerMonth:P.cost_per_m,costPerTerm:P.cost_per_term,isInvoice:P.is_inv||!1,maxInvoiceSeats:P.max_invoice_seats,minInvoiceSeats:P.min_invoice_seats,availableAddons:E}},"getPlanDataInstance"),v=u(P=>Object.keys(P).reduce((C,M)=>{const D=P[M];return C.availablePlans[M]={[o.i6.standard.id]:{[o.uq.CREDIT_CARD]:{[o.ck.monthly]:{default:h(D.std_m)},[o.ck.yearly]:{default:h(D.std_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:h(D.inv_std_y)}}},[o.i6.plus.id]:{[o.uq.CREDIT_CARD]:{[o.ck.monthly]:{default:h(D.plus_m)},[o.ck.yearly]:{default:h(D.plus_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:h(D.inv_plus_y)}}},[o.i6.compliance.id]:{[o.uq.CREDIT_CARD]:{[o.ck.yearly]:{default:h(D.compliance_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:h(D.inv_compliance_y)}}}},C},{availablePlans:{}}),"parsePlanAPIResponse"),T=u(P=>{var C,M,D,E,S,k;const U=_(P),L={currentCredits:P.credits.total_credits,creditsRemaining:P.credits.credits_remaining,creditsApplied:P.credits.credits_applied,proratedRefundCredits:P.prorated_refund,totalCreditsRemaining:P.credits.total_credits_remaining||0,totalCreditsApplied:P.credits.total_credits_applied||0},B=P.discount?(0,t.A)(P.discount):void 0,b={purchase:!((C=P.addons)===null||C===void 0)&&C.purchase&&Object.keys((M=P.addons)===null||M===void 0?void 0:M.purchase).length>0?Object.entries((D=P.addons)===null||D===void 0?void 0:D.purchase).reduce((z,w)=>{let[W,K]=w;return[...z,{id:W,addonType:K.addon_type,baseUpfrontUnitCost:K.base_upfront_unit_cost,term:K.term,baseProratedSubtotal:K.base_prorated_subtotal,numUsers:K.num_users}]},[]):[],refund:!((E=P.addons)===null||E===void 0)&&E.refund&&Object.keys((S=P.addons)===null||S===void 0?void 0:S.refund).length>0?Object.entries((k=P.addons)===null||k===void 0?void 0:k.refund).reduce((z,w)=>{let[W,K]=w;return[...z,{id:W,addonType:K.addon_type,term:K.term,amount:K.amount,numUsers:K.num_users}]},[]):[]};return{activePlanCost:{id:P.product_id,subtotal:P.subtotal,undiscountedSubtotal:P.undiscounted_subtotal,billableActiveUsers:P.billable_active_users,discount:B,tax:U,credits:L,totalRecurring:P.total_recurring,totalDueToday:P.total_due_today,quotedTermEnd:P.quoted_term_end,quotedTermStart:P.quoted_term_start,paidSeats:P.paid_seats,outstandingInvoiceAmount:P.outstanding_invoice_amount||0,addons:b}}},"mapCostToPropsFromAPI"),A=u(P=>{const C=v(P.plans).availablePlans;if(P.additional_addon_info){const M={isSlackAiLanguageUnsupported:P.additional_addon_info.is_slack_ai_language_unsupported};return{availablePlans:C,additionalAddonInfo:M}}return{availablePlans:C}},"parseRetailPlansAPIResponse"),y=(0,r.A)("Fetch Available Plans",(P,C,M)=>P((0,s.apiCall)({reason:"payments-plans-fetch-available-plans",method:"retail.plans",args:M})).then(D=>A(D)));y.meta={name:"createFetcher",key:"createFetcherfetchAvailablePlans",description:"Fetch Available Plans"};const p=(0,r.A)("Fetch Available Plans",(P,C,M)=>{let{productId:D,country:E,region:S,postalCode:k,street:U,isBusinessPurchase:L,isInvoice:B,numInvoiceSeats:b,isFinalReview:R,isFutureProductSwitch:z,vatId:w,regionalId:W,countryMap:K}=M;const Y=C(),X=(0,a.KV)(K,E,S),Z=(0,l.lK)(Y),ie=(0,l.IK)(Y),Ae=(0,i.L)(Y);let ae;if(ie!=null&&ie.length){const ve=[];ie.forEach(be=>{const Ue=Ae.find(Re=>Re.addonType===be);Ue!=null&&Ue.id&&ve.push(Ue.id)});try{ae=ve.length?JSON.stringify(ve):void 0}catch(be){(0,c.Wo)().error(`Error with JSON.stringify in fetchCost, ${be}`)}}const V={state:S,product_id:D,addon_ids:ae,is_final_review:R,checkout_step:Z,is_future_switch:z,...R?{}:{country:E,street1:U,zip:k,is_business:X?!1:L,is_vat_registered:X?L:!1,vat_id:w||"",regional_tax_id:W},...B?{requested_invoice_seats:b}:{}};return P((0,s.apiCall)({reason:"payments-plans-fetch-cost-data",method:"retail.cost",args:V})).then(ve=>{const be=ve.plan_cost;if(!be)throw new Error("retail.cost: plan_cost is undefined");return T(be)})});p.meta={name:"createFetcher",key:"createFetcherfetchCost",description:"Fetch Available Plans"};const f=(0,r.A)("Fetch Cost Data for Addons Flow",(P,C,M)=>{let D;try{D=JSON.stringify([M.addonId])}catch(E){(0,c.Wo)().error(`Error with JSON.stringify in fetchCost, ${E}`)}return P((0,s.apiCall)({reason:"payments-plans-fetch-cost-for-addons",method:"retail.cost",args:{addon_ids:D}})).then(E=>u(k=>{var U;const L=k==null?void 0:k.addon_costs;if(!L)return null;const B=((U=L.addons)===null||U===void 0?void 0:U[M.addonId])||null;return B?{currency:L.currency,freeUsageLimit:B.free_usage_limit,upfrontUnitCost:B.base_upfront_unit_cost,usageUnitCost:B.base_usage_unit_cost,addonType:B.addon_type,term:B.term,recurringUpfrontSubtotal:B.recurring_upfront_subtotal,dueToday:(0,n.XK)(L.due_today),recurringCosts:(0,n.XK)(L.recurring_costs),discount:B.discount}:null},"formatApiResponse")(E))});f.meta={name:"createFetcher",key:"createFetcherfetchCostForAddons",description:"Fetch Cost Data for Addons Flow"};const O=(0,r.A)("Fetch Plans Page Boot Data",P=>P((0,s.apiCall)({reason:"payments-plans-fetch-plans-page-boot-data",method:"retail.getAvailablePlans",args:{}})));O.meta={name:"createFetcher",key:"createFetcherfetchPlansPageBootData",description:"Fetch Plans Page Boot Data"};const I={mapCostToPropsFromAPI:T,getTaxData:_,getAddonTaxData:m}},9109082163:(x,g,e)=>{"use strict";e.d(g,{Rs:()=>d,eS:()=>i,xs:()=>l});var t=e(3297051565),n=e.n(t),s=e(8703681551),r=e(8571983633),c=e(5257368278),o=e(5109269968);const a={"pins.list":{}},l=(0,c.A)("Get pinned items for channel",function(m,h){let{channelId:v,reason:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=a["pins.list"];return A[v]||(A[v]=m((0,o.apiCall)({method:"pins.list",args:{channel:v},reason:T})),A[v].finally(()=>delete A[v])),A[v]});l.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"},l.propTypes={channelId:n().string.isRequired,reason:n().string.isRequired};const i=(0,c.A)("Pin Message to channel",(m,h,v)=>{let{ts:T,fileId:A,fileCommentId:y,channelId:p,reason:f}=v;return m((0,o.apiCall)({method:"pins.add",reason:f,args:(0,s.A)({channel:p,timestamp:T,file:A,file_comment:y},r.A)}))});i.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"},i.propTypes={channelId:n().string.isRequired,ts:n().string,fileId:n().string,fileCommentId:n().string,reason:n().string.isRequired};const d=(0,c.A)("Unpin Message from channel",(m,h,v)=>{let{ts:T,fileId:A,fileCommentId:y,channelId:p,reason:f}=v;return m((0,o.apiCall)({method:"pins.remove",reason:f,args:(0,s.A)({channel:p,timestamp:T,file:A,file_comment:y},r.A)}))});d.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"},d.propTypes={channelId:n().string.isRequired,ts:n().string,fileId:n().string,fileCommentId:n().string,reason:n().string.isRequired};const _={resetActiveCalls:()=>{Object.keys(a).forEach(m=>{a[m]={}})}}},9349021185:(x,g,e)=>{"use strict";e.d(g,{lp:()=>ht,SI:()=>Fs,DC:()=>fs,Yb:()=>ls,aw:()=>Os,g2:()=>G,U7:()=>ut,eR:()=>fe,sr:()=>Pe,Do:()=>os,EM:()=>Pn,AC:()=>on,FF:()=>Cs,A$:()=>hs,mi:()=>zn,mK:()=>an,bE:()=>et,AQ:()=>$t,Cs:()=>ps,J6:()=>Qn,LR:()=>lt,cD:()=>qn,jl:()=>Cn,QH:()=>Qe,DF:()=>Zn,UC:()=>$,fx:()=>te,lS:()=>ue,A1:()=>Ft,H9:()=>Bn,ZD:()=>as,$P:()=>On,G2:()=>Wn,S:()=>_t});var t=e(8571983633),n=e(7715417323),s=e(7174777686),r=e(2141441167),c=e(897091071),o=e(1703559452),a=e(9113979368),l=e(9746734072),i=e(5503876160),d=e(4103274853),_=e(1566461842),m=e(6422693406),h=e(2664504268),v=e(5513050121),T=e(7599421656),A=e(6644049054),y=e(8956161330),p=e(4078437571),f=e(1340402138),O=e(4446301238),I=e(6554371307),P=e(8017028002),C=e(490494914),M=e(5984521287),D=e(8419094353),E=e(9552526132),S=e(8352634987),k=e(4423055085),U=e(5613323535),L=e(735940183),B=e(571104883),b=e(7148679525),R=e(3677514771),z=e(3683888369),w=e(6839188756),W=e(1507833885);const K=new L.Ay("modals");function Y(tt){return[{id:"downloads",name:K.t("Downloads"),icon:"download",isEnabled:()=>(0,B.y3)()},{id:"invite_to_workspace",name:K.t("Invite people to {workspaceName}",{workspaceName:(0,w.F1)((0,R.H7)(tt))}),icon:"add-user",isEnabled:()=>(0,b.Lz)(tt)},{id:"create_a_channel",name:K.t("Create a Channel"),icon:"plus",isEnabled:()=>(0,W.MM)(tt)},{id:"create_a_canvas",name:K.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>(0,z.l)(tt)}]}u(Y,"getAllModals");function X(tt){return Y(tt).filter(Nt=>Nt.isEnabled())}u(X,"getAllEnabledModals");var Z=e(7940058138),ie=e(7520119303),Ae=e(8414867410),ae=e(9884588328),V=e(1407713935),ve=e(5274604535),be=e(2298581483),Ue=e(7969244833),Re=e(6007206761),ge=e(6495946979),ne=e(4001737397),ee=e(1197508738),F=e(2647703359),H=e(5455782105),j=e(8170643398),N=e(4562579337),J=e(5096647761),le=e(3792998666),ce=e(3479134063),Ee=e(6536982570),ye=e(9889493721),Ie=e(6120301420),he=e(9001455011),Ce=e(340763958),oe=e(3212336858),de=e(2801540778),De=e(2023092677),Te=e(4827886670),pe=e(9931116838),Me=e(3559837422),ke=e(3307632080),Ke=e(7645285332),Ze=e(411655882),Q=e(2229186),se=e(1224315998),He=e(5751973043),Ge=e(82287009),Be=e(9190452268),we=e(5770715593),xe=e(6617433054),Oe=e(352142497);const Xe=new L.Ay("ia4"),Ye={get[Oe.D.BrowseCanvases](){return Xe.t("All canvases",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[Oe.D.BrowseChannels](){return Xe.t("All channels",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[Oe.D.BrowsePeople](){return Xe.t("All people",{fallbackHash:"7aeeec03f7c076af275e9b7c0e187a40bd193acc",fallbackHashNs:"enterprise_dashboard"})},get[Oe.D.BrowseFiles](){return Xe.t("All files",{fallbackHash:"f7857dcc71d3ce6a9095d1fbca5acb8cc9319005",fallbackHashNs:"search"})},get[Oe.D.ExternalWorkspaceAllowedOrgPane](){return Xe.t("Organization",{fallbackHash:"519255ae1f74ffc5ddd29979295c7572f048ad81",fallbackHashNs:"member_profile"})},get[Oe.D.RecentFiles](){return Xe.t("Recently Viewed Files",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Oe.D.FilesSharedWithYou](){return Xe.t("Files shared with you",{fallbackHash:"72f2b0dfa1e68a34813db5999ff8098f60ef699d",fallbackHashNs:"search"})},get[Oe.D.FilesCreatedByYou](){return Xe.t("Files created by you",{fallbackHash:"8c292710d9aa5d3b598cf24b70f804cb0341e24e",fallbackHashNs:"search"})},get[Oe.D.RecentCanvases](){return Xe.t("Recently Viewed Canvases",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Oe.D.CanvasesSharedWithYou](){return Xe.t("Canvases shared with you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Oe.D.CanvasesCreatedByYou](){return Xe.t("Canvases created by you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Oe.D.FileFolder](){return Xe.t("Folders",{fallbackHash:"f7857dcc71d3ce6a9095d1fbca5acb8cc9319005",fallbackHashNs:"search"})},[Oe.D.DeletedCanvases]:void 0,[Oe.D.DmsList]:void 0,[Oe.D.LaterList]:void 0,[Oe.D.Channel]:void 0,[Oe.D.AppSpace]:void 0,[Oe.D.BrowseApps]:void 0,get[Oe.D.ExternalOrganizations](){return Xe.t("External organizations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Oe.D.ExternalOrganization](){return Xe.t("External organization",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Oe.D.ExternalPeople](){return Xe.t("External people",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Oe.D.SlackConnectChannels](){return Xe.t("Slack Connect channels",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Oe.D.SlackConnectInvitations](){return Xe.t("Slack Connect invitations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},[Oe.D.BrowseExternalWorkspace]:void 0,[Oe.D.PostEvent]:void 0,[Oe.D.BrowseShortcuts]:void 0,[Oe.D.BrowseWorkflowsManagedByYou]:void 0,[Oe.D.BrowseYourWorkflowTemplates]:void 0,[Oe.D.BrowseWorkflowTemplates]:void 0,[Oe.D.BrowseUserGroups]:void 0,[Oe.D.OrgDirectory]:void 0,get[Oe.D.RecentPlatform](){return Xe.t("Recently used workflows",{fallbackHash:"f97d1ab1f281e78d5e61024eee5be84679fd60ac",fallbackHashNs:"search"})},[Oe.D.SlackConnect]:void 0,[Oe.D.Page]:void 0,[Oe.D.Threads]:void 0,[Oe.D.Thread]:void 0,[Oe.D.Profile]:void 0,[Oe.D.FileDetails]:void 0,[Oe.D.Help]:void 0,[Oe.D.UserGroup]:void 0,[Oe.D.KeyboardShortcuts]:void 0,[Oe.D.WhatsNew]:void 0,[Oe.D.Feedback]:void 0,[Oe.D.List]:void 0,[Oe.D.ListRecord]:void 0,[Oe.D.ListRecordDetails]:void 0,[Oe.D.ListRecordThread]:void 0,[Oe.D.ListRecordHistory]:void 0,[Oe.D.ListHistory]:void 0,[Oe.D.ComposeList]:void 0,[Oe.D.Compose]:void 0,[Oe.D.QuipCommentThread]:void 0,[Oe.D.QuipCommentStream]:void 0,[Oe.D.QuipActivityHistory]:void 0,[Oe.D.QuipAutomationsOverview]:void 0,[Oe.D.Quip]:void 0,[Oe.D.Canvas]:void 0,[Oe.D.ChannelCanvas]:void 0,[Oe.D.CanvasBrowser]:void 0,[Oe.D.HuddlePageCanvas]:void 0,[Oe.D.PaidBenefits]:void 0,[Oe.D.Setup]:void 0,[Oe.D.SearchEmpty]:void 0,[Oe.D.AboutWorkspace]:void 0,[Oe.D.Unknown]:void 0,[Oe.D.MorePeopleSidebar]:void 0,[Oe.D.MoreCanvasesSidebar]:void 0,[Oe.D.MoreSolutionsSidebar]:void 0,[Oe.D.AppPopout]:void 0,[Oe.D.MorePlatformSidebar]:void 0,[Oe.D.Search]:void 0,[Oe.D.ChannelList]:void 0,[Oe.D.BrowseLists]:void 0,[Oe.D.DeletedLists]:void 0,[Oe.D.Tasks]:void 0,[Oe.D.AssignedTasks]:void 0,[Oe.D.Reminders]:void 0,[Oe.D.Saved]:void 0,[Oe.D.BrowseList]:void 0,[Oe.D.ActivityList]:void 0,[Oe.D.MoreFilesSidebar]:void 0,[Oe.D.MoreListsSidebar]:void 0,[Oe.D.MoreTodosSidebar]:void 0,[Oe.D.UnifiedFilesSidebar]:void 0,[Oe.D.MoreChannelsSidebar]:void 0,[Oe.D.MoreHuddlesSidebar]:void 0,[Oe.D.MoreExternalConnectionsSidebar]:void 0,[Oe.D.HelpBrowser]:void 0,[Oe.D.Huddle]:void 0,[Oe.D.BrowseHuddles]:void 0,[Oe.D.KeyboardShortcutsBrowser]:void 0,[Oe.D.WhatsNewBrowser]:void 0,[Oe.D.FeedbackBrowser]:void 0,[Oe.D.ExternalWorkspaceSidebar]:void 0,[Oe.D.ExternalWorkspacePeopleBrowser]:void 0,[Oe.D.ExternalWorkspaceChannelBrowser]:void 0,[Oe.D.AiSummaryDetails]:void 0,[Oe.D.DailyDigest]:void 0,[Oe.D.MoreAiSummarySidebar]:void 0,[Oe.D.SearchSummary]:void 0,[Oe.D.AssistantList]:void 0,get[Oe.D.BrowseUnifiedFiles](){return Xe.t("All docs",{fallbackHash:"2719b2b0599f1c22bda9660138ab79f872e99085",fallbackHashNs:"files"})},get[Oe.D.BrowseUnifiedFilesCanvases](){return Xe.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"})},get[Oe.D.BrowseUnifiedFilesLists](){return Xe.t("Lists",{fallbackHash:"57c9502a7d7d48fd4a86b45fefb2b163491c3ae1",fallbackHashNs:"files"})},[Oe.D.DeletedUnifiedFiles]:void 0,[Oe.D.Today]:void 0,[Oe.D.Record]:void 0,[Oe.D.TableauDetails]:void 0,[Oe.D.WorkObject]:void 0,[Oe.D.RecordChannelCreate]:void 0,[Oe.D.RecordChannelRelatedList]:void 0,[Oe.D.SalesAdministration]:void 0,[Oe.D.SalesBulkGrid]:void 0,[Oe.D.SalesHome]:void 0,[Oe.D.SalesListViewBrowser]:void 0,[Oe.D.SalesLogActivity]:void 0,[Oe.D.SalesCreateRecord]:void 0,[Oe.D.SalesNotifications]:void 0,[Oe.D.SalesSidebar]:void 0,[Oe.D.AssistantThread]:void 0,[Oe.D.AssistantHome]:void 0,[Oe.D.Solutions]:void 0,[Oe.D.Admin]:void 0,[Oe.D.Agents]:void 0,[Oe.D.PendingAgents]:void 0,[Oe.D.AgentConversation]:void 0,[Oe.D.MoreAgentsSidebar]:void 0,[Oe.D.SolutionsFiltered]:void 0,[Oe.D.BrowseYourSolutions]:void 0,[Oe.D.BrowseYourCompanySolutions]:void 0,[Oe.D.ChannelFiles]:void 0,[Oe.D.SlackKitPlayground]:void 0,[Oe.D.AiApp]:void 0,[Oe.D.AboutAiApp]:void 0,[Oe.D.BookmarksFolder]:void 0,[Oe.D.ActionItems]:void 0,[Oe.D.Inbox]:void 0,[Oe.D.HuddleTranscriptDetails]:void 0,get[Oe.D.WorkflowDetails](){return Xe.t("Workflow details",{fallbackHash:"badd385121c5861ac693b59ad8c160fdf7994344",fallbackHashNs:"channel_details"})},get[Oe.D.WorkflowEditor](){return Xe.t("Workflow Editor",{fallbackHash:"792c81a4cfdcb5b45d688cb03c2fd2e816f86d44",fallbackHashNs:"workflow_builder"})},get[Oe.D.BBMMain](){return Xe.t("Main",{fallbackHash:"b28b7af69320201d1cf206ebf28373980add1451",fallbackHashNs:"recordchannels"})},[Oe.D.BBMWorkspaceSwitcher]:void 0,[Oe.D.SearchInChannel]:void 0,[Oe.D.BBMMore]:void 0},mt=u(tt=>tt in Ye?Ye[tt]:"","getDisplayNameForViewType");var it=e(4240442510),At=e(6910192640),Ot=e(505908973),Kt=e(4096483543),Xt=e(5600190572),vn=e(4256321479),Sn=e(8195161e3),jt=e(1948374838),hn=e(1917953477),xt=e(181849556),Dn=e(8003851355),St=e(1072784641),dn=e(6897117289),fn=e(8956261571),un=e(4342685672),_n=e(6304789565),tn=e(8847766420),nn=e(7260478587),An=e(4119164726),yn=e(6533394955),sn=e(6451390137),Nn=e(2854654447),Ve=e(5795074931),$e=e(9107158149),Et=e(7688940281),It=e(207659888),Tt=e(2235302340),Ct=e(9101533895),Wt=e(6728717861),Gt=e(3829348308),wt=e(4761125736),qt=e(937317117),Yt=e(761034736),In=e(9706240641),ft=e(8840779375),yt=e(9268023148),bt=e(6494470131),Ht=e(5380461521),ln=e(5209876365),rn=e(796111729);const Zt=(0,_n.Ay)("Fetch triggers with query",function(){var tt=(0,In.coroutine)(function*(Nt,Lt,at){let{query:vt,currentChannelId:Dt,includeAutomatedTriggers:Ut=!1,strictExposureRules:Vt=!0}=at;const cn=Lt(),kn=(0,tn.ZT)(cn),pn=(0,jt.X)(cn),zt=Ut?["shortcut","event","webhook","scheduled","service"]:["shortcut"];if(!pn.containsPrefixOf(vt))try{const Hn=(yield Nt((0,bt.v)({query:vt,currentChannelId:Dt,strictExposureRules:Vt,triggerTypes:zt,reason:"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,xn=5;return Hn.length<xn&&(pn.addAsPrefix(vt),pn.clearRequestInFlight()),kn&&(0,Ht.X)().markObjectsAsFresh(kn,(0,ft.A)(Hn,"id")),Nt((0,ln.z4)({triggers:Hn})),Hn}catch(gn){return(0,rn.Wo)().error(gn,"There was an issue fetching triggers with query"),[]}return[]});return function(Nt,Lt,at){return tt.apply(this,arguments)}}());Zt.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const Mn=500,es=(0,yt.A)((tt,Nt)=>{let{query:Lt,includeAutomatedTriggers:at,strictExposureRules:vt}=Nt;return tt(Zt({query:Lt,includeAutomatedTriggers:at,strictExposureRules:vt}))},Mn,{leading:!0,trailing:!0}),jn=(0,_n.Ay)("debounced fetch and upsert triggers with query",(tt,Nt,Lt)=>{let{query:at,includeAutomatedTriggers:vt,strictExposureRules:Dt}=Lt;return es(tt,{query:at,includeAutomatedTriggers:vt,strictExposureRules:Dt})});jn.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"};const Kn=null,Yn={DEBOUNCE_MS:Mn};var wn=e(8227942655),Rt=e(4224126550),je=e(8276911661),qe=e(5688490863),st=e(8149648525),q=e(2047021170),me=e(4135820365),Le=e(6892115804),We=e(1835177371),ze=e(6508028729);const ht={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0,includeRecordChannels:!0},members:{includeSelf:!1,includeSlackbot:!0,includeBots:!0,includeWorkflows:!1,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[It.VZ.Standard]:!0,[It.VZ.Stars]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:un.KV},fuzzyLimit:3,fuzzyJumpLimit:20,fuzzyCJK:!0,returnMetadata:!1};function Mt(tt){let{query:Nt,options:Lt}=tt;var at,vt,Dt;const Ut=(Dt=Lt==null?void 0:Lt.entities)!==null&&Dt!==void 0?Dt:{},Vt=Ut==null?void 0:Ut.members;let cn=!1;return Vt&&Vt!==!0&&(cn=!!(Vt!=null&&Vt.matchEmailField)),{source:Lt==null||(at=Lt.sort)===null||at===void 0?void 0:at.source,tiered:Lt==null?void 0:Lt.tiered,is_searcher_sessions:!1,entities:Object.keys(Ut).filter(kn=>!!Ut[kn]).sort().toString(),query_length:Nt.length,is_member_email_search:(Lt==null||(vt=Lt.sort)===null||vt===void 0?void 0:vt.source)==="use-team-and-people-search"&&cn}}u(Mt,"getTraceTags");function on(tt,Nt){var Lt,at;const{excludeElmChannels:vt,includePublic:Dt,includePrivate:Ut,includeFromAnotherTeam:Vt,allowedInternalTeams:cn,shouldAllowedInternalTeamsMatchAny:kn}=(at=(Lt=Nt.entities)===null||Lt===void 0?void 0:Lt.channels)!==null&&at!==void 0?at:{};let pn=[];return Dt&&(pn=[...pn,...(0,Ct.Wr)(tt,{includeFromAnotherTeam:!!Vt})]),Ut&&(pn=[...pn,...(0,Ct.sE)(tt,{includeFromAnotherTeam:!!Vt})]),vt&&(pn=pn.filter(zt=>!(0,ke.A)(tt,zt))),cn&&(pn=pn.filter(zt=>{if((0,ne.O)(zt))return!!kn;const gn=(0,be.R)(tt,zt),Hn=kn?gn==null?void 0:gn.some(xn=>cn.includes(xn)):gn==null?void 0:gn.every(xn=>cn.includes(xn));return(gn==null?void 0:gn.length)&&Hn})),pn}u(on,"getLocalChannels");function zn(tt,Nt){var Lt;const at=(0,tn.ZT)(tt),vt=Nt==null||(Lt=Nt.entities)===null||Lt===void 0?void 0:Lt.teams;var Dt;const Ut=Object.values((Dt=ze._===null||ze._===void 0?void 0:(0,ze._)())!==null&&Dt!==void 0?Dt:{}).filter(zt=>zt.id!==at);if(vt!=null&&vt.onlyNavigable){const zt=(0,me._)(tt);return zt.length?[...Ut,...zt]:Ut}var Vt;const cn=(Vt=(0,R.iK)(tt))!==null&&Vt!==void 0?Vt:{},kn=Ut.map(zt=>zt.id),pn=Object.values(cn).filter(zt=>!kn.includes(zt.id));return[...Ut,...pn].filter(Ft(tt,vt))}u(zn,"getLocalTeams");const Qn=(0,_n.Ay)("Get channels from flannel by query",(tt,Nt,Lt)=>{let{query:at,options:vt}=Lt;var Dt,Ut,Vt,cn;const{includeFromAnotherTeam:kn,includeExternallyShared:pn,includeOnlyExternallyShared:zt,onlyExternallyShared:gn,onlyFromTeamId:Hn,onlyFromExternalWorkspaceId:xn,allowedInternalTeams:en,shouldAllowedInternalTeamsMatchAny:Rn,includeRecordChannels:$n}=(cn=(Dt=vt.entities)===null||Dt===void 0?void 0:Dt.channels)!==null&&cn!==void 0?cn:{},Vn=((Ut=vt.entities)===null||Ut===void 0||(Vt=Ut.channels)===null||Vt===void 0?void 0:Vt.remoteLimit)||vt.limit,_s=Nt(),ss=[],ds=" AND ",us={query:at,count:Vn||ht.limit||24,fuzz:(0,wt._Z)(_s,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,wt._Z)(_s,"searcher_flannel_cjk")==="cjk"};return kn&&ss.push("xws"),!(0,t.A)(pn)&&!pn&&ss.push("NOT shared"),!(0,t.A)(zt)&&!zt&&ss.push("NOT external"),!(0,t.A)(gn)&&gn&&ss.push("shared"),ss.length&&(us.filter=ss.join(ds)),Hn&&(us.external_team=Hn),xn&&(us.external_team=xn),en&&(us.allowed_internal_teams=en),Rn&&(us.should_allowed_internal_teams_match_any=Rn),$n&&(us.include_record_channels=!0),tt((0,O.hq)({query:us})).timeout(2e3).catch(n.A)});Qn.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const lt=(0,_n.Ay)("Get emoji from flannel by query",(tt,Nt,Lt)=>{let{query:at,options:vt}=Lt;var Dt,Ut;const Vt=((Dt=vt.entities)===null||Dt===void 0||(Ut=Dt.emoji)===null||Ut===void 0?void 0:Ut.remoteLimit)||vt.limit;return m.S.resolve(tt((0,P.l8)({query:{query:at,count:Vt}}))).timeout(2e3).catch(n.A)});lt.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const $=(0,_n.Ay)("Get user groups from the search.team endpoint by query",(tt,Nt,Lt)=>{let{query:at,options:vt}=Lt;var Dt,Ut,Vt,cn,kn,pn;const zt=((Dt=vt.entities)===null||Dt===void 0||(Ut=Dt.userGroups)===null||Ut===void 0?void 0:Ut.remoteLimit)||vt.limit;return m.S.resolve(tt((0,D.cn)({query:{query:at,count:zt,org_wide:(Vt=vt.entities)===null||Vt===void 0||(cn=Vt.userGroups)===null||cn===void 0?void 0:cn.includeFromAnotherTeam,channel:(kn=vt.entities)===null||kn===void 0||(pn=kn.userGroups)===null||pn===void 0?void 0:pn.channel}}))).timeout(2e3).catch(n.A)});$.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const te=(0,_n.Ay)("Get remote triggers with query",(tt,Nt,Lt)=>{let{query:at,includeAutomatedTriggers:vt}=Lt;return tt(jn({query:at,includeAutomatedTriggers:vt}))});te.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const fe=(0,_n.Ay)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(tt,Nt,Lt)=>{let{queries:at,options:vt}=Lt;var Dt,Ut,Vt,cn,kn,pn;const zt=((Dt=vt.entities)===null||Dt===void 0||(Ut=Dt.userGroups)===null||Ut===void 0?void 0:Ut.remoteLimit)||vt.limit;return m.S.resolve(tt((0,D.MZ)({query:{queries:at,count:zt,org_wide:(Vt=vt.entities)===null||Vt===void 0||(cn=Vt.userGroups)===null||cn===void 0?void 0:cn.includeFromAnotherTeam,channel:(kn=vt.entities)===null||kn===void 0||(pn=kn.userGroups)===null||pn===void 0?void 0:pn.channel}}))).timeout(2e3).catch(n.A)});fe.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function Pe(tt,Nt){const{includeArchived:Lt,includeRequired:at,onlyIfMember:vt,canPost:Dt,includeExternallyShared:Ut,includeOnlyExternallyShared:Vt,onlyExternallyShared:cn,onlyFromTeamId:kn,onlyFromExternalWorkspaceId:pn}=Nt??{};return zt=>{let gn=!0;if(Lt||(gn=gn&&!(0,Re.F)(zt)),!(0,t.A)(at)&&!at&&(gn=gn&&!(0,V.gx)(zt)),cn&&(gn=gn&&(0,Ce.ju)(zt)),(!Ut||!Vt)&&(gn=gn&&!(0,Ce.ju)(zt)),vt&&(gn=gn&&(0,ge.bl)(zt)),Dt&&(gn=gn&&(0,Te.E)(tt,zt.id)),kn){var Hn;gn=gn&&(((Hn=(0,ve.A)(tt,zt))===null||Hn===void 0?void 0:Hn.includes(kn))||!1)}return pn&&(gn=gn&&(0,ae.ne)(tt,zt)===pn),gn}}u(Pe,"getChannelFilterFunction");const Qe=(0,_n.Ay)("Get members from flannel by query",(tt,Nt,Lt)=>{let{query:at,options:vt}=Lt;var Dt,Ut,Vt;const{includeDeleted:cn,matchEmailField:kn,onlyExternal:pn,includeExternal:zt,includeAllExternal:gn,includeBots:Hn,onlyFromExternalTeamId:xn,onlyFromExternalWorkspaceId:en}=(Vt=vt.entities.members)!==null&&Vt!==void 0?Vt:{},Rn=((Dt=vt.entities)===null||Dt===void 0||(Ut=Dt.members)===null||Ut===void 0?void 0:Ut.remoteLimit)||vt.limit,$n=Nt(),Vn=[],_s=(0,w.r7)((0,R.H7)($n))||!!(0,tn.jV)($n),ss=_s?["NOT org"]:["NOT team"],ds=_s?["org"]:["team"],us=!cn,Gn=" AND ",gs={query:at,count:Rn||ht.limit||24,fuzz:(0,wt._Z)($n,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||vt.fuzzyLimit===0?0:1,uax29_tokenizer:(0,wt._Z)($n,"searcher_flannel_cjk")==="cjk"};return us&&Vn.push("NOT deactivated"),(pn||xn)&&Vn.push(...ss),(xn||en)&&(gs.external_team=xn||en),Hn||Vn.push("NOT bots"),zt||Vn.push(...ds),zt&&gn&&(gs.include_all_external=!0),kn&&(gs.search_email=!0),Vn.length&&(gs.filter=Vn.join(Gn)),(0,wt._Z)($n,"searcher_member_workspace_ranking")==="treatment"&&(gs.enable_workspace_ranking=!0),m.S.resolve(tt((0,M.Wr)({query:gs}))).timeout(2e3).catch(n.A)});Qe.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const ut=(0,_n.Ay)("Get members from flannel by query",(tt,Nt,Lt)=>{let{queries:at,options:vt}=Lt;var Dt,Ut,Vt,cn;const{includeDeleted:kn,matchEmailField:pn}=(cn=(Dt=vt.entities)===null||Dt===void 0?void 0:Dt.members)!==null&&cn!==void 0?cn:{},zt=((Ut=vt.entities)===null||Ut===void 0||(Vt=Ut.members)===null||Vt===void 0?void 0:Vt.remoteLimit)||vt.limit||24,gn=Nt(),Hn=[],xn=!kn,en=" AND ",Rn={queries:at,count:zt,fuzz:(0,wt._Z)(gn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,wt._Z)(gn,"searcher_flannel_cjk")==="cjk"};return xn&&Hn.push("NOT deactivated"),pn&&(Rn.match_email=!0),Hn.length&&(Rn.filter=Hn.join(en)),m.S.resolve(tt((0,M.W9)({query:Rn}))).timeout(2e3).catch(n.A)});ut.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function et(tt,Nt){const{includeSelf:Lt,includeSlackbot:at,includeBots:vt,includeWorkflows:Dt,includeDeleted:Ut,includeExternal:Vt,includeGuests:cn,includeProfileOnlyUsers:kn,onlyLocalTeam:pn,onlyExternal:zt,onlyExternalFromTeams:gn,onlyFromExternalTeamId:Hn}=Nt??{};return xn=>{let en=!0;if(zt&&(en=en&&(0,J.g)(xn)&&!(0,N.A)(xn)),Lt||(en=en&&!(0,j.fy)(xn)),at||(en=en&&!(0,ce.U)(xn)),gn)return(0,s.A)(gn,(0,Ee.dQ)(xn));if(Hn)return Lt&&(0,j.fy)(xn)?!0:(0,J.g)(xn)&&(0,Ee.dQ)(xn)===Hn;if(vt||(en=en&&!(0,N.A)(xn)&&!(0,ce.U)(xn)),Dt||(en=en&&!(0,j.v3)(xn)),Ut||(en=en&&!(0,j.oy)(xn)),Vt||(en=en&&!(0,J.g)(xn)),cn||(en=en&&!(0,le.P)(xn)),kn||(en=en&&!(0,j.hh)(xn)),kn&&(0,j.hh)(xn)&&(en=en&&!(0,j.oy)(xn)),pn){const Rn=(0,tn.ZT)(tt);(0,j.hh)(xn)&&kn||(en=en&&(0,Ee.nO)(xn,Rn))}return en}}u(et,"getMemberFilterFunction");function Ft(tt,Nt){var Lt;const{includeCurrentTeam:at,includeExternal:vt,onlyExternal:Dt,onlyCurrentOrg:Ut,onlyAvailableToCurrentOrg:Vt,onlyMemberOnCurrentOrg:cn}=Nt??{},kn=(0,tn.Kc)(tt),pn=(0,Ve.WR)(tt),zt=(0,je.nv)(tt,pn),gn=(zt==null||(Lt=zt.enterprise_user)===null||Lt===void 0?void 0:Lt.teams)||[];return Hn=>!(!at&&Hn.id===(0,tn.ZT)(tt)||Dt&&!(0,de.z)(tt,Hn)||!vt&&!Dt&&!Vt&&(0,de.z)(tt,Hn)||Ut===!0&&Hn.id!==kn&&(0,w.Ss)(Hn)!==kn||Vt===!0&&Hn.id!==kn&&(0,w.Ss)(Hn)!==kn&&!(0,de.z)(tt,Hn)||cn===!0&&!gn.includes(Hn.id))}u(Ft,"getTeamFilterFunction");function $t(tt,Nt){const{onlyVisibleMpims:Lt,onlyExternallyShared:at,includeExternallyShared:vt,onlyFromTeamId:Dt}=Nt??{};return Ut=>{let Vt=!0;if(Lt&&(Vt=Vt&&(0,ae.w6)(tt,Ut)),at&&(Vt=Vt&&(0,Ce.ju)(Ut)),vt===!1&&(Vt=Vt&&!(0,Ce.ju)(Ut)),Dt){var cn;Vt=Vt&&(((cn=(0,ve.A)(tt,Ut))===null||cn===void 0?void 0:cn.includes(Dt))||!1)}return Vt}}u($t,"getMpimFilterFunction");function Pn(tt,Nt){const{onlyExternallyShared:Lt,includeExternallyShared:at,onlyFromTeamId:vt,onlyVisibleIms:Dt}=Nt??{};return Ut=>{let Vt=!0;if(Dt&&(Vt=Vt&&(0,ae.PE)(tt,Ut)),Lt&&(Vt=Vt&&(0,Ce.ju)(Ut)),at||(Vt=Vt&&!(0,Ce.ju)(Ut)),vt){var cn;Vt=Vt&&(((cn=(0,ve.A)(tt,Ut))===null||cn===void 0?void 0:cn.includes(vt))||!1)}return Vt}}u(Pn,"getImFilterFunction");function Bn(tt,Nt){const{includeDeleted:Lt,includeFromAnotherTeam:at,onlyFromExternalWorkspaceId:vt}=Nt??{};return Dt=>{let Ut=!0;return at||(Ut=Ut&&!(0,We.dk)(tt,Dt.id)),Lt||(Ut=Ut&&(0,De.V1)(Dt)),vt&&(Ut=Ut&&(0,De.$Q)(Dt)===vt),Ut}}u(Bn,"getUserGroupFilterFunction");function os(tt,Nt){const{onlyCanvases:Lt=!1,onlyLists:at=!1,onlyWriteable:vt=!1,onlyChannelCanvases:Dt=!1,onlyTemplateCanvases:Ut=!1,onlySlackNative:Vt=!1,includeChannelCanvases:cn=!1,excludeTemplateCanvases:kn=!1}=Nt??{},pn=(0,Ie.hq)(tt),zt=(0,tn.Kc)(tt),gn=(0,R._J)(tt,zt),Hn=gn&&!(0,w.qR)(gn);return xn=>{let en=!0;const Rn=(0,F.wL)(xn)&&!Hn||pn&&cn&&(0,F.aD)(xn),$n=(0,F.l7)(xn);return Lt&&(en=en&&Rn,(0,F.dE)(xn)&&kn)?!1:(pn&&(Dt||Hn)&&(en=en&&!(0,F.wL)(xn)&&(0,F.aD)(xn)),Ut&&(en=en&&(0,F.dE)(xn)),at&&(en=en&&$n),vt&&(en=en&&(0,F.mW)(xn)),Vt&&(en=$n||Rn),en)}}u(os,"getFileFilterFunction");const Zn=(0,_n.Ay)("Get teams via API by query",(tt,Nt,Lt)=>{let{query:at,options:vt}=Lt;var Dt,Ut;const{onlyExternal:Vt,includeExternal:cn,remoteLimit:kn}=(Ut=(Dt=vt.entities)===null||Dt===void 0?void 0:Dt.teams)!==null&&Ut!==void 0?Ut:{},pn=Nt();if((0,Me.DM)(pn))return m.S.resolve();if(Vt||cn)return m.S.resolve(tt((0,C.Is)(at))).timeout(2e3).catch(n.A);const zt=kn||vt.limit||24;return tt((0,Le.vB)({query:at,count:zt})).timeout(2e3).catch(n.A)});Zn.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const qn=(0,_n.Ay)("Get files via API by query",(tt,Nt,Lt)=>{let{query:at,options:vt}=Lt;var Dt,Ut;const{onlyCanvases:Vt,onlyChannelCanvases:cn,onlyTemplateCanvases:kn,onlyLists:pn,excludeTemplateCanvases:zt,bypassCache:gn}=(Ut=(Dt=vt.entities)===null||Dt===void 0?void 0:Dt.files)!==null&&Ut!==void 0?Ut:{};let Hn=at;return kn?Hn=`type:canvas_template ${at}`:Vt||cn?Hn=`${zt?"type:quip -type:canvas_template":"type:quip"} ${at}`:pn&&(Hn=`type:list ${at}`),tt((0,I.yF)({query:Hn,includeShares:!0,bypassCache:gn})).timeout(2e3).catch(n.A)});qn.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function an(tt){const Nt=(0,Ae.A4)(),Lt={},at=[];v.cw.forEach(Dt=>{const Ut=(0,it.A)({tab:Dt});(0,At.A)(tt,Dt)&&Ut&&!(Ut in Lt)&&(at.push({id:Dt,name:Ut,is_view:!0,is_tab_view:!0}),Lt[Ut]=Ut)}),v.g5.forEach(Dt=>{const Ut=mt(Dt);(0,Ot.A)(tt,Dt)&&Ut&&!(Ut in Lt)&&(at.push({id:Dt,name:Ut,is_view:!0,is_mva_view:!0}),Lt[Ut]=Ut)}),Nt.forEach(Dt=>{if(!(0,Ae.cH)(tt,Dt)&&!(Dt.id==="Pslack-connect"&&!(0,A.A)(tt))&&Dt.id!=="Pactivity"&&!(Dt.id===Z.c.Apps&&!(0,he.t)(tt))&&!(Dt.id===Z.c.Shortcuts&&!(0,ye.Bf)(tt))&&!(Dt.id===Z.c.BrowseWorkflowTemplates&&!(0,ye.fh)(tt))&&!(Dt.id===Z.c.BrowseWorkflowsManagedByYou&&!(0,ye.EH)(tt))&&!(Dt.id===Z.c.BrowseYourWorkflowTemplates&&!(0,ye.M7)(tt))&&((0,Ae.l1)(tt,Dt)||Dt.id==="Punreads"&&(0,q.ty)(tt,"enable_unread_view"))){const Ut=(0,ie.yb)(tt,Dt);Ut&&!(Ut in Lt)&&(at.push({...Dt,name:Ut,is_view:!0,is_page_view:!0}),Lt[Ut]=Ut)}});const vt=(0,Xt.lI)("Vall_threads");return vt&&(0,q.ty)(tt,"enable_threads_view")&&!(0,f.R)(tt)&&at.push(vt),at}u(an,"getLocalViews");function hs(tt){return X(tt)}u(hs,"getLocalModals");function Cs(tt){return(0,Ke.xf)(tt)?[{id:tt,score:0,item:{id:tt,value:tt,isEmail:!0}}]:[]}u(Cs,"getLocalEmails");function G(tt,Nt){const Lt=!Nt;let at=He.Ml;if(Nt){const vt=(0,Ct.OL)(tt,Nt);at=vt&&(0,Ue.f)(tt,vt)||He.Ml}return(0,sn.PL)(tt).flatMap(vt=>{if(vt.teams&&(at.length||Lt)&&!vt.isWorkspaceAgnostic){const Dt=Lt?vt.teams:vt.teams.filter(Ut=>at.includes(Ut));if(Dt.length>1)return Dt.map(Ut=>{const Vt=(0,R._J)(tt,Ut),cn=(0,w.F1)(Vt);return{...vt,name:`${vt.name} ${cn}`,applicableTeamId:Ut}})}return[vt]})}u(G,"getAppActionsWithEntriesPerApplicableTeam");function ue(tt,Nt,Lt){const at=(0,Ct.OL)(tt,Nt),vt=at?(0,Ue.f)(tt,at)||[]:[];return(0,Ge.A_)(tt,Nt,!!Lt,!0).flatMap(Dt=>{if(Dt.teams&&vt.length&&Dt.appName!=="Slack"&&!Dt.isWorkspaceAgnostic){const Ut=Dt.teams.filter(Vt=>vt.includes(Vt));if(Ut.length>1)return Ut.map(Vt=>({...Dt,id:(0,oe.Bs)(Dt),isSlashCommand:!0,applicableTeamId:Vt}))}return[{...Dt,id:(0,oe.Bs)(Dt),isSlashCommand:!0}]})}u(ue,"getSlashCommandsListWithEntriesPerApplicableTeam");function Fe(tt,Nt){let Lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";as(Nt);const at={},{members:vt,channels:Dt,teams:Ut,userGroups:Vt,appActions:cn,views:kn,broadcastKeywords:pn,emoji:zt,files:gn,topEngagedFiles:Hn,lists:xn,channelSections:en,emails:Rn,modals:$n,shortcuts:Vn,workflowTriggers:_s,helpArticles:ss,salesListViews:ds,canvasAiSuggestions:us}=Nt.entities;if(Dt&&(Dt.includePublic||Dt.includePrivate)&&(at.channels=on(tt,Nt)),Dt&&Dt.includeMpims&&(at.mpims=(0,Ct.FS)(tt)),Dt&&Dt.includeIms&&(at.ims=(0,Ct._B)(tt)),vt&&(at.members=vt.onlyFromExternalWorkspaceId?He.Ml:(0,je.I_)(tt).filter(Es=>(0,$e.zP)(tt,Es.id))),Ut&&(at.teams=zn(tt,Nt)),Vt&&(at.userGroups=(0,We.jJ)(tt)),cn&&(at.appActions=(0,T.B)(tt)?(0,sn.PL)(tt):G(tt,cn.channel)),gn&&(at.files=(0,qt.Gn)(tt)),Hn){const Es=(0,tn.ZT)(tt);if(Es){const As=(0,vn.E)({teamId:Es}).getStaleWhileRevalidate([]);at.topEngagedFiles=As}}if(xn&&(at.lists=(0,Rt.C0)(tt)),kn&&(at.views=an(tt)),$n&&(at.modals=hs(tt)),pn){var Gn;if(pn.includeAll)at.broadcastKeywords=(0,Ze.A)();else if(!(pn==null||(Gn=pn.currentChannel)===null||Gn===void 0)&&Gn.id){var gs;at.broadcastKeywords=(0,Q.A)(tt,pn==null||(gs=pn.currentChannel)===null||gs===void 0?void 0:gs.id)}else at.broadcastKeywords=[]}if(zt&&(at.emoji=(0,Gt.Gt)(tt)),en&&(at.channelSections=(0,r.A)((0,Tt.jV)(tt))),(Vn!=null&&Vn.slashCommands||Vn!=null&&Vn.fakeGlobalActions)&&!(Vn!=null&&Vn.isAnnounceOnly)&&(at.slashCommands=(0,Ge.A_)(tt,Vn.channel,!!Vn.threadTs,!0).map(Es=>({...Es,id:(0,oe.Bs)(Es),isSlashCommand:!0}))),Vn!=null&&Vn.slackGlobalActions&&(at.slackGlobalActions=(0,Ge.Yk)(tt,Vn.channel,Vn.threadTs)),Vn!=null&&Vn.quipShortcutCommands&&(at.quipShortcutCommands=(0,An.Aw)(tt,!!Lt)),Vn!=null&&Vn.channelActions&&(at.channelActions=(0,Et.fo)(tt,Vn.channel)),Vn!=null&&Vn.fakeGlobalActions&&(at.fakeGlobalActions=(0,Ge.JL)(tt,Vn.channel,Vn.threadTs)),Vn!=null&&Vn.callActions&&(at.callActions=(0,Ge.Uw)(tt,Vn.channel,Vn.threadTs,Vn.isAnnounceOnly)),_s){let Es=(0,Ge.NJ)(tt);_s.includeAutomated||(Es=Es.filter(As=>As.type===E.M.Shortcut)),_s.includeSalesHome||(Es=Es.filter(As=>!(0,wn.U)(As))),at.workflowTriggers=Es}Rn&&(at.emails=Cs(Lt));const Ps=(0,we.dL)(tt);if(ss&&Ps&&(at.helpArticles=(0,Yt.Fb)(tt,"searcher/fetch_all_articles")),ds){const{objectType:Es,salesforceOrgId:As}=ds,Bs=(0,qe.Up)(tt),Ks=Es?(0,qe.Zs)(tt,As,Es):(0,c.A)(Object.values((0,qe.m3)(tt,As)));at.salesListViews=Ks.map(Ls=>Bs[Ls])}return us&&(at.canvasAiSuggestions=(0,nn.rW)(tt,Nt)),_t(),at}u(Fe,"fetchLocal");const pt=(0,_n.Ay)("Search for local entities within Slack based on options",(tt,Nt,Lt)=>{let{query:at,options:vt,autoTraceId:Dt,parentSpanId:Ut}=Lt;var Vt;const cn=Nt(),kn=(Vt=U.LI.get({label:U.gC.Searcher,id:Dt}))===null||Vt===void 0?void 0:Vt.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Ut}}),pn=[],zt=[],{channels:gn,files:Hn,members:xn,teams:en,userGroups:Rn,appActions:$n,emoji:Vn,helpArticles:_s,workflowTriggers:ss,salesListViews:ds}=vt.entities;if(xn){const Gn=tt(Qe({query:at,options:vt}));xn.runaway?zt.push(Gn):pn.push(Gn)}if(gn){const Gn=tt(Qn({query:at,options:vt}));gn.runaway?zt.push(Gn):pn.push(Gn)}if(Vn){const Gn=tt(lt({query:at,options:vt}));Vn.runaway?zt.push(Gn):pn.push(Gn)}if(Hn&&((0,xe.A)(at)||at.length>3)){const Gn=(0,Sn.G)(Nt());if(!Gn.contains(at)&&!Gn.isRequestInFlight()){Gn.add(at),Gn.setRequestInFlight();const gs=tt(qn({query:at,options:vt}));Hn.runaway?zt.push(gs):pn.push(gs)}}if(Rn){const Gn=tt($({query:at,options:vt}));Rn.runaway?zt.push(Gn):pn.push(Gn)}if(en&&((0,H.k)(cn)||en.onlyExternal||en.includeExternal)&&!en.onlyLocal){const Gn=tt(Zn({query:at,options:vt}));en.runaway?zt.push(Gn):pn.push(Gn)}if(ss){const Gn=(0,jt.X)(cn);if(!Gn.contains(at)&&!Gn.isRequestInFlight()){Gn.add(at),Gn.setRequestInFlight();const gs=tt(te({query:at,includeAutomatedTriggers:ss.includeAutomated}));gs&&(ss.runaway?zt.push(gs):pn.push(gs))}}if((0,pe.e)(cn)&&$n){const Gn=m.S.resolve(tt((0,Nn.G)())).timeout(2e3).catch(n.A);$n.runaway?zt.push(Gn):pn.push(Gn)}const us=(0,we.dL)(cn);if(_s&&us&&(0,Yt.Fb)(cn,"searcher/fetch_all_articles"),(0,p.u)(at)&&ds){const{objectType:Gn,salesforceOrgId:gs}=ds;pn.push(tt((0,st.b)({query:at,objectType:Gn,salesforceOrgId:gs})))}return m.S.all(pn).then(Gn=>{const gs=Nt(),Ps=Fe(gs,vt,at);if(Ps.remoteIds=Cn(Gn),xn&&xn.onlyFromExternalWorkspaceId){var Es,As;Ps.members=(As=(Es=Gn.find(Ks=>!!Ks.members))===null||Es===void 0?void 0:Es.members)!==null&&As!==void 0?As:He.Ml}const Bs=(0,o.A)((0,r.A)(Ps),"length");return zt.length&&!Bs?m.S.all(zt).then(()=>Fe(Nt(),vt)):(kn==null||kn.close(),Ps)})});pt.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function Cn(tt){const Nt={};return tt.forEach(Lt=>{Lt&&(Lt.appActions&&(Nt.appActions=new Set(Lt.appActions.map(at=>at.id))),Lt.channels&&(Nt.channels=new Set(Lt.channels.map(at=>at.id))),Lt.emoji&&(Nt.emoji=new Set(Lt.emoji.map(at=>at.name))),Lt.files&&(Nt.files=new Set(Lt.files.map(at=>at.id))),Lt.members&&(Nt.members=new Set(Lt.members.map(at=>at.id))),Lt.userGroups&&(Nt.userGroups=new Set(Lt.userGroups.map(at=>at.id))),Lt.teams&&(Nt.teams=new Set(Lt.teams.map(at=>at.id))))}),Nt}u(Cn,"getRemoteIds");const On=(0,_n.Ay)("Search for entities within Slack by query",(tt,Nt,Lt)=>{let{query:at="",options:vt=ht}=Lt;var Dt;if(!at.length&&!vt.allowEmptyQuery)return m.S.resolve([]);const Ut=Nt(),Vt=(0,Be.Cy)({state:Ut}),cn=(0,h.A)();Vt.mark(`modern-searcher-search-mark-${cn}`);const kn=(0,hn.O)(at,{shouldTrimEmoji:!1,shouldTrimDocument:!1});var pn;U.LI.start({label:U.gC.Searcher,id:cn,options:{teamId:(pn=(0,tn.ZT)(Ut))!==null&&pn!==void 0?pn:null,tags:Mt({query:kn,options:vt})}});const zt=(Dt=U.LI.get({label:U.gC.Searcher,id:cn}))===null||Dt===void 0?void 0:Dt.createChildSpan({name:"searcher:search"}),gn=Os(vt,ht,at);if((0,a.A)(gn))return m.S.resolve([]);if((0,ee.x)(Ut)!==Wt.M9.ONLINE||!(vt!=null&&vt.allowEmptyQueryRemoteSearch)&&!kn.length&&(0,Kt.A)()&&(0,wt._Z)(Ut,"searcher_local_empty_string")==="treatment")return m.S.resolve(Wn(Ut,{query:kn,options:gn,autoTraceId:cn,parentSpanId:zt==null?void 0:zt.getId()}));const Hn=m.S.delay(0).then(()=>tt(pt({query:kn,options:gn,autoTraceId:cn,parentSpanId:zt==null?void 0:zt.getId()}))).then(xn=>{const en=Nt();return Ms(en,{query:kn,data:xn,options:gn,autoTraceId:cn,parentSpanId:zt==null?void 0:zt.getId()})});if(gn.tiered){const xn=Wn(Ut,{query:kn,options:gn,autoTraceId:cn,parentSpanId:zt==null?void 0:zt.getId()}),en=Hn.finally(()=>{zt==null||zt.close(),U.LI.stop({label:U.gC.Searcher,id:cn})}),Rn=Object.assign(xn,{promise:en});return m.S.resolve(Rn).finally(()=>{Vt.measureAndClear(`modern-searcher-search-mark-${cn}`,"modern-searcher-search-tiered")})}return Hn.finally(()=>{Vt.measureAndClear(`modern-searcher-search-mark-${cn}`,"modern-searcher-search"),zt==null||zt.close(),U.LI.stop({label:U.gC.Searcher,id:cn})})});On.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function Wn(tt,Nt){let{query:Lt="",options:at,autoTraceId:vt,parentSpanId:Dt}=Nt;var Ut;let Vt=vt;if(!Vt){Vt=(0,h.A)();var cn;U.LI.start({label:U.gC.Searcher,id:Vt,options:{teamId:(cn=(0,tn.ZT)(tt))!==null&&cn!==void 0?cn:null,tags:Mt({query:Lt,options:at})}})}const kn=(Ut=U.LI.get({label:U.gC.Searcher,id:Vt}))===null||Ut===void 0?void 0:Ut.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Dt}});if(!Lt.length&&!at.allowEmptyQuery)return[];const pn=Os(at,ht,Lt);if((0,a.A)(pn))return[];const zt=(0,hn.O)(Lt,{shouldTrimEmoji:!1}),gn=Fe(tt,pn),Hn=Ms(tt,{query:zt,data:gn,options:pn,autoTraceId:Vt,parentSpanId:kn==null?void 0:kn.getId()});return kn==null||kn.close(),Hn}u(Wn,"searchLocal");const En=15,fs=u(tt=>{let{clogger:Nt,data:Lt}=tt;const{source:at,query:vt,results:Dt,selectedItemId:Ut,displayedItemIds:Vt,openMethod:cn}=Lt,kn=Vt?Vt.length:Dt.length,pn=Vt&&Ut?Vt.indexOf(Ut):Dt.findIndex(ss=>ss.item.id===Ut);if(pn<0)return;const zt=Dt.find(ss=>ss.item.id===Ut);if(!zt)return;const gn=zt.type||"other",Hn=(0,hn.O)(vt),xn=zt.source||"local";let en;zt.type==="mpim"?en=zt.scoreDetailsByMember:zt.type==="member"&&Ut?en={[Ut]:{is_exact_match:zt.isExactMatch,exact_match_details:zt.exactMatchDetails,score_details:zt.scoreDetails}}:zt.type==="emoji"&&Ut&&(en={[Ut]:{is_exact_match:zt.isExactMatch}});let Rn=[];Dt.some(ss=>ss.featureVector)&&(Vt?Rn=Vt.map(ss=>{const ds=Dt.find(us=>us.item.id===ss);return ds&&ds.featureVector.serialize()||""}):Rn=Dt.map(ss=>{var ds,us;return ss==null||(ds=ss.featureVector)===null||ds===void 0||(us=ds.serialize)===null||us===void 0?void 0:us.call(ds)}));let Vn;(0,l.A)(vt)?Vn=vt.reduce((ss,ds)=>ss+ps((0,hn.O)(ds)),0):Vn=ps(Hn);const _s={source:at,query_length:Hn.length?Hn.length:0,query_terms_length:Vn,results_length:kn,selected_position:pn,selected_type:gn,selected_source:xn,selected_match_details:en,feature_vector_list:Rn.slice(0,En),open_method:cn};Nt.track(se.EventId.SEARCHER_ACCEPT,_s)},"clogSearcherAccept"),ls=u(tt=>{let{clogger:Nt,data:Lt}=tt;const{source:at,query:vt,results:Dt,displayedItemIds:Ut}=Lt,Vt=Ut!==void 0?Ut.length:Dt.length,cn=(0,hn.O)(vt);let kn;(0,l.A)(vt)?kn=vt.reduce((zt,gn)=>zt+ps((0,hn.O)(gn)),0):kn=ps(cn);const pn={source:at,query_length:cn.length?cn.length:0,query_terms_length:kn,results_length:Vt};Nt.track(se.EventId.SEARCHER_REJECT,pn)},"clogSearcherReject");function ps(tt){return tt?tt.split(Dn.u).filter(Nt=>Nt.length).length:0}u(ps,"getQueryTermsLength");function Ms(tt,Nt){let{query:Lt,data:at,options:vt,autoTraceId:Dt,parentSpanId:Ut}=Nt;var Vt,cn,kn,pn,zt;const gn=(Vt=U.LI.get({label:U.gC.Searcher,id:Dt}))===null||Vt===void 0?void 0:Vt.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Ut}});as(vt);const Hn=(0,wt._Z)(tt,"searcher_avoid_exact_member_match")==="treatment",xn=(0,wt._Z)(tt,"nerf_email_fuzzy_match")==="treatment",en={},Rn=u((Ls,xs)=>{const bs=new Map;return[...Ls,...xs].forEach(zs=>{bs.set(zs.id,zs)}),Array.from(bs.values())},"mergeAndDeduplicate"),$n=new St.A({query:Lt,options:{...vt,sort:{...vt.sort,avoidExactMatchForMembers:Hn},fuzzyEmailSearchForwardOnly:xn}}),Vn=(0,Be.Cy)({state:tt});Vn.mark("modern-searcher-matching-mark");const _s=(cn=U.LI.get({label:U.gC.Searcher,id:Dt}))===null||cn===void 0?void 0:cn.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:gn==null?void 0:gn.getId()}});at.channels&&(en.channels=$n.filterChannels(tt,at.channels,Pe(tt,vt.entities.channels))),at.members&&(en.members=$n.filterMembers(tt,at.members,et(tt,vt.entities.members))),at.emails&&at.members&&!(!(en==null||(kn=en.members)===null||kn===void 0)&&kn.length)&&(en.emails=at.emails),at.mpims&&(en.mpims=$n.filterMpims(tt,at.mpims,$t(tt,vt.entities.channels))),at.ims&&(en.ims=$n.filterIms(tt,at.ims,Pn(tt,vt.entities.channels))),at.userGroups&&(en.userGroups=$n.filterUserGroups(tt,at.userGroups,Bn(tt,vt.entities.userGroups))),at.teams&&(en.teams=$n.filterTeams(tt,at.teams,Ft(tt,vt.entities.teams))),at.views&&(en.views=$n.filterViews(tt,at.views)),at.modals&&(en.modals=$n.filterModals(tt,at.modals)),at.appActions&&(en.appActions=$n.filterAppActions(tt,at.appActions)),at.slashCommands&&(en.slashCommands=$n.filterShortcuts(tt,at.slashCommands,!0)),at.slackGlobalActions&&(en.slackGlobalActions=$n.filterShortcuts(tt,at.slackGlobalActions)),at.quipShortcutCommands&&(en.quipShortcutCommands=$n.filterShortcuts(tt,at.quipShortcutCommands)),at.canvasAiSuggestions&&(en.canvasAiSuggestions=$n.filterShortcuts(tt,at.canvasAiSuggestions)),at.channelActions&&(en.channelActions=$n.filterShortcuts(tt,at.channelActions)),at.fakeGlobalActions&&(en.fakeGlobalActions=$n.filterShortcuts(tt,at.fakeGlobalActions)),at.callActions&&(en.callActions=$n.filterShortcuts(tt,at.callActions)),at.workflowTriggers&&(en.workflowTriggers=$n.filterWorkflowTriggers(tt,at.workflowTriggers)),at.appActions&&(!(vt==null||(pn=vt.entities)===null||pn===void 0||(zt=pn.shortcuts)===null||zt===void 0)&&zt.apps)&&(en.apps=$n.filterApps(tt,at.appActions,at.fakeGlobalActions,at.slashCommands)),at.broadcastKeywords&&(en.broadcastKeywords=$n.filterBroadcastKeywords(tt,at.broadcastKeywords)),at.emoji&&(en.emoji=$n.filterEmoji(tt,at.emoji)),at.channelSections&&(en.channelSections=$n.filterChannelSections(tt,at.channelSections,Ls=>{var xs,bs;return!!(!((xs=vt.entities.channelSections)===null||xs===void 0||(bs=xs.includeTypes)===null||bs===void 0)&&bs[Ls.type])})),at.files&&(en.files=$n.filterFiles(tt,at.files,os(tt,vt.entities.files))),at.topEngagedFiles&&(en.topEngagedFiles=$n.filterFiles(tt,at.topEngagedFiles,os(tt,vt.entities.topEngagedFiles))),at.lists&&(en.lists=$n.filterLists(tt,at.lists));const ss=(0,we.dL)(tt);at.helpArticles&&ss&&(en.helpArticles=$n.filterHelpArticles(tt,at.helpArticles)),at.salesListViews&&(0,y.hx)(tt)&&(en.salesListViews=$n.filterSalesListViews(tt,at.salesListViews)),Vn.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),_s==null||_s.close();const ds=Fs(en,at.remoteIds||{});let us;us=ds.topEngagedFiles,delete ds.topEngagedFiles;const Gn=500,gs=3;var Ps;const Es=Math.min(((Ps=vt==null?void 0:vt.limit)!==null&&Ps!==void 0?Ps:1)*gs,Gn);let As=(0,c.A)(Object.values(ds));if(vt.sort&&!vt.sort.bypassSorting){var Bs;let Ls=!1;As.length<Es&&(Ls=!0);const xs=new dn.A({query:Lt,options:{modelOnly:Ls,...vt.sort}}),bs=(Bs=U.LI.get({label:U.gC.Searcher,id:Dt}))===null||Bs===void 0?void 0:Bs.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:gn==null?void 0:gn.getId()}});As=xs.sort(tt,ds),bs==null||bs.close(),us&&(us=(0,xt.jW)(tt,{query:Lt,list:us,bonusPoints:xs.getFrecencyBonusPointsFunction(tt)}))}if(us&&(As=Rn(As,us)),vt.sort&&vt.sort.frecency&&!vt.sort.bypassSorting){var Ks;const Ls=(Ks=U.LI.get({label:U.gC.Searcher,id:Dt}))===null||Ks===void 0?void 0:Ks.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:gn==null?void 0:gn.getId()}});As=new fn.A({query:Lt,options:{...vt.sort},teamId:(0,tn.ZT)(tt),enterpriseId:(0,H.k)(tt)&&(0,tn.jV)(tt)?(0,tn.jV)(tt):void 0}).sort(tt,As.slice(0,Es)),Ls==null||Ls.close()}return vt.limit&&(As=(0,i.A)(As,vt.limit)),vt.returnMetadata||(As=As.map(Ls=>Ls.item)),_t(),As||[]}u(Ms,"processFetchedEntities");function Fs(tt,Nt){return(0,d.A)(tt,(Lt,at)=>{const vt=Rs(at),Dt=Nt[at];let Ut=!1;return at==="topEngagedFiles"&&(Ut=!0),Lt.map(Vt=>{const cn=Dt&&Dt.has(Vt.item.id)?"remote":"local";return{...Vt,type:vt,source:cn,isTopEngagedFile:Ut}})})}u(Fs,"addResultMetadata");function Rs(tt){switch(tt){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"topEngagedFiles":return"file";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesListViews":return"salesListViews";case"canvasAiSuggestions":return"canvasAiSuggestions";default:return"other"}}u(Rs,"getTypeFromGroup");function Os(tt,Nt,Lt){const{members:at,channels:vt,userGroups:Dt,broadcastKeywords:Ut,emoji:Vt}=tt.entities,{members:cn,channels:kn,userGroups:pn}=Nt.entities;let zt={},gn="";Lt!=null&&Lt.length&&(gn=Array.isArray(Lt)?"@":Lt.charAt(0)),(gn==="@"||gn==="\uFF20")&&(at||Dt||Ut)?(at&&(zt.members=Tn(at,cn)),Dt&&(zt.userGroups=Tn(Dt,pn)),Ut&&(zt.broadcastKeywords=Tn(Ut,{}))):(gn==="#"||gn==="\uFF03")&&vt?zt.channels=Tn(vt,kn):gn===":"&&Vt?zt.emoji=Tn(Vt,{}):zt=Object.keys(tt.entities).reduce((Es,As)=>{const Bs=tt.entities[As];return Bs&&(Es[As]=Tn(Bs,Nt.entities[As])),Es},{});var Hn;const xn=Tn((Hn=tt==null?void 0:tt.sort)!==null&&Hn!==void 0?Hn:{},Nt.sort);var en;const Rn=(en=tt.limit)!==null&&en!==void 0?en:Nt.limit;var $n;const Vn=($n=tt.fuzzyLimit)!==null&&$n!==void 0?$n:Nt.fuzzyLimit;var _s;const ss=(_s=tt.fuzzyJumpLimit)!==null&&_s!==void 0?_s:Nt.fuzzyJumpLimit,ds=tt.fuzzyCJK||Nt.fuzzyCJK,us=tt.tiered,Gn=tt.filter,gs=tt.allowEmptyQuery,Ps=tt.returnMetadata||Nt.returnMetadata;return xn&&(xn.model=xn.model||(0,un.In)()),{entities:zt,sort:xn,limit:Rn,tiered:us,filter:Gn,allowEmptyQuery:gs,fuzzyLimit:Vn,fuzzyJumpLimit:ss,fuzzyCJK:ds,returnMetadata:Ps,searchViewContext:tt.searchViewContext}}u(Os,"getAllOptions");function Tn(tt,Nt){if(!Nt||tt===!1)return tt;const Lt=tt===!0?{}:tt,at=Nt===!0?{}:Nt;return(0,_.A)(Lt,at)}u(Tn,"mergeOptions");function as(tt){const{members:Nt,channels:Lt,teams:at,userGroups:vt,appActions:Dt,files:Ut}=tt.entities;(Nt||Lt||at||vt||Dt||Ut)&&S.Ay.pauseRefetchIndefinitely()}u(as,"pauseConditionalFetching");function _t(){S.Ay.unpauseRefetchImmediately()}u(_t,"unpauseConditionalFetching"),(0,k.ul)("searcher",{search:(tt,Nt)=>(0,yn.dispatchForTeamId)(tt,On({options:Nt})),searchLocal:(tt,Nt)=>{const Lt=(0,yn.getStateByTeamId)(tt);return Wn(Lt,{options:Nt})}})},3275490582:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(5519146941);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o[i]=l[i])}return o},s.apply(this,arguments)}u(s,"_extends");function r(o){const a=o,l=t.forwardRef((i,d)=>t.createElement(n.A.Consumer,null,_=>{let{view:m,closeView:h,windowId:v,container:T,isMainWindow:A,isChildWindow:y,shouldUseNavigate:p,activeTab:f,forceTabWhenNavigating:O,getSiblingView:I,getPrimaryView:P,getSecondaryView:C,getViewSet:M}=_;return t.createElement(a,s({ref:d},i,{view:m,closeView:h,windowId:v,container:T,isMainWindow:A,isChildWindow:y,shouldUseNavigate:p,activeTab:f,forceTabWhenNavigating:O,getSiblingView:I,getPrimaryView:P,getSecondaryView:C,getViewSet:M}))}));return l.displayName=`withViewContainerContext(${a.displayName})`,l}u(r,"withViewContainerContext"),r.displayName="withViewContainerContext";const c=r},1149563359:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3134334389),n=e(9053431150);function s(r,c){const{addFocusTransitionListener:o,removeFocusTransitionListener:a}=(0,t.useContext)(n.Ay);(0,t.useEffect)(()=>(o(r,c),()=>{a(r,c)}),[o,c,a,r])}u(s,"useFocusTransitionListener")},5204962244:(x,g,e)=>{"use strict";e.d(g,{d:()=>n});var t=e(3134334389);function n(s){const r=(0,t.useRef)();return r.current===void 0&&(r.current=s()),r.current}u(n,"useRefCreator")},3107743571:(x,g,e)=>{"use strict";e.d(g,{Z:()=>n});var t=e(3134334389);const n=u(function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const o=(0,t.useRef)(),a=(0,t.useCallback)(()=>{const l=o.current;l&&(window.clearTimeout(l),o.current=void 0)},[]);return(0,t.useEffect)(()=>(a(),o.current=window.setTimeout(s,r),a),[s,a,r,...c]),a},"useTimeout")},4003148341:(x,g,e)=>{"use strict";e.d(g,{x:()=>s});var t=e(6122756707),n=e(3855029223);function s(){const{getState:r}=(0,t.Pj)();return(0,n.E)({getState:r})}u(s,"useTracer")},4803841689:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(571104883),s=e(3245843483);function r(){const c=(0,n.y3)()&&s.pRi.isAvailable(),o=c?(0,s.pRi)():1,[a,l]=(0,t.useState)(o);return(0,t.useEffect)(()=>{if(!c)return;function i(){const d=(0,s.pRi)();d!==a&&l(d)}return u(i,"onWindowResize"),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[c,a]),a}u(r,"useZoomFactor")},3320454392:(x,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(n){const s=u(()=>{window.Cypress||n()},"unloadHandler");window.addEventListener("beforeunload",s)}u(t,"addUnloadHandler")},9853754481:(x,g,e)=>{"use strict";e.d(g,{Ep:()=>c,n2:()=>a,Ay:()=>i});var t=e(6313685253),n=e(7299481592);const s=window.AudioContext||window.webkitAudioContext,r=window.AnalyserNode,c=6;function o(d){let _=1;for(;_*2<d;)_*=2;return _}u(o,"getPowerof2LessThan");function a(d){let m=.01;for(const v of d)m=Math.max(m,(v-128)/128);const h=(Math.log(.01)-Math.log(m))/Math.log(.01);return Math.min(Math.max(h,0),1)}u(a,"computeStrength");function l(d){return(0,t.A)(d,(_,m)=>{const h=m.getSettings().sampleRate;return h!==void 0&&_!==void 0?Math.max(_,h):h},void 0)}u(l,"getMaxTrackSampleRate");let i=u(class{getLevel(){var _;return(_=this.analyserNode)===null||_===void 0||_.getByteTimeDomainData(this.data),a(this.data)/c}stop(){var _;if(this.analyserNode){var m;(m=this.audioNode)===null||m===void 0||m.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(_=this.audioCtx)===null||_===void 0||_.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(_,m){(0,n.M)(m>=0,"Level poll interval must be positive"),this.audioCtx=new s;const h=_.getAudioTracks();(0,n.M)(!!h.length,"Need audio tracks to run analyser");const T=(l(h)||48e3)*m/1e3,A=Math.max(32,Math.min(32768,o(T)));this.data=new Uint8Array(A),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=A,this.audioNode=this.audioCtx.createMediaStreamSource(_),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},1829947126:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(6267571562);class n{createPublisher(c){return this.publishers[c]=new t.G,this.publishers[c]}createAllPublisher(){return this.allPublisher=new t.G,this.allPublisher}publish(c,o){const a=this.publishers[c];a&&a.publish(o)}publishAll(c,o){var a;const l={peerId:c,value:o};(a=this.allPublisher)===null||a===void 0||a.publish(l)}subscribe(c,o){(this.publishers[c]||this.createPublisher(c)).subscribe(o)}subscribeAll(c){this.createAllPublisher().subscribe(c)}unsubscribe(c,o){const a=this.publishers[c];a&&a.unsubscribe(o)}constructor(){this.publishers={}}}u(n,"PeerPubSub");const s=new n},7396150282:(x,g,e)=>{"use strict";e.d(g,{x:()=>c});var t=e(9009528296),n=e(1829947126),s=e(9853754481);const r=100;class c{setPreviewStream(a){if(!a){this.previewAudioAnalyser=void 0;return}this.previewAudioAnalyser=new s.Ay(a,r)}cleanup(){var a,l;this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=0),(a=this.previewAudioAnalyser)===null||a===void 0||a.stop(),this.previewAudioAnalyser=void 0,(l=this.selfAudioAnalyser)===null||l===void 0||l.stop(),this.selfAudioAnalyser=void 0}constructor(){this.intervalHandle=window.setInterval(()=>{this.selfAudioAnalyser&&n.A.publish("self",this.selfAudioAnalyser.getLevel()),this.previewAudioAnalyser&&t.A.publish(this.previewAudioAnalyser.getLevel())},r)}}u(c,"PreviewAudioLevelMonitor")},9009528296:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(6267571562);const n=new t.G},5046160032:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(2016742660);const n=window.navigator&&typeof window.navigator.sendBeacon=="function";function s(r){let{apiUrl:c,method:o,token:a,args:l={},versionTs:i="",versionUid:d=""}=r,_=!1;const m=(0,t.DI)();let h=`${c}${o}?_x_id=${d.substring(0,8)}-${Date.now()/1e3}`;m!==null&&(h+=`&fp=${m}`);const v=new FormData;if(v.append("token",a),Object.keys(l).forEach(T=>v.append(T,l[T])),n)_=navigator.sendBeacon(h,v);else{const T=new XMLHttpRequest;T.addEventListener("load",()=>{const{readyState:A,status:y,DONE:p}=T;A===p&&y===200&&(_=!0)}),T.open("POST",h,!0),T.setRequestHeader("X-Slack-Version-Ts",i),T.send(v)}return _}u(s,"beaconApiCall")},8935621861:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(9706240641),n=e(6273911963),s=e(2801744021);function r(v){return c.apply(this,arguments)}u(r,"fetchNearestChimeMediaRegion");function c(){return c=(0,t.coroutine)(function*(v){const T=new n.A({url:v?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const A=yield new s.Ay().q(T);return JSON.parse(A).region}catch{return""}}),c.apply(this,arguments)}u(c,"_fetchNearestChimeMediaRegion");var o=e(6422693406),a=e(3390261877),l=e(3320454392),i=e(504058561),d=e(322597465),_=e(796111729);let m=u(class io{writeRegions(T,A){const y=A?io.GOV_REGION_STORAGE_KEY:io.REGION_STORAGE_KEY,p={regions:T,timestamp:Date.now(),version:io.VERSION};try{localStorage.setItem(y,JSON.stringify(p))}catch(f){(0,_.Wo)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",f.message)}}readRegions(T){const A=T?io.GOV_REGION_STORAGE_KEY:io.REGION_STORAGE_KEY,y=localStorage.getItem(A);if(!y)return null;let p=null;try{p=JSON.parse(y)}catch(f){return(0,_.Wo)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",f.message),null}return p.version!==io.VERSION||this.ttl&&Date.now()-p.timestamp>this.ttl?null:p}constructor(T){this.ttl=T}},"ChimeRegionStorage");m.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",m.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",m.VERSION=1;let h=u(class Gs{static getInstance(){return Gs.instance||(Gs.instance=new Gs),Gs.instance}getNearestChimeMediaRegion(T){var A=this;return(0,t.coroutine)(function*(){return(T?(0,d.H)(T):!1)?A.getNearestChimeGovMediaRegion():A.getNearestChimeCommercialMediaRegion()})()}getNearestChimeCommercialMediaRegion(){var T=this;return(0,t.coroutine)(function*(){if(!T.commercialRegions){const A=T.storage.readRegions(!1);A&&(T.commercialRegions=A.regions)}return T.commercialRegions?T.commercialRegions:T.remoteGetNearestChimeMediaRegion(!1)})()}getNearestChimeGovMediaRegion(){var T=this;return(0,t.coroutine)(function*(){if(!T.govRegions){const A=T.storage.readRegions(!0);A&&(T.govRegions=A.regions)}return T.govRegions?T.govRegions:T.remoteGetNearestChimeMediaRegion(!0)})()}remoteGetNearestChimeMediaRegion(T){var A=this;return(0,t.coroutine)(function*(){const y=yield o.S.resolve(r(T));return T?A.govRegions=y:A.commercialRegions=y,A.storage.writeRegions(y,T),y})()}init(){if(this.initialized)return 0;this.initialized=!0;const T=(0,i.z$)();let A=Gs.INITIAL_LOAD_DELAY;const y=this.storage.readRegions(T);y&&(T?this.govRegions=y.regions:this.commercialRegions=y.regions,A=Math.max(Gs.INITIAL_LOAD_DELAY,Gs.REFRESH_INTERVAL-(Date.now()-y.timestamp)));var p=this;const f=setTimeout((0,t.coroutine)(function*(){yield p.remoteGetNearestChimeMediaRegion(T);const O=new a.A(Gs.REFRESH_INTERVAL);O.start((0,t.coroutine)(function*(){yield p.remoteGetNearestChimeMediaRegion(T)})),(0,l.A)(()=>{O.stop()})}),A);return(0,l.A)(()=>{clearTimeout(f)}),A}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new m(Gs.REFRESH_INTERVAL)}},"ChimeRegionProvider");h.REFRESH_INTERVAL=3*24*60*60*1e3,h.INITIAL_LOAD_DELAY=5*1e3},3390261877:(x,g,e)=>{"use strict";e.d(g,{A:()=>t});let t=u(class{start(s){this.stop(),this.timer=setInterval(s,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(s){this.intervalMs=s,this.timer=null}},"IntervalScheduler")},6728003438:(x,g,e)=>{"use strict";e.d(g,{F4:()=>E,GC:()=>B,lP:()=>L,no:()=>M});var t=e(9113979368),n=e(6533394955),s=e(4423055085),r=e(8847766420),c=e(3346431019),o=e(3855029223),a=e(2250002584),l=e(796111729),i=e(3158767748),d=e(8802876335),_=e(4798756512);const m="RTM-EVENT-METRICS",h=4;let v=!1,T;const A=50;function y(){return v?!0:(0,c.A)()?(T===void 0&&(T=(0,i.A)(A),T&&(0,l.Wo)({label:m}).info("Metrics collection enabled for the current interval.")),T):!1}u(y,"shouldSampleForInterval");let p={},f={},O={},I={},P={},C={};function M(W){let{teamOrEnterpriseId:K,rtmEventType:Y,rtmEventSubtype:X,duration:Z,msgs:ie,fromEvtLog:Ae}=W;var ae;if(!y())return;const V=(0,r.Kc)((ae=(0,n.getStoreOrSharedStoreInstanceByTeamOrEnterpriseId)(K))===null||ae===void 0?void 0:ae.getState());if(!V)return;const ve=Y==="message"?`message/${X}`:Y;Ae&&D({bucket:P,teamOrEnterpriseId:V,eventType:ve,value:ie.length}),D({bucket:f,teamOrEnterpriseId:V,eventType:ve,value:1}),D({bucket:O,teamOrEnterpriseId:V,eventType:ve,value:ie.length}),D({bucket:I,teamOrEnterpriseId:V,eventType:ve,value:Z})}u(M,"incrementMetrics");function D(W){let{bucket:K,teamOrEnterpriseId:Y,eventType:X,value:Z}=W;var ie;const Ae=(ie=K[Y])!==null&&ie!==void 0?ie:{};var ae;const V=(ae=Ae[X])!==null&&ae!==void 0?ae:0;Ae[X]=V+Z,K[Y]=Ae}u(D,"incrementBucket");function E(W,K){if((0,t.A)(O)&&(0,t.A)(p)){b();return}const Y=Object.keys({...O,...p}),X=setInterval(()=>{const Z=(0,l.Wo)({label:m}),ie=Y.pop();if(!ie){Z.info("Completed metrics aggregation",{traceId:W.getTraceId()}),clearInterval(X);return}Z.info(`Sending metric report for id: ${ie}`),U({teamOrEnterpriseId:ie,clientMetricsTrace:W,performanceTracingTags:K}),k({teamOrEnterpriseId:ie,clientMetricsTrace:W,performanceTracingTags:K}),R(ie)},1e3)}u(E,"reportRtmMetrics");function S(W,K){const Y=(0,n.getStateByTeamId)(W);return{...K,metric_version:h,slow_connection_count:(0,d.d4)(Y)}}u(S,"getMetricsTraceMetatags");function k(W){let{teamOrEnterpriseId:K,clientMetricsTrace:Y,performanceTracingTags:X}=W;const Z=p[K];if(!Z)return;const ie=(0,o.E)({teamOrEnterpriseId:K}),Ae=ie.createMetricsTrace({label:"rtm_incoming",tags:S(K,X),traceId:Y.getTraceId(),parentSpanId:Y.getRootSpanId()});var ae;const V=(ae=C[K])!==null&&ae!==void 0?ae:{};let ve=0,be=0;Object.entries(Z).forEach(Ue=>{let[Re,ge=0]=Ue;var ne;const ee=(ne=V[Re])!==null&&ne!==void 0?ne:0;ve+=ge,be+=ee,Ae.store({name:"rtm_incoming:event_count",value:ge}).addTags({event_type:Re,eventlog_count:ee,socket_count:ge-ee})}),Ae.store({name:"rtm_incoming:total_event_count",value:ve}),Ae.store({name:"rtm_incoming:total_event_count:socket",value:ve-be}),Ae.store({name:"rtm_incoming:total_event_count:eventlog",value:be}),(0,l.Wo)({label:m}).info(`${K} total incoming event count: ${ve}`),ie.reportTrace(Ae)}u(k,"maybeReportRawEventCount");function U(W){let{teamOrEnterpriseId:K,clientMetricsTrace:Y,performanceTracingTags:X}=W;const Z=O[K];if(!Z)return;const ie=(0,o.E)({teamOrEnterpriseId:K}),Ae=ie.createMetricsTrace({label:"rtm_dispatch",tags:S(K,X),traceId:Y.getTraceId(),parentSpanId:Y.getRootSpanId()});var ae;const V=(ae=f[K])!==null&&ae!==void 0?ae:{};var ve;const be=(ve=I[K])!==null&&ve!==void 0?ve:{};var Ue;const Re=(Ue=P[K])!==null&&Ue!==void 0?Ue:{};let ge=0,ne=0;Object.entries(Z).forEach(ee=>{let[F,H]=ee;const j=V[F],N=be[F];if(j===void 0||N===void 0)return;var J;const le=(J=Re[F])!==null&&J!==void 0?J:0;ge+=H,ne+=le,Ae.store({name:"rtm_dispatch:duration",value:N}).addTags({event_type:F,total_events:H,total_batches:j,per_event_duration:N/H,eventlog_count:le,socket_count:H-le})}),Ae.store({name:"rtm_dispatch:total_event_count",value:ge}),Ae.store({name:"rtm_dispatch:total_event_count:socket",value:ge-ne}),Ae.store({name:"rtm_dispatch:total_event_count:eventlog",value:ne}),(0,l.Wo)({label:m}).info(`${K} total dispatch event count: ${ge}`),ie.reportTrace(Ae)}u(U,"maybeReportEventMetrics");function L(W){let{teamId:K,msgs:Y}=W;if(!y())return;const X=(0,n.getStateByTeamId)(K);var Z;const ie=(Z=(0,r.Kc)(X))!==null&&Z!==void 0?Z:K,Ae=Y.reduce((ae,V)=>(!V||!V.type||(ae[V.type]?ae[V.type]+=1:ae[V.type]=1),ae),{});Object.entries(Ae).forEach(ae=>{let[V,ve]=ae;D({bucket:p,teamOrEnterpriseId:ie,eventType:V,value:ve}),D({bucket:C,teamOrEnterpriseId:ie,eventType:V,value:ve})})}u(L,"countRawEventsVolumeFromEventLog");function B(W){let{teamId:K,msg:Y}=W;if(!y()||!Y||!Y.type)return;const X=(0,n.getStateByTeamId)(K);var Z;const ie=(Z=(0,r.Kc)(X))!==null&&Z!==void 0?Z:K;D({bucket:p,teamOrEnterpriseId:ie,eventType:Y.type,value:1})}u(B,"countRawEventVolume");function b(){T=void 0,p={},O={},f={},I={},P={},C={},(0,l.Wo)({label:m}).info("Metrics collection sampling has been reset.")}u(b,"resetAllCollections");function R(W){T=void 0,delete p[W],delete O[W],delete f[W],delete I[W],delete P[W],delete C[W],(0,l.Wo)({label:m}).info(`Metrics collection sampling has been reset for id: ${W}`)}u(R,"resetCollections");const z=u(()=>({rawEventCountBuckets:p,eventCountBuckets:O,batchCountBuckets:f,durationBuckets:I,eventLogEventCountBuckets:P,eventLogRawEventCountBuckets:C}),"debugGetBuckets");(0,s.ul)("rtmEventMetrics",{debugGetBuckets:z,debugToggleSampling:()=>{v=!v,b(),(0,l.Wo)({label:m}).info(`Interval sampling: ${v?"ON":"OFF"}`)},debugReportMetrics:()=>{const W=(0,a.F)(),K=W.createMetricsTrace({samplingOptions:{sampleType:_.tS.ALWAYS}});E(K,{}),W.reportTrace(K)}}),Object.defineProperty({resetAllCollections:b,debugGetBuckets:z,reportRtmMetrics:E,intervalSampleCache:T},"intervalSampleCache",{get:()=>T,set:W=>{T=W}})},3945243579:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(5950652755),n=e(796111729);let s=!1;const r=u(i=>{var d;if(!i)return;let _="";const m=i.srcElement||i.target,h=n.Wo&&(0,n.Wo)();if(m&&m.nodeName){if(m.nodeName==="SCRIPT"){const A=m.src;_=`[${i.type||"error"}] from script at ${A} (failed to load?)`}else if(m.nodeName==="IMG"){const A=m.src||m.currentSrc||"unknown";h.warn(`<img> fired error with url = ${A}`);return}}if(i.message==="ResizeObserver loop limit exceeded"||i.message==="ResizeObserver loop completed with undelivered notifications"){h.warn("ResizeObserver observation target modified in handler");return}if(i.message==="can't access dead object"||i.message==="rambox is not defined")return;if(i.error&&i.error.stack&&(_+=` ${i.error.stack}`),i.filename){const A=i.filename,y=i.lineno,p=i.colno;_+=` from ${A}`,y&&(_+=` @ line ${y}, col ${p}`)}let v;if(i.error&&i.error.stack?v=_:v=`${i.message||""} ${_}`,v&&v.replace&&(v=v.replace(/\s+/g," ").trim()),!v||!v.length)if(m){const A=m.nodeName||"unknown";if(A==="VIDEO")return;v=`error event from node of ${A}, no message provided?`}else v="error event fired, no relevant message or node found";v=`\u{1F41E} ${v}`;const T=((d=i.error)===null||d===void 0?void 0:d.subtype)||"js_runtime_error";c({error:i.error||i,msg:v,subtype:T})},"globalErrorHandler");function c(i){const{error:d,msg:_,subtype:m}=i,h={subtype:m};(0,n.Wo)().error(d,_,h)}u(c,"logError");const a=u(i=>{const d=i||window;if(s)return;d.bootGlobalErrorHandler&&(d.removeEventListener("error",d.bootGlobalErrorHandler,!0),d.removeEventListener("unhandledrejection",d.bootGlobalUnhandledRejectionHandler),delete d.bootGlobalErrorHandler,delete d.bootGlobalUnhandledRejectionHandler);const _=!0,m=(0,t.A)(r,1e4);d.addEventListener("error",m,_),d.addEventListener("unhandledrejection",h=>{var v;const T=h==null||(v=h.detail)===null||v===void 0?void 0:v.reason;T&&T instanceof Error&&(T.constructor!==Error||T.subtype)&&r({error:T,filename:"promise_rejection"})}),s=!0},"registerGlobalErrorHandler"),l={globalErrorHandler:r};Object.defineProperty(l,"logError",{get:()=>c,set:i=>{c=i}}),Object.defineProperty(l,"hasRegisteredGlobalErrorHandler",{get:()=>s,set:i=>{s=i}})},7542104324:(x,g,e)=>{"use strict";e.d(g,{dj:()=>xe,d1:()=>Oe,uH:()=>we,bo:()=>Ye,lI:()=>Wt,sw:()=>wt,mt:()=>Gt});var t=e(9706240641),n=e(6422693406),s=e(3398586081),r=e(7715417323),c=e(796111729),o=e(6304789565),a=e(6533394955),l=e(8847766420),i=e(5795074931),d=e(8003339552),_=e(1658558415),m=e(4423055085),h=e(8352634987),v=e(4096483543),T=e(8233775522),A=e(6728003438),y=e(3078252698),p=e(9101533895),f=e(7042557635),O=e(4446301238),I=e(8040098042),P=e(7334104107),C=e(1407713935),M=e(9884588328);function D(ft,yt,bt){return!ft.text||!(P.$2.test(ft.text)||P.Oh.test(ft.text)||P.K0.test(ft.text)||P.y7.test(ft.text))||!(0,p.hh)(bt(),ft.channel)?n.K.resolve():yt((0,f.L)({channelId:ft.channel})).catch(r.A)}u(D,"maybeEnsureMemberCount");let E=function(){var ft=(0,t.coroutine)(function*(yt,bt){const Ht=bt(),ln=u(function(){for(var es=arguments.length,jn=new Array(es),Kn=0;Kn<es;Kn++)jn[Kn]=arguments[Kn];return(0,a.dispatchForTeamId)((0,l.ZT)(Ht),...jn)},"dispatch"),rn=yt.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${yt.type} and subtype: ${yt.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${yt.type}`,Mn=(0,y.A)(yt.channel)&&(0,I.A)(yt.channel)&&!(0,p.hh)(Ht,yt.channel)?ln((0,O.pX)({ids:[yt.channel],reason:rn,callSource:O.aI.EnsureModelObsArePresent})):n.K.resolve();yield n.K.all([Mn,D(yt,ln,bt)]).catch(r.A)});return u(function(bt,Ht){return ft.apply(this,arguments)},"ensureModelObsInMessageArePresent")}();function S(ft,yt){return k.apply(this,arguments)}u(S,"ensureModelObsInMessageAreOpen");function k(){return k=(0,t.coroutine)(function*(ft,yt){if(ft.subtype)return;const bt=!1,Ht=(0,p.OL)(yt(),ft.channel,bt);Ht&&(0,C.JM)(Ht)&&((0,M.nT)(Ht)||(yield(0,a.dispatchForTeamId)((0,l.ZT)(yt()),(0,O.jP)({channel:Ht.id,reason:"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))))}),k.apply(this,arguments)}u(k,"_ensureModelObsInMessageAreOpen");function U(ft,yt){return L.apply(this,arguments)}u(U,"preprocessRtmMessage");function L(){return L=(0,t.coroutine)(function*(ft,yt){if(ft.type==="message")try{yield E(ft,yt),yield S(ft,yt)}catch{}}),L.apply(this,arguments)}u(L,"_preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:D,ensureModelObsInMessageAreOpen:S},"ensureModelObsInMessageArePresent",{get:()=>E,set:ft=>{E=ft}});var b=e(5154341017),R=e(6890312250),z=e(2240330919),w=e(5238395322),W=e(9190452268),K=e(2250002584),Y=e(3158767748),X=e(4798756512),Z=e(2791814261);const ie=7;let Ae;const ae=[],V=[];let ve,be;(0,m.zv)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:ae.concat(ve),backgroundTeams:V.concat(be)}}));const Ue=(0,s.A)(()=>(0,Y.A)(1)||(0,Z.c)());function Re(){let ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!(0,v.A)()||!Ue())return;const yt=Math.floor(Date.now()/1e3);if(Ae!==yt){let bt=0;if(Ae){const Ht=yt-Ae;Ht>60?(ve=void 0,be=void 0,ae.length=0,V.length=0):Ht>1&&(bt=yt-Ae)}if(Ae=yt,ve!==void 0){ae.push(ve),V.push(be);for(let ln=0;ln<bt;ln++)ae.push(0),V.push(0);const Ht=15*60;if(ae.length>=Ht){const ln=(0,W.rh)(),rn=(0,b.A)((0,R.A)(ae),1),Zt=(0,z.A)(ae)||0,Mn=(0,w.A)(ae);(0,c.Wo)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${Mn} total, ${Zt} per second at peak, ${rn} per second average`);const jn={is_count:!0,allow_zero:!0};ln.store(`rtm_nq_at${ie}_avg`,rn,jn),ln.store(`rtm_nq_at${ie}_max`,Zt,jn),ln.store(`rtm_nq_at${ie}_total`,Mn,jn),ae.length=0,V.length=0}}ve=0,be=0}ve=(ve||0)+ft}u(Re,"maybeMeasureEnqueueVelocity");let ge=0,ne=0,ee=Date.now(),F=Date.now();const H=5*60*1e3;function j(ft){const yt=Date.now();ge=Math.max(ge,ft.length),ee+H<yt&&((0,W.rh)().count("rtm_queue_length_max",ge),ge=0,ee=yt)}u(j,"maybeMeasureMaxQueueLength");function N(ft){const bt=ft[0]._enqueuedAt,Ht=Date.now(),ln=bt&&Ht-bt;if(ne=ln?Math.max(ne,ln):ne,F+H<Ht){const rn=(0,K.F)(),Zt=rn.createMetricsTrace({label:"rtm_queue"});Zt.store({name:"rtm_queue_delay_max",value:ne}),rn.reportTrace(Zt),ne=0,F=Ht}}u(N,"maybeMeasureMaxQueueDelay");function J(ft,yt){const bt=(0,K.F)(),Ht=bt.createMetricsTrace({label:"rtm_state_modified",samplingOptions:{sampleType:X.tS.CALL,sampleRate:.01}}),ln=yt?`${ft}/${yt}`:ft;Ht.count({name:`rtm_state_modified:${ln}`}),bt.reportTrace(Ht)}u(J,"countRTMStateModified");var le=e(7578217447),ce=e(5071086688),Ee=e(5470425448),ye=e(4761125736),Ie=e(2681892953),he=e(1369898444);const Ce="RTM",oe=100;let de={};const De=u(function(){let ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return de[`${ft}${yt?`_${yt}`:""}`]||1},"getCurrentMaxBatchSize"),Te=u(function(){let ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;de[`${ft}${yt?`_${yt}`:""}`]=bt},"setCurrentMaxBatchSize"),pe=16;let Me={},ke={},Ke={},Ze={};function Q(ft){var yt;return(yt=ke[ft])!==null&&yt!==void 0?yt:Me[ft]}u(Q,"getHandler");function se(ft){return ft.__isShared}u(se,"isSharedHandler");function He(ft){return ft.teamOrEnterpriseId}u(He,"getTeamOrEnterpriseId");function Ge(ft){let{messages:yt,teamOrEnterpriseId:bt}=ft;if(yt.msgs.length===0)return;const Ht=Q(yt.rtmEventType);if(Ht)return{handler:Ht,messages:yt,teamOrEnterpriseId:bt}}u(Ge,"getRoutedHandler");function Be(ft,yt){if(Ke[ft]){const Ht=isJasmine()||isJest()?`addRtmErrorHandler: duplicate call to add a handler for ${ft}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${ft}`;throw new Error(Ht)}Ke[ft]=yt}u(Be,"addRtmErrorHandler");function we(ft,yt){Xe({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:ft});const bt=Object.assign(yt,{__isShared:!0});ke[ft]=bt}u(we,"addSharedRtmHandler");function xe(ft,yt){Xe({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:ft}),Me[ft]=yt}u(xe,"addBatchRtmHandler");function Oe(ft,yt){xe(ft,(bt,Ht,ln)=>{for(const rn of bt)yt(rn,Ht,ln)})}u(Oe,"addRtmHandler");function Xe(ft){let{functionName:yt,handlersName:bt,rtmEventType:Ht}=ft;if(!Me[Ht]&&!ke[Ht])return;const rn=(0,d.A)()||(0,_.A)()?`${yt}: duplicate call to add a handler for ${Ht}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${bt}', {});\` to work around it.`:`${yt}: a handler is already registered for ${Ht}`;throw new Error(rn)}u(Xe,"throwIfHandlerRegistered");function Ye(ft){return!!Me[ft]}u(Ye,"doesHandlerExist");function dt(){return Me}u(dt,"debugGetHandlers");function mt(){return Ze}u(mt,"debugGetPendingMessages");const it=(0,s.A)(ft=>{var yt;if(!(0,he.M)())return!1;const bt=(yt=(0,a.getStoreInstanceByTeamId)(ft))===null||yt===void 0?void 0:yt.getState();return bt&&(0,ye._Z)(bt,"profile_rtm")==="on"});let At=null,Ot={},Kt=null;function Xt(){Ot={},At=new Profiler({maxBufferSize:1e4,sampleInterval:0}),At.addEventListener("samplebufferfull",u(function(){const yt=this.sampleInterval,bt=Ot;this.stop().then(Ht=>{const ln=performance.timeOrigin;for(const[rn,Zt]of Object.entries(bt)){if(!Zt.length)continue;const Mn=new Date(ln+Zt[0].start),es=new Date(ln+Zt[Zt.length-1].end);(0,Ie.lM)("rtm",rn,(0,he.W)(Ht,Zt),{from:Mn,until:es,sample_interval:yt})}}),Xt()},"samplebufferfull"))}u(Xt,"startProfiling");let vn=!1;function Sn(ft){try{if(vn||!it(ft))return;At||Xt(),Kt=performance.now()}catch(yt){vn=!0,(0,c.Ay)({label:Ce,teamOrEnterpriseId:ft}).warn("Unable to begin profiled section",yt)}}u(Sn,"beginProfiledSection");function jt(ft){!At||Kt===null||(ft in Ot||(Ot[ft]=[]),Ot[ft].push({start:Kt,end:performance.now()}),Kt=null)}u(jt,"endProfiledSection");function hn(ft){const{rtmEventType:yt,rtmEventSubtype:bt,msgs:Ht,fromEvtLog:ln}=ft.messages,rn=He(ft),Zt=(0,c.Ay)({label:Ce,teamOrEnterpriseId:rn});Sn(rn);const Mn=performance.now();try{h.Ay.pauseRefetchIndefinitely();const Kn=ft.handler,Yn=(0,a.getStoreInstanceByTeamId)(ft.teamOrEnterpriseId),wn=Yn==null?void 0:Yn.getState();se(Kn)?Kn(Ht,ft.teamOrEnterpriseId):Kn(Ht,Yn.dispatch,Yn.getState);const Rt=Yn==null?void 0:Yn.getState();wn!==Rt&&J(yt,bt)}catch(Kn){throw Zt.error(`Error processing ${yt}: ${Kn.message}`),Kn}finally{h.Ay.unpauseRefetchImmediately()}const es=performance.now();jt(rn);const jn=es-Mn;try{(0,A.no)({teamOrEnterpriseId:rn,rtmEventType:yt,rtmEventSubtype:bt,duration:jn,msgs:Ht,fromEvtLog:ln}),ce.A.publish({type:Ee.lx.RtmMetrics,update:jn})}catch{}if(jn>pe){let Kn=`Processed ${Ht.length} ${yt}`;bt&&(Kn+=`:${bt}`),Kn+=" event(s)";const Yn=[];Ht.forEach(wn=>{var Rt;const je=(Rt=wn)===null||Rt===void 0?void 0:Rt.channel;je&&Yn.push(je)}),Yn.length&&(Kn+=` in channel(s) ${Yn.join(",")}`),Kn+=` over ${jn.toFixed(2)}ms`,Zt.info(Kn)}}u(hn,"dispatchMessages");const xt=50,Dn=100,St=.75,dn=1.1;function fn(ft){return ft>xt}u(fn,"shouldDefer");function un(ft){return _n.apply(this,arguments)}u(un,"preprocessRtmMessagesWithTimeout");function _n(){return _n=(0,t.coroutine)(function*(ft){let{msgs:yt,getState:bt}=ft;const Ht={},ln=3e4,rn=n.S.delay(ln,Ht),Zt=n.S.map(yt,es=>U(es,bt).catch(r.A),{concurrency:1});(yield n.S.race([Zt,rn]))===Ht&&(0,c.Ay)({getState:bt}).warn("Preprocessing messages took too long; continue to process queue")}),_n.apply(this,arguments)}u(_n,"_preprocessRtmMessagesWithTimeout");function tn(ft){return nn.apply(this,arguments)}u(tn,"routeMessages");function nn(){return nn=(0,t.coroutine)(function*(ft){let{messages:yt,teamOrEnterpriseId:bt,elapsed:Ht}=ft;const ln=Ge({messages:yt,teamOrEnterpriseId:bt});return!ln||qt(bt)?Ht:An({routedHandler:ln,elapsed:Ht})}),nn.apply(this,arguments)}u(nn,"_routeMessages");function An(ft){return yn.apply(this,arguments)}u(An,"dispatchMessagesWithPreprocessing");function yn(){return yn=(0,t.coroutine)(function*(ft){let{routedHandler:yt,elapsed:bt}=ft;const Ht=performance.now(),ln=(0,a.getStoreInstanceByTeamId)(yt.teamOrEnterpriseId);yield un({msgs:yt.messages.msgs,getState:ln.getState});const rn=performance.now();hn(yt);let Zt=bt;return rn-Ht>xt&&(Zt=0),Zt+=performance.now()-rn,Zt}),yn.apply(this,arguments)}u(yn,"_dispatchMessagesWithPreprocessing");function sn(ft){return Nn.apply(this,arguments)}u(sn,"handleNextMessageFromQueue");function Nn(){return Nn=(0,t.coroutine)(function*(ft){let{queue:yt,teamOrEnterpriseId:bt,elapsed:Ht=0}=ft;for(var ln;yt&&yt.length>0&&!(!((ln=yt[0])===null||ln===void 0)&&ln.type);)yt.shift();if(!yt||!yt.length)return n.S.resolve();const rn=(0,c.Ay)({teamOrEnterpriseId:bt,label:Ce});try{j(yt),N(yt)}catch{}const Zt=yt[0].type,Mn=yt[0].subtype,es=(0,le.Wu)(yt[0]);let jn=De(Zt,Mn);const Kn=[yt[0]],Yn=[];for(let st=1;st<yt.length&&Kn.length<jn&&Yn.length<jn;st++)if(yt[st].type===Zt&&yt[st].subtype===Mn)Kn.push(yt[st]);else if(le.Sj.has(yt[st].type))Yn.push(yt[st]);else break;const wn=Kn.length;wn>1&&rn.debug(Ce,`Batch processing ${wn} of type ${Zt}, skipping ${Yn.length} interleaved events ${Yn.map(st=>st.type).join(",")}`);let Rt=Ht;try{Rt=yield tn({messages:{rtmEventType:Zt,rtmEventSubtype:Mn,msgs:Kn,fromEvtLog:es},teamOrEnterpriseId:bt,elapsed:Rt})}catch(st){rn.error(`Error while processing ${wn} ${Zt} event(s)`,st)}finally{wn!==Kn.length&&(rn.error(`Message batch size for type (${Zt}) changed during handling`),rn.warn(`Original batch size: ${wn} Post-handler batch size: ${Kn.length}`));const st=wn+Yn.length;yt.splice(0,st,...Yn)}const je=fn(Rt),qe=document.visibilityState==="visible";return jn=De(Zt,Mn),qe&&(je?jn>1&&Rt>Dn&&(Te(Zt,Mn,Math.max(1,Math.floor(jn*St))),rn.debug(Ce,`Maximum batch size decreased to ${De(Zt,Mn)}`)):jn<oe&&Kn.length===jn&&(Te(Zt,Mn,Math.min(oe,Math.ceil(jn*dn))),rn.debug(Ce,`Maximum batch size increased to ${De(Zt,Mn)}`))),yt.length?qe&&je?n.S.delay(xt).then(()=>{Ct(bt)}):sn({queue:yt,teamOrEnterpriseId:bt,elapsed:Rt}):n.S.resolve()}),Nn.apply(this,arguments)}u(Nn,"_handleNextMessageFromQueue");let Ve=0,$e,Et=100;function It(){let ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,c.Wo)();if($e)return;const yt=Date.now()-Ve;if(yt<Et){const bt=Math.min(Et-yt,Et),Ht=(0,v.A)()&&!(0,T.ko)((0,a.getStateForClientStore)());Ht&&ft.info(Ce,`Setting a timeout of ${bt} ms to process more rtm events`),$e=window.setTimeout(()=>{$e=void 0,Ht&&ft.info(Ce,`Waited ${bt} ms, processing more rtm events now`),Tt()},bt);return}Tt()}u(It,"maybeDrainQueues");function Tt(){Ve=Date.now(),u(()=>{const yt=Object.keys(Ze);for(const bt of yt)Ct(bt)},"drainQueuesFn")()}u(Tt,"drainQueues");function Ct(ft){!Ze[ft]||!Ze[ft].length||sn({queue:Ze[ft],teamOrEnterpriseId:ft})}u(Ct,"drainQueue");function Wt(ft,yt){let bt=0;const Ht=yt.filter(Zt=>Zt!=null&&Zt.type?((0,le.Wu)(Zt)||(bt+=1),!0):((0,c.Ay)({teamOrEnterpriseId:ft,label:Ce}).warn("Received attempt to enqueue an invalid message; dropping it",Zt),!1));try{Re(bt)}catch{}Ze[ft]=Ze[ft]||[];const ln=Ze[ft].length,rn=Date.now();for(const Zt of Ht)Zt._enqueuedAt=rn;Ze[ft].push(...Ht),!ln&&Ze[ft].length>0&&It()}u(Wt,"enqueueMessages");const Gt=(0,o.Ay)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(ft,yt,bt)=>{const Ht=(0,l.ZT)(yt()),ln=Ge({messages:{rtmEventType:bt.type,rtmEventSubtype:bt.subtype,msgs:[bt],fromEvtLog:(0,le.Wu)(bt)},teamOrEnterpriseId:Ht});ln&&hn(ln)});Gt.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const wt=(0,o.Ay)("Calls the relevant handler for the given message",(ft,yt,bt)=>{if(!Ke[bt]){if(bt&&bt.includes&&bt.includes("started_with_org_token")){var Ht;(0,c.Ay)({getState:yt}).error(new Error(`Unexpected start error: ${bt}`),JSON.stringify({error:bt,pathname:window==null||(Ht=window.location)===null||Ht===void 0?void 0:Ht.pathname}),{subtype:"gs_start_error"})}else(0,c.Ay)({getState:yt}).error(new Error(`Unexpected start error: ${bt}`),JSON.stringify({error:bt}),{subtype:"gs_start_error"});return}Ke[bt](bt,ft,yt)});wt.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function qt(ft){const yt=(0,a.getStateByTeamId)(ft);return(0,i.wx)(yt)&&!(0,i.$U)(yt)}u(qt,"shouldIgnoreRtmStream");const Yt=(0,o.Ay)("Fake an RTM event for testing only",(ft,yt,bt)=>{const Ht=(0,l.ZT)(yt()),ln=Ge({messages:{rtmEventType:bt[0].type,rtmEventSubtype:bt[0].subtype,msgs:bt,fromEvtLog:(0,le.Wu)(bt[0])},teamOrEnterpriseId:Ht});ln&&hn(ln)});Yt.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const In={handleNextMessageFromQueue:sn,shouldIgnoreRtmStream:qt,errorHandlers:Ke,handlers:Me,sharedHandlers:ke,currentMaxBatchSize:de,drainQueues:Tt,drainQueue:Ct,maybeDrainQueues:It,queueDrainTimeout:$e,lastQueueDrainTimestamp:Ve,pendingMessages:Ze};Object.defineProperty(In,"handleNextMessageFromQueue",{get:()=>sn,set:ft=>{sn=ft}}),Object.defineProperty(In,"errorHandlers",{get:()=>Ke,set:ft=>{Ke=ft}}),Object.defineProperty(In,"handlers",{get:()=>Me,set:ft=>{Me=ft}}),Object.defineProperty(In,"sharedHandlers",{get:()=>ke,set:ft=>{ke=ft}}),Object.defineProperty(In,"currentMaxBatchSize",{get:()=>de,set:ft=>{de=ft}}),Object.defineProperty(In,"drainQueues",{get:()=>Tt,set:ft=>{Tt=ft}}),Object.defineProperty(In,"drainQueue",{get:()=>Ct,set:ft=>{Ct=ft}}),Object.defineProperty(In,"maybeDrainQueues",{get:()=>It,set:ft=>{It=ft}}),Object.defineProperty(In,"queueDrainTimeout",{get:()=>$e,set:ft=>{$e=ft}}),Object.defineProperty(In,"lastQueueDrainTimestamp",{get:()=>Ve,set:ft=>{Ve=ft}}),Object.defineProperty(In,"pendingMessages",{get:()=>Ze,set:ft=>{Ze=ft}}),(0,m.ul)("rtm",{handlers:Me,errorHandlers:Ke,interceptHandler:(ft,yt)=>{const bt=Me[ft];Me[ft]=function(){for(var Ht=arguments.length,ln=new Array(Ht),rn=0;rn<Ht;rn++)ln[rn]=arguments[rn];yt(bt,...ln)}},getPendingMessages:()=>Ze,globalQueue:{drainQueues:Tt,drainQueue:Ct,maybeDrainQueues:It,getCurrentMaxBatchSize:()=>de,setCurrentMaxBatchSize:ft=>{de=ft},setQueueDrainInterval:ft=>{Et=ft}}})},5387083734:(x,g,e)=>{"use strict";e.d(g,{IE:()=>v});var t=e(862210999),n=e(4518410378),s=e(796111729),r=e(4473827453),c=e.n(r),o;(function(T){T.Background="background",T.UserVisible="user-visible",T.UserBlocking="user-blocking"})(o||(o={}));const a=(0,s.Wo)({label:"SCHEDULER"}),l="scheduler"in n.J&&(0,t.A)(n.J.scheduler.postTask),i=50;let d=0,_=null;const m=u((T,A)=>{let{label:y,priority:p,delay:f}=A;if(!l)return T();d+=1;const O=performance.now();return n.J.scheduler.postTask(()=>{const I=performance.now(),P=I-O,C=_?I-_:0;_=I,P-f>i&&a.debug(`${y} task (${p}) executed with delay of ${Math.round(P)}ms and a configured delay of ${f}ms - time since last task: ${C}ms - Task queue length: ${d}`);const D=T();return d-=1,D},{priority:p,delay:f})},"runWithPriority"),h=u(()=>{if(l)return d},"getTaskQueueLength"),v=u((T,A,y)=>m(A,{label:T,priority:o.Background,delay:(y==null?void 0:y.delay)||0}),"runWithBackgroundPriority")},2180140255:(x,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(3134334389),n=e(5255740490),s=e(1251564078),r=e(3202757386),c=e(735940183),o=e(268083624),a=e(1610251172),l=e(6084388622),i=e(5249175977),d=e(9874616273),_=e(5057176955),m=e(2786906754);function h(){return h=Object.assign||function(p){for(var f=1;f<arguments.length;f++){var O=arguments[f];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(p[I]=O[I])}return p},h.apply(this,arguments)}u(h,"_extends");const v=new c.Ay("find_team");function T(p,f){if((0,r.A)())return(0,m.M6)(location.href,"locale",f);const O=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return p==="en-us"?O:`/intl/${p}${O}`}u(T,"getUrlForLocale");let A=u(class extends t.Component{render(){const{hideRegionPicker:f,showLogo:O,govSlackTheme:I,joinerRedesignTreatment:P}=this.props,C=(0,n.A)("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":I}),M=(0,n.A)("full_width",{"p-refreshed_page__full_width_footer":P}),D=t.createElement("footer",{className:"p-refreshed_page__footer"},t.createElement(l.jV,{href:(0,s.v)("/legal"),className:C,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},v.rt("Privacy & Terms")),t.createElement(l.jV,{href:(0,s.v)("/help/requests/new"),className:C,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},v.rt("Contact Us")),!f&&t.createElement(i.Wv,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:E=>t.createElement(i.AM,h({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:v.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0},E),t.createElement("div",{className:"p-refreshed_page__footer_locales"},t.createElement("div",{className:"bold margin_bottom_50"},v.rt("Change region")),t.createElement("div",{className:"margin_bottom_100"},v.rt("Selecting a different region will change the language and content of Slack.com.")),t.createElement("div",{className:"display_flex"},[{title:v.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:v.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:v.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(S=>{let{title:k,locales:U}=S;return t.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:k},t.createElement("div",{className:"bold margin_bottom_50"},k),U.map(L=>{let{locale:B,geocode:b,name:R}=L;return t.createElement(l.jV,{key:B,href:T(b,B),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:B,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:B,geocode:b})},R)}))}))))},t.createElement("div",null,t.createElement(l.jV,{onClick:this.onClickChangeRegion,href:"#",className:C,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.createElement(a.A,{type:"globe",size:"inherit",className:"margin_right_25"}),v.rt("Change region"),t.createElement(a.A,{type:"chevron-medium-down",size:"inherit"})))));return t.createElement("div",{className:M},t.createElement("div",{className:(0,n.A)("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":I})},t.createElement(t.Fragment,null,O&&t.createElement(d.A,{width:80,height:20,className:"p-app_slack_logo"}),D)))}constructor(f){super(f),this.onClickChangeRegion=O=>{O.preventDefault()},this.onClickLocale=O=>{let{locale:I,geocode:P}=O;return()=>{const C=(0,_.LL)((0,o.v8)("c")||"")||{};C.geocode=P;const M=(0,_.Zf)(C,{space:""});(0,o.n0)("i18n_locale",I,365*10,"slack.com"),M&&(0,o.n0)("c",M,365*10,"slack.com")}},this.popoverTriggerRef=t.createRef(),this.state={}}},"RefreshedFooter");A.displayName="RefreshedFooter";const y=A},2308565927:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(5255740490);const s=u(c=>{let{children:o,heading:a,subHeading:l,titleImage:i,headingClassName:d,subHeadingClassName:_,dataQa:m,showFullWidthContent:h,className:v,isSharedWorkspaceInvite:T}=c;return t.createElement("div",{className:(0,n.A)("p-refreshed_page",{"p-refreshed_page--workspace":T,full_width:h},v),"data-qa":m},i&&i,a&&t.createElement("h1",{className:(0,n.A)("p-refreshed_page__heading",d,{margin_bottom_200:!l,full_width:h,"p-refreshed_page__heading--workspace":T})},a),l&&t.createElement("div",{className:(0,n.A)("p-refreshed_page__sub_heading",_,{full_width:h})},l),o)},"RefreshedPageContent");s.displayName="RefreshedPageContent";const r=s},9539184071:(x,g,e)=>{"use strict";e.d(g,{A:()=>L});var t=e(3134334389),n=e(2301861866),s=e.n(n),r=e(5255740490),c=e(6764196364),o=e(735940183),a=e(8739505998),l=e(6176558010),i=e(2527471159),d=e.n(i),_=e(7972463975),m=e.n(_),h=e(9994038664),v=e.n(h),T=e(8214116048);const A=new o.Ay("refreshed_header"),y={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},p={elementName:"header_signin",onClick:{enableClogAction:!0}},f={elementName:"header_create_account",onClick:{enableClogAction:!0}},O={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},I=d()&&m()?`${d()}, ${m()} 2x`:void 0,C=u(B=>{let{showSignInLink:b=!1,showCreateAccountLink:R=!1,showCreateWorkspaceLink:z=!1,showHorchataBackground:w=!1,confirmedEmailPill:W,hideLogo:K=!1,isSSBBrowserSignin:Y=!1,showSfLogo:X=!1,isWarningBannerDisplayed:Z=!1,govSlackTheme:ie=!1,isLandingPage:Ae=!1,clientTheme:ae,joinerRedesignTreatment:V=!1}=B;return t.createElement("header",{className:(0,r.A)("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!W,"p-refreshed_page__header--is_horchata_landing_bg":w,"p-refreshed_page__header--no_logo":!!K,"p-refreshed_page__header--sf_slack_logo":X,"p-refreshed_page__header--display_warning_banner":Z,"p-refreshed_page__header--gov_slack":ie,"p-refreshed_page__header--landing":Ae,"p-refreshed_page__full_background":V})},t.createElement("div",{className:"left-col"}),t.createElement("div",{className:"center-col"},X&&K&&t.createElement("img",{srcSet:I??void 0,src:d(),alt:""}),!K&&t.createElement(a.A,{href:(0,c.A)(),autoClogProps:y,target:"_self"},t.createElement("img",{alt:"Slack",src:ie||ae===T.Sx.Dark?v():s(),height:"26",title:"Slack"})),W),t.createElement("div",{className:"right-col"},b&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},A.t("Already have an account?"),t.createElement("br",null),t.createElement(a.A,{href:"/signin",className:"bold",autoClogProps:p,target:"_self"},A.t("Sign in instead"))),R&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},A.t("Don\u2019t have an account yet?"),t.createElement("br",null),t.createElement(a.A,{href:`/signup${window.location.search}`,className:"bold",autoClogProps:f,target:"_self"},A.t("Create an account"))),z&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},A.t("New to Slack?",{fallbackHash:"2f63cb0ff8e7e3d18574aa36be246a7723cef6fc"}),t.createElement("br",null),t.createElement(a.A,{href:`${Y?"/ssb":""}/get-started${window.location.search}#${l.EU.CreateNew}`,className:"bold",autoClogProps:O,target:"_self"},A.t("Create an account")))))},"RefreshedHeader");var M=e(2180140255),D=e(8178126019),E=e(7216810781);const S=u(B=>{let{inviteDetails:b,children:R}=B;return!b||!(0,D.YB)(b)?R:t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},t.createElement(E.z,{invite:b,bottomMargin:!0}),t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},R))},"ExternalWorkspaceInviteBrandingWrapper");S.displayName="ExternalWorkspaceInviteBrandingWrapper";const k=S,U=u(B=>{let{children:b,showHorchataBackground:R,showSignInLink:z,showCreateAccountLink:w,showCreateWorkspaceLink:W,hideRegionPicker:K,clientTheme:Y,hideFooter:X=!1,confirmedEmailPill:Z,hideHeader:ie=!1,isSSBBrowserSignin:Ae=!1,showSfLogo:ae=!1,isWarningBannerDisplayed:V=!1,govSlackTheme:ve=!1,isLandingPage:be=!1,joinerRedesignTreatment:Ue=!1,inviteDetails:Re}=B;return t.createElement(k,{inviteDetails:Re},t.createElement(t.Fragment,null,!ie&&t.createElement(C,{showSignInLink:z,showCreateAccountLink:w,showCreateWorkspaceLink:W,showHorchataBackground:R,confirmedEmailPill:Z,isSSBBrowserSignin:Ae,showSfLogo:ae,hideLogo:ae,isWarningBannerDisplayed:V,govSlackTheme:ve,isLandingPage:be,clientTheme:Y,joinerRedesignTreatment:Ue}),ve?t.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},b):b,!X&&t.createElement(M.A,{hideRegionPicker:K,govSlackTheme:ve,joinerRedesignTreatment:Ue})))},"RefreshedPageLayout");U.displayName="RefreshedPageLayout";const L=U},6176558010:(x,g,e)=>{"use strict";e.d(g,{EU:()=>n});var t=e(1224315998),n;(function(a){a.Start="/",a.Find="/find",a.Create="/create",a.CreateNew="/createnew",a.Confirm="/confirm",a.Check="/check",a.FindAgain="/find_again",a.Email="/email",a.Error="/error",a.ConfirmationCode="/confirmemail",a.DomainClaimed="/domain",a.Landing="/landing",a.ConfirmTrust="/confirmtrust",a.IgnoreInvite="/ignoreinvite",a.SignIn="/signin",a.Workspaces="/workspaces",a.SharedInviteLoggedOut="/sharedinvite",a.SharedInviteLanding="/sharedinvitelanding",a.SelectWorkspaces="/select",a.AppleSignIn="/apple",a.AddName="/addname"})(n||(n={}));var s;(function(a){a.SharedChannelInviteAlreadyAccepted="invite_used",a.SharedChannelInviteInvlidLink="invalid_link",a.DirectMessageInviteInactive="inactive_invite",a.Generic="generic"})(s||(s={}));const r={[n.Start]:t.UiStep.START_WITH_A_WORKSPACE,[n.Create]:t.UiStep.CREATE_NEW_WORKSPACE,[n.CreateNew]:t.UiStep.CREATE_NEW_WORKSPACE,[n.Find]:t.UiStep.FIND_YOUR_WORKSPACE,[n.Check]:t.UiStep.CHECK_YOUR_EMAIL,[n.FindAgain]:t.UiStep.FIND_YOUR_WORKSPACE,[n.Email]:t.UiStep.ENTER_EMAIL,[n.Confirm]:t.UiStep.ENTER_EMAIL,[n.Error]:t.UiStep.GET_STARTED_ERROR,[n.ConfirmationCode]:t.UiStep.GET_STARTED_CONFIRM_CODE,[n.DomainClaimed]:t.UiStep.GET_STARTED_DOMAIN_CLAIMED,[n.Landing]:t.UiStep.GET_STARTED_CREATOR_LANDING,[n.SignIn]:t.UiStep.GET_STARTED_SIGN_IN,[n.Workspaces]:t.UiStep.GET_STARTED_WORKSPACES,[n.SharedInviteLoggedOut]:t.UiStep.SHARED_INVITE_LOGGED_OUT,[n.SharedInviteLanding]:t.UiStep.SHARED_INVITE_LANDING,[n.SelectWorkspaces]:t.UiStep.GET_STARTED_SELECT_WORKSPACES,[n.AppleSignIn]:t.UiStep.GET_STARTED_APPLE_SIGN_IN,[n.ConfirmTrust]:t.UiStep.GET_STARTED_CONFIRM_TRUST,[n.IgnoreInvite]:t.UiStep.GET_STARTED_IGNORE_INVITE,[n.AddName]:t.UiStep.GET_STARTED_ADD_NAME};var c;(function(a){a.Invited="invited",a.Joined="joined",a.Whitelisted="whitelisted"})(c||(c={}));var o;(function(a){a.Email="email",a.GoogleIdToken="google_id_token",a.Apple="apple_id_token"})(o||(o={}))},3700949338:(x,g,e)=>{"use strict";e.d(g,{$:()=>n,A:()=>t});function t(s){return s>=48&&s<=57}u(t,"isNumericKey");function n(s){const r=String.fromCharCode(s);return!!/[a-zA-Z0-9]/.test(r)}u(n,"isAlphaNumericKey")},7520119303:(x,g,e)=>{"use strict";e.d(g,{K_:()=>f,XR:()=>y,yb:()=>p});var t=e(735940183),n=e(7909758472),s=e(7940058138),r=e(796111729),c=e(4465846026),o=e(7100005318),a=e(760547858);const l=new t.Ay("channel_sidebar"),i=new t.Ay("app_launcher"),d=new t.Ay("setup_page"),_=new t.Ay("client"),m=new t.Ay("search"),h=new t.Ay("solution_guide"),v=new t.Ay("tenured_team_solutions"),T={[s.c.Composer]:()=>l.t("New message"),[s.c.Drafts]:()=>l.t("Drafts & sent"),[s.c.ScheduledMessages]:()=>l.t("Scheduled",{ns:"channel_sidebar"}),[s.c.Sent]:()=>l.t("Sent"),Pthread:()=>l.t("Thread"),[s.c.Empty]:()=>{},[s.c.Unreads]:()=>l.t("Unreads"),[s.c.Apps]:()=>i.t("Apps",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[s.c.Shortcuts]:()=>i.t("Workflows",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[s.c.BrowseWorkflowsManagedByYou]:O=>(0,c.oF)(O)?l.t("Workflows managed by you"):"",[s.c.BrowseYourWorkflowTemplates]:()=>l.t("Your workflow templates"),[s.c.BrowseWorkflowTemplates]:()=>i.t("Templates",{fallbackHash:"f25b700ed9f092123a43acb205a6869342cf9dd6",fallbackHashNs:"workflow_builder"}),[s.c.Activity]:()=>l.t("Activity"),[s.c.Saved]:()=>l.t("Saved items"),[s.c.PaidBenefits]:()=>l.t("Paid Plan Benefits"),[s.c.BrowseChannels]:()=>l.t("All channels"),[s.c.SetupTeamName]:()=>d.t("Setup Team Name"),[s.c.SetupProfile]:()=>d.t("Profile"),[s.c.SetupChannels]:()=>d.t("Setup Channels"),[s.c.SetupInvites]:()=>d.t("Setup Invites"),[s.c.SetupCalendarContactImport]:()=>"Setup Contact Import",[s.c.SetupTada]:()=>"Setup Tada",[s.c.SetupWelcome]:()=>d.t("Setup Welcome"),[s.c.SetupPeople]:()=>d.t("Setup People"),[s.c.SetupStraightToPaidPlans]:()=>d.t("Setup Plans"),[s.c.JoinerLaunchpad]:()=>l.t("Get started"),[s.c.ResurrectedUserWelcome]:()=>l.t("Welcome back"),[s.c.SolutionGuide]:O=>(0,o.qV)(O)?h.t("Set up your workspace"):"",[s.c.TenuredTeamSolutions]:O=>(0,a.OO)(O)?v.t("Tips for how you work"):"","Pbrowse-channels-prototype":()=>l.t("All channels"),[s.c.BrowseFiles]:()=>m.t("All files"),[s.c.Calendar]:O=>(0,n.A)(O)?l.t("Calendar"):"",[s.c.BrowsePeople]:()=>l.t("All people"),[s.c.BrowseExternalContacts]:()=>l.t("External people"),[s.c.BrowseUserGroups]:()=>l.t("User groups"),[s.c.BrowseExternalWorkspaces]:()=>l.t("Spaces",{fallbackHash:"9486bd3487a34fb3b120cb47d5b2180f456c9f80"}),[s.c.AllDms]:()=>l.t("Direct messages"),[s.c.Search]:()=>_.t("Search Results",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049",fallbackHashNs:"search"}),[s.c.SlackConnect]:()=>l.t("Slack Connect"),[s.c.SlackConnectInvitation]:()=>l.t("Slack Connect Invitation"),[s.c.OfflineOutbox]:()=>"Offline outbox",[s.c.Huddles]:()=>l.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33",fallbackHashNs:"page_huddles"}),[s.c.BrowseHuddles]:()=>l.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33",fallbackHashNs:"page_huddles"}),[s.c.Today]:()=>"Today",[s.c.Later]:()=>l.t("Later"),[s.c.BrowseOrgChart]:()=>m.t("Org chart"),"Pasync-modals":()=>"Modals",[s.c.BrowseCanvases]:()=>l.t("Canvases"),[s.c.BrowseLists]:()=>"Lists",[s.c.Todos]:()=>"Todos",[s.c.Recents]:()=>m.t("Recently viewed"),[s.c.DailyDigest]:()=>l.t("Recap"),[s.c.ActionItems]:()=>l.t("Action items"),[s.c.Inbox]:()=>l.t("Activity"),[s.c.BrowseUnifiedFiles]:()=>l.t("Docs"),[s.c.BrowseUnifiedFilesCanvases]:()=>l.t("Canvases"),[s.c.BrowseUnifiedFilesLists]:()=>l.t("Lists",{fallbackHash:"57c9502a7d7d48fd4a86b45fefb2b163491c3ae1",fallbackHashNs:"search"})},A={Pdms:()=>l.t("All direct messages")};function y(O){return!O||!T[O]?((0,r.Wo)().error(`getLabelFunctionForPage called with invalid pageId: ${O}`),null):T[O]}u(y,"getLabelFunctionForPage");const p=u((O,I)=>y(I.id)(O),"getPageLabel");function f(O){if(O)return A[O]}u(f,"getAriaLabelFunctionForPage")},4066669727:(x,g,e)=>{"use strict";e.d(g,{KH:()=>U,MC:()=>R,PL:()=>b,SV:()=>L,a$:()=>E,gO:()=>S});var t=e(9706240641),n=e.n(t),s=e(7542104324),r=e(2141099977),c=e(8802876335),o=e(796111729),a=e(6533394955),l=e(1345902898),i=e(8778137680),d=e(5795074931),_=e(7592559649),m=e(4949104520),h=e(6066600258),v=e(9240258658),T=e(6304789565),A=e(5332875232);const y="AWARENESS-MANAGER",p="AWARENESS-MANAGER-CHIME",f=`[${y}] unknown awareness subtype`,O=3e4,I=250,P=5e3,C=15,M=(0,T.Ay)("Query for awareness state from other users who are subscribed to the topic",function(){var w=(0,t.coroutine)(function*(W,K,Y){const X=K();if(!(0,c.ON)(X))return;const Z=(0,d.WR)(X),ie={channel:Y,type:"awareness",subtype:l.Pz.QUERY,user:Z};try{W((0,r.tN)(ie))}catch(Ae){(0,o.Ay)({getState:K}).warn("Failed to send awareness query: ",Ae)}});return function(W,K,Y){return w.apply(this,arguments)}}());M.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const D=(0,T.Ay)("Send awareness state to other users who are subscribed to the topic",function(){var w=(0,t.coroutine)(function*(W,K,Y){const X=K();if(!(0,c.ON)(X))return;const Z=(0,d.WR)(X),ie=(0,_.fL)(X,Y,Z),Ae={channel:Y,type:"awareness",subtype:l.Pz.BROADCAST,user:Z,awareness_state:ie};try{W((0,r.tN)(Ae))}catch(ae){(0,o.Ay)({getState:K}).warn("Failed to send awareness query: ",ae)}});return function(W,K,Y){return w.apply(this,arguments)}}());D.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const E=(0,T.Ay)("Temporarily subscribe to a topic for updates",(w,W,K)=>{const Y=W();if((0,c.ON)(Y))try{w((0,r.tN)({channel_id:K,type:"temp_channel_sub"}))}catch(X){(0,o.Ay)({getState:W}).warn("Failed to subscribe to awareness topic: ",X)}});E.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const S=(0,T.Ay)("Temporarily unsubscribe from topic updates",(w,W,K)=>{const Y=W();if((0,c.ON)(Y))try{w((0,r.tN)({channel_id:K,type:"temp_channel_unsub"}))}catch(X){(0,o.Ay)({getState:W}).warn("Failed to unsubscribe from awareness topic: ",X)}});S.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const k=(0,T.Ay)("Alert other users who are subscribed to the topic that a subscriber has left",function(){var w=(0,t.coroutine)(function*(W,K,Y){const X=K();if(!(0,c.ON)(X))return;const Z=(0,d.WR)(X),ie={channel:Y,type:"awareness",subtype:l.Pz.CLOSE,user:Z};try{W((0,r.tN)(ie))}catch(Ae){(0,o.Ay)({getState:K}).warn("Failed to send awareness query: ",Ae)}});return function(W,K,Y){return w.apply(this,arguments)}}());k.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class U{maybeSendCurrentAwarenessState(W){const K=(0,a.getStoreInstanceByTeamId)(this.teamId);return K?(K.dispatch(D(W)),!0):!1}maybeSendAwarenessQuery(W){const K=(0,a.getStoreInstanceByTeamId)(this.teamId);return K?(K.dispatch(M(W)),!0):!1}maybeSendAwarenessCloseState(W){const K=(0,a.getStoreInstanceByTeamId)(this.teamId);return K?(K.dispatch(k(W)),!0):!1}constructor({teamId:W}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=W}}u(U,"RtmBroadcaster");class L{onDisconnectDataChannel(){var W;(W=this.audioVideoFacade)===null||W===void 0||W.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(W){this.audioVideoFacade=W,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,(0,o.Wo)().warn(p,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(W){}maybeSendCurrentAwarenessState(W){var K;if(!this.connected)return(0,o.Wo)().info(p,`${this.connected} ${W} Can't send yet, not connected`),!1;const Y=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!Y)return(0,o.Wo)().warn(p,`${this.connected} ${W} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const X=Y.getState(),Z=(0,d.WR)(X);Y.dispatch((0,i.c6)({topicId:W,userId:Z}));const ie=(0,A.pL)(X),ae=(0,_.fL)(X,W,Z,ie?"self":void 0).map(ve=>new v.Y.AwarenessPayload({fieldName:ve.field_name,fieldValue:ve.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!ve.field_timestamp_ms&&{fieldTimestampMs:ve.field_timestamp_ms}})),V=new v.Y.AwarenessBroadcast({channel:W,user:(0,d.WR)(Y.getState()),awarenessState:ae});return(K=this.audioVideoFacade)===null||K===void 0||K.realtimeSendDataMessage(this.dataChannelTopic,v.Y.encode(new v.Y({awarenessBroadcast:V})).finish()),!0}maybeSendAwarenessQuery(W){var K;if(!this.connected)return(0,o.Wo)().info(p,`${this.connected} ${W} Can't send yet, not connected`),!1;(0,o.Wo)().warn(p,`${this.connected} ${W} Sending awareness query`);const Y=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!Y)return(0,o.Wo)().warn(p,`${this.connected} ${W} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const X=new v.Y.AwarenessQuery({channel:W,user:(0,d.WR)(Y.getState())});return(K=this.audioVideoFacade)===null||K===void 0||K.realtimeSendDataMessage(this.dataChannelTopic,v.Y.encode(new v.Y({awarenessQuery:X})).finish()),!0}maybeSendAwarenessCloseState(W){var K;if(!this.connected)return(0,o.Wo)().info(p,`${this.connected} ${W} Can't send yet, not connected`),!1;(0,o.Wo)().warn(p,`${this.connected} ${W} Sending awareness query`);const Y=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!Y)return(0,o.Wo)().warn(p,`${this.connected} ${W} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const X=new v.Y.AwarenessClose({channel:W,user:(0,d.WR)(Y.getState())});return(K=this.audioVideoFacade)===null||K===void 0||K.realtimeSendDataMessage(this.dataChannelTopic,v.Y.encode(new v.Y({awarenessClose:X})).finish()),!0}constructor({teamId:W,peerId:K,topicId:Y,isHuddlesAwarenessTimestampEnabled:X}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=W,this.peerId=K,this.connected=!1,this.topicId=Y,this.isHuddlesAwarenessTimestampEnabled=!!X}}u(L,"ChimeChannelBroadcaster");class B{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(K=>{(0,o.Wo)().debug(y,`Running TTL for ${K}`);const Y=(0,a.getStoreInstanceByTeamId)(K);Y&&Y.dispatch((0,i._y)())}),this.watchedTopics.size===0&&((0,o.Wo)().info(y,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const W=(0,m.A)(C,-.25,.25);this.dirtyTopics.forEach(K=>{(0,h.A)(()=>{const Y=this.dataChannels.get(K);Y&&Y.maybeSendCurrentAwarenessState(K)&&this.dirtyTopics.delete(K)},W)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&((0,o.Wo)().info(y,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(W=>{const K=this.dataChannels.get(W);K&&K.maybeSendCurrentAwarenessState(W)&&this.dirtyTopics.delete(W)}),this.watchedTopics.size===0&&((0,o.Wo)().info(y,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(W=>{if(this.topicToTeamMap.get(W)){const Y=this.dataChannels.get(W);Y&&Y.maybeSendAwarenessQuery(W)&&this.dirtyTopics.delete(W)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(W){if(!this.watchedTopics.has(W)){(0,o.Wo)().info(y,`Ignoring topic change for unwatched topic ${W}`);return}this.dirtyTopics.add(W),this.dirtyBroadcastTimeoutId||((0,o.Wo)().info(y,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),I)),this.perodicBroadcastTimeoutId||((0,o.Wo)().info(y,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),O)),this.periodicTTLId||((0,o.Wo)().info(y,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),P))}removeTopicId(W){this.dirtyTopics.delete(W),this.watchedTopics.delete(W)}watch(W,K,Y){this.watchedTopics.add(K),this.topicToTeamMap.set(K,W),this.dataChannels.set(K,Y),this.markTopicChanged(K),this.query()}unwatch(W){this.broadcastChanges(),this.removeTopicId(W)}unwatchAll(){if(this.watchedTopics.size){const W=[...this.watchedTopics].join(" ");(0,o.Wo)().warn(y,`Clearing unexpected remaining topics: ${W}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}u(B,"AwarenessManager");const b=new B;class R{onConnectDatachannel(W){this.audioVideoFacade=W,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),(0,o.Wo)().warn(p,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(W){let K;try{K=v.Y.decode(W.data)}catch(Y){(0,o.Wo)().debug(p,`Peer Message failed during decode, ignoring peer message.
				| Error: ${Y}
				| Data Sender Attendee ID: ${W.senderAttendeeId}
				| Data Sender External Attendee ID: ${W.senderExternalUserId}
				| Topic: ${W.topic}`);return}if(K.awarenessQuery&&K.awarenessQuery.channel)b.markTopicChanged(K.awarenessQuery.channel);else if(K.awarenessBroadcast){const Y=(0,a.getStoreInstanceByTeamId)(this.teamId),X=(0,A.pL)(Y.getState()),Z=K.awarenessBroadcast.user,ie=K.awarenessBroadcast.channel,Ae=K.awarenessBroadcast.awarenessState;if(Z&&ie&&Ae){const ae=Ae.map(ve=>{var be,Ue;return{field_name:(be=ve.fieldName)!==null&&be!==void 0?be:"unknown_field",field_value:(Ue=ve.fieldValue)!==null&&Ue!==void 0?Ue:"unknown_value",...!!ve.fieldTimestampMs&&{field_timestamp_ms:ve.fieldTimestampMs}}}),V={user:Z,channel:ie,awarenessEntries:ae,...X&&{uniqueId:W.senderAttendeeId}};Y&&Y.dispatch((0,i.zZ)(V))}}else if(K.awarenessClose){const Y=(0,a.getStoreInstanceByTeamId)(this.teamId),X=(0,A.pL)(Y.getState()),Z=K.awarenessClose.user,ie=K.awarenessClose.channel;Z&&ie&&Y&&Y.dispatch((0,i.DQ)({topicId:ie,userId:Z,...X&&{uniqueId:W.senderAttendeeId}}))}}constructor({teamId:W}){this.dataChannelTopic="awareness-sync-channel",this.teamId=W}}u(R,"ChimeChannelListener");const z=u((w,W,K)=>{const Y=K(),X=(0,d.WR)(Y),Z=w.awareness_state;switch(w.subtype){case"query":X!==w.user&&b.markTopicChanged(w.channel);break;case"broadcast":if(Z&&X!==w.user){const ie={user:w.user,channel:w.channel,awarenessEntries:Z};W((0,i.zZ)(ie))}break;case"close":X!==w.user&&W((0,i.DQ)({topicId:w.channel,userId:w.user}));break;default:throw new Error(f)}},"onAwarenessEvent");(0,s.d1)("awareness",z)},9781145568:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(6304789565),n=e(7053828403),s=e(395285811),r=e(1407713935),c=e(9101533895),o=e(56548687),a=e(1224315998);const l=(0,t.Ay)("Clogs a message sent or resent",function(d,_){let{channelId:m,msgTs:h,resent:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=_(),A=m?(0,c.OL)(T,m):null;let y={message_timestamp:h,channel_id:m,channel_type:m?m.charAt(0):null,channel_privacy_type:A?(0,r.K5)(A):null,is_file_channel:A?(0,s.jT)(A):null};const p=(0,n.ZR)(T);p!==null&&(y={...y,channel_session_id:p});const f=(0,o.e)({state:T}),O=v?a.EventId.MSG_RESENT:a.EventId.MSG_SENT;f.track(O,y)});l.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"};const i=l},5904726069:(x,g,e)=>{"use strict";e.d(g,{r:()=>_});var t=e(3134334389),n=e(6304789565),s=e(4540171876),r=e(9236644324),c=e(5258584090),o=e(5060694341),a=e(4275787242),l=e(735940183),i=e(5332875232);const d=new l.Ay("huddles"),_=(0,n.Ay)("Copies Huddle link by Channel Id",(m,h,v,T)=>{let{channelId:A,suppressToast:y}=v;const{windowRef:p}=T(c.S),f=(0,i.Eo)(h());if(A&&(m((0,s.TE)({reason:"copy",channelId:A})).then(O=>{(0,r.x3)(O.link,p.deref())}),f&&!y)){const O={name:"check"};m((0,o.M)({element:t.createElement(a.A,{svgIconProps:O,duration:3e3},d.rt("Huddle link copied"))}))}});_.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},3694676182:(x,g,e)=>{"use strict";e.d(g,{Q7:()=>ne,TE:()=>Ae.A,Uf:()=>ye});var t=e(6422693406),n=e(362134992),s=e(7530630315),r=e(6304789565),c=e(5795074931),o=e(157328471),a=e(1827030018),l=e(9132245692),i=e(796111729),d=e(9665027958),_=e(9706240641),m=e(9113979368),h=e(8840779375),v=e(9746734072),T=e(2101927269),A=e(9101533895),y=e(5467378328),p=e(9530687876);const f=(0,r.Ay)(p.rd.BULK_UPDATE_CHANNELS,function(Ie,he){let{channels:Ce}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const oe=he();if(!Ce||!Ce.length||!(0,v.A)(Ce))return;const de=(0,T.A)(Ce,"id"),De=[],Te=!1;de.length&&(de.forEach(pe=>{const Me=(0,A.OL)(oe,pe.id,Te);De.push({...Me,...pe})}),Ie((0,y.U)({channels:De,reason:p.rd.BULK_UPDATE_CHANNELS})))});f.meta={name:"createThunk",key:"createThunkbulkUpdateChannels",description:p.rd.BULK_UPDATE_CHANNELS};var O=e(6613382951),I=e(7438375976),P=e(4446301238),C=e(8455301571),M=e(8571983633),D=e(4013618389),E=e(7486305635),S=e(8802876335),k=e(3683482182),U=e(3106223098);const L=(0,r.Ay)("Update the unread counts in response to client.counts",(Ie,he,Ce)=>{if(!Ce)return;const oe=he(),de={},De={},Te={},pe=(0,U.G)(oe);Ce.forEach(Me=>{const{id:ke,unread_cnt:Ke,unread_highlight_cnt:Ze}=Me,Q=pe&&!(0,M.A)(Me==null?void 0:Me.vip_count)?Me==null?void 0:Me.vip_count:void 0;de[ke]={unreadCnt:Ke||0,unreadHighlightCnt:Ze||0,unreadVIPMentionCnt:pe?Q||0:void 0};const se=(0,A.OL)(oe,ke);if(!Ke&&!Ze||!(0,D.F)(oe,se))return;(0,E.d$)(oe,se)&&(Te[ke]=!0);const He=(0,D.v)(oe,se)?Ke:Ze,{reachedEnd:Ge}=(0,C.tp)(oe,ke),Be=(0,S.UJ)(oe);Ge&&Be?De[ke]=(0,k.Lh)(oe,ke):De[ke]={unreadCnt:Ke,unreadHighlightCnt:He||Ze,unreadVIPMentionCnt:pe?Q:void 0}}),Ie((0,o.SO)({initialUnreads:de,countsPerChannel:De,channelsToSuppress:Te}))});L.meta={name:"createThunk",key:"createThunkinitializeUnreadCountsFromChannels",description:"Update the unread counts in response to client.counts"};var B=e(4368281601),b=e(6007206761),R=e(9884588328),z=e(6495946979),w=e(395285811),W=e(1407713935),K=e(9762304444);const Y=(0,K.Ay)("TS.ensureFullyBooted",()=>{throw new Error("Not implemented (and only ever intended for use in non-Sonic Land)")});var X=e(4096483543),Z=e(1949656963),ie=e(4191588167),Ae=e(4660031767),ae=e(6695353875);const V="COUNTS",ve=(0,r.Ay)("Apply counts to channel objects and update stores",function(){var Ie=(0,_.coroutine)(function*(he,Ce){let{counts:oe=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,X.A)()||(yield Y());let de=Ce();const De=[],Te={},pe={},Me=[],ke=(0,S.UJ)(de),Ke=(0,S.yf)(de),Ze=(0,ae.lc)(de),Q=(0,U.G)(de);(0,i.Ay)({state:de}).info(V,`Applying counts to channels. wasLastConnectFast: ${Ke} isConnected: ${ke}`);const se=oe.filter(Ge=>{let{has_unreads:Be,mention_count:we}=Ge;return Be||we}).filter(function(){let{id:Ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(0,A.hh)(de,Ge)}).map(function(){let{id:Ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ge});se.length&&(yield he((0,P.pX)({ids:se,reason:"apply-counts-to-channels/ensure-channels",callSource:P.aI.ApplyCounts})),de=Ce());const He=(0,C.jg)(de);oe.forEach(Ge=>{const Be=(0,A.OL)(de,Ge.id,!1);if(!Be||(0,W.QR)(Be)){if(!Ge.has_unreads&&!Ge.mention_count)return;(0,i.Ay)({state:de}).warn(V,{id:Ge.id,has_unreads:Ge.has_unreads,nonExistent:(0,W.QR)(Be)},"applyCountsToChannels_missing_channel");return}if((0,b.F)(Be)||(0,W.rW)(Be)&&!(0,z.bl)(Be))return;if((0,w.jT)(Be)){he((0,B.k)({channelId:Be.id,mentionCount:Ge.mention_count,shouldSuppress:(0,E.d$)(de,Be)}));return}const we={},{reachedEnd:xe}=(0,C.tp)(de,Be.id),Xe=Ge.has_unreads?1:0;let Ye=0,dt=0,mt=0,it=!1;(0,W.LI)(Be)||(0,W.LI)(Ge)||(0,W.yz)(Be)||(0,W.yz)(Ge)?Ye=Ge.mention_count||Xe:(it=!0,Ye=Xe,dt=Ge.mention_count||0,mt=(Ge==null?void 0:Ge.vip_count)||0),!Ye&&dt&&((0,i.Ay)({state:de}).warn(V,`Ignoring positive mention_count_display because has_unreads == false for ${Be.id}`,{subtype:"ignoring_positive_mention_count_display"}),dt=0),pe[Be.id]={unreadCnt:Ye,unreadHighlightCnt:dt,unreadVIPMentionCnt:Q?mt:void 0},!Ze&&xe&&ke?Me.push(Be.id):(Ye!==(0,R.$M)(Be)&&(we.unread_cnt=Ye),Q&&mt!==(0,R.OJ)(Be)&&(we.vip_count=mt),it&&dt!==(0,R.BP)(Be)&&(we.unread_highlight_cnt=dt)),Ge.updated&&Ge.history_invalid&&(Te[Be.id]={historyInvalidTs:Ge.history_invalid,updatedTs:Ge.updated},He!=null&&He[Be.id]&&he((0,ie.A)({channelId:Be.id,newHistoryInvalidTs:Ge.history_invalid,newUpdatedTs:Ge.updated}))),(0,m.A)(we)||(we.id=Be.id,De.push(we))}),(0,m.A)(De)||he(f({channels:De})),(0,m.A)(Te)||he((0,Z.ih)({updates:Te})),he((0,O.M)(oe)),he((0,I.f)(oe.map(Ge=>({channelId:Ge.id,ts:Ge.last_read})))),he((0,o.iz)(pe)),he(L((0,h.A)(pe,function(){let{unreadCnt:Ge,unreadHighlightCnt:Be,unreadVIPMentionCnt:we}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:arguments.length>1?arguments[1]:void 0,unread_cnt:Ge,unread_highlight_cnt:Be,vip_count:Q?we:void 0}}))),Me.forEach(Ge=>{he((0,Ae.A)({channelId:Ge}));const Be=(0,A.OL)(Ce(),Ge,!1);if(Be){const we={unreadCnt:(0,R.$M)(Be),unreadHighlightCnt:(0,R.BP)(Be),unreadVIPMentionCnt:(0,R.OJ)(Be)};(0,i.Ay)({state:de}).info(V,`Recounted ${Ge}; initial: ${JSON.stringify(pe[Ge])}; after: ${JSON.stringify(we)}`)}})});return function(he,Ce){return Ie.apply(this,arguments)}}());ve.meta={name:"createThunk",key:"createThunkapplyCountsToChannels",description:"Apply counts to channel objects and update stores"};const be=ve,Ue="COUNTS",Re=(0,r.Ay)("Apply counts to channels and threads",function(Ie,he){let{channels:Ce,groups:oe,ims:de,mpims:De,threads:Te,alerts:pe,saved:Me,fileChannels:ke,channelBadges:Ke,countsLastFetched:Ze}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Q=he();if(!(0,c.TZ)(Q))return t.S.resolve();Ie((0,o.iz)({})),Ie((0,l.y)(pe||{})),Ie((0,o.t)(Ze));const se=ge(ke),He=(0,n.A)((0,s.A)(Ce,oe,de,De,se));return Ie(be({counts:He})).then(()=>{const Ge=(0,i.Ay)({getState:he});Te&&(Ge.info(Ue,`Threads has_unreads:${Te.has_unreads} mention_count:${Te.mention_count}`),Ie((0,a._)({threadsHasUnreads:Te.has_unreads,threadsUnreadCountByChannel:Te.unread_count_by_channel,threadsMentionCountByChannel:Te.mention_count_by_channel}))),Me&&Ie((0,d.yO)(Me)),Ke&&Ie((0,o.$m)(Ke)),Ge.info(Ue,"Completed counts processing")})});Re.meta={name:"createThunk",key:"createThunkapplyCountsToChannelsAndThreads",description:"Apply counts to channels and threads"};function ge(Ie){if(!Ie||!Ie.quip)return[];const he=Ie.quip.mention_count_by_channel;return Object.keys(he).map(de=>({id:de,mention_count:he[de],has_unreads:!0}))}u(ge,"transformFileChannels");const ne=Re;var ee=e(9290914927),F=e(6957597272),H=e(7606781622),j=e(8276911661),N=e(6866036454),J=e(5899351761),le=e(4726390364);const ce="COUNTS",Ee=(0,r.Ay)("Update unread counts",function(Ie,he){let{channelId:Ce,messageTs:oe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const de=he(),De=!1,Te=(0,A.OL)(de,Ce,De);if(!Te||!(0,le.A)(Te,{countFileChannels:!0}))return t.S.resolve(!0);const pe=(0,j.cA)(de),Me=(0,ee.gd)(de,pe.id)==="away",ke=pe._presence_last_changed||(0,c.tV)(de,"start_ms"),Ke=(0,J.A)({state:de,messages:[(0,H.Ld)(de,Te.id,oe)],channel:Te,currentUserId:pe.id,userIsAway:Me,userPresenceLastChanged:ke,highlightWords:(0,N.A)(de)}),Ze=Ke==null?void 0:Ke.unreadHighlightCnt;return Ze!==Te.unread_highlight_cnt&&((0,i.Ay)({state:de}).info(ce,`Updated unread_highlight_cnt for ${Te.id}: ${Ze}`),Ie((0,F.b)({id:Te.id,unread_highlight_cnt:Ze}))),t.S.resolve(!1)});Ee.meta={name:"createThunk",key:"createThunkupdateUnreadCountsForThreadMentionBroadcasts",description:"Update unread counts"};const ye=Ee},574001087:(x,g,e)=>{"use strict";e.d(g,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that fetches and upserts list records");n.meta={name:"createAction",key:"createActionfetchAndUpsertRecordsCircular",description:"Triggers a side-effect that fetches and upserts list records"};var s=null},4191588167:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(6304789565),n=e(8847766420),s=e(4405788578),r=e(8455301571),c=e(4350638406),o=e(796111729),a=e(9536404279);const l=(0,t.Ay)("Possibly purge or invalidate channel history .",(d,_,m)=>{let{channelId:h,newHistoryInvalidTs:v,newUpdatedTs:T}=m;const A=_(),y=(0,s.Kq)(A,h),p=(0,s.QO)(A,h);v!=="0000000000.000000"&&(!y||v>y)?((0,o.Ay)({state:A}).info("COUNTS",`purging cached history for channel ${h} since counts history_invalid ${v} > cached historyInvalidTs ${y}`),d((0,a.bz)({channelId:h,includeThreads:!0}))):T!=="0000000000.000000"&&(!p||T>p)&&((0,o.Ay)({state:A}).info("COUNTS",`invalidating history for channel ${h} since counts updated ${T} > cached updatedTs ${p}`),(0,c.D1)((0,n.ZT)(A),h,(0,r.m3)(A,h)))});l.meta={name:"createThunk",key:"createThunkmaybePurgeChannelHistoryAfterMutations",description:"Possibly purge or invalidate channel history ."};const i=l},9609912577:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),n=e(6304789565),s=e(2375333597),r=e(3677514771),c=e(56548687),o=e(1224315998),a=e(9364044512),l=e(8847766420),i=e(3707193570),d=e(5795074931),_=e(6839188756);const m=(0,n.Ay)("Opens the apps browser modal",function(v,T){let{initialTab:A,emojiNameSuggestion:y,elementName:p,emojiUrl:f,megaphoneEventOnClose:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=T(),P=(0,l.JY)(I);let C;P&&(0,i.JV)(P)?C=(0,r.H2)(I):(0,d.u8)(I)&&(C=(0,_.mf)((0,r.H7)(I))),(0,c.e)({getState:T}).track(o.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:p}}}}),v((0,s.q)({element:t.createElement(a.A,{showEmojiPacks:!f,orgName:C,initialTab:A,emojiNameSuggestion:y,emojiUrl:f,megaphoneEventOnClose:O}),isStackable:!0}))});m.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"};const h=m},9786721596:(x,g,e)=>{"use strict";e.d(g,{U:()=>v});var t=e(6304789565),n=e(8677230210),s=e(613926746),r=e(8847766420),c=e(3244118357),o=e(586380821),a=e(8276911661),l=e(5267010247),i=e(8822892075),d=e(4427921758),_=e(4761125736),m=e(9604647993);const h=(0,t.Ay)("Shows message pane for bots",function(T,A){let{memberId:y,serviceId:p,botProfile:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var O;const{member:I,bot:P,memberIsHuman:C}=(0,n.Od)(A(),{userId:y,botId:p,botProfile:f}),M=(0,r.ZT)(A())||"",D=!C||p?(0,c.AW)({member:I||void 0,bot:P,botProfile:f,currentTeamId:M}):void 0,E=(0,o.G2)(A(),{serviceId:p,homeWorkspaceId:D,memberId:y,appId:P==null?void 0:P.app_id});var S;const k=(0,a.nv)(A(),y||((S=E==null||(O=E.app_user)===null||O===void 0?void 0:O.id)!==null&&S!==void 0?S:void 0));var U;return T((0,s.Z)({memberId:(U=k==null?void 0:k.id)!==null&&U!==void 0?U:void 0}))});h.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const v=(0,t.Ay)("Shows the flexpane profile for humans or messages for bots",(T,A,y,p)=>{let{memberId:f,serviceId:O,botProfile:I,triggerId:P}=y;const{currentTab:C,channelId:M}=p(d.j),D=(0,_._Z)(A(),"workflow_sender_opens_details")==="on";return f&&(0,n.wC)(A(),f)?T(C?(0,l.o)((0,i.sL)((0,i.Fo)({memberId:f}),M,C.id)):(0,l.o)((0,i.Fo)({memberId:f}))):T(D&&P?(0,m.u)({shortcutInfo:{triggerId:P}}):h({memberId:f,serviceId:O,botProfile:I}))});v.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},9604647993:(x,g,e)=>{"use strict";e.d(g,{u:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the workflow details modal in client (noop)");n.meta={name:"createAction",key:"createActionopenWorkflowDetailsModalCircular",description:"Triggers a side-effect that opens the workflow details modal in client (noop)"}},5241075893:(x,g,e)=>{"use strict";e.d(g,{ET:()=>A,Fd:()=>p,Wb:()=>f,xz:()=>y});var t=e(3297051565),n=e.n(t),s=e(5950652755),r=e(6304789565),c=e(2141099977),o=e(796111729),a=e(8847766420),l=e(4423055085),i=e(440999534),d=e(8802876335);const _="PRESENCE-MANAGER",m={},h=u((P,C)=>{const M=(0,a.ZT)(C()),D=Object.keys(m[M]),E={type:"presence_sub",ids:D},S=(0,o.Ay)({getState:C});S.debug(_,`Sending a 'presence_sub' event with the following ids: ${D}`),P((0,c.tN)(E)).catch(k=>{k&&k.message===i.qk||S.error(`Received an error while trying to send 'presence_sub' with the following ids: ${D}, error = ${k}`)})},"sendMessageEvent");let v;function T(){return v||(v=(0,s.A)(h,100,{leading:!1})),v}u(T,"getThrottledSendMessageEvent");const A=(0,r.Ay)("Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for",(P,C)=>{if(!(0,d.ON)(C())){(0,o.Ay)({getState:C}).debug(_,"The presence subscription changed while the WebSocket disconnected; will send the updated subscription once we are connected");return}T()(P,C)});A.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:"Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for"};const y=(0,r.Ay)("Adds the member to the presence subscription or increments the associated count",function(P,C){let{memberId:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!M||M==="USLACKBOT")return;const D=(0,a.ZT)(C());if(m[D]||(m[D]={}),m[D][M]){(0,o.Ay)({getState:C}).debug(_,`Increasing the count for ${M} by 1`),m[D][M]+=1;return}(0,o.Ay)({getState:C}).debug(_,`Adding ${M} to the presence subscription`),m[D][M]=1,P(A())});y.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"},y.propTypes={memberId:n().string.isRequired};const p=(0,r.Ay)("Removes the member from the presence subscription or decrements the associated count",function(P,C){let{memberId:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!M)return;const D=(0,a.ZT)(C());if(!(!m[D]||!m[D][M])){if(m[D][M]>1){(0,o.Ay)({getState:C}).debug(_,`Decreasing the count for ${M} by 1`),m[D][M]-=1;return}(0,o.Ay)({getState:C}).debug(_,`Removing ${M} from the presence subscription`),delete m[D][M],P(A())}});p.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"},p.propTypes={memberId:n().string.isRequired};const f=u(P=>m[P],"getPresenceSubscriptionByTeamId"),O=u(P=>{delete m[P]},"deletePresenceSubscriptionByTeamId"),I={sendMessageEvent:h};(0,l.ul)("presenceManager",{getPresenceSubscriptionByTeamId:f})},5583430912:(x,g,e)=>{"use strict";e.d(g,{Ap:()=>r,Pv:()=>n,Ui:()=>s});var t=e(7223729463);const n=new t.a;function s(){return n.entries().filter(c=>c.value&&!c.value.isRejected()&&!c.value.isCancelled()).length}u(s,"getActiveCollabClientCount");const r=u(c=>{const o=n.get(c);return o!=null&&o.isFulfilled()?o.value():void 0},"getInitializedClient")},7260478587:(x,g,e)=>{"use strict";e.d(g,{AP:()=>m,Ai:()=>y,Ex:()=>a,F$:()=>p,H6:()=>A,cy:()=>i,hM:()=>l,nK:()=>T,rW:()=>I,sV:()=>v});var t=e(3385422400),n=e(735940183),s=e(9421999304),r=e(3677514771),c=e(7330763135);const o=new n.Ay("slack_docs");var a;(function(P){P.OVERVIEW="overview",P.FAQ="faq",P.AGENDA="agenda",P.BRAINSTORM="brainstorm",P.TABLE="table",P.OUTLINE="outline",P.SHORTEN="shorten",P.SIMPLIFY="simplify",P.CHANGE_TONE="change_tone",P.ELABORATE="elaborate",P.CONVERT_TO_TABLE="convert_to_table",P.REFINE="generative_refine"})(a||(a={}));var l;(function(P){P.CREATE="create",P.REFINE="refine"})(l||(l={}));var i;(function(P){P.CREATION="creation",P.REFINEMENT="refinement"})(i||(i={}));const d=new Map([[a.FAQ,l.CREATE],[a.OVERVIEW,l.CREATE],[a.AGENDA,l.CREATE],[a.BRAINSTORM,l.CREATE],[a.TABLE,l.CREATE],[a.OUTLINE,l.CREATE],[a.CHANGE_TONE,l.REFINE],[a.CONVERT_TO_TABLE,l.REFINE],[a.ELABORATE,l.REFINE],[a.SHORTEN,l.REFINE],[a.SIMPLIFY,l.REFINE]]),_=new Map([[l.CREATE,i.CREATION],[l.REFINE,i.REFINEMENT]]),m=new Map([[a.OVERVIEW,{name:"ai-summary",size:"20"}],[a.FAQ,{name:"book",size:"20"}],[a.AGENDA,{name:"calendar",size:"20"}],[a.BRAINSTORM,{name:"emoji-objects",size:"20"}],[a.TABLE,{name:"table",size:"20"}],[a.OUTLINE,{name:"bulleted-list",size:"20"}],[a.SHORTEN,{name:"ai-sparkle",size:"20"}],[a.SIMPLIFY,{name:"ai-sparkle",size:"20"}],[a.CHANGE_TONE,{name:"ai-sparkle",size:"20"}],[a.ELABORATE,{name:"ai-sparkle",size:"20"}],[a.CONVERT_TO_TABLE,{name:"ai-sparkle",size:"20"}]]),h=[a.BRAINSTORM,a.TABLE,a.OUTLINE,a.FAQ,a.AGENDA,a.OVERVIEW],v=u(P=>{switch(P){case a.OVERVIEW:return o.t("Write a project overview",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.FAQ:return o.t("Create FAQs",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.AGENDA:return o.t("Draft a meeting agenda",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.BRAINSTORM:return o.t("Brainstorm ideas",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.TABLE:return o.t("Create a table",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.OUTLINE:return o.t("Draft an outline",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.SHORTEN:return o.t("Shorten",{fallbackHash:"ea87755fea79a65bf04c1712362b512aec10d350",fallbackHashNs:"composer"});case a.SIMPLIFY:return o.t("Simplify",{fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c",fallbackHashNs:"activity"});case a.CHANGE_TONE:return o.t("Change the tone",{fallbackHash:"376990dbb495e279e5f310e03b2ca591277110a1",fallbackHashNs:"composer"});case a.ELABORATE:return o.t("Elaborate",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"stories_av"});case a.CONVERT_TO_TABLE:return o.t("Convert to a table",{fallbackHash:"77a06ec399aaf5d81ece63c9ef42cd04f25f7b59",fallbackHashNs:"csv_tsv_paste_toast"});default:return""}},"getSuggestionName"),T=u(P=>{switch(P){case a.OVERVIEW:return o.t("Write an overview for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.FAQ:return o.t("Write FAQs about",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.AGENDA:return o.t("Draft a meeting agenda for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.BRAINSTORM:return o.t("Brainstorm",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.TABLE:return o.t("Create a table:",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case a.OUTLINE:return o.t("Draft an outline for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});default:return v(P)}},"getSuggestionInsertionText"),A=u((P,C)=>!!(P&&P===(0,c.j6)({refinementId:c.N2.REWRITE},C??!1)),"isCanvasAiRewriteAction"),y=u(P=>{const C=new Map(Object.values(a).map(D=>[T(D).toLowerCase(),D]));var M;return(M=C.get(P.toLowerCase()))!==null&&M!==void 0?M:null},"getSuggestionIdForInsertedText"),p=u(P=>{switch(P){case l.CREATE:return o.t("Suggestions",{fallbackHash:"564d3571acd1b3f669f762d196b6156b7aa88834",fallbackHashNs:"workflow_builder"});case l.REFINE:return o.t("Suggestions",{fallbackHash:"267e6e2f6a25dafaf92b9844b78c67ce0af55aa9",fallbackHashNs:"workflow_builder"});default:return""}},"getCategoryLabel"),f=u(P=>{const C=v(P),M=d.get(P),D=m.get(P);return{id:P,category:M,name:C,icon:D,canonicalName:`/${P}`,aliases:[M]}},"getSuggestionObjectForId"),O=u(P=>Object.values(a).filter(C=>{const M=d.get(C);return M&&_.get(M)===P}).sort((C,M)=>h.indexOf(C)-h.indexOf(M)).map(C=>f(C)),"getSuggestions"),I=(0,t.Mz)([r.H7,()=>(0,s.JK)(),(P,C)=>{let{searchViewContext:M}=C;return M}],(P,C,M)=>{if(M!=null&&M.includes(i.REFINEMENT)){var D;return(D=O(i.REFINEMENT))===null||D===void 0?void 0:D.map(S=>({...S,type:"client"}))}if(M!=null&&M.includes(i.CREATION)){var E;return(E=O(i.CREATION))===null||E===void 0?void 0:E.map(S=>({...S,type:"client"}))}return[]})},4119164726:(x,g,e)=>{"use strict";e.d(g,{Aw:()=>p,Zj:()=>v,vK:()=>T});var t=e(3385422400),n=e(735940183),s=e(9421999304),r=e(4761125736),c=e(8079225585),o=e(7731278967),a=e(9084547259),l=e(4843305308),i=e(3262078016),d=e(3677514771),_=e(6839188756),m=e(6642124196);const h=new n.Ay("quip_shortcut_handlers");var v;(function(f){f[f.BASICS=0]="BASICS",f[f.MEDIA=1]="MEDIA",f[f.SLACK=2]="SLACK",f[f.LAYOUT=3]="LAYOUT",f[f.AI=4]="AI"})(v||(v={}));const T=u(f=>({[v.BASICS]:h.t("Basics"),[v.MEDIA]:h.t("Media"),[v.SLACK]:h.t("Slack"),[v.LAYOUT]:h.t("Layout"),...f?{[v.AI]:h.t("AI")}:{}}),"getCategoryDetailsV2"),A=u(f=>{let{currentTeam:O,experimentCanvasInsertWorkflowMenuGroupOn:I,experimentCanvasSetReminderFromDatePickerOn:P,experimentCanvasCreateListPrototypeGroupOn:C,experimentCanvasCalloutsGroupOn:M,experimentCanvasAiContentCreationGroupOn:D,teamHasListsAccess:E}=f;const S=(0,_.qR)(O),k=T(D),U=k[v.AI],L=k[v.BASICS],B=k[v.MEDIA],b=k[v.SLACK],R=k[v.LAYOUT],z=u((w,W,K,Y)=>({id:w,name:W,canonicalName:K,hideOnEmptyQuery:Y,autocomplete:!0,icon:(0,l.P)(o.r.DATE_MENTION).name,category:v.BASICS}),"dateShortcut");return[...D?[{id:i.SlackShortcutCommandType.AI_ASSISTANT,name:h.t("Write with AI"),canonicalName:"/ai",autocomplete:!0,icon:"sparkles",category:v.AI,aliases:[U,h.t("assistant"),h.t("ask")]}]:[],{id:i.SlackShortcutCommandType.CANVAS,name:(0,c.O)(o.r.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:(0,l.P)(o.r.CANVAS).name,category:v.BASICS,aliases:["canvas",L]},{id:i.SlackShortcutCommandType.CHECKLIST,name:(0,c.O)(o.r.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:(0,l.P)(o.r.CHECK_LIST).name,category:v.BASICS,aliases:["checklist",L]},{id:i.SlackShortcutCommandType.H1,name:(0,c.O)(o.r.H1),canonicalName:"/largeheading",autocomplete:!0,icon:(0,l.P)(o.r.H1).name,category:v.BASICS,aliases:["h1","heading",L]},{id:i.SlackShortcutCommandType.H2,name:(0,c.O)(o.r.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:(0,l.P)(o.r.H2).name,category:v.BASICS,aliases:["h2","heading",L]},{id:i.SlackShortcutCommandType.H3,name:(0,c.O)(o.r.H3),canonicalName:"/smallheading",autocomplete:!0,icon:(0,l.P)(o.r.H3).name,category:v.BASICS,aliases:["h3","heading",L]},{id:i.SlackShortcutCommandType.PLAIN,name:(0,c.O)(o.r.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:(0,l.P)(o.r.PARAGRAPH).name,category:v.BASICS,aliases:["plain",h.t("plain"),L]},{id:i.SlackShortcutCommandType.TABLE,name:(0,c.O)(o.r.TABLE),canonicalName:"/table",autocomplete:!0,icon:(0,l.P)(o.r.TABLE).name,category:v.BASICS,aliases:["table",h.t("grid"),h.t("spreadsheet"),L]},{id:i.SlackShortcutCommandType.DIVIDER,name:(0,c.O)(o.r.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:(0,l.P)(o.r.DIVIDER).name,category:v.BASICS,aliases:["divider",h.t("horizontal line"),L]},{id:i.SlackShortcutCommandType.BULLET_LIST,name:(0,c.O)(o.r.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:(0,l.P)(o.r.BULLET_LIST).name,category:v.BASICS,aliases:["list",L]},{id:i.SlackShortcutCommandType.ORDERED_LIST,name:(0,c.O)(o.r.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:(0,l.P)(o.r.ORDERED_LIST).name,category:v.BASICS,aliases:["list",L]},{id:i.SlackShortcutCommandType.BLOCKQUOTE,name:(0,c.O)(o.r.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:(0,l.P)(o.r.BLOCKQUOTE).name,category:v.BASICS,aliases:["blockquote",L]},...M?[{id:i.SlackShortcutCommandType.CALLOUT,name:(0,c.O)(o.r.CALLOUT),canonicalName:"/callout",autocomplete:!0,icon:(0,l.P)(o.r.CALLOUT).name,category:v.BASICS,aliases:["callout"]}]:[],{id:i.SlackShortcutCommandType.CODE,name:(0,c.O)(a.L.CODE),canonicalName:"/code",autocomplete:!0,icon:(0,l.P)(a.L.CODE).name,category:v.BASICS,aliases:["code",L]},{...z(i.SlackShortcutCommandType.DATE_GENERIC,(0,c.O)(o.r.DATE_MENTION),"/date"),aliases:["date",L]},{...z(i.SlackShortcutCommandType.DATE_TODAY,h.t("Today"),"/today",!0),aliases:["today"]},{...z(i.SlackShortcutCommandType.DATE_TOMORROW,h.t("Tomorrow"),"/tomorrow",!0),aliases:["tomorrow"]},{...z(i.SlackShortcutCommandType.DATE_YESTERDAY,h.t("Yesterday"),"/yesterday",!0),aliases:["yesterday"]},...P?[{...z(i.SlackShortcutCommandType.DATE_GENERIC,h.t("Reminder",{fallbackHash:"b87a1929f78bee9f6f3a2ac9e30465cd226ab5ec",fallbackHashNs:"slack_docs"}),"/reminder"),aliases:["reminder",L]}]:[],{id:i.SlackShortcutCommandType.VIDEO,name:(0,c.O)(o.r.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:(0,l.P)(o.r.VIDEO_CLIP).name,category:v.MEDIA,aliases:["video",B]},{id:i.SlackShortcutCommandType.AUDIO,name:(0,c.O)(o.r.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:(0,l.P)(o.r.AUDIO_CLIP).name,category:v.MEDIA,aliases:["audio",B]},{id:i.SlackShortcutCommandType.IMAGE,name:(0,c.O)(o.r.IMAGE),canonicalName:"/image",autocomplete:!0,icon:(0,l.P)(o.r.IMAGE).name,category:v.MEDIA,aliases:["image",B]},{id:i.SlackShortcutCommandType.FILE,name:(0,c.O)(o.r.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:v.MEDIA,aliases:["file",B]},...I&&S?[{id:i.SlackShortcutCommandType.WORKFLOW,name:(0,c.O)(o.r.WORKFLOW,{experimentCanvasInsertWorkflowMenuGroupOn:I}),canonicalName:"/workflow",autocomplete:!0,icon:(0,l.P)(o.r.WORKFLOW).name,category:v.SLACK,aliases:["workflow",b]}]:[],...C&&E?[{id:i.SlackShortcutCommandType.LIST,name:(0,c.O)(o.r.LIST),canonicalName:"/list",autocomplete:!0,icon:(0,l.P)(o.r.LIST).name,category:v.SLACK,aliases:["list",b]}]:[],{id:i.SlackShortcutCommandType.PROFILE,name:h.t("Profile"),canonicalName:"/profile",autocomplete:!0,icon:"user",category:v.SLACK,aliases:["user",b,h.t("user"),h.t("mention")]},{id:i.SlackShortcutCommandType.CHANNEL,name:h.t("Channel"),canonicalName:"/channel",autocomplete:!0,icon:"channel-add",category:v.SLACK,aliases:["channel",b]},{id:i.SlackShortcutCommandType.TWO_COLUMNS,name:(0,c.O)(o.r.LAYOUT_2_COLUMNS),canonicalName:"/twocolumns",autocomplete:!0,icon:(0,l.P)(o.r.LAYOUT_2_COLUMNS).name,category:v.LAYOUT,aliases:["layout",R]},{id:i.SlackShortcutCommandType.THREE_COLUMNS,name:(0,c.O)(o.r.LAYOUT_3_COLUMNS),canonicalName:"/threecolumns",autocomplete:!0,icon:(0,l.P)(o.r.LAYOUT_3_COLUMNS).name,category:v.LAYOUT,aliases:["layout",R]},{id:i.SlackShortcutCommandType.CODEBLOCK,name:(0,c.O)(o.r.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:(0,l.P)(o.r.CODE_BLOCK).name,category:v.LAYOUT,aliases:["code",R]}]},"getCommandsV2");function y(f){return{...f,type:"client"}}u(y,"formatShortcut");const p=(0,t.Mz)([d.H7,f=>(0,r._Z)(f,"canvas_insert_workflow_menu")==="on",f=>(0,r._Z)(f,"canvas_set_reminder_from_date_picker")==="on",f=>(0,r._Z)(f,"canvas_create_list_prototype")==="on",f=>(0,r._Z)(f,"canvas_callouts")==="on",f=>(0,r._Z)(f,"canvas_ai_inline_creation")==="on",f=>(0,m.teamHasFullListsAccess)(f),()=>(0,s.JK)(),(f,O)=>O],(f,O,I,P,C,M,D,E,S)=>A({currentTeam:f,experimentCanvasInsertWorkflowMenuGroupOn:O,experimentCanvasSetReminderFromDatePickerOn:I,experimentCanvasCreateListPrototypeGroupOn:P,experimentCanvasCalloutsGroupOn:C,experimentCanvasAiContentCreationGroupOn:M,teamHasListsAccess:D}).map(y).filter(U=>S||!U.hideOnEmptyQuery))},9121476043:(x,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(6304789565),n=e(9536404279),s=e(10127715),r=e(7606781622),c=e(3164289453),o=e(3110884894);const a=(0,t.Ay)("Remove a message and its timestamp",function(i,d){let{channelId:_,ts:m,threadTs:h,broadcastDelete:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!_||!m))if(v)i((0,s.E$)({channelId:_,ts:m}));else{i((0,n.Np)({channelId:_,timestamp:m}));const T=!1,A=(0,r.Ld)(d(),_,m,T),y=A&&A.thread_ts||h;if(y){const p=(0,o.Iu)(_,y)||"";i((0,n.Np)({channelId:p,timestamp:m}))}i((0,s.QN)({message:{channel:_,ts:m}})),i((0,c.A)({channelId:_,item:A}))}});a.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"};const l=a},3164289453:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3297051565),n=e.n(t),s=e(2140362605);const r=(0,s.Ay)("(noop) Remove a pinned item via side-effect");r.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},r.propTypes=n().shape({item:n().object.isRequired,channelId:n().string.isRequired}).isRequired;const c=r},8391820676:(x,g,e)=>{"use strict";e.d(g,{A:()=>k});var t=e(6422693406),n=e(6696292586),s=e(8086952004),r=e(12126472),c=e(3398586081),o=e(5950652755),a=e(6304789565),l=e(6533394955),i=e(5795074931),d=e(8847766420),_=e(2155512519),m=e(1116859610),h=e(9101533895),v=e(9536404279),T=e(1407713935),A=e(1581380967),y=e(3110884894),p=e(10127715),f=e(3087402890),O=e(6704899486),I=e(796111729),P=e(8802876335);const C=1e3,M=u((L,B,b)=>{if(B==="Vall_threads")return(0,l.dispatchForTeamId)(L,(0,f.r8)()),t.K.resolve();const R=!1,z=(0,h.OL)((0,l.getStateByTeamId)(L),B,R);if(!z)return t.K.resolve();if(b)return D(L,B,b);const w=(0,T.mz)(z);return(0,l.dispatchForTeamId)(L,(0,_.Ay)({channelId:B,type:w,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:W,hasMore:K,isLimited:Y,pinCount:X,deleted:Z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ie=(0,l.getStateByTeamId)(L);(0,P.UJ)(ie)&&!(0,O.N)(ie,B)&&!(0,O.N)(ie,(0,i.WR)(ie))||((0,l.dispatchForTeamId)(L,(0,v.Jt)({channelId:B})),(0,l.dispatchForTeamId)(L,(0,m.A)({msgs:W,channelId:B,isLimited:Y,pinCount:X,hasMore:{hasMoreStart:K,hasMoreEnd:!1},oldest:null,latest:null,deleted:Z})),(0,n.A)(X)&&(0,l.dispatchForTeamId)(L,(0,A.K)({channelId:B,count:X})))}).catch(W=>{(0,I.Ay)({state:(0,l.getStateByTeamId)(L)}).error(`Failed to fetch offline history for ${B}: ${W}`)})},"fetchOfflineHistory");function D(L,B,b){const R=(0,y.Iu)(B,b);return(0,l.dispatchForTeamId)(L,(0,_.$b)({channelId:B,threadTs:b,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:z,deleted:w,hasMore:W}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const K=(0,l.getStateByTeamId)(L);if((0,P.UJ)(K)&&!(0,O.N)(K,B)&&!(0,O.N)(K,(0,i.WR)(K)))return;let Y=z;const X=(0,s.A)(z,{ts:b});W&&(Y=(0,r.A)(z,{ts:b})),(0,l.dispatchForTeamId)(L,(0,v.Jt)({channelId:R})),(0,l.dispatchForTeamId)(L,(0,m.A)({msgs:Y,channelId:R,hasMore:{hasMoreStart:W,hasMoreEnd:!1},oldest:null,latest:null,deleted:w})),X&&(0,l.dispatchForTeamId)(L,(0,p.Kc)([X]))})}u(D,"fetchOfflineHistoryForThread");const E=(()=>{const L=(0,c.A)(()=>(0,o.A)(M,C),function(){for(var B=arguments.length,b=new Array(B),R=0;R<B;R++)b[R]=arguments[R];return JSON.stringify(b)});return function(){for(var B=arguments.length,b=new Array(B),R=0;R<B;R++)b[R]=arguments[R];return L(...b)(...b)}})(),S=(0,a.Ay)("Request offline history",function(L,B){let{channelId:b,threadTs:R}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E((0,d.ZT)(B()),b,R)});S.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"},S.propTypes={};const k=S,U={fetchOfflineHistory:M,fetchOfflineHistoryForThread:D}},4587446194:(x,g,e)=>{"use strict";e.d(g,{NU:()=>ee,e8:()=>F,Ay:()=>Ie,IY:()=>ce});var t=e(2003990933),n=e(7174777686),s=e(3571452446),r=e(1649982175),c=e(3110884894),o=e(5795074931),a=e(8847766420),l=e(9536404279),i=e(9101533895),d=e(10127715),_=e(6483201417),m=e(6704899486),h=e(6304789565),v=e(796111729),T=e(9190452268),A=e(3855029223),y=e(3158767748),p=e(7715417323),f=e(9762304444);const O=(0,f.Ay)("TS.channels.read_only.stashAndFetchChannelPostingUpdates",p.A);var I=e(2664504268),P=e(662226046),C=e(9121476043),M=e(8391820676),D=e(6422693406),E=e(6580433553),S=e(6533394955),k=e(2872463257);const U={},L="cse-message-send",B="cse-message-send";let b=u(class{_send(){var Ce;const{message:oe,trace:de,parentSpanId:De}=this._activeRequest||{};(0,v.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${oe==null?void 0:oe.client_msg_id}`);const Te=u(()=>{var pe;return(pe=this._store)===null||pe===void 0?void 0:pe.dispatch((0,E.A)({message:oe,traceId:de==null?void 0:de.getTraceId(),parentSpanId:De}))},"postMessageP");return(Ce=this._maybeTraceMessageSend(Te))===null||Ce===void 0?void 0:Ce.then(this._activeRequest?this._activeRequest.resolve:p.A).catch(this._activeRequest?this._activeRequest.reject:p.A).finally(()=>this.resolve(oe))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:Ce}=this._activeRequest||{};return Ce==null||Ce.addTags({count:this._queue.length}),Ce==null||Ce.close(),this._send(),(0,v.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(Ce){var oe;if(!this.shouldTraceMessageSend())return Ce();const de=(oe=this._tracer)===null||oe===void 0?void 0:oe.createTrace({traceName:L,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:k.nl.ALWAYS}}),De=u(()=>{var pe;de&&((pe=this._tracer)===null||pe===void 0||pe.clearTrace(de))},"onResolve"),Te=u((pe,Me)=>{var ke;const Ke={state:k.$m.ERROR};Me.status&&(Ke.status=Me.status),Me.message&&(Ke.message=Me.message),Me.data&&Me.data.error&&(Ke.reason=Me.data.error),pe==null||pe.addTags(Ke),pe==null||pe.close(),de&&((ke=this._tracer)===null||ke===void 0||ke.reportTrace(de))},"onError");return de==null?void 0:de.traceFn({name:B,onError:Te,onResolve:De},Ce)}enqueue(Ce){let{trace:oe,parentSpanId:de}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new D.S((De,Te)=>{const pe=oe==null?void 0:oe.startSpan("message_send_attempt:enqueue",{parentSpanId:de});this._queue.push({message:Ce,messageEnqueueSpan:pe,trace:oe,parentSpanId:de,resolve:De,reject:Te}),(0,v.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${Ce.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(Ce){return!Ce||!this._activeRequest||!this._activeRequest.message||Ce.client_msg_id!==this._activeRequest.message.client_msg_id?!1:((0,v.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${Ce.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){return this._tracer}constructor(Ce){if(!Ce)throw new Error("MessageQueue requires a teamId.");if(this._teamId=Ce,this._activeRequest=null,this._queue=[],this._store=(0,S.getStoreInstanceByTeamId)(Ce),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${Ce} found.`);const oe=this._store.getState();this._tracer=(0,A.E)({state:oe})}},"MessageQueue");function R(he){return U[he]||(U[he]=new b(he)),U[he]}u(R,"getInstance");const z={MESSAGE_SEND_TRACE_LABEL:L,MESSAGE_SEND_SPAN_LABEL:B};var w=e(9781145568),W=e(8802876335),K=e(5345057011),Y=e(5774398667),X=e(4177200783),Z=e(7759525289),ie=e(4761125736);const Ae=6,ae=7,V=8,ve="restricted_action_read_only_channel",be="restricted_action_thread_only_channel",Ue="restricted_action_non_threadable_channel",Re="ekm_access_denied",ge="dlp_user_warning",ne="message_limit_exceeded";var ee;(function(he){he.BLOCK_FILES_LINK_TYPE="slack_connect_file_link_sharing_blocked",he.BLOCK_CANVAS_CONTAIN_FILES_TYPE="slack_connect_canvas_contain_file_sharing_blocked",he.BLOCK_CANVAS_CONTAIN_EMBEDDED_FILES_TYPE="slack_connect_canvas_contain_embedded_files_blocked",he.BLOCK_LIST_CONTAIN_FILES_TYPE="slack_connect_list_contain_file_sharing_blocked"})(ee||(ee={}));var F;(function(he){he.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",he.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",he.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(F||(F={}));const H={[ve]:Ae,[be]:ae,[Ue]:V};function j(he,Ce){he((0,d.Kc)([Ce]));const oe={channelId:Ce.channel,timestamps:[Ce.ts],oldest:Ce.ts,hasMore:!1,append:!0};if(he((0,l.VG)(oe)),Ce.thread_ts){const de=(0,c.Iu)(Ce.channel,Ce.thread_ts);he((0,l.VG)({...oe,channelId:de}))}}u(j,"addMsgToEnd");const N={};function J(he,Ce,oe){N[he]||(N[he]={}),N[he][Ce]=oe}u(J,"addResolutionTimer");function le(he,Ce){!N[he]||!N[he][Ce]||(clearTimeout(N[he][Ce]),delete N[he][Ce])}u(le,"cancelResolutionTimer");function ce(he,Ce,oe,de){const De=(0,a.ZT)(he())||"",Te=(0,Y.I)(he(),de.client_msg_id);if(Te){(0,v.Ay)({getState:he}).action("MESSAGE",`Resolved a message with clientMsgId ${de.client_msg_id} in ${oe.channel} with ts ${de.ts}`),Ce((0,K.s)(Te.clientMsgId)),le(De,Te.clientMsgId),Ce((0,C.A)({channelId:Te.channelId,ts:Te.ts}));const pe=!1;(0,i.OL)(he(),oe.channel,pe)&&Ce((0,w.A)({channelId:oe.channel,msgTs:oe.ts,resent:!1}))}R(De).resolve(de)}u(ce,"resolveMessage");const Ee="cse-message-send:send",ye=(0,h.Ay)("Send a message",(he,Ce,oe)=>{let{messageSendTrace:de,notificationTracePassthroughData:De,skipDLPUserWarning:Te,...pe}=oe;const Me=(0,A.E)({getState:Ce});let ke,Ke;de&&(ke=de.startSpan("message_send_attempt:send"),Ke=de.startSpan("message_send_attempt:placeholder",{parentSpanId:ke==null?void 0:ke.getId()}));const Ze=Me.createMetricsTrace({label:"cse-message-send"});Ze.count({name:Ee,label:"pending"}),Me.reportTrace(Ze);const Q=(0,y.A)(1),{channel:se,reply_broadcast:He,thread_ts:Ge,client_msg_id:Be,xArgs:we}=pe,xe=(0,v.Ay)({getState:Ce}),Oe=(0,a.ZT)(Ce())||"",Xe=Ge?{_hidden_reply:!0,_was_reply_broadcast:He}:null,Ye=Be||(0,I.A)();De&&(0,P.qe)(Ce(),{notificationTracePassthroughData:De,clientMsgId:Ye});const dt=(0,ie._Z)(Ce(),"fe_message_rendering_perf_m1")==="on",mt=pe.blocks,it={...pe,...Xe,user:(0,o.WR)(Ce()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:Ye,blocksProcessed:(0,Z.R)({blocks:mt,experimentFeMessageRenderingPerfM1GroupOn:dt})};xe.action("MESSAGE",`Sent a message to ${se} via HTTP, clientMsgId: ${Ye}`);const At={...pe,...we,include_channel_perm_error:!0,client_msg_id:Ye,skip_dlp_user_warning:Te};Q&&J(Oe,Ye,window.setTimeout(()=>{if((0,Y.I)(Ce(),it.client_msg_id)){const Kt=Ce();(0,W.UJ)(Kt)&&(0,T.Cy)({state:Kt}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const Ot=R((0,a.ZT)(Ce())||"").enqueue(At,{trace:de,parentSpanId:ke==null?void 0:ke.getId()});return j(he,it),he((0,K.T)({clientMsgId:it.client_msg_id,channelId:it.channel,ts:it.ts})),Ge||he((0,_.A)({ts:null})),Ke==null||Ke.close(),Ot.tap(()=>{const Kt=Ce();(!(0,W.UJ)(Kt)||(0,m.N)(Kt,se)||(0,m.N)(Kt,(0,o.WR)(Kt)))&&(he((0,M.A)({channelId:se,threadTs:Ge})),He&&he((0,M.A)({channelId:se}))),Ze.count({name:Ee,label:"success"}),Me.reportTrace(Ze),de&&(de.addTags({success:!0}),ke==null||ke.close(),Me.reportTrace(de))}).catch(Kt=>{const Xt=(0,t.A)(Kt,"data.error"),vn=(0,t.A)(Kt,"data.dlp_custom_message");Ze.count({name:Ee,label:"failure"}).setTag("error",Xt||(Kt==null?void 0:Kt.message)),Me.reportTrace(Ze);const Sn=Xt===Re,jt=Xt===ge,hn=Xt===ne,xt=Object.values(F).includes(Xt)?Xt:void 0,Dn=Object.values(ee).includes(Xt)?Xt:void 0;if(!Xt&&!(0,Y.I)(Ce(),it.client_msg_id)){xe.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}const St=H[Xt];let dn=!0;const fn=!0,un=[Ae,ae,V,ve,be,Ue];(0,n.A)(un,Xt)&&(O(se,St,"send-message/sendMessage.catch"),dn=!1),Sn&&(dn=!1),Dn&&(dn=!1),hn&&(dn=!1,he((0,X.A)())),xt&&(dn=!1);const _n="Message failed to send",tn=(0,s.A)(Kt,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);tn.client_msg_id=Ye,tn.channel=se,tn.thread_ts=Ge;const nn=Kt&&Kt.status===429?"message_send_ratelimit":"message_send_fail";xe.error(tn instanceof Error?tn:new Error(_n),`${_n}: ${Xt} | ${JSON.stringify(tn)}`,{subtype:nn});const An=Xt?(0,r.A)(tn,["response"]):Kt;xe.error("MESSAGE",_n,Xt,An);const yn={...it,showResend:dn,showCancel:fn,isEKMError:Sn,isDLPUserWarningError:jt,canvasSharingError:xt,blockFileLinkSharingError:Dn,dlpCustomMessage:vn};(0,Y.I)(Ce(),it.client_msg_id)?he((0,d.Kc)([yn])):j(he,yn),!dn&&Q&&le(Oe,it.client_msg_id),de&&(dn?(de.addTags({success:!1}),ke==null||ke.close(),Me.reportTrace(de)):Me.clearTrace(de))})});ye.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"};const Ie=ye},5363983309:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),n=e(8212623464),s=e(6304789565),r=e(6533394955),c=e(8847766420),o=e(2567914105),a=e(2375333597),l=e(8726613433),i=e(5258584090),d=e(4518410378);function _(){return _=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(v[y]=A[y])}return v},_.apply(this,arguments)}u(_,"_extends");const h=u((v,T)=>(0,s.Ay)(`XWS open ${v.displayName} modal`,(A,y,p,f)=>{const{modalName:O,allowMultiple:I=!0,isStackable:P=!1,renderInChildWindow:C=!1}=T||{};let M,D=C;const E=f(i.S);if((E==null?void 0:E.windowRef.deref())!==d.J&&(E!=null&&E.windowId)&&(D=!0,M=E.windowId),!I&&O&&(0,o.wc)(y(),M).find(z=>{let{name:w}=z;return w===O}))return;const S=(0,c.ZT)(y()),k=(0,l.vB)(y()),U=(0,r.getStoreInstanceByTeamId)(S);let L,B=t.createElement(v,_({},p,{closeModal:()=>L==null?void 0:L()}));D||(B=t.createElement(n.Kq,{store:U},B));let b;return D?b=A((0,a.q)({element:B,name:O||void 0,isStackable:P})):b=(0,r.dispatchForTeamId)(k,(0,a.q)({element:B,name:O||void 0,isStackable:P})),L=b==null?void 0:b.close,b}),"createXWSModalThunk")},2371143272:(x,g,e)=>{"use strict";e.d(g,{b:()=>c,i:()=>r});var t=e(3398586081),n=e(6917917245),s=e(1658558415);const r="sentry_fe_perf",c=(0,t.A)(()=>(0,s.A)()?!1:(0,n.fW)(r))},7206394193:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(8571983633),n=e(9686962598),s=e(6926388022),r=e(1527536225),c=e(5219503691);const o=(0,r.Ay)("Logs helpful messages to the console if you do something incorrect",(l,i,d)=>{if((0,t.A)(d)||(0,n.A)(d))return c.Qs&&(0,s.z3)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(d.isThunkCreator||d.isActionCreator){if(c.Qs){const _=d.isThunkCreator?"thunk":"action",m=d.meta?d.meta.name:`${_}Creator`;(0,s.z3)(`
	It looks like you dispatched a ${_} creator instead of the ${_} itself!
	This is a common mistake, and the solution is to call dispatch(${m}(payload)) instead of just dispatch(${m}), note the extra parens at the end.
				`)}return null}return(0,c.ZR)(d),i(d)});o.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"};const a=o},773865333:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(862210999),n=e(796111729),s=e(4724591729),r=e(1527536225),c=e(4423055085);let o=[];const a=(0,n.Wo)(),l=(0,r.Ay)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(m,h,v)=>{const T=[],A=m.getState();o.forEach(f=>{T.push(f(A,v))});const y=h(v),p=m.getState();return o.forEach((f,O)=>{const I=f(p,v);if(T[O]!==I){const P=["Redux Watcher:",`Value has changed! 
Action: `,v,`
Before: `,T[O],`
After:  `,I];if(T[O]!==void 0&&I!==void 0){const C=T[O]===void 0?{}:T[O],M=I===void 0?{}:I;P.push(`
Diff: `,Object.keys({...C,...M}).filter(D=>C[D]!==M[D]).map(D=>({key:D,before:C[D],after:M[D]})))}if(a.warn(...P),(0,s.Cu)()||(0,s.b3)())debugger}}),y});l.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"};const i=l;function d(m){if(!(0,t.A)(m)){a.error("watcherFn passed in to addWatcher must be a function");return}o.push(m)}u(d,"addWatcher");function _(){o=[]}u(_,"clearAllWatchers"),(0,c.ul)("reduxWatcher",{addWatcher:d,clearAllWatchers:_})},7156104699:(x,g,e)=>{"use strict";e.d(g,{N:()=>m,A:()=>_});var t=e(1527536225),n=e(6152845331),s=e(8161242485);const r=(0,s.Ay)(h=>{var v;return h==null||(v=h.sideEffects)===null||v===void 0?void 0:v.sideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:h=>{var v;return h==null||(v=h.sideEffects)===null||v===void 0?void 0:v.sideEffectsMap}};const c=(0,s.Ay)(h=>{var v;return h==null||(v=h.clientSideEffects)===null||v===void 0?void 0:v.clientSideEffectsMap});c.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:h=>{var v;return h==null||(v=h.clientSideEffects)===null||v===void 0?void 0:v.clientSideEffectsMap}};var o=e(796111729),a=e(6422693406);function l(){return(0,t.Ay)("Handle client side effects",(h,v,T)=>{var A;if(!((A=T.__test)===null||A===void 0)&&A.disableSideEffects)return v(T);const y=h.getState(),p=c(y);return d({store:h,action:T,sideEffectsMap:p}),v(T)})}u(l,"createClientSideEffectsMiddleware");function i(){return(0,t.Ay)("Handle side effects",(h,v,T)=>{var A;if(!((A=T.__test)===null||A===void 0)&&A.disableSideEffects)return v(T);const y=h.getState(),p=r(y);return d({store:h,action:T,sideEffectsMap:p}),v(T)})}u(i,"createSideEffectsMiddleware");function d(h){let{store:v,action:T,sideEffectsMap:A}=h;const y=A&&A[T.type],p=u(f=>((0,n.S$)(T,f),v.dispatch(f)),"wrappedDispatch");y!=null&&y.length&&a.S.resolve().then(()=>{y.forEach(f=>{if(!f)return;const{thunk:O}=f;try{p(O(T))}catch(I){(0,o.Ay)({getState:v.getState}).error("SIDE-EFFECTS",`Error in side effect for '${T.type}'`,I,{subtype:"side_effect_error"})}})})}u(d,"runSideEffects");const _=i(),m=l()},8333842125:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(1416482128),n=e(4724591729),s=e(3202757386),r=e(4157777698);const c=u(d=>{switch(d.type){case r.f0.getType():return{...d,payload:"Channel bulk add payload is too big to output to redux devtools"};default:return d}},"actionSanitizer"),o=(0,s.A)()?void 0:()=>({apologies:"Serializing our large state kept crashing redux devtools. I hope to bring it back someday, but for now you can see the state by using `TS.redux.getState()` in the console"}),l={autoPause:!0,actionSanitizer:c,stateSanitizer:o,maxAge:1e3,features:{pause:!0}};function i(d){let{teamOrEnterpriseId:_,appName:m="",customEnhancers:h,middlewares:v,disableDevTools:T}=d;return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!T&&((0,n.Cu)()||(0,n.b3)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({...l,name:["Slack",_,m].filter(p=>p&&p.length>0).join("-")}):t.Zz)((0,t.Tw)(...v??[]),...h??[])}u(i,"configureEnhancers")},582577127:(x,g,e)=>{"use strict";e.d(g,{g:()=>n});var t=e(3371371503);function n(s){const o={sideEffectsMap:{},clientSideEffectsMap:{}};return!s||!s.length?o:s.reduce((a,l)=>{const{actions:i,scope:d}=l;let _;switch(d){case t.RE.client:_=a.clientSideEffectsMap;break;default:case t.RE.workspace:_=a.sideEffectsMap;break}return i.forEach(m=>{var h;const v=m==null||(h=m.getType)===null||h===void 0?void 0:h.call(m);v&&(_[v]=_[v]||[],_[v].push(l))}),a},o)}u(n,"generateSideEffectsMaps")},2732935554:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(9139930183),n=e(1004520977);const s={hasKeyboardFocus:!1},c=(0,t.Ay)({},s,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0}).on(n.w,function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.hasKeyboardFocus===a?o:{...o,hasKeyboardFocus:a}})},5105455463:(x,g,e)=>{"use strict";e.d(g,{As:()=>c,N9:()=>n,V_:()=>s,WB:()=>d,X8:()=>r,bb:()=>l,c7:()=>_,dH:()=>a,lf:()=>i,og:()=>t,rf:()=>o});const t="(prefers-contrast: more)",n="useAriaApplicationForListViews",s="composerUpArrowShortcutBehavior",r="messageTextLineSpacing",c="messageSpacing",o="messageTextWordSpacing",a="conversationIncomingMessageSound",l="conversationSentMessageSound",i="conversationIncomingMessageAnnouncement",d="peeksEnabledOnMouseEnter",_=!0},3034787354:(x,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3245843483),n=e(8646192222),s=e(9139930183),r=e(25586007),c=e(5105455463),o=e(8439865561),a=e(9733150292);let l=!1;(0,n.Nu)()?l=window.matchMedia(c.og).matches:(0,n.hk)()&&(l=(0,t.oQe)("settings","shouldUseHighContrastColors"));let i=!1;try{i=!!(0,a.W6)(c.N9)}catch{}let d;try{d=(0,a.W6)(c.V_)}catch{}let _;try{_=(0,a.W6)(c.X8)||1}catch{}let m;try{m=(0,a.W6)(c.As)||1}catch{}let h;try{h=(0,a.W6)(c.rf)||"0"}catch{}let v;try{var T;v=(T=(0,a.W6)(c.dH))!==null&&T!==void 0?T:""}catch{v=""}let A;try{var y;A=(y=(0,a.W6)(c.bb))!==null&&y!==void 0?y:""}catch{A=""}let p;try{p=(0,a.W6)(c.lf)}catch{p=void 0}let f;try{var O;f=(O=(0,a.W6)(c.WB))!==null&&O!==void 0?O:c.c7}catch{f=c.c7}const I={screenReaderEnabled:!1,shouldUseHighContrastColors:l,useARIAApplicationForListViews:i,composerUpArrowShortcutBehavior:d,messageTextLineSpacing:_,messageSpacing:m,messageTextWordSpacing:h,conversationIncomingMessageSound:v,conversationSentMessageSound:A,conversationIncomingMessageAnnouncement:p,peeksEnabledOnMouseEnter:f},C=(0,s.Ay)({},I,{storeKey:"accessibility",persistenceEnabled:!1}).on(o.rl,(M,D)=>D!=null&&D.message?{...M,announcerAPIAnnouncement:D}:M).on(o.Jq,(M,D)=>typeof D!="boolean"||D===M.screenReaderEnabled?M:{...M,screenReaderEnabled:D}).on(o.N,function(M){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof D!="boolean"||D===M.shouldUseHighContrastColors?M:{...M,shouldUseHighContrastColors:D}}).on(o.KQ,function(M){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...M,useARIAApplicationForListViews:D}}).on(o.Tv,function(M){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.v.LIST;return{...M,composerUpArrowShortcutBehavior:D}}).on(o.C_,function(M){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...M,messageTextLineSpacing:D}}).on(o.XE,function(M){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...M,messageSpacing:D}}).on(o.Mq,function(M){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...M,messageTextWordSpacing:D}}).on(o.Sr,(M,D)=>({...M,conversationIncomingMessageSound:D})).on(o.mw,(M,D)=>({...M,conversationSentMessageSound:D})).on(o.Ap,(M,D)=>({...M,conversationIncomingMessageAnnouncement:D})).on(o.V_,(M,D)=>({...M,peeksEnabledOnMouseEnter:D}))},8365110903:(x,g,e)=>{"use strict";e.d(g,{T:()=>o});var t=e(6304789565),n=e(4134037340),s=e(5105455463),r=e(8439865561),c=e(9733150292);const o=(0,t.Ay)("Set the behavior of the up arrow shortcut when focus is in the MessageInput",(a,l,i)=>{if((0,n.A)(l()))try{(0,c.q9)(s.V_,i)}catch{}a((0,r.Tv)(i))});o.meta={name:"createThunk",key:"createThunksetComposerUpArrowShortcutBehavior",description:"Set the behavior of the up arrow shortcut when focus is in the MessageInput"}},2633701976:(x,g,e)=>{"use strict";e.d(g,{p:()=>o});var t=e(6304789565),n=e(4134037340),s=e(5105455463),r=e(8439865561),c=e(9733150292);const o=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(a,l,i)=>{if((0,n.A)(l()))try{(0,c.q9)(s.lf,i)}catch{}a((0,r.Ap)(i))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},2517531287:(x,g,e)=>{"use strict";e.d(g,{R:()=>o,r:()=>a});var t=e(6304789565),n=e(4134037340),s=e(5105455463),r=e(8439865561),c=e(9733150292);const o=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(l,i,d)=>{if((0,n.A)(i()))try{(0,c.q9)(s.dH,d)}catch{}l((0,r.Sr)(d))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const a=(0,t.Ay)("Set the pref for the sound that plays when a message is sent to the focused conversation",(l,i,d)=>{if((0,n.A)(i()))try{(0,c.q9)(s.bb,d)}catch{}l((0,r.mw)(d))});a.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},25586007:(x,g,e)=>{"use strict";e.d(g,{v:()=>t});var t;(function(n){n[n.LIST=1]="LIST",n[n.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",n[n.EDIT=3]="EDIT"})(t||(t={}))},3087402890:(x,g,e)=>{"use strict";e.d(g,{FX:()=>o,X5:()=>c,ZY:()=>h,cD:()=>i,cQ:()=>d,cw:()=>l,dj:()=>_,fe:()=>r,hc:()=>v,lB:()=>m,qK:()=>n,r8:()=>a,s2:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Set the thread root keys");n.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"};const s=(0,t.Ay)("Append more thread root keys");s.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"};const r=(0,t.Ay)("Insert a thread at the beginning");r.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"};const c=(0,t.Ay)("Increments totalUnreadReplies");c.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"};const o=(0,t.Ay)("Sets totalNewThreads to 0");o.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"};const a=(0,t.Ay)("Increments allThreadsRefreshCounter");a.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"};const l=(0,t.Ay)("Set the thread key that should be focused");l.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"};const i=(0,t.Ay)("Set the thread timestamp that should be focused");i.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"};const d=(0,t.Ay)("Add a thread key to an array of threads that were manually marked unread");d.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"};const _=(0,t.Ay)("set object of threads that have been manually marked as unread");_.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"};const m=(0,t.Ay)("Remove a thread key from an array of threads that were manually marked unread");m.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"};const h=(0,t.Ay)("Sets manuallyMarkedUnread to empty");h.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"};const v=(0,t.Ay)("Sets selected tab in threads view");v.meta={name:"createAction",key:"createActionsetSelectedTab",description:"Sets selected tab in threads view"}},8778137680:(x,g,e)=>{"use strict";e.d(g,{DQ:()=>c,Lm:()=>a,RZ:()=>i,S:()=>h,X$:()=>r,_y:()=>d,c6:()=>_,fv:()=>o,rk:()=>s,yT:()=>m,z7:()=>l,zZ:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set Awareness State for another user");n.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const s=(0,t.Ay)("Set Awareness State for me");s.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const r=(0,t.Ay)("Remove Awareness State for me");r.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const c=(0,t.Ay)("Clear the full awareness state for a user");c.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const o=(0,t.Ay)("Set my screenshare view");o.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const a=(0,t.Ay)("Remove my screenshare view");a.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const l=(0,t.Ay)("Set my sticky reaction");l.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const i=(0,t.Ay)("Remove my sticky reaction");i.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const d=(0,t.Ay)("Clear any stale awareness entries");d.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const _=(0,t.Ay)("Sets updatedTimestamp for my awareness entries to current time");_.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const m=(0,t.Ay)("Set my active song");m.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const h=(0,t.Ay)("Remove my active song");h.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},7592559649:(x,g,e)=>{"use strict";e.d(g,{$G:()=>f,Ae:()=>I,Fb:()=>p,M3:()=>A,fL:()=>y,gV:()=>O,sW:()=>T,xP:()=>v});var t=e(8161242485),n=e(3385422400),s=e(6418055367),r=e(166097325),c=e(9113979368),o=e(5751973043),a=e(1345902898),l=e(6324645806);const i=(0,n.Ad)(s.UI,r.A),d=u(C=>{var M;return(C==null||(M=C.awareness)===null||M===void 0?void 0:M.awarenessEntries)||o.Ml},"selectAwarenessEntries"),_=(0,n.Mz)([d,(C,M)=>M,(C,M,D)=>D,(C,M,D,E)=>E],(C,M,D,E)=>{if(M===void 0)return o.t0;const S=C.filter(U=>{const L=U.channel===M,B=U.fieldName===D,b=E?U.uniqueId===E:!0,R=!(0,l.h)(U);return L&&B&&b&&R}).map(U=>[U.user,U.fieldValue]),k=Object.fromEntries(S);return(0,c.A)(k)?o.t0:k}),m=(0,n.Mz)([d,(C,M)=>M,(C,M,D)=>D],(C,M,D)=>{if(M===void 0)return o.t0;const E=C.filter(k=>{const U=k.channel===M,L=k.fieldName===D,B=!(0,l.h)(k);return U&&L&&B}).map(k=>[k.uniqueId,[k.user,k.fieldValue]]),S=Object.fromEntries(E);return(0,c.A)(S)?o.t0:S}),h=(0,n.Mz)([d,(C,M)=>M,(C,M,D)=>D],(C,M,D)=>{if(M===void 0)return o.t0;var E,S;const k=C.filter(L=>{const B=L.channel===M,b=L.fieldName===D,R=!(0,l.h)(L);return B&&b&&R}).sort((L,B)=>((E=L.fieldTimestampMs)!==null&&E!==void 0?E:Number.MAX_SAFE_INTEGER)-((S=B.fieldTimestampMs)!==null&&S!==void 0?S:Number.MAX_SAFE_INTEGER)).map(L=>[L.user,L.fieldValue]);return Object.fromEntries(k)}),v=(0,t.Ay)((C,M)=>{const D=h(C,M,a.p4.STICKYEMOJI);return(0,c.A)(D)?o.t0:D});v.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(C,M)=>{const D=h(C,M,a.p4.STICKYEMOJI);return(0,c.A)(D)?o.t0:D}};const T=(0,t.Ay)((C,M)=>_(C,M,a.p4.CONTENTVIEW));T.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(C,M)=>_(C,M,a.p4.CONTENTVIEW)};const A=(0,t.Ay)((C,M)=>m(C,M,a.p4.CONTENTVIEW));A.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(C,M)=>m(C,M,a.p4.CONTENTVIEW)};const y=(0,t.Ay)((C,M,D,E)=>{var S;return(C==null||(S=C.awareness)===null||S===void 0?void 0:S.awarenessEntries).filter(L=>{const B=L.channel===M,b=L.user===D,R=!E||(0,l.I)(L.fieldName)?!0:L.uniqueId===E,z=!(0,l.h)(L);return B&&b&&R&&z}).map(L=>({field_name:L.fieldName,field_value:L.fieldValue,...!!L.fieldTimestampMs&&{field_timestamp_ms:L.fieldTimestampMs}}))});y.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(C,M,D,E)=>{var S;return(C==null||(S=C.awareness)===null||S===void 0?void 0:S.awarenessEntries).filter(L=>{const B=L.channel===M,b=L.user===D,R=!E||(0,l.I)(L.fieldName)?!0:L.uniqueId===E,z=!(0,l.h)(L);return B&&b&&R&&z}).map(L=>({field_name:L.fieldName,field_value:L.fieldValue,...!!L.fieldTimestampMs&&{field_timestamp_ms:L.fieldTimestampMs}}))}};const p=(0,t.Ay)((C,M,D,E)=>{const S=y(C,M,D,E);for(const k of S)if(k.field_name===a.p4.STICKYEMOJI)return k;return null});p.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(C,M,D,E)=>{const S=y(C,M,D,E);for(const k of S)if(k.field_name===a.p4.STICKYEMOJI)return k;return null}};const f=(0,t.Ay)((C,M)=>{let{callId:D,userId:E,uniqueId:S}=M;return D?_(C,D,a.p4.STICKYEMOJI,S)[E]:void 0});f.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(C,M)=>{let{callId:D,userId:E,uniqueId:S}=M;return D?_(C,D,a.p4.STICKYEMOJI,S)[E]:void 0}};const O=(0,t.Ay)((C,M)=>{let{callId:D,userId:E}=M;if(!D)return;const S=_(C,D,a.p4.HUDDLE_ACTIVE_SONG);if((0,c.A)(S))return;if(E)return S[E];const k=Object.values(S);if(k.length!==0)return k[0]});O.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(C,M)=>{let{callId:D,userId:E}=M;if(!D)return;const S=_(C,D,a.p4.HUDDLE_ACTIVE_SONG);if((0,c.A)(S))return;if(E)return S[E];const k=Object.values(S);if(k.length!==0)return k[0]}};const I=i([d,(C,M,D,E,S)=>`${M},${D},${E},${S}`],(C,M)=>{const[D,E,S,k]=M.split(","),U=C.filter(L=>{const B=L.channel===D,b=L.user!==E,R=L.fieldName===a.p4.ACTIVE_CELL&&L.fieldValue&&L.fieldValue.rowId===S&&L.fieldValue.colId===k,z=!(0,l.h)(L);return B&&b&&R&&z}).map(L=>[[`${L.fieldValue.rowId},${L.fieldValue.colId}`],L.user]);return U.length?Object.fromEntries(U):o.t0}),P=(0,n.Mz)([d,(C,M)=>M],(C,M)=>M===void 0?o.Ml:C.filter(E=>{const S=E.channel===M,k=E.fieldName===a.p4.ACTIVE_CELL;return S&&k}).map(E=>E.user))},1345902898:(x,g,e)=>{"use strict";e.d(g,{Pz:()=>t,mO:()=>s,p4:()=>n});var t;(function(r){r.BROADCAST="broadcast",r.QUERY="query",r.CLOSE="close"})(t||(t={}));var n;(function(r){r.CONTENTVIEW="contentView",r.STICKYEMOJI="stickyEmoji",r.ACTIVE_CELL="activeCell",r.HUDDLE_ACTIVE_SONG="huddleActiveSong"})(n||(n={}));const s=60*1e3},6324645806:(x,g,e)=>{"use strict";e.d(g,{I:()=>s,h:()=>n});var t=e(1345902898);const n=u(r=>{const c=Date.now();var o;return c-((o=r.updatedTimestamp)!==null&&o!==void 0?o:c)>=t.mO},"isAwarenessEntryExpired"),s=u(r=>r?[t.p4.HUDDLE_ACTIVE_SONG].includes(r):!1,"skipUniquenessCheck")},5107871484:(x,g,e)=>{"use strict";e.d(g,{Ol:()=>r,Yf:()=>s,x8:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set what zoom value was set in the client when in BBM");n.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client when in BBM"};const s=(0,t.Ay)("Set if hover actions should persist in the client when in BBM");s.meta={name:"createAction",key:"createActionsetPersistentActionsInternal",description:"Set if hover actions should persist in the client when in BBM"};const r=(0,t.Ay)("Set if customer has seen onboarding");r.meta={name:"createAction",key:"createActionsetOnboardedInternal",description:"Set if customer has seen onboarding"}},7980588110:(x,g,e)=>{"use strict";e.d(g,{DP:()=>s,UY:()=>t,Yb:()=>r,iS:()=>n});const t="slack-zoom-bbm-setting",n="slack-persistent-actions-bbm-setting",s="slack-onboarded-setting",r=!0},9651400563:(x,g,e)=>{"use strict";e.d(g,{Z:()=>m});var t=e(9139930183),n=e(5107871484),s=e(7980588110),r=e(9733150292);let c;try{var o;c=(o=(0,r.W6)(s.UY))!==null&&o!==void 0?o:void 0}catch{}let a;try{var l;a=(l=(0,r.W6)(s.iS))!==null&&l!==void 0?l:s.Yb}catch{}let i;try{var d;i=(d=(0,r.W6)(s.DP))!==null&&d!==void 0?d:!1}catch{}const _={zoom:c,persistentActions:a,onboarded:i},m=(0,t.Ay)({},_,{storeKey:"bbmSettings",persistenceEnabled:!1}).on(n.x8,(h,v)=>({...h,zoom:v})).on(n.Yf,(h,v)=>({...h,persistentActions:v})).on(n.Ol,h=>({...h,onboarded:!0}))},3029055053:(x,g,e)=>{"use strict";e.d(g,{IX:()=>n,N6:()=>s,Tr:()=>r});var t=e(8161242485);const n=(0,t.Ay)(c=>c.bbmSettings.zoom);n.meta={name:"createSelector",key:"createSelectorgetZoom",description:c=>c.bbmSettings.zoom};const s=(0,t.Ay)(c=>c.bbmSettings.persistentActions);s.meta={name:"createSelector",key:"createSelectorgetPersistentActions",description:c=>c.bbmSettings.persistentActions};const r=(0,t.Ay)(c=>c.bbmSettings.onboarded);r.meta={name:"createSelector",key:"createSelectorisOnboarded",description:c=>c.bbmSettings.onboarded}},3749529250:(x,g,e)=>{"use strict";e.d(g,{K:()=>s,z:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Enable big button mode");n.meta={name:"createAction",key:"createActionenableBBM",description:"Enable big button mode"};const s=(0,t.Ay)("Disable big button mode");s.meta={name:"createAction",key:"createActiondisableBBM",description:"Disable big button mode"}},4614661813:(x,g,e)=>{"use strict";e.d(g,{Y:()=>r});var t=e(9139930183),n=e(3749529250);const s={enabled:!1},r=(0,t.Ay)({},s,{storeKey:"bbm",persistenceEnabled:!0,persistImmediately:!0}).on(n.z,c=>({...c,enabled:!0})).on(n.K,c=>({...c,enabled:!1}))},8677230210:(x,g,e)=>{"use strict";e.d(g,{pO:()=>T,AF:()=>v,E6:()=>f,vu:()=>p,wC:()=>A,Od:()=>y});var t=e(3037015781),n=e(8161242485),s=e(9464746668),r=e(4588963228),c=e(8847766420),o=e(2762206868),a=e(8276911661);const l=["B01","BSLACKBOT","B03"];var i=e(3447104916),d=e(4562579337);function _(O){return!!(O&&(0,t.uz)(O)&&!(0,d.A)(O))}u(_,"isMemberHuman");var m=e(9887599716),h=e(9354158662);const v=(0,n.Ay)(function(O,I){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const C=(0,c.ZT)(O);if(!I)return!1;const M=(0,m.o)(O,I);return!M&&(0,r.A)(I)&&P&&l.indexOf(I)<0?(0,i.Ss)().fetchObjectWithId(C,I):((0,i.ez)(C,I),M||!1)});v.meta={name:"createSelector",key:"createSelectorgetBotById",description:function(O,I){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const C=(0,c.ZT)(O);if(!I)return!1;const M=(0,m.o)(O,I);return!M&&(0,r.A)(I)&&P&&l.indexOf(I)<0?(0,i.Ss)().fetchObjectWithId(C,I):((0,i.ez)(C,I),M||!1)}};const T=(0,n.Ay)((O,I)=>{if(!I)return;const P=(0,h.iO)(O);let C;return P&&(C=Object.values(P).find(M=>M.app_id===I)),C});T.meta={name:"createSelector",key:"createSelectorgetBotByAppId",description:(O,I)=>{if(!I)return;const P=(0,h.iO)(O);let C;return P&&(C=Object.values(P).find(M=>M.app_id===I)),C}};const A=(0,n.Ay)((O,I)=>{const P=(0,a.nv)(O,I);return _(P)});A.meta={name:"createSelector",key:"createSelectorgetMemberIsHuman",description:(O,I)=>{const P=(0,a.nv)(O,I);return _(P)}};const y=(0,n.Ay)(function(O){let{userId:I,botId:P,botProfile:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M,D;I&&(M=(0,a.nv)(O,I)),P&&(D=v(O,P)||void 0);const E=M?_(M):!1;let S;!(0,t.uz)(D)&&(0,t.uz)(M)&&(S=(0,s.A)(O,M),S&&S!==P&&(D=v(O,S)||void 0));let k;if(!(0,t.uz)(D)&&C&&(k=C.id,k&&k!==S&&k!==P&&(D=v(O,k)||void 0),(0,t.uz)(D)||(D=C)),!(0,t.uz)(M)&&(0,t.uz)(D)&&D.app_id){const U=(0,o.sO)(O,D.app_id);if((0,t.uz)(U)){const L=U.app_user_id;L&&L!==I&&(M=(0,a.nv)(O,L))}}return{bot:D,member:M,memberIsHuman:E}});y.meta={name:"createSelector",key:"createSelectormaybeGetBotAndMemberByIds",description:function(O){let{userId:I,botId:P,botProfile:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M,D;I&&(M=(0,a.nv)(O,I)),P&&(D=v(O,P)||void 0);const E=M?_(M):!1;let S;!(0,t.uz)(D)&&(0,t.uz)(M)&&(S=(0,s.A)(O,M),S&&S!==P&&(D=v(O,S)||void 0));let k;if(!(0,t.uz)(D)&&C&&(k=C.id,k&&k!==S&&k!==P&&(D=v(O,k)||void 0),(0,t.uz)(D)||(D=C)),!(0,t.uz)(M)&&(0,t.uz)(D)&&D.app_id){const U=(0,o.sO)(O,D.app_id);if((0,t.uz)(U)){const L=U.app_user_id;L&&L!==I&&(M=(0,a.nv)(O,L))}}return{bot:D,member:M,memberIsHuman:E}}};const p=(0,n.Ay)((O,I)=>{const P=v(O,I);if(P&&P.name)return P.name});p.meta={name:"createSelector",key:"createSelectorgetBotNameById",description:(O,I)=>{const P=v(O,I);if(P&&P.name)return P.name}};const f=(0,n.Ay)((O,I)=>{if(!O||!I)return null;const P=(0,a.nv)(O,I.user),C=I.bot_id||(0,s.A)(O,P);if(!C)return null;if(I.bot_profile)return I.bot_profile.id!==C?{...I.bot_profile,id:C}:I.bot_profile;const M=v(O,C);return M||null});f.meta={name:"createSelector",key:"createSelectorgetBotByMsg",description:(O,I)=>{if(!O||!I)return null;const P=(0,a.nv)(O,I.user),C=I.bot_id||(0,s.A)(O,P);if(!C)return null;if(I.bot_profile)return I.bot_profile.id!==C?{...I.bot_profile,id:C}:I.bot_profile;const M=v(O,C);return M||null}}},6252535684:(x,g,e)=>{"use strict";e.d(g,{M:()=>s,h:()=>n});var t=e(8161242485);const n=5*60*1e3,s=(0,t.Ay)((r,c)=>{var o;const a=r==null||(o=r.channelActiveTabStore)===null||o===void 0?void 0:o[c];if(a&&a.timestamp>Date.now()-n)return a.tab});s.meta={name:"createSelector",key:"createSelectorgetLastActiveTabForChannel",description:(r,c)=>{var o;const a=r==null||(o=r.channelActiveTabStore)===null||o===void 0?void 0:o[c];if(a&&a.timestamp>Date.now()-n)return a.tab}}},9536404279:(x,g,e)=>{"use strict";e.d(g,{CD:()=>a,Jt:()=>c,Np:()=>s,VG:()=>n,bz:()=>r,fp:()=>o,hX:()=>l});var t=e(2140362605);const n=(0,t.Ay)("Add timestamps to channel history");n.meta={name:"createAction",key:"createActionaddTimestamps",description:"Add timestamps to channel history"};const s=(0,t.Ay)("Remove timestamps from channel history");s.meta={name:"createAction",key:"createActionremoveTimestamp",description:"Remove timestamps from channel history"};const r=(0,t.Ay)("Remove all history for a channel");r.meta={name:"createAction",key:"createActionremoveAllTimestamps",description:"Remove all history for a channel"};const c=(0,t.Ay)("Was disconnected; reset reachedEnd to false");c.meta={name:"createAction",key:"createActionresetReachedEnd",description:"Was disconnected; reset reachedEnd to false"};const o=(0,t.Ay)("Drop messages from before a given timestamp");o.meta={name:"createAction",key:"createActiontruncateChannelHistoryPriorToTimestamp",description:"Drop messages from before a given timestamp"};const a=(0,t.Ay)("Drop old messages if there are too many");a.meta={name:"createAction",key:"createActiontruncateChannelHistory",description:"Drop old messages if there are too many"};const l=(0,t.Ay)("Remove all history for every channel");l.meta={name:"createAction",key:"createActionclearChannelHistory",description:"Remove all history for every channel"}},4350638406:(x,g,e)=>{"use strict";e.d(g,{Hw:()=>be,e3:()=>ne,mY:()=>ae,D1:()=>V,Zc:()=>ge,ez:()=>Ae});var t=e(3398586081),n=e(7715417323),s=e(6533394955),r=e(8352634987);function c(ee,F){return`${ee}:${F}`}u(c,"serialize_serialize");function o(ee){const[F,H]=ee.split(":");return{channelId:F,ts:H}}u(o,"deserialize");var a=e(4423055085),l=e(2208015175),i=e(1703559452),d=e(9816084745),_=e(8289365785),m=e(8786006583),h=e(6422693406),v=e(6304789565),T=e(796111729),A=e(7334104107),y=e(6457401668),p=e(4919145213),f=e(9986847041),O=e(4365697073),I=e(3110884894),P=e(7606781622),C=e(8040098042),M=e(2155512519),D=e(12126472),E=e(1116859610);const S="HISTORY-CFM";function k(ee,F){return u(function H(){let{channelId:j,oldest:N,latest:J,cursor:le="",msgsInRange:ce=[],deletedInRange:Ee=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ye={channelId:j,oldest:N,latest:J,cursor:le,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return ee((0,M.Ay)(ye)).then(function(){let{msgs:Ie=[],deleted:he=[],isLimited:Ce,hasMore:oe,responseMetadata:de={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ce.push(...Ie),Ee.push(...he),oe&&!Ce&&de.next_cursor?H({channelId:j,oldest:N,latest:J,cursor:de.next_cursor,msgsInRange:ce,deletedInRange:Ee}):(ee((0,E.A)({msgs:ce,channelId:j,isLimited:Ce,latest:J,oldest:N,deletedInRange:Ee})),h.S.resolve())})},"fetchHistoryRangeHelper")(F)}u(k,"fetchHistoryRange");function U(ee,F){return u(function H(){let{channelId:j,threadTs:N,oldest:J,latest:le,cursor:ce="",msgsInRange:Ee=[],deletedInRange:ye=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ie={channelId:j,threadTs:N,oldest:J,latest:le,cursor:ce,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return ee((0,M.$b)(Ie)).then(function(){let{msgs:he=[],deleted:Ce=[],hasMore:oe,responseMetadata:de={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ee.push(...ce?(0,D.A)(he,{ts:N}):he),ye.push(...Ce),oe&&de.next_cursor)return H({channelId:j,threadTs:N,oldest:J,latest:le,cursor:de.next_cursor,msgsInRange:Ee,deletedInRange:ye});const Te=J===N||le===N?Ee:(0,D.A)(Ee,{ts:N});return ee((0,E.A)({msgs:Te,channelId:(0,I.Iu)(j,N),latest:le,oldest:J,deletedInRange:ye})),h.S.resolve()})},"fetchRepliesRangeHelper")(F)}u(U,"fetchRepliesRange");const L=(0,v.Ay)("Fetches a range of messages",(ee,F,H)=>{let{channelId:j,oldest:N,latest:J}=H;return(0,T.Ay)({getState:F,label:S}).info(`Re-fetching ${j} ${N} - ${J}`),(0,C.A)(j)?k(ee,{channelId:j,oldest:N,latest:J}):U(ee,{...(0,I.Sb)(j),oldest:N,latest:J})});L.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var B=e(8455301571);function b(ee){const F={};return ee.forEach(H=>{const{channelId:j,ts:N}=o(H);F[j]=F[j]||[],F[j].push(N)}),F}u(b,"groupTimestampsByChannel");function R(ee){let F,H;return(0,l.A)(ee,(j,N)=>{F===void 0&&(F=N),H===void 0&&(H=N),N<F&&(F=N),N>H&&(H=N)}),{minTs:F,maxTs:H}}u(R,"getMinAndMaxTs");function z(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,i.A)(F,(H,j)=>ee[j])}u(z,"hasIntersection");function w(ee,F){return(0,d.A)(F,(H,j)=>ee[j])}u(w,"isSuperset");function W(ee){let{ranges:F={},tsMaps:H=[]}=ee;const j={...F};let N=H[0];return H.forEach(J=>{N!==J&&(z(N,J)?w(N,J)?delete j[J.rangeId]:w(J,N)?(delete j[N.rangeId],N=J):(0,l.A)(J,(le,ce)=>delete N[ce]):N=J)}),Object.values(j)}u(W,"dedupe");function K(ee,F){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const j=(0,T.Ay)({state:ee,label:S}),N={},J=[];return H.sort().forEach(le=>{const Ee=(0,P.Ld)(ee,F,le,!1);if(!Ee){j.warn(`No message for ${le} in ${F}`);return}if((0,A.aw)(Ee)||(0,p.A)(Ee))return;const ye=[];(!(0,O.n)(Ee)||(0,A.jX)(Ee)||(0,y.SM)(Ee))&&ye.push(F),((0,A.jX)(Ee)||(0,O.n)(Ee))&&ye.push((0,I.Iu)(F,(0,f.L)(Ee))),ye.forEach(Ie=>{if(!Ie)return;const he=(0,B.tp)(ee,Ie,le);if(!he||he===B.Vl)return;const{start:Ce,end:oe,timestamps:de}=he,De=`${Ce}-${oe}`;if(!N[De]){const pe={};Object.defineProperty(pe,"rangeId",{enumerable:!1,value:De}),N[De]={id:Ie,firstTs:(0,_.A)(de),lastTs:(0,m.A)(de),start:Ce,end:oe,tsMap:pe},J.push(pe)}const Te=N[De];Te.tsMap[le]=!0})}),{ranges:N,tsMaps:J}}u(K,"segment");function Y(ee,F){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(W(K(ee,F,H))||[{}]).map(N=>{let{id:J,firstTs:le,lastTs:ce,start:Ee,end:ye,tsMap:Ie}=N;const{minTs:he,maxTs:Ce}=R(Ie);return{id:J,oldest:he===le?Ee:he,latest:Ce===ce?ye:Ce}})}u(Y,"rangify");const X=(0,v.Ay)("Fetches chunks of channel history for the given message IDs",(ee,F,H)=>{let{ids:j}=H;const N=b(j),J={};return(0,l.A)(N,(le,ce)=>{const Ee=Y(F(),ce,le);J[ce]=h.S.map(Ee,ye=>{let{oldest:Ie,latest:he,id:Ce}=ye;return ee(L({channelId:Ce,oldest:Ie,latest:he}))})}),h.S.all(Object.values(J))});X.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"};const Z=X,ie=(0,t.A)(()=>new r.Ay({storeKey:"channelHistory",fetch:(ee,F)=>(0,s.dispatchForTeamId)(ee,Z({ids:F})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:()=>!1})),Ae=u((ee,F,H)=>ie().maybeRefetch(ee,c(F,H)),"maybeRefetch"),ae=u((ee,F,H)=>ie().markObjectsAsFresh(ee,H.map(j=>c(F,j))),"markObjectsAsFresh"),V=u((ee,F,H)=>ie().markObjectsAsStale(ee,H.map(j=>c(F,j))),"markObjectsAsStale"),ve=u((ee,F,H)=>ie().isObjectFresh(ee,serialize(F,H)),"isObjectFresh"),be=u(ee=>ie().getFreshObjects(ee).map(o),"getFreshObjects");(0,a.zv)("conditionalFetchManagerChannelHistory",ie);const Ue="reachedEnd",Re=(0,t.A)(()=>new r.Ay({storeKey:"channelHistory",fetch:n.A,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),ge=u(ee=>Re().markObjectsAsFresh(ee,[Ue]),"markReachedEndAsFresh"),ne=u(ee=>Re().isObjectFresh(ee,[Ue]),"isReachedEndFresh")},7097022175:(x,g,e)=>{"use strict";e.d(g,{Y:()=>s,r:()=>n});var t=e(7933637612);const{addObjects:n,removeObjects:s}=t.o1},7933637612:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>o,Tp:()=>c,o1:()=>r});var t=e(7538465478);const n={storeKey:"channelLoading",persistenceEnabled:!1},{reducer:s,actions:r,selectors:c}=(0,t.A)(n,{idKey:"channelId",transform:a=>{const{channelId:l,...i}=a;return{id:l,object:i}}}),o=s},8298125694:(x,g,e)=>{"use strict";e.d(g,{Ah:()=>r,Qr:()=>c,c:()=>o});var t=e(8161242485),n=e(7933637612);const{getObjectById:s}=n.Tp,r=u((l,i)=>s(l,i),"innerGetChannelLoadingDataById"),c=(0,t.Ay)((l,i)=>{var d;return!!(!((d=r(l,i))===null||d===void 0)&&d.loading)});c.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(l,i)=>{var d;return!!(!((d=r(l,i))===null||d===void 0)&&d.loading)}};const o=(0,t.Ay)((l,i)=>{const d=r(l,i);return!!(d!=null&&d.loading&&(d!=null&&d.loadingOlder))});o.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(l,i)=>{const d=r(l,i);return!!(d!=null&&d.loading&&(d!=null&&d.loadingOlder))}};const a={innerGetChannelLoadingDataById:r}},3528815215:(x,g,e)=>{"use strict";e.d(g,{f:()=>s});var t=e(6304789565),n=e(7097022175);const s=(0,t.Ay)("Finished loading history for a channel",(r,c,o)=>{const{channelId:a}=o||{};r((0,n.Y)({ids:[a]}))});s.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},1284885799:(x,g,e)=>{"use strict";e.d(g,{v:()=>r});var t=e(6304789565),n=e(8298125694),s=e(7097022175);const r=(0,t.Ay)("Started loading history for a channel",(c,o,a)=>{const{channelId:l,loadingOlder:i,request:d}=a||{},_=(0,n.Ah)(o(),l);_&&_.loading&&_.request&&_.request.cancel(),c((0,s.r)({objects:[{channelId:l,loading:!0,loadingOlder:i,request:d}]}))});r.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},1949656963:(x,g,e)=>{"use strict";e.d(g,{U:()=>s,ih:()=>r,k9:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set the history invalid timestamp for a channel");n.meta={name:"createAction",key:"createActionsetHistoryInvalidTimestamp",description:"Set the history invalid timestamp for a channel"};const s=(0,t.Ay)("Set the updated timestamp for a channel");s.meta={name:"createAction",key:"createActionsetUpdatedTimestamp",description:"Set the updated timestamp for a channel"};const r=(0,t.Ay)("Bulk update the history invalid timestamps for a channel");r.meta={name:"createAction",key:"createActionbulkUpdateMutationTimestamps",description:"Bulk update the history invalid timestamps for a channel"}},4405788578:(x,g,e)=>{"use strict";e.d(g,{Kq:()=>c,QO:()=>r});var t=e(8161242485);const n=(0,t.Ay)(o=>o==null?void 0:o.channelMutationTimestamps);n.meta={name:"createSelector",key:"createSelectorgetAllMutationTimestamps",description:o=>o==null?void 0:o.channelMutationTimestamps};const s=(0,t.Ay)((o,a)=>{var l;return(l=n(o))===null||l===void 0?void 0:l[a]});s.meta={name:"createSelector",key:"createSelectorgetMutationTimestampsByChannelId",description:(o,a)=>{var l;return(l=n(o))===null||l===void 0?void 0:l[a]}};const r=(0,t.Ay)((o,a)=>{var l;return(l=s(o,a))===null||l===void 0?void 0:l.updatedTs});r.meta={name:"createSelector",key:"createSelectorgetUpdatedTimestamp",description:(o,a)=>{var l;return(l=s(o,a))===null||l===void 0?void 0:l.updatedTs}};const c=(0,t.Ay)((o,a)=>{var l;return(l=s(o,a))===null||l===void 0?void 0:l.historyInvalidTs});c.meta={name:"createSelector",key:"createSelectorgetHistoryInvalidTimestamp",description:(o,a)=>{var l;return(l=s(o,a))===null||l===void 0?void 0:l.historyInvalidTs}}},9606603587:(x,g,e)=>{"use strict";e.d(g,{B:()=>r});var t=e(6304789565),n=e(3430841143),s=e(9530687876);const r=(0,t.Ay)(s.rd.ADD_CHANNEL,function(c,o){let{channel:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!a||!a.id||c((0,n.F)({channel:a,reason:s.rd.ADD_CHANNEL}))});r.meta={name:"createThunk",key:"createThunkaddChannel",description:s.rd.ADD_CHANNEL}},1761027239:(x,g,e)=>{"use strict";e.d(g,{t:()=>l});var t=e(6422693406),n=e(6304789565),s=e(4446301238),r=e(3430841143),c=e(9530687876),o=e(5267010247),a=e(8822892075);const l=(0,n.Ay)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(i,d,_)=>{let{channelId:m,users:h,subteams:v,inviteAll:T,force:A,propagateInviteResult:y}=_;return i((0,s.wb)({channelId:m,reason:c.rd.CHILD_CHANNEL_CREATED})).then(function(){let{channel:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return i((0,r.F)({channel:p,reason:c.rd.CHILD_CHANNEL_CREATED})),i((0,o.o)((0,a.pr)(p.id))),y?T||h||v?i((0,s.Cw)({channelId:p.id,users:h,subteams:v,inviteAll:T,force:A})).then(f=>({channel:p,inviteResult:f})):t.S.resolve({channel:p,inviteResult:{ok:!0}}):(i((0,s.Cw)({channelId:p.id,users:h,subteams:v})),t.S.resolve({channel:p}))})});l.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},613926746:(x,g,e)=>{"use strict";e.d(g,{Z:()=>s});var t=e(6304789565),n=e(7631186994);const s=(0,t.Ay)("Create or open an IM",function(r,c){let{memberId:o,shouldNavigateToChannel:a=!0,reason:l}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=o?[o]:[];return r((0,n.r)({memberIds:i,shouldNavigateToChannel:a,reason:l}))});s.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},7631186994:(x,g,e)=>{"use strict";e.d(g,{r:()=>m});var t=e(6422693406),n=e(9113979368),s=e(235108050),r=e(6304789565),c=e(5795074931),o=e(9884588328),a=e(4446301238),l=e(8822892075),i=e(9101533895),d=e(3430841143),_=e(5267010247);const m=(0,r.Ay)("Create or open an MPIM",function(h,v){let{memberIds:T,shouldNavigateToChannel:A=!0,isQuiet:y=!1,reason:p="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,n.A)(T))return t.S.resolve();const f=v(),O=u(C=>(h((0,_.o)((0,l.pr)(C.id))),t.S.resolve(C)),"navigateToChannel");let I,P;if(T.length===1)P=T,I=(0,i.Pu)(f,T[0]);else{const C=(0,c.WR)(f);P=(0,s.A)([C,...T]),I=(0,i.FB)(f,P)}return(0,o.nT)(I)?A?O(I):t.S.resolve(I):h((0,a.jP)({isQuiet:y,memberIds:P,reason:p})).then(C=>!C||!C.channel?t.S.reject(new Error("missing-channel")):(h((0,d.F)({channel:C.channel})),A?O(C.channel):t.S.resolve(C.channel)))});m.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},4711657482:(x,g,e)=>{"use strict";e.d(g,{CS:()=>d,HM:()=>r,IX:()=>h,JC:()=>y,JT:()=>P,Kv:()=>L,MC:()=>O,MD:()=>ae,Ov:()=>f,PV:()=>Z,RS:()=>M,Ri:()=>w,VM:()=>I,Xr:()=>v,Xu:()=>a,Y5:()=>ie,Ye:()=>p,Yr:()=>n,Yy:()=>C,Z8:()=>X,_Q:()=>s,ai:()=>B,e0:()=>S,f:()=>K,fc:()=>E,fl:()=>T,ho:()=>R,i9:()=>l,kB:()=>m,ke:()=>A,l3:()=>W,mP:()=>U,mt:()=>Ae,qC:()=>D,r5:()=>Y,r6:()=>_,rl:()=>z,uN:()=>i,vp:()=>c,yK:()=>k,yQ:()=>o,yg:()=>b});var t=e(2140362605);const n=(0,t.Ay)("Checkout Address Form Data Loaded");n.meta={name:"createAction",key:"createActioncheckoutAddressFormDataLoaded",description:"Checkout Address Form Data Loaded"};const s=(0,t.Ay)("Checkout Credit Card Form Loaded");s.meta={name:"createAction",key:"createActionupdateCheckoutCreditCardFormLoaded",description:"Checkout Credit Card Form Loaded"};const r=(0,t.Ay)("Checkout States and Countries Data Loaded");r.meta={name:"createAction",key:"createActioncheckoutStatesAndCountriesDataLoaded",description:"Checkout States and Countries Data Loaded"};const c=(0,t.Ay)("Checkout Company Address Data Loaded");c.meta={name:"createAction",key:"createActioncheckoutCompanyAddressDataLoaded",description:"Checkout Company Address Data Loaded"};const o=(0,t.Ay)("Checkout Action for setting isFetchingCurrencyAfterCountryChange");o.meta={name:"createAction",key:"createActionsetIsFetchingCurrencyAfterCountryChange",description:"Checkout Action for setting isFetchingCurrencyAfterCountryChange"};const a=(0,t.Ay)("Update Company Address Field");a.meta={name:"createAction",key:"createActionupdateCompanyAddressField",description:"Update Company Address Field"};const l=(0,t.Ay)("Update is country from auto detect");l.meta={name:"createAction",key:"createActionupdateIsCountryFromAutoDetect",description:"Update is country from auto detect"};const i=(0,t.Ay)("Company Address Validated");i.meta={name:"createAction",key:"createActioncompanyAddressValidated",description:"Company Address Validated"};const d=(0,t.Ay)("Company Address Form Field Validated");d.meta={name:"createAction",key:"createActioncompanyAddressFormFieldValidated",description:"Company Address Form Field Validated"};const _=(0,t.Ay)("Clear Company Address Form Field Validation Errors");_.meta={name:"createAction",key:"createActionclearCompanyAddressFormFieldValidationErrors",description:"Clear Company Address Form Field Validation Errors"};const m=(0,t.Ay)("Upgrade Response Received");m.meta={name:"createAction",key:"createActiononUpgradeResponseReceived",description:"Upgrade Response Received"};const h=(0,t.Ay)("Purchase Attempt Response Received");h.meta={name:"createAction",key:"createActiononPurchaseAttemptResponseReceived",description:"Purchase Attempt Response Received"};const v=(0,t.Ay)("Addon Purchase Attempt Response Received");v.meta={name:"createAction",key:"createActiononAddonPurchaseResponseReceived",description:"Addon Purchase Attempt Response Received"};const T=(0,t.Ay)("Purchase Attempt Confirmation Response Received");T.meta={name:"createAction",key:"createActiononPurchaseAttemptConfirmationResponseReceived",description:"Purchase Attempt Confirmation Response Received"};const A=(0,t.Ay)("Update Stripe API Key");A.meta={name:"createAction",key:"createActionupdateStripeApiKey",description:"Update Stripe API Key"};const y=(0,t.Ay)("Update Invoice Data Field");y.meta={name:"createAction",key:"createActionupdateInvoiceDataField",description:"Update Invoice Data Field"};const p=(0,t.Ay)("Invoice Data Validated");p.meta={name:"createAction",key:"createActioninvoiceDataValidated",description:"Invoice Data Validated"};const f=(0,t.Ay)("Invoice Form Field Validated");f.meta={name:"createAction",key:"createActioninvoiceDataFieldValidated",description:"Invoice Form Field Validated"};const O=(0,t.Ay)("Clear Any Existing Payment Status or Errors");O.meta={name:"createAction",key:"createActionclearPaymentStatus",description:"Clear Any Existing Payment Status or Errors"};const I=(0,t.Ay)("Self User Data Loaded");I.meta={name:"createAction",key:"createActionselfUserDataLoaded",description:"Self User Data Loaded"};const P=(0,t.Ay)("Update Is Processing Payment");P.meta={name:"createAction",key:"createActionupdateIsProcessingPayment",description:"Update Is Processing Payment"};const C=(0,t.Ay)("Update Payment Method Selected");C.meta={name:"createAction",key:"createActionupdatePaymentMethodSelected",description:"Update Payment Method Selected"};const M=(0,t.Ay)("Update Show App Disconnect Dialog");M.meta={name:"createAction",key:"createActionupdateIsAppDisconnectedDialogShown",description:"Update Show App Disconnect Dialog"};const D=(0,t.Ay)("Update Active Checkout Step");D.meta={name:"createAction",key:"createActionupdateActiveCheckoutStep",description:"Update Active Checkout Step"};const E=(0,t.Ay)("Update Active Checkout Step");E.meta={name:"createAction",key:"createActionupdateActiveSteppedCheckoutStep",description:"Update Active Checkout Step"};const S=(0,t.Ay)("Update Active Country");S.meta={name:"createAction",key:"createActionupdateActiveCountry",description:"Update Active Country"};const k=(0,t.Ay)("Checkout configuration data loaded");k.meta={name:"createAction",key:"createActioncheckoutConfigurationDataLoaded",description:"Checkout configuration data loaded"};const U=(0,t.Ay)("Update Checkout Flow API Error Indicator");U.meta={name:"createAction",key:"createActionupdateIsCheckoutFlowAPIError",description:"Update Checkout Flow API Error Indicator"};const L=(0,t.Ay)("Update checkout store values with configuration data");L.meta={name:"createAction",key:"createActionupdateCheckoutWithConfigData",description:"Update checkout store values with configuration data"};const B=(0,t.Ay)("Redeem partner promo code failed");B.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeFailed",description:"Redeem partner promo code failed"};const b=(0,t.Ay)("Redeem partner promo code success");b.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeSuccess",description:"Redeem partner promo code success"};const R=(0,t.Ay)("Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret");R.meta={name:"createAction",key:"createActionsetIsLoadingStripeCustomerAndPaymentMethods",description:"Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret"};const z=(0,t.Ay)("Sets Active Payment Method Id");z.meta={name:"createAction",key:"createActionsetActivePaymentMethodId",description:"Sets Active Payment Method Id"};const w=(0,t.Ay)("Sets Active Stripe Customer Id");w.meta={name:"createAction",key:"createActionsetActiveStripeCustomerId",description:"Sets Active Stripe Customer Id"};const W=(0,t.Ay)("Sets Active Stripe Customer Payment Method Types for UPE");W.meta={name:"createAction",key:"createActionsetPaymentMethodTypes",description:"Sets Active Stripe Customer Payment Method Types for UPE"};const K=(0,t.Ay)("Sets Payment Methods");K.meta={name:"createAction",key:"createActionsetPaymentMethods",description:"Sets Payment Methods"};const Y=(0,t.Ay)("Sets the PaymentElementError, i.e. the error message");Y.meta={name:"createAction",key:"createActionsetPaymentElementError",description:"Sets the PaymentElementError, i.e. the error message"};const X=(0,t.Ay)("Stripe UPE credit card form is complete");X.meta={name:"createAction",key:"createActionsetIsStripeUpeComplete",description:"Stripe UPE credit card form is complete"};const Z=(0,t.Ay)("Stripe UPE credit card form has interactiono");Z.meta={name:"createAction",key:"createActionsetHasUPEInteraction",description:"Stripe UPE credit card form has interactiono"};const ie=(0,t.Ay)("Is address form collapsed and not editable");ie.meta={name:"createAction",key:"createActionsetIsAddressFormCollapsed",description:"Is address form collapsed and not editable"};const Ae=(0,t.Ay)("Select or deselect an addon by type");Ae.meta={name:"createAction",key:"createActiontoggleSelectedAddon",description:"Select or deselect an addon by type"};const ae=(0,t.Ay)("Select or deselect an addon by type");ae.meta={name:"createAction",key:"createActionsetAddonsForPurchase",description:"Select or deselect an addon by type"}},6460545324:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>a,bE:()=>o,eM:()=>r,gW:()=>c,x:()=>n,xj:()=>s});const t={form:"form",review:"review",success:"success",addons:"addons",addon_success:"addon_success",trial_review:"trial_review",trial_success:"trial_success"},n={overview:"overview",address:"address",payment:"payment",review:"review"},s=200,r={educational:"educational",local:{brazil:"local_discount_real",india:"local_discount_rupee"},nonprofit:"nonprofit",tenured_teams:"tenured_teams_discount",wfh_bundle:"wfhbundle",atlassian_2020:"atlassian_2020",smart_discount:"smart_discount",paid_acquisition_self_serve:"paid_acquisition_self_serve",price_increase_churn_prevention:"price_increase_churn_prevention",sfdc_customer_coupon_2022:"sfdc_customer_coupon_2022",slack_grb_campaign_coupon_2022:"slack_grb_campaign_coupon_2022",straight_to_paid:"straight_to_paid",self_serve_affiliates:"self_serve_affiliates",milestone_tenured_team_promo:"milestone_tenured_team_promo",winback_promo:"winback_promo",pricing_and_packaging_promo:"pricing_and_packaging_promo",new_year_promo:"new_year_promo",data_deletion_discount:"data_deletion_discount"},c="partner_growth",o={TEAM_INELIGIBLE:"team_ineligible",CODE_ALREADY_REDEEMED:"code_already_redeemed"},a=t},3559164431:(x,g,e)=>{"use strict";e.d(g,{$3:()=>y,BD:()=>Ie,Bj:()=>be,Bo:()=>i,Cb:()=>oe,D5:()=>ie,E$:()=>A,EX:()=>J,Ex:()=>z,GG:()=>De,Hg:()=>de,IK:()=>ke,J5:()=>m,Ju:()=>Te,M:()=>M,MA:()=>P,Oe:()=>F,S_:()=>a,U$:()=>h,VE:()=>L,VV:()=>_,Vs:()=>U,WP:()=>Z,Wq:()=>l,X:()=>ae,YW:()=>v,Yv:()=>o,Zl:()=>p,Zn:()=>W,bB:()=>f,bW:()=>ce,bm:()=>Ce,c9:()=>ne,cR:()=>Ae,ch:()=>j,d2:()=>Y,fD:()=>Ze,fx:()=>he,gr:()=>C,h0:()=>V,hy:()=>Me,iD:()=>N,k7:()=>T,kr:()=>Ue,lK:()=>ee,oi:()=>b,oy:()=>R,p:()=>ge,qR:()=>Re,qn:()=>E,r2:()=>pe,r8:()=>w,rn:()=>K,t5:()=>B,tG:()=>d,vO:()=>le,wz:()=>O,y4:()=>Ke,zj:()=>D});var t=e(8161242485),n=e(5597672932),s=e(9113979368),r=e(6323355797),c=e(5751973043);const o=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.companyAddress||!Q.checkoutFlow.companyAddress.validationErrors?!1:Object.values(Q.checkoutFlow.companyAddress.validationErrors).some(se=>se));o.meta={name:"createSelector",key:"createSelectorhasAddressFormErrors",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.companyAddress||!Q.checkoutFlow.companyAddress.validationErrors?!1:Object.values(Q.checkoutFlow.companyAddress.validationErrors).some(se=>se)};const a=(0,t.Ay)(Q=>{var se;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.activeStripeCustomerId)||null});a.meta={name:"createSelector",key:"createSelectorgetActiveCustomerId",description:Q=>{var se;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.activeStripeCustomerId)||null}};const l=(0,t.Ay)(Q=>{var se;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.isFetchingCurrencyAfterCountryChange)||!1});l.meta={name:"createSelector",key:"createSelectorgetIsFetchingCurrencyAfterCountryChange",description:Q=>{var se;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.isFetchingCurrencyAfterCountryChange)||!1}};const i=(0,t.Ay)(Q=>{var se,He;return!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.activeStripeCustomerId)||!(!(Q==null||(He=Q.checkoutFlow)===null||He===void 0)&&He.activePaymentMethodIdMap)?null:Q.checkoutFlow.activePaymentMethodIdMap[Q.checkoutFlow.activeStripeCustomerId]});i.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodId",description:Q=>{var se,He;return!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.activeStripeCustomerId)||!(!(Q==null||(He=Q.checkoutFlow)===null||He===void 0)&&He.activePaymentMethodIdMap)?null:Q.checkoutFlow.activePaymentMethodIdMap[Q.checkoutFlow.activeStripeCustomerId]}};const d=(0,t.Ay)(Q=>{var se;return!Q||!Q.checkoutFlow?null:(se=Q.checkoutFlow)===null||se===void 0?void 0:se.activePaymentMethodIdMap});d.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodIdMap",description:Q=>{var se;return!Q||!Q.checkoutFlow?null:(se=Q.checkoutFlow)===null||se===void 0?void 0:se.activePaymentMethodIdMap}};const _=(0,t.Ay)(Q=>{var se;return!Q||!Q.checkoutFlow?null:(se=Q.checkoutFlow)===null||se===void 0?void 0:se.paymentMethodTypes});_.meta={name:"createSelector",key:"createSelectorgetPaymentMethodTypes",description:Q=>{var se;return!Q||!Q.checkoutFlow?null:(se=Q.checkoutFlow)===null||se===void 0?void 0:se.paymentMethodTypes}};const m=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.paymentMethods);m.meta={name:"createSelector",key:"createSelectorgetPaymentMethods",description:Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.paymentMethods};const h=(0,t.Ay)(Q=>{const se=i(Q);if(!se||(0,s.A)(se))return null;const He=m(Q);return!se||!Array.isArray(He)?null:He.find(Ge=>Ge.id===se)});h.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethod",description:Q=>{const se=i(Q);if(!se||(0,s.A)(se))return null;const He=m(Q);return!se||!Array.isArray(He)?null:He.find(Ge=>Ge.id===se)}};const v=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.companyAddress?null:Q.checkoutFlow.companyAddress);v.meta={name:"createSelector",key:"createSelectorgetCompanyAddress",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.companyAddress?null:Q.checkoutFlow.companyAddress};const T=(0,t.Ay)(Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isAddressFormCollapsed)});T.meta={name:"createSelector",key:"createSelectorgetIsAddressFormCollapsed",description:Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isAddressFormCollapsed)}};const A=(0,t.Ay)(Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isPaymentMethodSectionDisplayed)});A.meta={name:"createSelector",key:"createSelectorgetIsPaymentMethodSectionDisplayed",description:Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isPaymentMethodSectionDisplayed)}};const y=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:Q.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods);y.meta={name:"createSelector",key:"createSelectorgetIsLoadingStripeCustomerAndPaymentMethods",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:Q.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods};const p=(0,t.Ay)(Q=>{var se,He;return!(Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.config)===null||He===void 0)&&He.countryMap?Q.checkoutFlow.config.countryMap:null});p.meta={name:"createSelector",key:"createSelectorgetCountryMap",description:Q=>{var se,He;return!(Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.config)===null||He===void 0)&&He.countryMap?Q.checkoutFlow.config.countryMap:null}};const f=(0,t.Ay)(Q=>{var se;return Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.paymentElementError});f.meta={name:"createSelector",key:"createSelectorgetPaymentElementError",description:Q=>{var se;return Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.paymentElementError}};const O=(0,t.Ay)(Q=>{const se=v(Q);return se?se.country:null});O.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountry",description:Q=>{const se=v(Q);return se?se.country:null}};const I=(0,t.Ay)(Q=>{const se=v(Q);return!se||!se.validationErrors||!se.validationErrors.country?null:se.validationErrors.country.errorText});I.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountryError",description:Q=>{const se=v(Q);return!se||!se.validationErrors||!se.validationErrors.country?null:se.validationErrors.country.errorText}};const P=(0,t.Ay)(Q=>{var se,He,Ge;return(se=v(Q))===null||se===void 0||(He=se.validationErrors)===null||He===void 0||(Ge=He.vatId)===null||Ge===void 0?void 0:Ge.errorText});P.meta={name:"createSelector",key:"createSelectorgetCompanyAddressVatIdError",description:Q=>{var se,He,Ge;return(se=v(Q))===null||se===void 0||(He=se.validationErrors)===null||He===void 0||(Ge=He.vatId)===null||Ge===void 0?void 0:Ge.errorText}};const C=(0,t.Ay)(Q=>{const se=v(Q);return se?se.postalCode:null});C.meta={name:"createSelector",key:"createSelectorgetCompanyAddressPostalCode",description:Q=>{const se=v(Q);return se?se.postalCode:null}};const M=(0,t.Ay)(Q=>{const se=v(Q);return se?se.region:null});M.meta={name:"createSelector",key:"createSelectorgetCompanyAddressRegion",description:Q=>{const se=v(Q);return se?se.region:null}};const D=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.config?null:Q.checkoutFlow.config);D.meta={name:"createSelector",key:"createSelectorgetConfig",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.config?null:Q.checkoutFlow.config};const E=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration?null:Q.checkoutFlow.checkoutConfiguration);E.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfig",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration?null:Q.checkoutFlow.checkoutConfiguration};const S=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.currentTerm?null:Q.checkoutFlow.checkoutConfiguration.currentTerm===r.ck.yearly);S.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigTermIsYearly",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.currentTerm?null:Q.checkoutFlow.checkoutConfiguration.currentTerm===r.ck.yearly};const k=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:Q.checkoutFlow.checkoutConfiguration.currentPlanLevel);k.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigPlanLevel",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:Q.checkoutFlow.checkoutConfiguration.currentPlanLevel};const U=(0,t.Ay)(Q=>{var se,He;return(He=Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.isCheckoutConfigurationDataLoaded)!==null&&He!==void 0?He:!1});U.meta={name:"createSelector",key:"createSelectorisCheckoutPreConfigLoaded",description:Q=>{var se,He;return(He=Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.isCheckoutConfigurationDataLoaded)!==null&&He!==void 0?He:!1}};const L=(0,t.Ay)(Q=>{var se,He;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.checkoutConfiguration)===null||He===void 0)&&He.isFutureSwitch)});L.meta={name:"createSelector",key:"createSelectorselectIsFutureProductSwitch",description:Q=>{var se,He;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.checkoutConfiguration)===null||He===void 0)&&He.isFutureSwitch)}};const B=(0,t.Ay)(Q=>{var se,He;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.checkoutConfiguration)===null||He===void 0?void 0:He.availableTerms)||null});B.meta={name:"createSelector",key:"createSelectorselectAvailableTerms",description:Q=>{var se,He;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.checkoutConfiguration)===null||He===void 0?void 0:He.availableTerms)||null}};const b=(0,t.Ay)(Q=>{var se,He;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.checkoutConfiguration)===null||He===void 0?void 0:He.upeSelectedAvailableTerms)||null});b.meta={name:"createSelector",key:"createSelectorgetUpeSelectedAvailableTerms",description:Q=>{var se,He;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.checkoutConfiguration)===null||He===void 0?void 0:He.upeSelectedAvailableTerms)||null}};const R=(0,t.Ay)(Q=>{var se,He;return Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.checkoutConfiguration)===null||He===void 0?void 0:He.redirectUrl});R.meta={name:"createSelector",key:"createSelectorselectRedirectUrl",description:Q=>{var se,He;return Q==null||(se=Q.checkoutFlow)===null||se===void 0||(He=se.checkoutConfiguration)===null||He===void 0?void 0:He.redirectUrl}};const z=(0,t.Ay)(Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isCheckoutAddressFormDataLoaded)});z.meta={name:"createSelector",key:"createSelectorisCheckoutAddressFormDataLoaded",description:Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isCheckoutAddressFormDataLoaded)}};const w=(0,t.Ay)(Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isCountryFromAutoDetect)});w.meta={name:"createSelector",key:"createSelectorgetIsCountryFromAutoDetect",description:Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isCountryFromAutoDetect)}};const W=(0,t.Ay)(Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isCheckoutCreditCardFormLoaded)});W.meta={name:"createSelector",key:"createSelectorgetIsCheckoutCreditCardFormLoaded",description:Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isCheckoutCreditCardFormLoaded)}};const K=(0,t.Ay)(Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isStripeUpeComplete)});K.meta={name:"createSelector",key:"createSelectorgetIsStripeUpeComplete",description:Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.isStripeUpeComplete)}};const Y=(0,t.Ay)(Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.hasUPEInteraction)});Y.meta={name:"createSelector",key:"createSelectorgetHasUPEInteraction",description:Q=>{var se;return!!(!(Q==null||(se=Q.checkoutFlow)===null||se===void 0)&&se.hasUPEInteraction)}};const X=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.paymentStatus);X.meta={name:"createSelector",key:"createSelectorgetPaymentStatus",description:Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.paymentStatus};const Z=(0,t.Ay)(Q=>{const se=X(Q);return se?se.ok===!0&&!se.error&&!se.isActionRequiredOnPurchaseAttempt:!1});Z.meta={name:"createSelector",key:"createSelectordidUpgradeSucceed",description:Q=>{const se=X(Q);return se?se.ok===!0&&!se.error&&!se.isActionRequiredOnPurchaseAttempt:!1}};const ie=(0,t.Ay)(Q=>{const se=X(Q);return se?se.error&&se.msg?se.msg:se.error:""});ie.meta={name:"createSelector",key:"createSelectorgetUpgradeError",description:Q=>{const se=X(Q);return se?se.error&&se.msg?se.msg:se.error:""}};const Ae=(0,t.Ay)(Q=>{const se=X(Q);return!!(se!=null&&se.isProcessingPayment)});Ae.meta={name:"createSelector",key:"createSelectorselectIsProcessingPayment",description:Q=>{const se=X(Q);return!!(se!=null&&se.isProcessingPayment)}};const ae=(0,t.Ay)(Q=>{const se=D(Q);return se?se.stripeApiKey:null});ae.meta={name:"createSelector",key:"createSelectorselectStripeApiKey",description:Q=>{const se=D(Q);return se?se.stripeApiKey:null}};const V=(0,t.Ay)(Q=>{const se=D(Q);return se?se.sourcesPayable:null});V.meta={name:"createSelector",key:"createSelectorselectSourcesPayable",description:Q=>{const se=D(Q);return se?se.sourcesPayable:null}};const ve=(0,t.Ay)((Q,se)=>{if(se===null)return{};const He=V(Q);if(!He)return{};const Ge=Object.values(He).find(Be=>Be.id===se);return Ge||{}});ve.meta={name:"createSelector",key:"createSelectorselectSourcePayableById",description:(Q,se)=>{if(se===null)return{};const He=V(Q);if(!He)return{};const Ge=Object.values(He).find(Be=>Be.id===se);return Ge||{}}};const be=(0,t.Ay)(Q=>{const se=D(Q);return!se||!se.user?!1:se.user.is_owner});be.meta={name:"createSelector",key:"createSelectorselectIsSelfUserOwner",description:Q=>{const se=D(Q);return!se||!se.user?!1:se.user.is_owner}};const Ue=(0,t.Ay)(Q=>{const se=D(Q);return!se||!se.user||!Q||!Q.checkoutFlow});Ue.meta={name:"createSelector",key:"createSelectorgetIsInvoiceFormLoading",description:Q=>{const se=D(Q);return!se||!se.user||!Q||!Q.checkoutFlow}};const Re=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.invoiceData);Re.meta={name:"createSelector",key:"createSelectorgetInvoiceData",description:Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.invoiceData};const ge=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.paymentMethodSelected);ge.meta={name:"createSelector",key:"createSelectorselectPaymentMethodSelected",description:Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.paymentMethodSelected};const ne=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.isAppDisconnectedDialogShown);ne.meta={name:"createSelector",key:"createSelectorselectIsAppDisconnectedDialogShown",description:Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.isAppDisconnectedDialogShown};const ee=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.activeCheckoutStep);ee.meta={name:"createSelector",key:"createSelectorselectActiveCheckoutStep",description:Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.activeCheckoutStep};const F=(0,t.Ay)(Q=>{var se;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.activeSteppedCheckoutStep)||null});F.meta={name:"createSelector",key:"createSelectorselectActiveSteppedCheckoutStep",description:Q=>{var se;return(Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.activeSteppedCheckoutStep)||null}};const H=(0,t.Ay)(Q=>{var se;return Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.promoCodeRedeem});H.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeem",description:Q=>{var se;return Q==null||(se=Q.checkoutFlow)===null||se===void 0?void 0:se.promoCodeRedeem}};const j=(0,t.Ay)(Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.failed)||!1});j.meta={name:"createSelector",key:"createSelectorselectDidPromoCodeRedeemFail",description:Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.failed)||!1}};const N=(0,t.Ay)(Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.errorName)||""});N.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemErrorName",description:Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.errorName)||""}};const J=(0,t.Ay)(Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.discountName)||""});J.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountName",description:Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.discountName)||""}};const le=(0,t.Ay)(Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.discountPercentage)||0});le.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountPercentage",description:Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.discountPercentage)||0}};const ce=(0,t.Ay)(Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.discountDuration)||0});ce.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountDuration",description:Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.discountDuration)||0}};const Ee=(0,t.Ay)(Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.attempted)||!1});Ee.meta={name:"createSelector",key:"createSelectorselectDidAttemptPromoCodeRedeem",description:Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.attempted)||!1}};const ye=(0,t.Ay)(Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.code)||null});ye.meta={name:"createSelector",key:"createSelectorselectPromoCode",description:Q=>{var se;return((se=H(Q))===null||se===void 0?void 0:se.code)||null}};const Ie=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.isCheckoutFlowAPIError);Ie.meta={name:"createSelector",key:"createSelectorselectIsCheckoutFlowAPIError",description:Q=>!Q||!Q.checkoutFlow?null:Q.checkoutFlow.isCheckoutFlowAPIError};const he=(0,t.Ay)(Q=>{const se=X(Q);return!!(se!=null&&se.isActionRequiredOnPurchaseAttempt)});he.meta={name:"createSelector",key:"createSelectorselectIsActionRequiredOnPurchaseAttempt",description:Q=>{const se=X(Q);return!!(se!=null&&se.isActionRequiredOnPurchaseAttempt)}};const Ce=(0,t.Ay)(Q=>{const se=X(Q);return se&&se.intentSecret||""});Ce.meta={name:"createSelector",key:"createSelectorselectIntentSecret",description:Q=>{const se=X(Q);return se&&se.intentSecret||""}};const oe=(0,t.Ay)(Q=>{const se=X(Q);return se&&se.billingItemId||""});oe.meta={name:"createSelector",key:"createSelectorselectBillingItemId",description:Q=>{const se=X(Q);return se&&se.billingItemId||""}};const de=(0,t.Ay)(Q=>(0,n.xp)(Q,"self_serve_select"));de.meta={name:"createSelector",key:"createSelectorselectCanViewEnterpriseSelect",description:Q=>(0,n.xp)(Q,"self_serve_select")};const De=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.addons?null:Q.checkoutFlow.checkoutConfiguration.addons[0].id);De.meta={name:"createSelector",key:"createSelectorselectAddonId",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.addons?null:Q.checkoutFlow.checkoutConfiguration.addons[0].id};const Te=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration?!1:Q.checkoutFlow.checkoutConfiguration.isPayingByInvoice);Te.meta={name:"createSelector",key:"createSelectorselectIsPayingByInvoice",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration?!1:Q.checkoutFlow.checkoutConfiguration.isPayingByInvoice};const pe=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.addons?null:Q.checkoutFlow.checkoutConfiguration.addons.map(se=>se.id));pe.meta={name:"createSelector",key:"createSelectorselectArrayOfAddonIds",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.addons?null:Q.checkoutFlow.checkoutConfiguration.addons.map(se=>se.id)};const Me=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.addons?null:Q.checkoutFlow.checkoutConfiguration.addons[0].type);Me.meta={name:"createSelector",key:"createSelectorselectAddonType",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.addons?null:Q.checkoutFlow.checkoutConfiguration.addons[0].type};const ke=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.selectedAddonTypes?c.Ml:Q.checkoutFlow.selectedAddonTypes);ke.meta={name:"createSelector",key:"createSelectorselectAddonsForPurchase",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.selectedAddonTypes?c.Ml:Q.checkoutFlow.selectedAddonTypes};const Ke=(0,t.Ay)(Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:Q.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate);Ke.meta={name:"createSelector",key:"createSelectorselectAddonBillingDate",description:Q=>!Q||!Q.checkoutFlow||!Q.checkoutFlow.checkoutConfiguration||!Q.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:Q.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate};const Ze=(0,t.Ay)(Q=>{var se;return!Q||!Q.checkoutFlow?null:(se=Q.checkoutFlow.checkoutConfiguration)===null||se===void 0?void 0:se.isEligibleForDataDeletion});Ze.meta={name:"createSelector",key:"createSelectorselectIsEligibleForDataDeletion",description:Q=>{var se;return!Q||!Q.checkoutFlow?null:(se=Q.checkoutFlow.checkoutConfiguration)===null||se===void 0?void 0:se.isEligibleForDataDeletion}}},8368515877:(x,g,e)=>{"use strict";e.d(g,{l:()=>p});var t=e(9706240641),n=e(6304789565),s=e(3048437087),r=e(1649982175),c=e(9113979368),o=e(2927826522),a=e(6422693406),l=e(165535451),i=e(7520484642);const d=(0,n.Ay)("fetches all available pricing plans for the team.",(f,O,I)=>new a.S(P=>{f((0,l.iV)(I)).then(C=>{f((0,i.wt)(C)),P()})}));d.meta={name:"createThunk",key:"createThunkfetchPlansData",description:"fetches all available pricing plans for the team."};const _=d;var m=e(6460545324),h=e(4711657482),v=e(6323355797);const T=u(f=>{var O,I;const P=((O=f.product)===null||O===void 0?void 0:O.level)===f.current_product.level,C=((I=f.product)===null||I===void 0?void 0:I.term)===f.current_product.term,M=f.selected_payment_method===v.uq.CREDIT_CARD;return P&&C&&M?[v.uq.CREDIT_CARD]:f.allowed_payment_methods},"filterAllowedPaymentMethods"),A=u(f=>{var O,I;const P=((O=f.product)===null||O===void 0?void 0:O.level)===f.current_product.level,C=((I=f.product)===null||I===void 0?void 0:I.term)===f.current_product.term;return f.selected_payment_method===v.uq.INVOICE&&P?C?[v.ck.monthly]:[v.ck.yearly]:f.available_terms},"getUpeSelectedAvailableTerms"),y=(0,n.Ay)("Load configuration data for checkout",function(){var f=(0,t.coroutine)(function*(O,I,P){let{checkoutConfigData:C}=P,M=(0,r.A)(C,["clientRequestId","requestId","args","method","ok"]);const D=!(0,c.A)(M);if(D){var E,S,k,U,L;M=Object.assign(M,{planLevel:(E=M.product)===null||E===void 0?void 0:E.level,term:(S=M.product)===null||S===void 0?void 0:S.term,isTrial:(k=M.product)===null||k===void 0?void 0:k.is_trial,isPayingByInvoice:M.current_product.is_invoice,currency:(U=M.product)===null||U===void 0?void 0:U.currency,productId:(L=M.product)===null||L===void 0?void 0:L.id,currentPlanLevel:M.current_product.level,currentTerm:M.current_product.term,currentIsTrial:M.current_product.is_trial,currentCurrency:M.current_product.currency,currentProductId:M.current_product.id,allowedPaymentMethods:T(M),upeSelectedAvailableTerms:A(M),isEligibleForDataDeletion:M.is_eligible_for_data_deletion}),delete M.product,delete M.current_product}M=(0,o.A)(M),O((0,h.yK)(M)),D&&(O((0,h.Kv)(M)),yield O(_({checkout_step:m.Ay.form})))});return function(O,I,P){return f.apply(this,arguments)}}());y.meta={name:"createThunk",key:"createThunkloadCheckoutConfigurationData",description:"Load configuration data for checkout"};const p=(0,n.Ay)("Fetch configuration data for checkout",function(){var f=(0,t.coroutine)(function*(O,I,P){let{productId:C=null}=P;const M="fetchConfigurationData",D=yield O((0,s.n)(C?{productId:C,reason:M}:{reason:M}));yield O(y({checkoutConfigData:D}))});return function(O,I,P){return f.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkfetchConfigurationData",description:"Fetch configuration data for checkout"}},2222994823:(x,g,e)=>{"use strict";e.d(g,{I:()=>o});var t=e(2774532222),n=e(6323355797),s=e(4252064756),r=e(8234448831);const c=u(l=>{const i=(0,r.Ay)(l),d=i&&i.pathname;return(0,s.D)(i)&&(0,t.A)(d,(0,n.hZ)())},"isPlansAppUrl"),o=u(l=>l&&!c(l),"shouldCheckoutRedirect"),a={isPlansAppUrl:c}},4653418008:(x,g,e)=>{"use strict";e.d(g,{LA:()=>r,Th:()=>c,kl:()=>s,yg:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set the current theme field in redux (do not use this)");n.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const s=(0,t.Ay)("Set the OS system sync field in redux (do not use this)");s.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const r=(0,t.Ay)("Set the OS system theme field in redux (do not use this)");r.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"};const c=(0,t.Ay)("Set the client typeface");c.meta={name:"createAction",key:"createActionsetClientTypeface",description:"Set the client typeface"}},5922222922:(x,g,e)=>{"use strict";e.d(g,{C3:()=>s,k4:()=>t,u7:()=>n});const t="slack-client-theme",n="slack-client-theme-os-sync",s="client-typeface"},5923036663:(x,g,e)=>{"use strict";e.d(g,{A:()=>O});var t=e(1703559452),n=e(796111729),s=e(4096483543),r=e(958961878),c=e(3245843483),o=e(9139930183),a=e(6533394955),l=e(5922222922),i=e(4653418008),d=e(3328068409),_=e(767804497),m=e(7439773700),h=e(9012396182),v=e(9733150292);let T="light",A=!1,y="light",p;try{p=(0,v.W6)(l.C3)||void 0}catch{}try{r.w2&&(0,s.A)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(I=>{const P=I.matches?"dark":"light";y=P,A&&(T=y);const C=(0,a.getClientStoreInstance)();if(C){const M=C.getState(),D=(0,h.getBootedWorkspaces)(M),E=(0,t.A)(D.map(S=>(0,r.Ay)((0,a.getStateByTeamId)(S))));C.dispatch((0,i.LA)(P)),E&&(0,d.FW)(M)&&C.dispatch((0,_.P)(P))}})}catch(I){(0,n.Wo)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",I)}try{const I=window.localStorage.getItem(l.k4),P=window.localStorage.getItem(l.u7);T=I||"light",r.w2&&(P?A=P==="true":A=!I,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(y="dark"),A&&(T=y)),(0,c.g9M)()&&((0,c.cGU)({name:"userTheme",value:T}),(0,c.cGU)({name:"systemThemeSyncEnabled",value:A}))}catch(I){(0,n.Wo)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",I)}const O=(0,o.Ay)({},{clientTheme:T,systemSync:A,systemTheme:y,clientTypeface:p},{storeKey:"clientTheme",persistenceEnabled:!1}).on(i.yg,function(I){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...I,clientTheme:P}}).on(i.kl,function(I){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...I,systemSync:P}}).on(i.LA,function(I){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...I,systemTheme:P}}).on(i.Th,function(I){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,m.kh)();return{...I,clientTypeface:P}})},767804497:(x,g,e)=>{"use strict";e.d(g,{P:()=>o});var t=e(796111729),n=e(3245843483),s=e(6304789565),r=e(5922222922),c=e(4653418008);const o=(0,s.Ay)("Set the current theme for the device",function(a,l){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(r.k4,i)}catch{(0,t.Wo)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}a((0,c.yg)(i)),(0,n.cGU)({name:"userTheme",value:i})});o.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},5670953896:(x,g,e)=>{"use strict";e.d(g,{$_:()=>T,Ci:()=>c,Dn:()=>r,F8:()=>d,MJ:()=>h,N2:()=>l,RX:()=>a,Xc:()=>v,ij:()=>s,pq:()=>_,qE:()=>o,rj:()=>m,sR:()=>n,vN:()=>i});var t=e(2140362605);const n=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound connect invites");n.meta={name:"createAction",key:"createActionresetConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound connect invites"};const s=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound pending connect invites");s.meta={name:"createAction",key:"createActionresetPendingConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound pending connect invites"};const r=(0,t.Ay)("Upserts a Slack Connect Invite");r.meta={name:"createAction",key:"createActionupsertConnectInvite",description:"Upserts a Slack Connect Invite"};const c=(0,t.Ay)("Upserts a pending Slack Connect Invite");c.meta={name:"createAction",key:"createActionupsertPendingConnectInvite",description:"Upserts a pending Slack Connect Invite"};const o=(0,t.Ay)("Removes a Slack Connect Invite");o.meta={name:"createAction",key:"createActionremoveConnectInvite",description:"Removes a Slack Connect Invite"};const a=(0,t.Ay)("Removes a pending Slack Connect Invite");a.meta={name:"createAction",key:"createActionremovePendingConnectInvite",description:"Removes a pending Slack Connect Invite"};const l=(0,t.Ay)("Sets freshness flag for Slack Connect invites");l.meta={name:"createAction",key:"createActionsetAreInvitesFresh",description:"Sets freshness flag for Slack Connect invites"};const i=(0,t.Ay)("Sets whether logged-in member's email has been verified for Slack Connect visibility purposes");i.meta={name:"createAction",key:"createActionsetIsEmailVerified",description:"Sets whether logged-in member's email has been verified for Slack Connect visibility purposes"};const d=(0,t.Ay)("Sets whether logged-in member's email verification has failed");d.meta={name:"createAction",key:"createActionsetIsUserVerificationFetchError",description:"Sets whether logged-in member's email verification has failed"};const _=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect channel invite");_.meta={name:"createAction",key:"createActionupsertChannelConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect channel invite"};const m=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect DM invite");m.meta={name:"createAction",key:"createActionupsertDmConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect DM invite"};const h=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect space invite");h.meta={name:"createAction",key:"createActionupsertSpaceConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect space invite"};const v=(0,t.Ay)("Upserts whether an acceptance attempt has failed for a specific Slack Connect invite");v.meta={name:"createAction",key:"createActionupsertHasConnectInviteAcceptanceFailed",description:"Upserts whether an acceptance attempt has failed for a specific Slack Connect invite"};const T=(0,t.Ay)("Sets whether we are currently switching workspaces");T.meta={name:"createAction",key:"createActionsetIsSwitchingWorkspaces",description:"Sets whether we are currently switching workspaces"}},1496122061:(x,g,e)=>{"use strict";e.d(g,{d:()=>d});var t=e(9706240641),n=e.n(t),s=e(1605540670),r=e(3243667193),c=e(320199792),o=e(2368561198),a=e(6304789565),l=e(5670953896),i=e(5914498199);const d=(0,a.Ay)("Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites",function(){var _=(0,t.coroutine)(function*(m,h,v){let{reason:T}=v,A;const y=[r.k.Channel,r.k.Im];(0,o.i)(h())&&y.push(r.k.Workspace);const f=yield m((0,s.O)({reason:T,inviteTypes:y,onlyPendingInvites:!0}));if(f!=null&&f.connect_invites){A=f.connect_invites;const O=A.filter(c.Ef),I=A.filter(c.I4);m((0,i.R)({connectInvites:A})),m((0,l.ij)({pendingInboundConnectInvites:O,pendingOutboundConnectInvites:I}))}return A||[]});return function(m,h,v){return _.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkfetchAndResetAllPendingConnectInvites",description:"Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites"}},6111266013:(x,g,e)=>{"use strict";e.d(g,{p:()=>d});var t=e(9706240641),n=e.n(t),s=e(1605540670),r=e(3622175906),c=e(3243667193),o=e(2368561198),a=e(6304789565),l=e(5670953896),i=e(5914498199);const d=(0,a.Ay)("Fetch and upsert the result of connectInvites.list for inbound/outbound invites",function(){var _=(0,t.coroutine)(function*(m,h,v){let{reason:T,direction:A,includeInviteRequests:y}=v,p;const f=[c.k.Channel,c.k.Im];(0,o.i)(h())&&f.push(c.k.Workspace);const I=yield m((0,s.O)({reason:T,direction:A,inviteTypes:f,includeInviteRequests:y}));if(I!=null&&I.connect_invites){p=I.connect_invites,m((0,i.R)({connectInvites:p}));const P={inboundConnectInvites:A===r.D.Incoming?p:void 0,outboundConnectInvites:A===r.D.Outgoing?p:void 0};m((0,l.sR)(P))}return p||[]});return function(m,h,v){return _.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkfetchAndResetConnectInvites",description:"Fetch and upsert the result of connectInvites.list for inbound/outbound invites"}},5914498199:(x,g,e)=>{"use strict";e.d(g,{R:()=>o});var t=e(9706240641),n=e.n(t),s=e(320199792),r=e(6304789565),c=e(7679955939);const o=(0,r.Ay)("Upsert any non-local members referenced in the specified connect invites",function(){var a=(0,t.coroutine)(function*(l,i,d){let{connectInvites:_}=d;const m=[];_.forEach(h=>{const v=(0,s.$N)(h);if((0,s.I4)(h)&&v&&v.forEach(T=>{m.push((0,s.mZ)(T))}),(0,s.Ef)(h)){m.push((0,s.y1)(h));const T=(0,s.kR)(h);T&&m.push(T)}}),l((0,c.Ay)({members:m}))});return function(l,i,d){return a.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkupsertMembersFromConnectInvites",description:"Upsert any non-local members referenced in the specified connect invites"}},6168781067:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(9139930183),n=e(2456103428);const s={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},c=(0,t.Ay)({},s,{storeKey:"connectivity",persistenceEnabled:!1}).on(n.pm,(o,a)=>({...o,serviceOnline:!!a})).on(n.Uj,o=>o===s?{...o,lastSocketActivity:Date.now()}:(o.lastSocketActivity=Date.now(),o)).on(n.p9,(o,a)=>({...o,clientOnline:!!a,lastClientConnection:Date.now()})).on(n.hM,o=>({...o,lastSocketConnection:Date.now()}))},1314103953:(x,g,e)=>{"use strict";e.d(g,{b:()=>s,k:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set a value that represents whether we are currently in the boot phase");n.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const s=(0,t.Ay)("Set a value that represents whether we are currently performing a warm boot");s.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},9469211187:(x,g,e)=>{"use strict";e.d(g,{d:()=>s,f:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Remove prefs for a given channel");n.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const s=(0,t.Ay)("Set channel prefs associated with a given channel");s.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},7914670207:(x,g,e)=>{"use strict";e.d(g,{Dq:()=>v,YO:()=>T,im:()=>y});var t=e(9706240641),n=e.n(t),s=e(3398586081),r=e(6422693406),c=e(6639221719),o=e(8352634987),a=e(4423055085),l=e(6304789565),i=e(6533394955),d=e(9469211187),_=e(8081461848);const m=(0,l.Ay)("Fetch and upsert channel list prefs",function(){var f=(0,t.coroutine)(function*(O,I,P){let{channelId:C,teamId:M}=P;const D=yield O((0,c.U)({channel:C,reason:"client_redux_store"})),{prefs:E}=D;O((0,d.d)({channelId:C,prefs:E})),A(M,C)});return function(O,I,P){return f.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const h=(0,s.A)(()=>new o.Ay({storeKey:_.U,fetch:(f,O)=>r.S.map(O,I=>(0,i.dispatchForTeamId)(f,m({channelId:I,teamId:f}))),isEnabled:()=>!0,metricsName:_.U})),v=u((f,O)=>h().markObjectsAsStale(f,[O]),"markConversationsListPrefsAsStale"),T=u((f,O)=>h().markObjectsAsStale(f,O),"markConversationsListPrefsAsStaleForMultipleChannels"),A=u((f,O)=>h().markObjectsAsFresh(f,[O]),"markConversationsListPrefsAsFresh"),y=u((f,O)=>h().maybeRefetch(f,O),"maybeRefetchConversationsListPrefs"),p={fetchAndUpsertConversationsListPrefs:m};(0,a.zv)("conditionalFetchManagerConversationsListPrefs",h)},8081461848:(x,g,e)=>{"use strict";e.d(g,{A:()=>o,U:()=>s});var t=e(9139930183),n=e(9469211187);const s="conversationsListPrefs",r={},o=(0,t.Ay)({},r,{storeKey:s,persistenceEnabled:!0}).on(n.f,(a,l)=>{let{channelId:i}=l;if(!i||!a[i])return a;const d={...a};return delete d[i],d}).on(n.d,(a,l)=>{let{channelId:i,prefs:d}=l;return i?{...a,[i]:d}:a})},2527994834:(x,g,e)=>{"use strict";e.d(g,{Q:()=>o});var t=e(3385422400),n=e(8040098042),s=e(8847766420),r=e(7914670207);const c=u((a,l)=>{var i;const d=(0,s.ZT)(a);if(!d||!(0,n.A)(l))return null;(0,r.im)(d,l);var _;return(_=a==null||(i=a.conversationsListPrefs)===null||i===void 0?void 0:i[l])!==null&&_!==void 0?_:null},"getConversationsListPrefsByChannelId"),o=(0,t.Mz)((a,l,i)=>c(a,i),(a,l)=>l,(a,l)=>a==null?void 0:a[l])},330221449:(x,g,e)=>{"use strict";e.d(g,{Ot:()=>s,S9:()=>c,X8:()=>n,d$:()=>a,d1:()=>l,en:()=>o,gx:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Adds the new set of custom emoji to the existing store");n.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const s=(0,t.Ay)("Resets the array of custom emoji in the store");s.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const r=(0,t.Ay)("Removes the specified custom emoji from the store");r.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const c=(0,t.Ay)("Renames a disabled custom emoji");c.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const o=(0,t.Ay)("Set the loading status for the API request when a new page is loading");o.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const a=(0,t.Ay)("Set the loading status for the API request when a user searches for emojis");a.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const l=(0,t.Ay)("Set the current sort category and direction for the table");l.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},1484767411:(x,g,e)=>{"use strict";e.d(g,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Record that a message was deleted");n.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},6739248722:(x,g,e)=>{"use strict";e.d(g,{k:()=>n});var t=e(8161242485);const n=(0,t.Ay)((s,r)=>{let{channelId:c,ts:o}=r;return s&&s.deletedMessages&&s.deletedMessages[c]&&!!s.deletedMessages[c][o]});n.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(s,r)=>{let{channelId:c,ts:o}=r;return s&&s.deletedMessages&&s.deletedMessages[c]&&!!s.deletedMessages[c][o]}}},1378315125:(x,g,e)=>{"use strict";e.d(g,{$3:()=>l,Bt:()=>o,Ez:()=>s,LS:()=>d,Mk:()=>r,NN:()=>m,XF:()=>c,Y$:()=>h,Yv:()=>n,_F:()=>i,jC:()=>_,n9:()=>v,oR:()=>A,um:()=>T,yz:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Sets the highlight property of a download");n.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const s=(0,t.Ay)("An update of the desktop state from the desktop app");s.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const r=(0,t.Ay)("An update of the window frame state");r.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const c=(0,t.Ay)("Starts a download on the desktop app");c.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const o=(0,t.Ay)("Pauses a download on the desktop app");o.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const a=(0,t.Ay)("Resumes a download on the desktop app");a.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const l=(0,t.Ay)("Cancels a download on the desktop app");l.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const i=(0,t.Ay)("Clears all stopped downloads for the active team");i.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const d=(0,t.Ay)("Removes a download on the desktop app");d.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const _=(0,t.Ay)("Retries a download on the desktop app");_.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const m=(0,t.Ay)("Opens a file downloaded by the desktop app");m.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const h=(0,t.Ay)("Shows the folder that contains the downloaded file");h.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const v=(0,t.Ay)("Toggles the performance monitor");v.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const T=(0,t.Ay)("Sets the currently active team in the SSB");T.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const A=(0,t.Ay)("Update canvas system text settings in the SSB");A.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},7902571278:(x,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(9139930183),n=e(4103274853),s=e(3571452446),r=e(2003990933),c=e(7715417323),o=e(3245843483),a=e(1378315125);const l=u((h,v)=>(0,n.A)(h,(T,A)=>(0,n.A)(T,(y,p)=>v(A,p,y))),"mapDownloads"),i=u(h=>({...{app:{},environment:{},settings:{},...(0,s.A)(h,["app","settings","environment"]),windows:(0,n.A)((h==null?void 0:h.windows)||{},T=>({frame:(0,s.A)(T.frame,["isFullScreen","isFocused","isVisible","hasVibrancy","isCurrentlyAudible"])})),downloads:l((h==null?void 0:h.downloads)||{},(T,A,y)=>({...y,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:(0,r.A)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),d=(0,o.g9M)()?i((0,r.A)(window,"desktop.redux.getState",c.A)()):null,m=(0,t.Ay)({},d,{storeKey:"desktop",persistenceEnabled:!1}).on(a.Ez,(h,v)=>{const T=v.downloads?l(v.downloads,(A,y,p)=>({...p,highlight:(0,r.A)(h.downloads,[A,y,"highlight"],!1)})):h.downloads;return{...h,...v,downloads:T}}).on(a.Mk,(h,v)=>{let{windowId:T,property:A,value:y}=v;var p,f,O;return{...h,windows:{...h.windows,[T]:{...((p=h.windows)===null||p===void 0?void 0:p[T])||{},frame:{...((f=h.windows)===null||f===void 0||(O=f[T])===null||O===void 0?void 0:O.frame)||{},[A]:y}}}}}).on(a.Yv,(h,v)=>{let{fileId:T,teamId:A,highlight:y}=v;return(0,r.A)(h.downloads,[A,T])?{...h,downloads:{...h.downloads,[A]:{...h.downloads[A],[T]:{...h.downloads[A][T],highlight:y}}}}:h}).on(a.n9,h=>({...h,debug:{...h.debug,isPerformanceMonitorEnabled:!h.debug.isPerformanceMonitorEnabled}})).on(a.um,(h,v)=>v?{...h,activeTeamId:v}:h)},7600673124:(x,g,e)=>{"use strict";e.d(g,{y:()=>n});var t=e(5818203962);const n=u((s,r)=>(0,t.I$)(s,r),"getIsMemberDisconnectedById")},4318855015:(x,g,e)=>{"use strict";e.d(g,{$x:()=>c,H9:()=>n,at:()=>a,j_:()=>i,jy:()=>l,o2:()=>r,qw:()=>s,su:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Mark emoji collections as fetch (or not fetched");n.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const s=(0,t.Ay)("Set and replace emoji collections");s.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const r=(0,t.Ay)("Signals that an emoji collection has been installed");r.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const c=(0,t.Ay)("Signals that an emoji collection has been uninstalled");c.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const o=(0,t.Ay)("Signals that badges should be added post-install");o.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const a=(0,t.Ay)("Signals that the message input badge should be removed");a.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const l=(0,t.Ay)("Signals that the message tab badge should be removed from the emoji picker");l.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const i=(0,t.Ay)("Increments emoji click count");i.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},3004085654:(x,g,e)=>{"use strict";e.d(g,{Cs:()=>m,Ur:()=>A,_J:()=>y,_o:()=>v,fl:()=>p,nQ:()=>h,pG:()=>T,uI:()=>_});var t=e(2101927269),n=e(9113979368),s=e(2141441167),r=e(2048121586),c=e(6696292586),o=e(8161242485),a=e(3385422400),l=e(2047021170);const i=60*60*24*14,d=(0,o.Ay)((f,O)=>f&&f.emojiCollections&&f.emojiCollections.collections&&f.emojiCollections.collections[O]);d.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(f,O)=>f&&f.emojiCollections&&f.emojiCollections.collections&&f.emojiCollections.collections[O]};const _=(0,o.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.collections);_.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:f=>f&&f.emojiCollections&&f.emojiCollections.collections};const m=(0,a.Mz)(_,f=>(0,t.A)(f,O=>O.installed)),h=(0,o.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.hasFetched);h.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:f=>f&&f.emojiCollections&&f.emojiCollections.hasFetched};const v=(0,o.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.inputBadge);v.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:f=>f&&f.emojiCollections&&f.emojiCollections.inputBadge};const T=(0,o.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.tabBadge);T.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:f=>f&&f.emojiCollections&&f.emojiCollections.tabBadge};const A=(0,o.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.emojiClickCount);A.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:f=>f&&f.emojiCollections&&f.emojiCollections.emojiClickCount};const y=(0,o.Ay)(f=>{const O=_(f);if((0,n.A)(O))return null;const I=(0,s.A)(O);return(0,r.A)(I,P=>P.date_create)});y.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:f=>{const O=_(f);if((0,n.A)(O))return null;const I=(0,s.A)(O);return(0,r.A)(I,P=>P.date_create)}};const p=(0,o.Ay)(f=>{const O=(0,l.ty)(f,"emoji_packs_most_recent_available_time");if(!(0,c.A)(O))return!1;const I=O+i;return Date.now()/1e3<I});p.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:f=>{const O=(0,l.ty)(f,"emoji_packs_most_recent_available_time");if(!(0,c.A)(O))return!1;const I=O+i;return Date.now()/1e3<I}}},7564917982:(x,g,e)=>{"use strict";e.d(g,{H:()=>h});var t=e(7156798807),n=e(6304789565),s=e(1194535350),r=e(4724591729),c=e(3004085654),o=e(4318855015),a=e(2048121586),l=e(2047021170),i=e(5510392579),d=e(387484329);const _=(0,n.Ay)("handle updating prefs if new emoji pack has become available",(v,T,A)=>{let{collections:y}=A;const p=T(),f=(0,i.h3)(p),O=(0,l.ty)(p,"emoji_packs_most_recent_available_time")||0,I=(0,a.A)(y,D=>D.date_create),{date_create:P,installed:C}=I||{};(f||C)&&P>O&&v((0,d.Hj)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});_.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};const m=_,h=(0,n.Ay)("Process and add emoji collections",(v,T,A)=>{let{reason:y}=A;const p=T();(0,c.nQ)(p)||(v((0,o.H9)({hasFetched:!0})),v((0,s.KO)({reason:y})).then(f=>{const O=f.installed||[],I=f.available||[],P=(0,t.A)(O,"id"),C=I.map(M=>({...M,installed:!!P[M.id],localEmoji:P[M.id]?P[M.id].emoji:M.emoji}));v(m({collections:C})),(0,r.Cu)()?v((0,o.qw)({collections:C.filter(M=>!["1044122771874","11"].includes(M.id))})):v((0,o.qw)({collections:C}))}).catch(()=>{v((0,o.H9)({hasFetched:!1}))}))});h.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"}},1890276164:(x,g,e)=>{"use strict";e.d(g,{R:()=>n,t:()=>r});var t=e(8161242485);const n=(0,t.Ay)((o,a)=>{var l;return!!(!((l=o.externalTeamIds)===null||l===void 0)&&l[a])});n.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(o,a)=>{var l;return!!(!((l=o.externalTeamIds)===null||l===void 0)&&l[a])}};var s;const r=(0,t.Ay)(o=>!!Object.keys((s=o.externalTeamIds)!==null&&s!==void 0?s:{}).length);var c;r.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:o=>!!Object.keys((c=o.externalTeamIds)!==null&&c!==void 0?c:{}).length}},5549390246:(x,g,e)=>{"use strict";e.d(g,{Y:()=>v});var t=e(9113979368),n=e(8161242485),s=e(2647703359),r=e(8276911661),c=e(8677230210),o=e(8170643398),a=e(9464746668),l=e(3244118357),i=e(1002129445),d=e(586380821),_=e(8847766420),m=e(735940183);const h=new m.Ay("files"),v=(0,n.Ay)((T,A)=>{if(!A||!(0,s.Vx)(A))return null;let y=h.t("External App");const p=(A==null?void 0:A.bot_user_id)||(A==null?void 0:A.user);if(p){var f;const O=(f=(0,r.nv)(T,p))!==null&&f!==void 0?f:void 0;if((0,o.po)(O)){const I=(0,a.A)(T,O),P=(0,c.AF)(T,I)||void 0,C=(0,l.Hg)(P);if(y=C||y,(0,t.A)(C)&&I){const M=(0,d.G2)(T,{appId:P==null?void 0:P.app_id,serviceId:I,homeWorkspaceId:(0,l.AW)({bot:P,member:O,currentTeamId:(0,_.ZT)(T)})});y=(0,i.fj)(M)||y}}}return y});v.meta={name:"createSelector",key:"createSelectorgetAppNameForRemoteFile",description:(T,A)=>{if(!A||!(0,s.Vx)(A))return null;let y=h.t("External App");const p=(A==null?void 0:A.bot_user_id)||(A==null?void 0:A.user);if(p){var f;const O=(f=(0,r.nv)(T,p))!==null&&f!==void 0?f:void 0;if((0,o.po)(O)){const I=(0,a.A)(T,O),P=(0,c.AF)(T,I)||void 0,C=(0,l.Hg)(P);if(y=C||y,(0,t.A)(C)&&I){const M=(0,d.G2)(T,{appId:P==null?void 0:P.app_id,serviceId:I,homeWorkspaceId:(0,l.AW)({bot:P,member:O,currentTeamId:(0,_.ZT)(T)})});y=(0,i.fj)(M)||y}}}return y}}},6415612447:(x,g,e)=>{"use strict";e.d(g,{Y:()=>l,r:()=>a});var t=e(8161242485),n=e(9101533895),s=e(3634593162),r=e(497761763),c=e(2960290117),o=e(6078549397);const a=u(i=>{if((0,c.Ay)(i)){const{fileIdOrQuipThreadId:m=null}=(0,o.EX)(i)||{};if(m&&(0,r.A)(m)){const h=m,v=(0,s.p)(h);return{fileId:h,channelId:v}}}if((0,r.A)(i)){const m=i,h=(0,s.p)(m);return{fileId:m,channelId:h}}const d=i;return{fileId:(0,s.l)(d),channelId:d}},"getIds"),l=(0,t.Ay)(function(i,d){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:m}=a(d);return(0,n.OL)(i,m,_)});l.meta={name:"createSelector",key:"createSelectorgetFileChannelById",description:function(i,d){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:m}=a(d);return(0,n.OL)(i,m,_)}}},6403218297:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(8086952004),n=e(3571452446),s=e(6217320234),r=e(6626377467);function c(o,a){if(!o||!a)return a;const l=a.comments||[],i=(0,t.A)(l,A=>A.id===o.id),d=(0,n.A)(i,["is_starred","_rxn_key"]),_={...i,...o,...d},m=(0,s.A)((0,r.A)([_,...l],"id"),"timestamp"),v=a.initial_comment&&o.id===a.initial_comment.id?_:a.initial_comment,T={...a,comments:m};return v&&(T.initial_comment=v),T}u(c,"addCommentToFile")},9553287e3:(x,g,e)=>{"use strict";e.d(g,{n:()=>c});var t=e(6304789565),n=e(2384831516);const s=(0,n.Mz)(o=>o.fullscreenHistory);s.meta={name:"createSelector",key:"createSelectorgetFullscreenHistory",description:o=>o.fullscreenHistory};var r=e(8646192222);const c=(0,t.Ay)("Find view container for a specific window history entry",(o,a,l)=>{let{id:i}=l;const d=a();return(0,r.iB)(d)?s(d)[i]:void 0});c.meta={name:"createThunk",key:"createThunkgetFullscreenContainerByHistoryId",description:"Find view container for a specific window history entry"}},56562029:(x,g,e)=>{"use strict";e.d(g,{G:()=>c});var t=e(9139930183),n=e(848813706),s=e(3193155968);const r={enabled:!1,containers:{}},c=(0,t.Ay)({},r,{storeKey:"fullscreen",persistenceEnabled:!1}).on(n.K$,o=>({...o,enabled:!0})).on(n.sM,o=>({...o,enabled:!1,containers:{}})).on(n.BR,(o,a)=>{let{container:l,windowId:i}=a;const d=i===s.N2?"main":i;if(o.containers[d]===l)return o;if(l)return{...o,containers:{...o.containers,[d]:l}};const _={...o};return delete _.containers[d],_})},2332058678:(x,g,e)=>{"use strict";e.d(g,{r:()=>t,u:()=>n});const t={openCount:0,unreadCount:0},n={issues:{},stats:t,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],recommendedArticles:{articles:[],requestId:""},helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},761034736:(x,g,e)=>{"use strict";e.d(g,{fE:()=>V,ZL:()=>Ue,Fb:()=>W,wB:()=>Ae,Cb:()=>Z,sv:()=>ie,wg:()=>ae,tL:()=>ve,aN:()=>Re,Mu:()=>be,Kb:()=>K,cN:()=>X,ZO:()=>Y,Eq:()=>ge,PN:()=>ne});var t=e(8161242485),n=e(8847766420),s=e(3398586081),r=e(2141441167),c=e(8352634987),o=e(6533394955),a=e(4848430086),l=e(6304789565),i=e(930270247),d=e(7629299684),_=e(2927826522);const m=(0,l.Ay)("Fetch product release cards into the store",(F,H,j)=>{let{locale:N}=j;return F((0,i.l)({count:3,type:"product_release_card",locale:N,reason:"client/fetch_published_product_release_cards"})).then(J=>{let{cards:le}=J;F((0,d.M0)((0,_.t)(le)))})});m.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var h=e(9532047472);const v=(0,l.Ay)("Fetch helpdesk articles into the store",(F,H,j)=>{let{locale:N,reason:J}=j;return F((0,h.a)({locale:N,reason:J})).then(le=>{let{articles:ce}=le;F((0,d.NX)((0,_.t)(ce))),F((0,d.a4)(N))})});v.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var T=e(9706240641),A=e(3593297427),y=e(138202077),p=e(6422693406);const f=(0,l.Ay)("Fetch recommended articles into the store",(F,H,j)=>{let{locale:N,reason:J}=j;return F((0,y.H)({reason:J})).then(function(){var le=(0,T.coroutine)(function*(ce){let{articles:Ee,request_id:ye}=ce;const Ie=yield p.S.all(Ee.map(function(){var he=(0,T.coroutine)(function*(Ce){return F((0,A.w)({articleId:Ce.id,locale:N,reason:J})).then(oe=>{let{article:de}=oe;return{id:de.article_id,title:de.title}})});return function(Ce){return he.apply(this,arguments)}}()));F((0,d.LV)({articles:Ie,requestId:ye??""}))});return function(ce){return le.apply(this,arguments)}}())});f.meta={name:"createThunk",key:"createThunkfetchRecommendedArticles",description:"Fetch recommended articles into the store"};var O=e(8745755260);const I=(0,l.Ay)("Fetch help sections into the store",(F,H,j)=>{let{categoryId:N,locale:J,reason:le}=j;return F((0,O.h)({categoryId:N,locale:J,reason:le})).then(ce=>{let{sections:Ee}=ce;return F((0,d.CK)((0,_.t)(Ee)))})});I.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};var P=e(6936450040);const C=(0,l.Ay)("Fetch help categories into the store",(F,H,j)=>{let{locale:N,reason:J}=j;return F((0,P.G)({locale:N,reason:J})).then(le=>{let{categories:ce}=le;F((0,d.KO)((0,_.t)(ce))),F((0,d.WL)(N))})});C.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const M=(0,s.A)(()=>new c.Ay({storeKey:"help",fetch:F=>(0,o.dispatchForTeamId)(F,(0,a.w)()),isEnabled:()=>!0})),D=(0,s.A)(F=>new c.Ay({storeKey:"help",fetch:H=>(0,o.dispatchForTeamId)(H,m({locale:F})),isEnabled:()=>!0})),E=(0,s.A)((F,H)=>new c.Ay({storeKey:"help",fetch:j=>(0,o.dispatchForTeamId)(j,v({locale:F,reason:H})),isEnabled:()=>!0})),S=(0,s.A)((F,H)=>new c.Ay({storeKey:"help",fetch:j=>(0,o.dispatchForTeamId)(j,f({locale:F,reason:H})),isEnabled:()=>!0,maxAge:()=>86400})),k=(0,s.A)((F,H,j)=>new c.Ay({storeKey:"help",fetch:N=>(0,o.dispatchForTeamId)(N,I({categoryId:F,locale:H,reason:j})),isEnabled:()=>!0}),(F,H)=>(0,r.A)([F,H]).join("_")),U=(0,s.A)((F,H)=>new c.Ay({storeKey:"help",fetch:j=>(0,o.dispatchForTeamId)(j,C({locale:F,reason:H})),isEnabled:()=>!0}));var L=e(2332058678),B=e(735940183),b=e(9907843289);const R=new B.Ay("help"),z="",w=(0,t.Ay)(F=>F&&F.help||L.u);w.meta={name:"createSelector",key:"createSelectorgetHelpState",description:F=>F&&F.help||L.u};const W=(0,t.Ay)((F,H)=>{const j=(0,n.ZT)(F),N=(0,b.db)();return w(F).zdLocale!==N&&E(N,H).markObjectsAsStale(j,[N]),E(N,H).maybeRefetch(j,N),w(F).helpSearchArticles||[]});W.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(F,H)=>{const j=(0,n.ZT)(F),N=(0,b.db)();return w(F).zdLocale!==N&&E(N,H).markObjectsAsStale(j,[N]),E(N,H).maybeRefetch(j,N),w(F).helpSearchArticles||[]}};const K=(0,t.Ay)(F=>{const H=(0,n.ZT)(F),j=(0,B.Yp)();return w(F).locale!==j&&D(j).markObjectsAsStale(H,[j]),D(j).maybeRefetch(H,j),w(F).productReleaseCards||[]});K.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:F=>{const H=(0,n.ZT)(F),j=(0,B.Yp)();return w(F).locale!==j&&D(j).markObjectsAsStale(H,[j]),D(j).maybeRefetch(H,j),w(F).productReleaseCards||[]}};const Y=(0,t.Ay)((F,H)=>{var j;const N=(0,n.ZT)(F),J=(0,B.Yp)();return w(F).locale!==J&&S(J,H).markObjectsAsStale(N,[J]),S(J,H).maybeRefetch(N,J),((j=w(F).recommendedArticles)===null||j===void 0?void 0:j.articles)||[]});Y.meta={name:"createSelector",key:"createSelectorgetRecommendedArticles",description:(F,H)=>{var j;const N=(0,n.ZT)(F),J=(0,B.Yp)();return w(F).locale!==J&&S(J,H).markObjectsAsStale(N,[J]),S(J,H).maybeRefetch(N,J),((j=w(F).recommendedArticles)===null||j===void 0?void 0:j.articles)||[]}};const X=(0,t.Ay)(F=>{var H;return((H=w(F).recommendedArticles)===null||H===void 0?void 0:H.requestId)||""});X.meta={name:"createSelector",key:"createSelectorgetRecommendArticlesRequestId",description:F=>{var H;return((H=w(F).recommendedArticles)===null||H===void 0?void 0:H.requestId)||""}};const Z=(0,t.Ay)(F=>w(F).helpNavigation||L.u.helpNavigation);Z.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:F=>w(F).helpNavigation||L.u.helpNavigation};const ie=(0,t.Ay)((F,H,j)=>{var N,J;const le=(0,n.ZT)(F),ce=(0,B.Yp)(),Ee=w(F).locale,ye=j??((N=w(F).helpNavigation)===null||N===void 0?void 0:N.categoryId),Ie=(J=w(F).helpSections[0])===null||J===void 0?void 0:J.categoryId;return ye?(Ie&&ye!==Ie?(k(ye,ce,H).markObjectsAsStale(le,[ye.toString()]),k(ye,ce,H).maybeRefetch(le,ye.toString())):Ee!==ce&&k(ye,ce,H).markObjectsAsStale(le,[ce]),k(ye,ce,H).maybeRefetch(le,ce),w(F).helpSections||[]):w(F).helpSections||[]});ie.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(F,H,j)=>{var N,J;const le=(0,n.ZT)(F),ce=(0,B.Yp)(),Ee=w(F).locale,ye=j??((N=w(F).helpNavigation)===null||N===void 0?void 0:N.categoryId),Ie=(J=w(F).helpSections[0])===null||J===void 0?void 0:J.categoryId;return ye?(Ie&&ye!==Ie?(k(ye,ce,H).markObjectsAsStale(le,[ye.toString()]),k(ye,ce,H).maybeRefetch(le,ye.toString())):Ee!==ce&&k(ye,ce,H).markObjectsAsStale(le,[ce]),k(ye,ce,H).maybeRefetch(le,ce),w(F).helpSections||[]):w(F).helpSections||[]}};const Ae=(0,t.Ay)((F,H)=>{const j=(0,n.ZT)(F),N=(0,B.Yp)();return w(F).locale!==N&&U(N,H).markObjectsAsStale(j,[N]),U(N,H).maybeRefetch(j,N),w(F).helpCategories||[]});Ae.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(F,H)=>{const j=(0,n.ZT)(F),N=(0,B.Yp)();return w(F).locale!==N&&U(N,H).markObjectsAsStale(j,[N]),U(N,H).maybeRefetch(j,N),w(F).helpCategories||[]}};const ae=(0,t.Ay)(F=>w(F).helpTour||L.u.helpTour);ae.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:F=>w(F).helpTour||L.u.helpTour};const V=(0,t.Ay)(F=>w(F).anchorId||L.u.anchorId);V.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:F=>w(F).anchorId||L.u.anchorId};const ve=(0,t.Ay)(F=>w(F).isArticleLoaded||L.u.isArticleLoaded);ve.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:F=>w(F).isArticleLoaded||L.u.isArticleLoaded};const be=(0,t.Ay)(F=>{var H,j;if(!((H=F.desktop)===null||H===void 0||(j=H.app)===null||j===void 0)&&j.updateInfo){var N;const{releaseName:J}=F.desktop.app.updateInfo;if(!((N=F.desktop)===null||N===void 0)&&N.environment){const{appVersion:le}=F.desktop.environment;if(J.endsWith(le))return null}return J}return null});be.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:F=>{var H,j;if(!((H=F.desktop)===null||H===void 0||(j=H.app)===null||j===void 0)&&j.updateInfo){var N;const{releaseName:J}=F.desktop.app.updateInfo;if(!((N=F.desktop)===null||N===void 0)&&N.environment){const{appVersion:le}=F.desktop.environment;if(J.endsWith(le))return null}return J}return null}};const Ue=(0,t.Ay)(F=>{if(F.desktop&&F.desktop.app&&F.desktop.app.updateInfo){const{releaseName:H,releaseNotes:j,releaseDate:N}=F.desktop.app.updateInfo;return{timestamp:N?N.getTime():Date.now(),title:H,description:R.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:j,url_title:R.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});Ue.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:F=>{if(F.desktop&&F.desktop.app&&F.desktop.app.updateInfo){const{releaseName:H,releaseNotes:j,releaseDate:N}=F.desktop.app.updateInfo;return{timestamp:N?N.getTime():Date.now(),title:H,description:R.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:j,url_title:R.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const Re=(0,t.Ay)(F=>{const H=Ue(F)||null;return H?H.timestamp:-1});Re.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:F=>{const H=Ue(F)||null;return H?H.timestamp:-1}};const ge=(0,t.Ay)(F=>{const H=(0,n.ZT)(F);return M().maybeRefetch(H,z),w(F).stats||L.r});ge.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:F=>{const H=(0,n.ZT)(F);return M().maybeRefetch(H,z),w(F).stats||L.r}};const ne=(0,t.Ay)(F=>ge(F).unreadCount);ne.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:F=>ge(F).unreadCount};const ee=(0,t.Ay)(F=>w(F).isHelpTipHistoryTourActive||L.u.isHelpTipHistoryTourActive);ee.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:F=>w(F).isHelpTipHistoryTourActive||L.u.isHelpTipHistoryTourActive}},4848430086:(x,g,e)=>{"use strict";e.d(g,{w:()=>r});var t=e(6304789565),n=e(8726791251),s=e(7629299684);const r=(0,t.Ay)("Fetch and upsert ticket stats into the store",c=>c((0,n.I)({reason:"fetchAndUpsertTicketStats"})).then(o=>{const a={unreadCount:o.unread_count||0,openCount:o.open_count||0};return c((0,s.SX)(a)),a}));r.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},8239363237:(x,g,e)=>{"use strict";e.d(g,{GF:()=>i,Tk:()=>d,UI:()=>A,X_:()=>_,iN:()=>T,pm:()=>h,t6:()=>y,vc:()=>m,xA:()=>v});var t=e(3385422400),n=e(2647703359),s=e(937317117),r=e(1990810649),c=e(387328355);const o=u((p,f)=>{var O;return f?(O=(0,s.Lp)(p,f))===null||O===void 0?void 0:O.localUpdated:null},"getFileLocalUpdated"),a=u(p=>(0,c.lt)(p),"getFileId"),l=u(p=>(0,t.Mz)([f=>(0,c.JC)(f),f=>{const O=a(f);return o(f,O)},f=>{const O=a(f);return O?(0,s.Lp)(f,O):null}],(f,O,I)=>I!=null&&I.id&&(f===r.cM.CanvasFile||f===r.cM.QuipFile)?p(I):null),"selectFromUpdatedFile"),i=l(p=>p),d=l(p=>p==null?void 0:p.id),_=l(p=>p?(0,n.sJ)(p):!1),m=l(p=>p?(0,n.uO)(p):!1),h=l(p=>p?(0,n.WP)(p):null),v=l(p=>p==null?void 0:p.user),T=l(p=>!!p),A=l(p=>p?(0,n.l7)(p):!1),y=l(p=>p?(0,n.wL)(p):!1)},5145584581:(x,g,e)=>{"use strict";e.d(g,{x:()=>p});var t=e(8628145494),n=e(6304789565),s=e(6533394955),r=e(4250409994),c=e(5286203919),o=e(387328355),a=e(1990810649),l=e(7434063642),i=e(6251210828),d=e(7723800688),_=e(2664504268),m=e(6470070112),h=e(1224315998),v=e(56548687),T=e(5737576046),A=e(7884000776);const y=u((O,I,P,C)=>{const M=(0,s.getStateForClientStore)(),D=(0,c.E9)(M),E=(0,m.$t)(I,{huddleId:D}),S=(0,m.kn)(M),k=(0,m.UE)(M),U=(0,i.Ec)(I,{huddleId:D});let L,B,b=null,R=null,z=null;if(P===a.cM.None)L=d.Hi.FOCUS_CLOSE,B=(0,i.U7)(I,{key:d.Hi.FOCUS_OPEN});else{var w;switch(L=d.Hi.FOCUS_OPEN,B=(0,_.A)(),z=(C==null||(w=C.item)===null||w===void 0?void 0:w.id)||null,P){case a.cM.Screenshare:b="focus_screenshare",R="screenshare";break;default:b="focus_file",R="file"}O((0,l.Mn)({key:d.Hi.FOCUS_OPEN,value:B}))}(0,v.e)({state:I}).track(h.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:U?U.toString():null,ui_properties:{element_name:L},action:h.UiAction.IMPRESSION},calls:k},...E,...S,interaction_id:B,canvas_dimension_marker:b,type:R,item_file_id:z})},"clogCanvasEvent"),p=(0,n.Ay)("Sets a user content view which represents what the user is focused on in the canvas",(O,I,P)=>{if(!P||(0,t.A)(P.contentViewType))return;const C=I(),M=P.contentViewType,D=!1;if(M===a.cM.Screenshare){const S=(0,o.JC)(C),k=f(C);S===a.cM.None&&!k&&O((0,l.fI)({isThreadOpen:!1})),O((0,l.Zx)({userId:""}))}O((0,l.YC)({isFullscreen:D})),O((0,l.s7)({isNotesOpen:M===a.cM.QuipFile}));const E=P.contentViewType===a.cM.None||!P.contentViewConfig?{}:P.contentViewConfig;O((0,o.sK)({id:P.peerId,contentViewType:M,contentViewConfig:E})),(0,s.dispatchForClientStore)((0,r.xq)({contentViewType:M,contentViewConfig:E})),y(O,C,M,E)});p.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function f(O){const I=(0,s.getStateForClientStore)(),P=(0,c.E9)(I),C=(0,c.hc)(I),M=(0,i.fG)(O,{huddleId:P});if(!(M!=null&&M.ts)||!C)return!1;const D=(0,T.zC)({viewContext:A.Y.HUDDLE_THREADS,channelId:C,threadTs:M.ts});return(D==null?void 0:D.hasFocus())||!1}u(f,"doesThreadInputHaveFocus")},6758774099:(x,g,e)=>{"use strict";e.d(g,{Lm:()=>r,T3:()=>s,U$:()=>c,WO:()=>n,dD:()=>a,h2:()=>o,jL:()=>l});var t=e(2140362605);const n=(0,t.Ay)("Enable huddle event log");n.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const s=(0,t.Ay)("Disable huddle event log");s.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const r=(0,t.Ay)("Set loading state for huddle event log");r.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const c=(0,t.Ay)("Add non-transcription event");c.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const o=(0,t.Ay)("Update with latest transcription events");o.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const a=(0,t.Ay)("Set enabled state for huddle captions side-by-side view");a.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const l=(0,t.Ay)("Set enabled state for huddle closed captions view");l.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},8409540889:(x,g,e)=>{"use strict";e.d(g,{u:()=>n,y:()=>t});const t=2e3,n=2e3},4988306802:(x,g,e)=>{"use strict";e.d(g,{Cb:()=>_,M3:()=>l,TP:()=>o,VN:()=>i,gL:()=>a,iv:()=>m});var t=e(3385422400),n=e(8161242485),s=e(8409540889),r=e(8783285437);const c=(0,n.Ay)(h=>h.huddleEvents);c.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:h=>h.huddleEvents};const o=(0,n.Ay)(h=>c(h).enabled);o.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:h=>c(h).enabled};const a=(0,n.Ay)(h=>c(h).isLoading);a.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:h=>c(h).isLoading};const l=(0,n.Ay)(h=>h.huddleEvents.isSideBySideEnabled);l.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:h=>h.huddleEvents.isSideBySideEnabled};const i=(0,n.Ay)(h=>h.huddleEvents.isClosedCaptionsEnabled);i.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:h=>h.huddleEvents.isClosedCaptionsEnabled};const d=(0,n.Ay)(h=>h.huddleEvents.isClosedCaptionsEnabled);d.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:h=>h.huddleEvents.isClosedCaptionsEnabled};const _=(0,t.Mz)(h=>c(h).events,h=>{const v=[];let T,A=[];const y=u(()=>{T&&v.push({...T,content:A.join(" ")})},"maybeCommit");return h.forEach(p=>{T&&p.type===r.v.TRANSCRIBE&&T.memberId===p.memberId&&p.timestampMs-T.endTimeMs<s.y?(A.push(p.content),T.endTimeMs=p.endTimeMs):(y(),p.type===r.v.TRANSCRIBE?(T={type:r.v.TRANSCRIBE,resultId:"",memberId:p.memberId,content:"",timestampMs:p.timestampMs,endTimeMs:p.endTimeMs},A=[p.content]):(T=null,A=[],v.push(p)))}),y(),v}),m=(0,t.Mz)(h=>_(h),h=>h.filter(v=>v.type===r.v.TRANSCRIBE||v.type===r.v.START_TRANSCRIPTION).slice(-5))},1889537412:(x,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(9706240641),n=e.n(t),s=e(6304789565),r=e(727128009),c=e(6422693406),o=e(9640070512),a=e(2527782504),l=e(6758774099),i=e(4988306802),d=e(7004355564),_=e(6533394955),m=e(796111729),h=e(5286203919),v=e(8783285437),T=e(6694086724),A=e(8872167513),y=e(2709531527);const p=(0,s.Ay)("Start transcription for current huddle",function(){var O=(0,t.coroutine)(function*(I,P){if((0,i.TP)(P())||(0,i.gL)(P()))return c.S.resolve();const C=(0,_.getStateForClientStore)(),M=(0,h.E9)(C);return M?(I((0,l.WO)()),I((0,l.Lm)(!0)),yield(0,d.A)(),I((0,T.e)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),I((0,r.i)({reason:"start-event-log",callId:M})).catch(D=>{var E;if(((E=D.data)===null||E===void 0?void 0:E.error)==="permission_denied")return c.S.delay(5e3).then(()=>I((0,r.i)({reason:"start-event-log/retry",callId:M})));throw D}).catch(D=>{(0,m.Ay)({getState:P}).error(D),I((0,l.T3)())}).finally(()=>{I((0,l.Lm)(!1)),I((0,o.H)({focusKey:a.Ay.HUDDLE_CAPTIONS_TAB})),I((0,l.U$)({type:v.v.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:0}));const{huddleEventsTrace:D}=(0,A.A)().getAllTraceHandlers();D==null||D.update({name:y.p.TRANSCRIPT,type:y.G.START})})):c.S.reject(new Error("No active call ID for huddle"))});return function(I,P){return O.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"};const f=p},6855917924:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(6304789565),n=e(580220061),s=e(6422693406),r=e(6758774099),c=e(4988306802),o=e(6533394955),a=e(5286203919),l=e(8872167513),i=e(2709531527);const d=(0,t.Ay)("Stop transcription for current huddle",(m,h)=>{if(!(0,c.TP)(h())||(0,c.gL)(h()))return s.S.resolve();const v=(0,o.getStateForClientStore)(),T=(0,a.E9)(v);return T?(m((0,r.T3)()),m((0,r.Lm)(!0)),m((0,n.W)({reason:"stop-event-log",callId:T})).finally(()=>{m((0,r.Lm)(!1));const{huddleEventsTrace:A}=(0,l.A)().getAllTraceHandlers();A==null||A.update({name:i.p.TRANSCRIPT,type:i.G.STOP})})):s.S.reject(new Error("No active call ID for huddle"))});d.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"};const _=d},8783285437:(x,g,e)=>{"use strict";e.d(g,{v:()=>t});var t;(function(n){n.JOIN="JOIN",n.LEAVE="LEAVE",n.SCREENSHARE_START="SCREENSHARE_START",n.SCREENSHARE_STOP="SCREENSHARE_STOP",n.TRANSCRIBE="TRANSCRIBE",n.SEND_REACTION="SEND_REACTION",n.START_TRANSCRIPTION="START_TRANSCRIPTION"})(t||(t={}))},4250409994:(x,g,e)=>{"use strict";e.d(g,{Ag:()=>K,B5:()=>le,Bk:()=>k,Db:()=>H,Dj:()=>he,Gx:()=>ve,HC:()=>M,HF:()=>C,Hg:()=>Ee,I9:()=>i,JM:()=>Re,Jc:()=>T,Ko:()=>U,Lx:()=>ee,M4:()=>_,OA:()=>F,QZ:()=>I,Rb:()=>S,Rh:()=>v,Rr:()=>P,Sd:()=>c,Sn:()=>f,TK:()=>ye,VU:()=>s,WB:()=>B,WM:()=>w,WY:()=>ne,YA:()=>O,Yi:()=>L,_H:()=>ae,_I:()=>o,_U:()=>X,_o:()=>se,_u:()=>ge,aO:()=>z,bV:()=>Z,bk:()=>Ue,cx:()=>be,f2:()=>R,fP:()=>p,hB:()=>A,kg:()=>ce,kn:()=>r,nI:()=>J,nU:()=>d,nw:()=>j,o9:()=>N,og:()=>Ze,ol:()=>D,pl:()=>l,qW:()=>a,qr:()=>ie,so:()=>m,t2:()=>Ie,u8:()=>y,wr:()=>Q,xf:()=>h,xq:()=>Y,yR:()=>E,yW:()=>He,yi:()=>V});var t=e(2140362605),n=e(6304789565);const s=(0,t.Ay)("Set flag to indicate if Huddles is enabled.");s.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const r=(0,t.Ay)("Stores audio reference that will be passed to SDK");r.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const c=(0,t.Ay)("Start video shariing");c.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const o=(0,t.Ay)("Stop video shariing");o.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const a=(0,t.Ay)("Connect to Huddle media server");a.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const l=(0,t.Ay)("Leave the huddle and stop media transmission");l.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const i=(0,t.Ay)("Enable or disable local microphone");i.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const d=(0,t.Ay)("Send an emoji reaction");d.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const _=(0,t.Ay)("Send a sticky emoji reaction");_.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const m=(0,t.Ay)("Send a mute request");m.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const h=(0,t.Ay)("Insert new active huddle reference with teamId channelId, etc.");h.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const v=(0,t.Ay)("Upsert existing active huddle reference");v.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const T=(0,t.Ay)("Upsert existing active huddle channel");T.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const A=(0,t.Ay)("Set active huddle invite");A.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const y=(0,t.Ay)("Clear invite for given channel ID");y.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const p=(0,t.Ay)("Mark invite notifications as viewed by clearing them.");p.meta={name:"createAction",key:"createActionmarkInvitesSeenForTeam",description:"Mark invite notifications as viewed by clearing them."};const f=(0,n.Ay)("Mark invite notifications as viewed by clearing them after a delay",(Ge,Be,we)=>{let{delay:xe,teamId:Oe}=we;setTimeout(()=>{Ge(p({teamId:Oe,markBeforeMs:Date.now()-xe}))},xe)});f.meta={name:"createThunk",key:"createThunkmarkInvitesReadOnDelay",description:"Mark invite notifications as viewed by clearing them after a delay"};const O=(0,t.Ay)("Start screen share for current user with given mediaSourceId");O.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const I=(0,t.Ay)("Stop screen share for current user");I.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const P=(0,t.Ay)("Notify peers of changes to isDrawEnabled");P.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const C=(0,t.Ay)("Enabled annotations for screen share host");C.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const M=(0,t.Ay)("Notify middleware that a new preferred device was selected");M.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const D=(0,t.Ay)("Notify middleware that automatic gain control setting has changed");D.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const E=(0,t.Ay)("Notify middleware that noise suppression setting has changed");E.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const S=(0,t.Ay)("Notify middleware that video background setting has changed");S.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const k=(0,t.Ay)("Toggle global keyboard shortcut support for muting / unmuting a huddle");k.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const U=(0,t.Ay)("Internal store update for mini-panel visibility");U.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const L=(0,t.Ay)("Upsert join credentials for a channel");L.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const B=(0,t.Ay)("Clear the join credentials for a specific channel");B.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const b=(0,t.Ay)("Store and/or remote push Chime meeting events");b.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const R=(0,t.Ay)("Transition from the prejoin state to started");R.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const z=(0,t.Ay)("Action to update the store to either show or hide discovery banner");z.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const w=(0,t.Ay)("Toggle Video");w.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const W=(0,t.Ay)("Reporting CPU and memory usage stats");W.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const K=(0,t.Ay)("Set true to specify that lounge music is playing, false otherwise.");K.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const Y=(0,t.Ay)("Set current focused view type");Y.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const X=(0,t.Ay)("Set last huddle start time");X.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const Z=(0,t.Ay)("Set last huddle end time");Z.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const ie=(0,t.Ay)("Set last huddle duration time");ie.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const Ae=(0,t.Ay)("Toggle video background filter");Ae.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const ae=(0,t.Ay)("Starts the video preview on the video element using the specified device");ae.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const V=(0,t.Ay)("Stops the video preview on the video element");V.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const ve=(0,t.Ay)("Identifies which screenshare is being viewed in the mini-player");ve.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const be=(0,t.Ay)("Resets the store");be.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const Ue=(0,t.Ay)("Start the canvas jukebox using content share");Ue.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const Re=(0,t.Ay)("Stop the canvas jukebox");Re.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const ge=(0,t.Ay)("Set selected song");ge.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const ne=(0,t.Ay)("Send jukebox active song");ne.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const ee=(0,t.Ay)("Request a jukebox song");ee.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const F=(0,t.Ay)("Request the jukebox stops");F.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const H=(0,t.Ay)("Send recording start notification");H.meta={name:"createAction",key:"createActionsendRecordingStartNotification",description:"Send recording start notification"};const j=(0,t.Ay)("Sets whether the active invite card in the sidebar can be rendered");j.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const N=(0,t.Ay)("Sets whether the huddle window of an active huddle is in focus or not.");N.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const J=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");J.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const le=(0,t.Ay)("Reports to the SDK when the client is offline");le.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const ce=(0,t.Ay)("Sets whether audio only mode is active or not.");ce.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const Ee=(0,t.Ay)("Sets whether the camera was enabled when audio only mode was activated.");Ee.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const ye=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");ye.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const Ie=(0,t.Ay)("True if huddle mini player is hidden, false if shown.");Ie.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const he=(0,t.Ay)("Asks for video permission and enumerates devices");he.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const Ce=(0,t.Ay)("Execute readiness check for audio input");Ce.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const oe=(0,t.Ay)("Execute readiness check for audio output");oe.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const de=(0,t.Ay)("Execute readiness check for video input");de.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const De=(0,t.Ay)("Execute readiness check for a particular camera resolution");De.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const Te=(0,t.Ay)("Execute readiness check for audio connectivity");Te.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const pe=(0,t.Ay)("Execute readiness check for video connectivity");pe.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const Me=(0,t.Ay)("Execute readiness check for content share connectivity");Me.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const ke=(0,t.Ay)("Execute readiness check for network UDP connectivity");ke.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const Ke=(0,t.Ay)("Execute readiness check for network TCP connectivity");Ke.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const Ze=(0,t.Ay)("Sets that the Huddle was joined via prejoin");Ze.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"};const Q=(0,t.Ay)("Sets Huddle device based on preview entry");Q.meta={name:"createAction",key:"createActionsetDeviceStateBasedOnPreviewEntry",description:"Sets Huddle device based on preview entry"};const se=(0,t.Ay)("Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow");se.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewChannel",description:"Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow"};const He=(0,t.Ay)("Sets the current background effect selected from the preview background picker");He.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewBackgroundEffect",description:"Sets the current background effect selected from the preview background picker"}},5702042015:(x,g,e)=>{"use strict";e.d(g,{A:()=>c,p:()=>o});var t=e(5286203919),n=e(4250409994),s=e(6304789565);let r;const c=(0,s.Ay)("Temporarily show mini-panel",function(a,l){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(r),a((0,n.Ko)(!0)),r=setTimeout(()=>a((0,n.Ko)(!1)),i)});c.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const o=(0,s.Ay)("Temporarily pause mini-panel visibility transition",(a,l)=>{const i=l();(0,t.Ae)(i)&&clearTimeout(r)});o.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},2778217221:(x,g,e)=>{"use strict";e.d(g,{WS:()=>s,nq:()=>n,o7:()=>t});const t="HUDDLES",n=864e5,s=2},5378147939:(x,g,e)=>{"use strict";e.d(g,{A:()=>he});var t=e(9706240641),n=e(3398586081),s=e(387328355),r=e(1289024643),c=e(462591818),o=e(6533394955),a=e(5795074931),l=e(2047021170),i=e(1889537412),d=e(6758774099),_=e(4250409994),m=e(5881236351),h=e(6304789565),v=e(6562711329);const T=(0,h.Ay)("Fetch channel membership info for huddle member",(Ce,oe,de)=>{let{channelId:De,userId:Te}=de;return Ce((0,v.z)({channelId:De,userIds:[Te]})).then(pe=>{let{membershipInfo:Me}=pe;return Me[Te]&&"isMember"in Me[Te]?!Me[Te].isMember:!0})});T.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var A=e(2778217221),y=e(7434063642),p=e(9548972574),f=e(5332875232),O=e(3677514771),I=e(8305649700),P=e(1883693579),C=e(9712681361),M=e(9680914051),D=e(4695727674),E=e(4540171876),S=e(6422693406),k=e(6470070112),U=e(6839188756),L=e(56548687),B=e(1224315998),b=e(5741354339),R=e(6929023741),z=e(4476913522),w=e(5286203919),W=e(4423055085),K=e(2141441167),Y=e(4949104520),X=e(796111729),Z=e(9190452268),ie=e(1651628626),Ae=e(2664504268),ae=e(1921074781),V=e(5203103513);const ve=60*1e3,be=15*1e3,Ue=1e3*10,Re=1e3*60,ge=5e3;let ne=!1;const ee=500,F=25;let H=u(class{setTargetState(oe){var de=this;return(0,t.coroutine)(function*(){de.targetState=oe;const{huddleState:De,huddleSubState:Te}=de.targetState;de.isValidHuddleSubState(De,Te)||(de.targetState.huddleSubState=de.getInitialSubStateForHuddleState(De)),(0,o.dispatchForClientStore)((0,_.Rh)(de.getOptimisticState(oe))),yield de.process()})()}setTargetChannel(oe){this.targetState.channelId=oe}setTargetSubState(oe){var de=this;return(0,t.coroutine)(function*(){de.isValidHuddleSubState(de.targetState.huddleState,oe)&&(de.targetState.huddleSubState=oe,yield de.process())})()}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:C.RJ.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}waitForStartStop(){var oe=this;return(0,t.coroutine)(function*(){return oe.startStopDeferred||S.S.resolve()})()}isProcessing(){var oe;return(oe=this.startStopDeferred)===null||oe===void 0?void 0:oe.isPending()}isTargetState(){const{teamId:oe,channelId:de,huddleState:De}=this.getClientHuddleState();return(0,k.Ft)(this.targetState.huddleState)?De===this.targetState.huddleState:oe===this.targetState.teamId&&de===this.targetState.channelId&&De===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(oe){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>oe-ee:!1}isValidHuddleSubState(oe,de){return oe===C.RJ.STARTED?de===void 0?!1:(0,K.A)(C.J_).includes(de):de===void 0}getInitialSubStateForHuddleState(oe){if(oe===C.RJ.STARTED)return C.J_.INITIAL_ALONE}process(){var oe=this;return(0,t.coroutine)(function*(){if(oe.isProcessing())return oe.waitForStartStop();oe.startStopDeferred=(0,b.u)();const de=setTimeout((0,t.coroutine)(function*(){var De;if(!((De=oe.startStopDeferred)===null||De===void 0)&&De.isPending()){const Te=new S.S.TimeoutError("HuddleStateManager timeout");yield oe.handleErrorAndDisconnect(Te)}}),oe.startStopTimeout);try{yield oe.runLoop(),clearTimeout(de),oe.startStopDeferred.resolve()}catch(De){yield oe.handleErrorAndDisconnect(De)}finally{clearTimeout(de)}oe.startStopDeferred=null})()}runLoop(){var oe=this;return(0,t.coroutine)(function*(){let de=0;for(;!oe.isTargetState();){if(!oe.isProcessing())return;if(de+=1,de>F)throw new Error("runLoop was stuck");const{teamId:pe,channelId:Me,huddleState:ke}=oe.getClientHuddleState(),{teamId:Ke,channelId:Ze,huddleState:Q,callId:se}=oe.targetState;if(pe!==Ke&&(delete oe.clogger,delete oe.logger,delete oe.telemeter),[C.RJ.STARTED,C.RJ.PRE_JOINED].includes(Q)){if(pe!==Ke||Me!==Ze){switch(ke){case C.RJ.PENDING:case C.RJ.STARTED:case C.RJ.PRE_JOINED:yield oe.goToNext(C.RJ.ENDING);break;default:yield oe.goToNext(C.RJ.STARTING)}continue}switch(ke){case C.RJ.NOT_STARTED:yield oe.goToNext(C.RJ.STARTING);break;case C.RJ.STARTING:try{yield oe.goToNext(C.RJ.PENDING)}catch(He){var De;if(!((De=oe.credentials)===null||De===void 0)&&De.isQuickJoinCredentials){if(delete oe.credentials,yield oe.clearQuickJoinCredentials(),He.message===C.M6.ChimeMeetingEnded)throw He;if(se){const Oe=(0,p.P_)(oe.getState(),se);if(Oe&&Oe.hasEnded)throw new Error(C.M6.ChimeMeetingEnded)}const Ge=Date.now(),Be=!0;yield oe.safelyDisconnect(Be);const xe=Date.now()-Ge;oe.getLogger().info(`Disconnecting after failed attempt to join huddle added ${xe}ms to TTI`),yield oe.goToNext(C.RJ.STARTING)}else throw He}break;case C.RJ.PENDING:yield oe.goToNext(oe.targetState.huddleState);break;case C.RJ.PRE_JOINED:yield oe.goToNext(C.RJ.COMPLETING_PRE_JOIN);break;case C.RJ.COMPLETING_PRE_JOIN:yield oe.completePrejoin({isStartMuted:oe.targetState.muted}),yield oe.goToNext(C.RJ.STARTED);break;case C.RJ.STARTED:throw new Error("This should not be possible");case C.RJ.ENDING:case C.RJ.SURVEY:case C.RJ.SURVEY_GOOD:default:yield oe.goToNext(C.RJ.STARTING);break}continue}if([C.RJ.PENDING,C.RJ.STARTED,C.RJ.PRE_JOINED].includes(ke)){yield oe.goToNext(C.RJ.ENDING);continue}yield oe.goToNext(Q)}let Te=0;for(;!oe.isTargetSubState();){if(Te+=1,Te>F)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:pe,huddleSubState:Me}=oe.getClientHuddleState(),{huddleSubState:ke}=oe.targetState;if(!oe.isValidHuddleSubState(pe,ke)){const Ke=oe.getInitialSubStateForHuddleState(pe);oe.targetState.huddleSubState=Ke,yield oe.goToNextSubState(Ke),oe.getLogger().warn(A.o7,`attempted to reach invalid huddleSubstate (${ke}) for the given huddleState (${pe})`);continue}if(pe===C.RJ.STARTED){switch(Me){case C.J_.INITIAL_ALONE:if(ke===C.J_.INITIAL_ALONE_NOTICE_ACTIVE){yield oe.goToNextSubState(ke);break}yield oe.goToNextSubState(C.J_.IN_PROGRESS_TOGETHER);break;case C.J_.INITIAL_ALONE_NOTICE_ACTIVE:if(ke===C.J_.INITIAL_ALONE_NOTICE_DISMISSED){yield oe.goToNextSubState(ke);break}yield oe.goToNextSubState(C.J_.IN_PROGRESS_TOGETHER);break;case C.J_.INITIAL_ALONE_NOTICE_DISMISSED:yield oe.goToNextSubState(C.J_.IN_PROGRESS_TOGETHER);break;case C.J_.IN_PROGRESS_TOGETHER:yield oe.goToNextSubState(C.J_.IN_PROGRESS_ALONE);break;case C.J_.IN_PROGRESS_ALONE:if(ke===C.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE){yield oe.goToNextSubState(ke);break}yield oe.goToNextSubState(C.J_.IN_PROGRESS_TOGETHER);break;case C.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(ke===C.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED){yield oe.goToNextSubState(ke);break}yield oe.goToNextSubState(C.J_.IN_PROGRESS_TOGETHER);break;case C.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED:yield oe.goToNextSubState(C.J_.IN_PROGRESS_TOGETHER);break;default:yield oe.goToNextSubState(C.J_.INITIAL_ALONE)}continue}yield oe.goToNextSubState(void 0)}})()}goToNext(oe){var de=this;return(0,t.coroutine)(function*(){var De,Te,pe,Me;de.getLogger().info(`Marking huddle as ${oe} [${(pe=(De=de.targetState)===null||De===void 0?void 0:De.teamId)!==null&&pe!==void 0?pe:"N/A"}, ${(Me=(Te=de.targetState)===null||Te===void 0?void 0:Te.channelId)!==null&&Me!==void 0?Me:"N/A"}]`);const ke=Date.now();de.timeOfLastStateChange=ke,de.timeOfLastSubStateChange=ke;const Ke=de.getInitialSubStateForHuddleState(oe);if(oe===C.RJ.STARTING){var Ze,Q;const Ge=de.assertTargetTeamAndChannel(C.RJ.STARTING),Be=de.getOptimisticState(de.targetState);de.getLogger().info(`Optimistic state: ${Be.optimisticHuddleState}`),(0,o.dispatchForClientStore)((0,_.xf)({huddleState:oe,huddleSubState:Ke,...Ge,...Be,isPrejoin:((Ze=de.targetState)===null||Ze===void 0?void 0:Ze.huddleState)===C.RJ.PRE_JOINED,sessionId:(0,Ae.A)()})),de.credentials=yield de.fetchCredentials(),(Q=de.getTelemeter())===null||Q===void 0||Q.mark(M.Bq);return}if(oe===C.RJ.PENDING){const Ge=de.assert(de.credentials,"Expected credentials to be set before PENDING");(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:oe,huddleSubState:Ke,...de.assertTargetTeamAndChannel(C.RJ.PENDING),callId:Ge.roomId})),yield de.connectToChime(Ge,de.targetState),delete de.credentials;return}if(oe===C.RJ.STARTED){var se;const Ge=de.assertTargetTeamAndChannel(C.RJ.STARTED);(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:oe,huddleSubState:Ke,optimisticHuddleState:null,...Ge,isPrejoin:!1})),(0,l.ty)(de.getState(),"huddles_set_status")&&de.scheduleHuddleStateExpirationIncrement(),de.setCoachmarkTimeout(Ke),(se=ae.F.getInstance())===null||se===void 0||se.request()}else{var He;(He=ae.F.getInstance())===null||He===void 0||He.release()}if(oe===C.RJ.PRE_JOINED&&(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:oe,huddleSubState:Ke,optimisticHuddleState:null,...de.assertTargetTeamAndChannel(C.RJ.PRE_JOINED)})),oe===C.RJ.ENDING){(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:oe,huddleSubState:Ke})),yield de.safelyDisconnect();return}(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:oe,huddleSubState:Ke,optimisticHuddleState:null}))})()}goToNextSubState(oe){var de=this;return(0,t.coroutine)(function*(){oe===C.J_.IN_PROGRESS_ALONE&&setTimeout(()=>{var De;((De=de.getClientHuddleState())===null||De===void 0?void 0:De.huddleSubState)===C.J_.IN_PROGRESS_ALONE&&de.hasBeenInSubStateForAtLeastApproxTime(Ue)&&de.setTargetSubState(C.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},Ue),de.timeOfLastSubStateChange=Date.now(),(0,o.dispatchForClientStore)((0,_.Rh)({huddleSubState:oe}))})()}handleErrorAndDisconnect(oe){var de=this;return(0,t.coroutine)(function*(){var De;de.getLogger().error(oe);const{huddleState:Te}=de.getClientHuddleState();if([C.RJ.PENDING,C.RJ.STARTED].includes(Te))try{yield S.S.race([new S.S((pe,Me)=>{setTimeout(()=>Me(new Error("HuddleStateManager disconnect timeout")),de.disconnectTimeout)}),de.safelyDisconnect()])}catch(pe){de.getLogger().error(pe)}(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:C.RJ.NOT_STARTED,optimisticHuddleState:null})),yield S.S.resolve(de.handleError(oe,Te)),(De=de.startStopDeferred)===null||De===void 0||De.reject(oe)})()}getInitialAloneInHuddleTimeOutValue(){if(ne)return ge;const oe=this.getState(),de=(0,l.ty)(oe,V.VW);return de?de*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),Re)}setCoachmarkTimeout(oe){oe===C.J_.INITIAL_ALONE&&(setTimeout(()=>{var de;((de=this.getClientHuddleState())===null||de===void 0?void 0:de.huddleSubState)===C.J_.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.setTargetSubState(C.J_.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var oe;return!!(!((oe=(0,s.Ng)(this.getState()))===null||oe===void 0)&&oe.isMicrophoneEnabled)}getClientHuddleState(){const oe=(0,o.getStateForClientStore)(),de=(0,w.EG)(oe),{channelId:De,teamId:Te}=(0,w.Qn)(oe)||{};if(!de||de===C.RJ.NOT_STARTED)return{huddleState:C.RJ.NOT_STARTED,channelId:De,teamId:Te};const pe=(0,w.EO)(oe);return{huddleState:de,huddleSubState:pe,channelId:De,teamId:Te}}assertTargetTeamAndChannel(oe){const{teamId:de,channelId:De}=this.targetState;return{teamId:this.assert(de,`Expected teamId to be set for ${oe}`),channelId:this.assert(De,`Expeted channelId to be set for ${oe}`)}}getChannelIdOrDie(){const{channelId:oe}=this.getClientHuddleState(),{channelId:de}=this.targetState,De=oe||de;return this.assert(De,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:oe}=this.getClientHuddleState(),{threadTs:de}=this.targetState;return oe||de}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:oe}=this.getClientHuddleState(),{teamId:de}=this.targetState,De=oe||de;return this.assert(De,"No team ID or active huddle")}getCallIdOrDie(){const oe=(0,o.getStateForClientStore)(),de=(0,w.E9)(oe);return this.assert(de,"No call ID or active huddle")}getHuddleState(){const{huddleState:oe}=this.getClientHuddleState();return oe}dispatch(oe){const de=this.getTeamIdOrDie();return(0,o.dispatchForTeamId)(de,oe)}getState(oe){const de=oe||this.getTeamIdOrDie();return(0,o.getStateByTeamId)(de)}assert(oe,de){if(oe==null)throw new Error(de);return oe}getClogger(){if(this.clogger)return this.clogger;const{teamId:oe}=this.getClientHuddleState();return this.clogger=oe?(0,L.e)({state:(0,o.getStateByTeamId)(oe)}):(0,L.e)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=(0,X.Wo)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:oe}=this.getClientHuddleState();return oe?this.telemeter=(0,Z.Cy)({state:(0,o.getStateByTeamId)(oe)}):this.telemeter=(0,Z.rh)(),this.telemeter}constructor({logLabel:oe=A.o7,startStopTimeout:de=ve,disconnectTimeout:De=be}={}){this.targetState={huddleState:C.RJ.NOT_STARTED},this.startStopDeferred=null;var Te=this;this.safelyDisconnect=(0,t.coroutine)(function*(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;try{yield Te.disconnect(Me)}catch(ke){Te.getLogger().error("Failed to disconnect from the Huddle. This may mean the user is still connected to the media server",ke)}});var pe=this;this.scheduleHuddleStateExpirationIncrement=(0,t.coroutine)(function*(){if(pe.isTargetState()&&pe.targetState.huddleState!==C.RJ.STARTED)return;const Me=60*5,ke={huddle_state_expiration_ts:new Date().getTime()/1e3+Me};yield pe.dispatch((0,ie.c)({profile:ke,reason:"increment-huddle-state-expiration-ts"})),setTimeout(pe.scheduleHuddleStateExpirationIncrement,(0,Y.A)(24e4,-.1,.1))}),this.logLabel=oe,this.startStopTimeout=de,this.disconnectTimeout=De,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");(0,W.ul)("baseHuddleStateManager",{setShortTimeoutValue:()=>{ne=!0},resetShortTimeoutValue:()=>{ne=!1}}),Object.defineProperty({shouldUseDebugTimeout:ne},"shouldUseDebugTimeout",{get:()=>ne,set:()=>{ne=!0}});var N=e(7004355564),J=e(4715430489),le=e(6251210828),ce=e(415910655),Ee=e(8872167513);class ye extends H{start(oe,de,De,Te,pe,Me,ke){var Ke=this;return(0,t.coroutine)(function*(){yield Ke.startHuddleWithTargetState(C.RJ.STARTED,oe,de,De,Te,pe,Me,ke)})()}prejoin(oe,de,De,Te){var pe=this;return(0,t.coroutine)(function*(){yield pe.startHuddleWithTargetState(C.RJ.PRE_JOINED,oe,de,De,Te,void 0)})()}setOthersInHuddle(){var oe=this;return(0,t.coroutine)(function*(){yield oe.setTargetSubState(C.J_.IN_PROGRESS_TOGETHER)})()}setAloneInHuddle(){var oe=this;return(0,t.coroutine)(function*(){yield oe.setTargetSubState(C.J_.IN_PROGRESS_ALONE)})()}dismissAloneInHuddleWarning(oe){var de=this;return(0,t.coroutine)(function*(){const De=oe?C.J_.INITIAL_ALONE_NOTICE_DISMISSED:C.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED;yield de.setTargetSubState(De)})()}startHuddleWithTargetState(oe,de,De,Te,pe,Me,ke,Ke){var Ze=this;return(0,t.coroutine)(function*(){var Q;!((Q=Ze.currentHuddleDeferred)===null||Q===void 0)&&Q.isPending()||(Ze.currentHuddleDeferred=(0,b.u)()),yield Ze.setTargetState({huddleState:oe,teamId:de,channelId:De,muted:Te,callId:pe,threadTs:Me,isMultiDevice:ke,experimentStandaloneHuddlesOn:Ke})})()}stop(){var oe=this;return(0,t.coroutine)(function*(){var de;const De=oe.getState(),Te=oe.getHuddleState()!==C.RJ.PRE_JOINED&&(0,p.Cd)(De)&&!oe.isProcessing();Te&&(oe.getLogger().info(`Show huddle survey in ${oe.getChannelIdOrDie()}`),oe.dispatch((0,P.Cd)({timeSeen:new Date().toISOString()}))),yield oe.setTargetState({huddleState:Te?C.RJ.SURVEY:C.RJ.NOT_STARTED}),oe.getHuddleState()===C.RJ.NOT_STARTED&&(!((de=oe.currentHuddleDeferred)===null||de===void 0)&&de.isPending())&&oe.currentHuddleDeferred.resolve()})()}enterTerminalState(oe){var de=this;return(0,t.coroutine)(function*(){var De;!((De=de.pendingHuddleStart)===null||De===void 0)&&De.isPending()?de.pendingHuddleStart.reject(oe):yield de.handleErrorAndDisconnect(oe)})()}waitForHuddleToEnd(){return S.S.resolve(this.currentHuddleDeferred)}handleError(oe,de){var De;this.getLogger().error(oe);const Te=de===C.RJ.STARTING||de===C.RJ.PENDING;this.dispatch((0,D.A)({errorCode:(0,C.dJ)(oe.name)?oe.name:oe.message,isJoinError:Te})),!((De=this.currentHuddleDeferred)===null||De===void 0)&&De.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(oe){let{teamId:de,channelId:De,huddleState:Te}=oe;if([C.RJ.NOT_STARTED].includes(Te))return{optimisticHuddleState:C.RJ.ENDING};if([C.RJ.SURVEY].includes(Te))return{optimisticHuddleState:null};if(Te===C.RJ.PRE_JOINED)return{optimisticHuddleState:C.RJ.PRE_JOINED,isPrejoin:!0};if(Te===C.RJ.STARTED&&de){var pe,Me;const ke=(0,o.getStateByTeamId)(de),Ke=(0,o.getStateForClientStore)(),Ze=(0,w.aQ)(Ke),Q=(Ze==null?void 0:Ze.channelId)===De||!((pe=(0,p.Yw)(ke,De))===null||pe===void 0||(Me=pe.activeParticipants)===null||Me===void 0)&&Me.length?null:C.RJ.STARTED;return(0,l.ty)(ke,"huddles_global_mute")&&(0,o.dispatchForClientStore)((0,_.Bk)(!0)),{isPrejoin:!1,optimisticHuddleState:Q}}return{}}fetchCredentials(){var oe=this;return(0,t.coroutine)(function*(){const de=oe.getTeamIdOrDie(),De=oe.getChannelIdOrDie(),Te=oe.getThreadTsOrNothing(),pe=(0,o.getStateForClientStore)(),Me=(0,p.Yw)(oe.getState(),De),{ttiTrace:ke}=(0,Ee.A)().getAllTraceHandlers(),Ke=(0,w.WL)(pe,De),Ze=oe.getIsMultiDevice(),Q=(0,J.x)(oe.getState());if(ke==null||ke.createFetchCredentialsSpan(),Ke){ke==null||ke.setCachedTag({cached:!0});const se=(Me==null?void 0:Me.id)||(0,k.RW)(Ke.credentials);if(se){const He=(0,p.P_)(oe.getState(),se);if(He&&He.hasEnded)throw yield oe.clearQuickJoinCredentials(),new Error(C.M6.ChimeMeetingEnded)}return oe.getTelemeter().count(M.K7),ke==null||ke.closeFetchCredentialsSpan(),{roomId:se,server:Ke.credentials,isQuickJoinCredentials:!0}}if((0,f.CI)(oe.getState(de))){const se=(0,le._6)(oe.getState(),{channelId:De});if(se){const He=(0,p.it)(oe.getState(de),De),Ge=(0,le.G5)(oe.getState(),{channelId:De}),Be=(0,k.RW)(se);return He&&Ge&&oe.dispatch((0,I.KN)({channelId:De,threadTs:He,lastRead:He,reason:"huddles-rooms-join-kte"})),{roomId:Be,server:se,isQuickJoinCredentials:!1}}}return oe.getTelemeter().mark(M.aW),ke==null||ke.setCachedTag({cached:!1}),oe.dispatch((0,E.O3)({teamId:de,channelId:De,shouldFetchRegion:!Me,traceId:ke==null?void 0:ke.getTTITraceId(),parentSpanId:ke==null?void 0:ke.getFetchCredentialsSpanId(),...Te&&{threadTs:Te},...Ze&&{isMultiDevice:Ze}})).then(se=>{var He,Ge;if(!(!(se==null||(He=se.server)===null||He===void 0)&&He.meeting)||!(!(se==null||(Ge=se.server)===null||Ge===void 0)&&Ge.attendee))throw new Error("create_meeting_failed");ke==null||ke.closeFetchCredentialsSpan(),oe.getTelemeter().mark(M.bW);const Be=oe.getTelemeter().measure(M.aW,M.iE,M.bW);oe.getTelemeter().count(M.iE,Be),(0,ce.jm)({roomsJoinTime:Be});let we=De;return oe.getIsExperimentStandaloneHuddlesOn()&&se.channelId&&(we=se.channelId,oe.setTargetChannel(we),(0,o.dispatchForClientStore)((0,_.Jc)(we))),(0,o.dispatchForClientStore)((0,_.Yi)({channelId:we,joinCredentials:se.server,expiry:Date.now()+A.nq,fromInvite:!1})),se.rootThreadTs&&se.roomId&&(oe.dispatch((0,y.ZL)({huddleId:se.roomId,thread:{channelId:we,ts:se.rootThreadTs}})),oe.dispatch((0,I.KN)({channelId:we,threadTs:se.rootThreadTs,lastRead:se.rootThreadTs,reason:"canvas-rooms-join-api"})),oe.dispatch(Q?(0,z.a)({channelId:we,threadTs:se.rootThreadTs,oldest:se.rootThreadTs}):(0,R.a)({channelId:we,threadTs:se.rootThreadTs,oldest:se.rootThreadTs}))),se})})()}connectToChime(oe,de){let{server:De,roomId:Te}=oe,{muted:pe,huddleState:Me}=de;var ke=this;return(0,t.coroutine)(function*(){const{ttiTrace:Ke}=(0,Ee.A)().getAllTraceHandlers();return Ke==null||Ke.createConnectToMediaServiceSpan(),(0,o.dispatchForClientStore)((0,_.qW)({callResult:{server:De,roomId:Te,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:pe,waitForHuddleStart:(0,b.u)(),isPrejoin:Me===C.RJ.PRE_JOINED})),ke.pendingHuddleStart=(0,b.u)(),Me===C.RJ.PRE_JOINED?S.S.resolve():ke.pendingHuddleStart})()}resolvePendingJoin(oe){var de=this;return(0,t.coroutine)(function*(){try{var De;const pe=de.getChannelIdOrDie(),{ttiTrace:Me}=(0,Ee.A)().getAllTraceHandlers(),ke=de.getState(),Ke=(0,o.getStateForClientStore)(),{callId:Ze,optimisticHuddleState:Q}=(0,w.Qn)(Ke)||{},se=(0,p.dy)(ke);if(de.getLogger().info(`Resolve pending huddle (${pe}, optimisticHuddleState: ${Q}, has optimisticTopic: ${!!se})`),!(!((De=de.pendingHuddleStart)===null||De===void 0)&&De.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const He=de.assert(Ze,"Room ID is not defined for pending join"),Ge=(0,l.ty)(ke,"huddles_cc_by_default");if((0,k.UA)(ke,pe)&&Ge&&(de.dispatch((0,i.A)()),de.dispatch((0,d.dD)(!0)),de.dispatch((0,d.jL)(!0))),se){try{yield de.dispatch((0,E.xB)({roomId:He,name:se})),de.dispatch((0,r.oU)({id:He,name:se}))}catch(we){de.getLogger().error(we)}de.dispatch((0,m.Jc)(null))}(0,o.dispatchForClientStore)((0,_.u8)(pe)),Me==null||Me.closeConnectToMediaServiceSpan(),(0,L.e)({state:ke}).track(B.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:He,duration_ms:Math.round(oe),channel_id:pe}}}),(0,ce.jm)({audioConnectedTime:oe}),(0,o.dispatchForClientStore)((0,_.Rh)({isSelfJoined:!0})),de.pendingHuddleStart.resolve()}catch(pe){var Te;(Te=de.pendingHuddleStart)===null||Te===void 0||Te.reject(pe)}})()}completePrejoin(oe){var de=this;return(0,t.coroutine)(function*(){const De=de.getChannelIdOrDie(),Te=(0,o.getStateForClientStore)(),{ttiTrace:pe}=(0,Ee.A)().getAllTraceHandlers(),Me=(0,w.WL)(Te,De);return pe==null||pe.setCachedTag({cached:!!Me}),pe==null||pe.createConnectToMediaServiceSpan(),(0,o.dispatchForClientStore)((0,_.f2)({...oe}))})()}clearQuickJoinCredentials(){return(0,t.coroutine)(function*(){const oe=(0,o.getStateForClientStore)(),{channelId:de}=(0,w.Qn)(oe)||{};return(0,o.dispatchForClientStore)((0,_.WB)({channelId:de}))})()}disconnect(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var de=this;return(0,t.coroutine)(function*(){var De;const Te=de.getState(),pe=(0,o.getStateForClientStore)(),{channelId:Me,teamId:ke}=(0,w.Qn)(pe)||{};if(!oe)try{(0,Ee.A)().cleanup()}catch(Ke){de.getLogger().error(`Error cleaning up huddle tracing: ${Ke}`)}try{(0,o.dispatchForClientStore)((0,_.Bk)(!1)),(0,f.Eg)(Te)&&((0,o.dispatchForClientStore)((0,_.JM)()),(0,o.dispatchForClientStore)((0,_._u)({song:void 0}))),(0,o.dispatchForClientStore)((0,_.Rh)({isSelfJoined:!1}));const Ze=(0,a.WR)(Te),Q=Me&&(0,p.Yw)(Te,Me);if(Q&&Me){const se=(Q.activeParticipants||[]).filter(Ge=>!((0,c.MZ)(Ge)&&Ge.slackId===Ze));de.dispatch((0,r.oU)({id:Q.id,activeParticipants:se}));const He=(0,r.H6)(de.getState(),Q.id);He&&de.dispatch((0,m.mr)({call:He,channelId:Me}))}if(Me){const se=yield(0,o.dispatchForTeamId)(ke,T({channelId:Me,userId:Ze})),He=(0,O.H7)(Te),Ge=(0,U.tc)(He);(se||Ge)&&(yield de.clearQuickJoinCredentials()),(0,o.dispatchForClientStore)((0,_.u8)(Me))}}catch(Ke){de.getLogger().error("An error occurred cleaning up huddle redux state. Proceeding to disconnect from media server.",Ke)}try{const Ke=(0,b.u)();(0,o.dispatchForClientStore)((0,_.pl)({waitForHuddleEnd:Ke})),yield Ke}catch(Ke){de.getLogger().error("An error occurred while disconnecting from the media server.",Ke)}de.dispatch((0,s.VL)({huddlesVideoActive:!1})),de.dispatch((0,y.np)()),(0,o.dispatchForClientStore)((0,_.cx)()),!((De=de.pendingHuddleStart)===null||De===void 0)&&De.isPending()&&de.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))})()}}u(ye,"HuddleStateManager");const he=(0,n.A)(()=>{const Ce=new ye;return(0,N.R)(Ce.waitForStartStop.bind(Ce)),Ce})},7004355564:(x,g,e)=>{"use strict";e.d(g,{A:()=>r,R:()=>s});var t=e(6422693406);let n;const s=u(c=>{n=c},"setWaitForStartStop"),r=u(()=>n?n():t.S.resolve(),"__WEBPACK_DEFAULT_EXPORT__")},3065433701:(x,g,e)=>{"use strict";e.d(g,{CE:()=>o,Gu:()=>a,vT:()=>n.vT});var t=e(6304789565),n=e(7366481123);const s=3*1e3,r={[n.vT.NoUserAudioStream]:!0,[n.vT.NoUserVideoStream]:!0,[n.vT.NoAudioOutputAudioElementError]:!0,[n.vT.NoAudioOutputAudioLevelError]:!0,[n.vT.PeerMuteRequest]:!0};let c={};const o=(0,t.Ay)("Display alert message for huddle call",(i,d,_)=>{let{alert:m,peerId:h}=_;if(!c[m]){if(r[m]){c[m]=setTimeout(()=>{c[m]&&(clearTimeout(c[m]),delete c[m]),i((0,n.Sb)({alert:m,peerId:h}))},s);return}i((0,n.Sb)({alert:m,peerId:h}))}});o.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const a=(0,t.Ay)("Undisplay an alert message for huddle call",(i,d,_)=>{c[_]&&(clearTimeout(c[_]),delete c[_]),i((0,n.LL)(_))});a.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"},Object.defineProperty({alertTimeouts:c},"alertTimeouts",{get:()=>c,set:i=>{c=i}})},5253428843:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(6304789565),n=e(5378147939);const s=(0,t.Ay)("Handle huddle error",(c,o,a)=>(0,n.A)().enterTerminalState(new Error(a.terminalState)));s.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"};const r=s},2766373332:(x,g,e)=>{"use strict";e.d(g,{N$:()=>Te,KD:()=>oe,kq:()=>Ce,HU:()=>de});var t=e(9706240641),n=e(6304789565),s=e(6533394955),r=e(387328355),c=e(9864164947),o=e(7067820909),a=e(7621809678),l=e(3245843483),i=e(2778217221),d=e(6134475965),_=e(1049642794),m=e(2802517438),h=e(3134334389),v=e(3288846409),T=e(3037015781),A=e(4979382452),y=e(8029613601),p=e(4947127560),f=e(4636370173),O=e(2465132699),I=e(8523371695),P=e(3606117573),C=e(2683115972),M=e(3165300465),D=e(1610251172),E=e(4481313819),S=e(2562405183),k=e(5363983309),U=e(5286203919),L=e(9101533895),B=e(9884588328),b=e(8921478798),R=e(1407713935),z=e(1224315998),w=e(735940183),W=e(8320929653),K=e(4233000497);function Y(){return Y=Object.assign||function(pe){for(var Me=1;Me<arguments.length;Me++){var ke=arguments[Me];for(var Ke in ke)Object.prototype.hasOwnProperty.call(ke,Ke)&&(pe[Ke]=ke[Ke])}return pe},Y.apply(this,arguments)}u(Y,"_extends");const X=new w.Ay("huddles"),Z={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:z.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},ie={elementName:"huddles_invite_confirmation_dialog_ok",eventId:z.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function Ae(pe){let{closeModal:Me,...ke}=pe;const{channelId:Ke,senderUserId:Ze}=ke,Q=(0,K.A)(Ke),{handleDecline:se,handleJoin:He,isLoading:Ge,inviteText:Be}=(0,W.lc)(ke),we=(0,S.d4)(it=>(0,b.I)(it,Ze));let xe=X.t("Huddle with {dmPersons}",{dmPersons:we,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const Oe=(0,S.d4)(it=>(0,L.OL)(it,Ke)),Xe=(0,S.d4)(it=>(0,T.uz)(Oe)?(0,B.SB)(it,Oe,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);Xe&&(xe=(0,R.JM)(Oe)?X.t("Huddle with {dmPersons}",{dmPersons:Xe,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):X.t("Huddle in {channelName}",{channelName:Xe,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const Ye=(0,v.cw)(U.hc)===Ke;(0,h.useEffect)(()=>{Ye&&!Ge&&(Me==null||Me())},[Ye,Ge,Me]);const dt=(0,h.useCallback)(()=>{se(),Me==null||Me()},[Me,se]),mt="huddle-invite-join-modal";return h.createElement(E.A,Y({uiComponentName:z.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},Q),h.createElement(A.A,{labelledby:mt,dataQa:mt,closeModal:Me,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},h.createElement(y.A,null,h.createElement(p.A,{title:xe,id:mt})),h.createElement(f.A,null,h.createElement(O.A,null,Be)),h.createElement(I.A,null,h.createElement(P.A,null,h.createElement(C.Ay,{type:"outline",onClick:dt,"data-qa":"huddle_invite_join_cancel",autoClogProps:Z},X.t("Not Now")),h.createElement(M.A,{type:"primary",loading:Ge,onClick:He,"data-qa":"huddle_invite_join_go",autoClogProps:ie,autoFocus:!0,"aria-label":X.t("Join")},h.createElement(D.A,{type:"headphones"}),h.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},X.t("Join")))))))}u(Ae,"HuddleInviteJoinModal"),Ae.displayName="HuddleInviteJoinModal";const ae={HuddleInviteJoinModal:Ae},V=(0,k.A)(Ae);var ve=e(605594140),be=e(6422693406),Ue=e(796111729),Re=e(8040098042),ge=e(2960290117),ne=e(6415612447),ee=e(6470070112),F=e(56548687),H=e(571104883),j=e(8746998952),N=e(9712681361),J=e(5702042015),le=e(7429662208),ce=e(3193155968),Ee=e(6695353875),ye=e(9629572172),Ie=e(352142497);const he=u((pe,Me,ke)=>{(0,F.e)({state:pe}).track(Me,{contexts:{calls:(0,ee.gG)(pe,ke),ui_context:{action:z.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),Ce=(0,n.Ay)("Start huddle in highlighted channel or current primary view",function(){var pe=(0,t.coroutine)(function*(Me,ke,Ke){let{highlightedChannelId:Ze}=Ke;const Q=(0,s.getStateForClientStore)(),se=ke(),He=(0,Ee.cc)(se),Ge=He,Be=(0,le.e6)(se),we=(0,m.A)(se),xe=Ge?(0,le.F8)(se,{tab:Be,container:ce.mq.Primary}):null,Oe=Ge?xe==null?void 0:xe.id:we,Xe=Ze||Oe,{channelId:Ye,teamId:dt}=(0,U.Ak)(Q)||{};if(Ye&&dt&&(!Ze||Ze===Ye)){(0,s.dispatchForTeamId)(dt,(0,d.A)()),he(se,z.EventId.HUDDLES_LEAVE,Ye);return}const mt=(0,U.aQ)(Q);if(mt&&!Ze){const{channelId:At,senderUserId:Ot,callId:Kt,teamId:Xt}=mt;(0,s.dispatchForTeamId)(Xt,V({channelId:At,senderUserId:Ot,callId:Kt}));return}if(!Xe||!(0,Re.A)(Xe)&&!(0,ge.Ay)(Xe)){He&&Me((0,ve.A)());return}const it=(0,ne.Y)(se,Xe);it&&(0,ee.Bn)(se,it)&&(he(se,z.EventId.HUDDLES_JOIN,it.id),Me((0,j.A)({channelId:it.id,forceFocus:!0,entryPoint:N.su.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});return function(Me,ke,Ke){return pe.apply(this,arguments)}}());Ce.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const oe=(0,n.Ay)("Start huddle in the current view",function(){var pe=(0,t.coroutine)(function*(Me,ke,Ke,Ze){var Q,se;const He=ke(),{shouldUseNavigate:Ge,isChildWindow:Be,getViewSet:we}=Ze(ye.U),xe=we(He);(!Ge||!Be||(xe==null||(Q=xe[ce.mq.Primary])===null||Q===void 0?void 0:Q.viewType)!==Ie.D.Channel)&&Me(Ce({highlightedChannelId:void 0}));const Oe=xe==null||(se=xe[ce.mq.Primary])===null||se===void 0?void 0:se.id;Me(Ce({highlightedChannelId:Oe}))});return function(Me,ke,Ke,Ze){return pe.apply(this,arguments)}}());oe.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const de=(0,n.Ay)("Toggle microphone from current value to opposite value",(pe,Me)=>{const ke=(0,s.getStateForClientStore)(),{teamId:Ke,channelId:Ze}=(0,U.Ak)(ke)||{};if(!Ke)return;const Q=(0,s.getStateByTeamId)(Ke),se=(0,r.Ng)(Q),He=se==null?void 0:se.isMicrophoneEnabled;(0,s.dispatchForTeamId)(Ke,(0,_.A)(!He)),pe(He?(0,c.Ho)():(0,c.qc)()),(0,Ue.Ay)({state:Q}).info(i.o7,`Keyboard shortcut invoked -- toggling mic to ${He?z.EventId.HUDDLES_MUTE:z.EventId.HUDDLES_UNMUTE}`),Ze&&he(Q,He?z.EventId.HUDDLES_MUTE:z.EventId.HUDDLES_UNMUTE,Ze)});de.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let De=!1;const Te=u(pe=>{var Me;return(0,H.dY)("4.13.0")?(pe&&!De&&((0,l.zin)(a.Sr.TOGGLE_MUTE,(0,t.coroutine)(function*(){const ke=(0,s.getStateForClientStore)(),{teamId:Ke}=(0,U.Ak)(ke)||{};Ke&&((0,s.dispatchForTeamId)(Ke,de()),(0,o.Sr)((0,s.getStateForClientStore)())||(0,s.dispatchForClientStore)((0,J.A)()))})),De=!0),(Me=(0,l.wzE)(a.Sr.TOGGLE_MUTE,pe))===null||Me===void 0?void 0:Me.then(()=>pe)):be.S.resolve(!1)},"maybeToggleGlobalMuteShortcut")},1883693579:(x,g,e)=>{"use strict";e.d(g,{uZ:()=>be,Tn:()=>Re,Cd:()=>Ue});var t=e(796111729),n=e(6304789565),s=e(6533394955),r=e(387484329),c=e(2778217221),o=e(4250409994),a=e(9712681361),l=e(6422693406),i=e(5046160032),d=e(4914127094),_=e(8445020572),m=e(7299481592),h;(function(ge){ge.HuddleSurvey="huddle-survey",ge.ListsSurvey="lists-survey"})(h||(h={}));var v;(function(ge){ge.NoAudioInput="no-audio-input",ge.NoAudioOutput="no-audio-output",ge.LowVideoQuality="low-video-quality",ge.LowAudioQuality="low-audio-quality",ge.VideoNotWorking="video-not-working",ge.DeviceSelectionError="device-selection-error",ge.Disconnected="disconnected",ge.SomethingElse="something-else",ge.Dismiss="dismiss"})(v||(v={}));function T(ge){return ge.isOk}u(T,"isOkResult");const A=(0,n.Ay)("Send survey results",(ge,ne,ee)=>{var F,H;const j=ne();var N;const J=(N=ee.callId)!==null&&N!==void 0?N:j.activeCall.id;if(!J)return(0,m.M)(!1,"There should have been a call in order to send survey results."),l.S.reject(new Error("SendSurveyResult: No call"));var le;const ce=(le=ee.type)!==null&&le!==void 0?le:"vo-survey",Ee=T(ee)?void 0:{response_requested:!1,comments:ee.comments,is_video:(F=j.activeCall)===null||F===void 0?void 0:F.hasVideoBeenEnabled,is_ss:(H=j.activeCall)===null||H===void 0?void 0:H.hasScreenshareBeenEnabled,list_id:ee==null?void 0:ee.listId,list_entry_point:ee==null?void 0:ee.listEntryPoint},ye=T(ee)||ce===h.ListsSurvey?"ok":ee.notOkResponses.join(","),Ie={room:J,event_type:ce,event_value:ye,event_metadata:JSON.stringify(Ee)};return(0,i.A)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:(0,d.F)(j),versionTs:(0,_.HF)(),versionUid:(0,_.X3)(),args:Ie})?l.S.resolve():l.S.reject(new Error("SendSurveyResult: beacon failed"))});A.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"};var y=e(3134334389),p=e(2562405183),f=e(6313685253),O=e(6122756707),I=e(6084388622),P=e(3989454579),C=e(6948117092),M=e(5016574668),D=e(3855029223),E=e(4798756512),S=e(6310192986),k=e(1616072515);const U="survey";var L;(function(ge){ge.Good="good",ge.Bad="bad",ge.Dismiss="dismiss"})(L||(L={}));const B="HUDDLES-SURVEY-TRACE",b=u(ge=>{let{teamId:ne,callId:ee,results:F}=ge;const H=ne?(0,t.Ay)({label:B,teamId:ne}):(0,t.Wo)({label:B});if(!ne){H.warn("Missing team id. Exiting early");return}const j=(0,D.E)({teamOrEnterpriseId:ne}),N=j.createTrace({traceName:M.Sq,tags:{__dataset:M.RN},samplingOptions:{sampleRate:1,sampleType:E.tS.SESSION}}),J=N.startSpan(U),le={...F};(0,C.A)(le,"comments");const{notOkResponses:ce,summary:Ee}=le||{};if(!ee){H.warn("Missing callId. Exiting early");return}if(!Ee){H.warn("Missing summary. Exiting early");return}try{H.info(`Processing huddle survey response. callId: ${ee} - traceId: ${N.getTraceId()} - results: ${JSON.stringify(le)}`)}catch(he){H.error(he)}const ye={teamId:ne,callId:ee,surveySummary:Ee,surveyResponseCount:(ce==null?void 0:ce.length)||0,surveyResponses:ce==null?void 0:ce.join(" ")},Ie=(0,k.tT)({...ye,...(0,S.vP)()});J.addTags(Ie),J.close(),H.info(`Reporting huddle survey trace with ${Object.keys(Ie).length} tags (${N.getTraceId()})`),H.debug("Tags attached",Ie),j.reportTrace(N),j.clearTrace(N)},"reportHuddleSurveyResultsTrace");var R=e(8847766420),z=e(980293773),w=e(7138682671),W=e(8472205500),K=e(735940183),Y=e(8739505998),X=e(5363983309),Z=e(6968387112);const ie=new K.Ay("huddles");function Ae(ge){return(0,f.A)(ge,(ne,ee,F)=>(ee&&ne.push(F),ne),[])}u(Ae,"collectResponses");const ae=u(ge=>{let{closeModal:ne,callId:ee}=ge;const F=(0,p.d4)(R.ZT),[H,j]=(0,y.useState)({}),[N,J]=(0,y.useState)(""),[le,ce]=(0,y.useState)(!1),Ee=`https://${(0,Z.qF)()}`,ye=(0,O.wA)(),Ie=[{value:v.NoAudioInput,text:ie.t("Others couldn\u2019t hear me")},{value:v.NoAudioOutput,text:ie.t("I couldn\u2019t hear others")},{value:v.DeviceSelectionError,text:ie.t("Slack selected the wrong microphone/speaker, or couldn\u2019t find my device")},{value:v.LowAudioQuality,text:ie.t("Audio was low quality (e.g., it lagged or sounded choppy/robotic)")},{value:v.LowVideoQuality,text:ie.t("Video was low quality (e.g., slow, not in sync with audio, or pixelated)")},{value:v.VideoNotWorking,text:ie.t("Video didn\u2019t work at all")},{value:v.Disconnected,text:ie.t("I got disconnected from the Huddle")},{value:v.SomethingElse,text:ie.t("Something else went wrong")}],he=h.HuddleSurvey,Ce=(0,y.useCallback)(()=>{ce(!0);const pe={isOk:!1,notOkResponses:Ae(H),comments:N,callId:ee,type:he};ye(A(pe)).then(()=>{F&&b({teamId:F,callId:ee,results:{summary:L.Bad,...pe}}),ce(!1),ne==null||ne()})},[ee,H,ne,F,N,ye,he]),oe=(0,y.useCallback)(()=>{ye(A({isOk:!1,notOkResponses:[v.Dismiss],callId:ee,type:he})),ne==null||ne()},[ne,ee,he,ye]),de=(0,y.useCallback)(pe=>J(pe),[]),Te=!!H[v.SomethingElse];return y.createElement(z.dW,{closeModal:oe,showCloseButton:!0,centered:!0,maxWidth:600},y.createElement(y.Fragment,null,y.createElement(z.rQ,null,y.createElement(z.Rc,{title:ie.t("What went wrong?")})),y.createElement(z.$m,null,y.createElement(z.qf,null,Ie.map(pe=>{let{value:Me,text:ke}=pe;return y.createElement(w.A,{text:ke,key:Me,id:Me,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},y.createElement(P.A,{name:Me,value:Me,checked:!!H[Me],onChange:Ke=>j(Ze=>({...Ze,[Me]:Ke.target.checked}))}))}),Te&&y.createElement(w.A,{className:"padding_top_75",text:ie.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},y.createElement(W.A,{name:"details",id:"details",onChange:de,value:N})))),y.createElement(z.jl,null,y.createElement(Y.A,{href:`${Ee}/privacy-policy`,target:"_blank"},ie.t("Privacy Policy")),y.createElement(z.ox,null,y.createElement(I.$n,{onClick:oe,type:"outline"},ie.t("Dismiss")),y.createElement(I.lV,{loading:le,onClick:Ce,"aria-label":ie.t("Send")},ie.t("Send"))))))},"HuddleSurveyModal");ae.displayName="HuddleSurveyModal";const V=(0,X.A)(ae);var ve=e(5286203919);const be=(0,n.Ay)("Close the mini survey after a postive response",(ge,ne,ee)=>{let{channelId:F}=ee;(0,s.dispatchForClientStore)((0,o.Rh)({channelId:F,optimisticHuddleState:null,huddleState:a.RJ.NOT_STARTED}))});be.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const Ue=(0,n.Ay)("Set the date for when the user last saw the huddle survey",(ge,ne,ee)=>{let{timeSeen:F}=ee;ge((0,r.AZ)({pref:"huddle_survey_last_seen",value:F}))});Ue.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const Re=(0,n.Ay)("Record the result of the mini survey we first display the user after a huddle ends.",(ge,ne,ee)=>{let{result:F}=ee;const H=(0,s.getStateForClientStore)(),j=(0,ve.E9)(H),N=(0,ve.hc)(H),J=(0,ve.l4)(H),le=h.HuddleSurvey;let ce=a.RJ.NOT_STARTED,Ee;switch(F){case"bad":j&&ge(V({callId:j}));break;case"good":ce=a.RJ.SURVEY_GOOD,ge(A({isOk:!0,callId:j,type:le})),Ee=L.Good;break;case"dismiss":Ee=L.Dismiss,ge(A({isOk:!1,callId:j,notOkResponses:[v.Dismiss]}));break;default:}Ee&&b({teamId:J,callId:j,results:{summary:Ee}}),(0,s.dispatchForClientStore)((0,o.Rh)({channelId:N,optimisticHuddleState:null,huddleState:ce})),(0,t.Ay)({getState:ne}).info(c.o7,`Marking huddle as ${ce} in component: huddle-survey`)});Re.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},6741408957:(x,g,e)=>{"use strict";e.d(g,{GD:()=>v,Ss:()=>A,iz:()=>p});var t=e(3398586081),n=e(1289024643),s=e(4540171876),r=e(6422693406),c=e(3037015781),o=e(8352634987),a=e(6304789565),l=e(6533394955),i=e(9640070512),d=e(2527782504),_=e(5286203919),m=e(5881236351);const h=u((O,I)=>(0,l.dispatchForTeamId)(O,(0,s.Db)({callIds:I,reason:"all-calls-store/conditional-fetch"})).then(P=>P.map(C=>(0,l.dispatchForTeamId)(O,(0,n.oU)(C)))),"fetchAndUpsert"),v=(0,t.A)(()=>new o.Ay({storeKey:"allCalls",fetch:h,isEnabled:()=>!0})),T=u((O,I)=>{const P=I.map(C=>((0,l.dispatchForTeamId)(O,(0,n.oU)(C)),C.id));v().markObjectsAsFresh(O,P)},"upsertCalls"),A=(0,t.A)(()=>new c.Ay({fetch:(O,I)=>(0,l.dispatchForTeamId)(O,(0,s.Db)({callIds:I,reason:"all-calls-store/unknown-fetch"})),upsertKnown:T,upsertNonExistent:(O,I)=>T(O,I.map(P=>{let{id:C}=P;return{id:C,name:""}}))}));let y=0;const p=(0,a.Ay)("Set a huddle topic",(O,I,P)=>{let{channelId:C,topic:M}=P;const D=(0,l.getStateForClientStore)();if((0,_.aS)(D))return O((0,m.Jc)(M)),r.S.resolve();const E=(0,_.E9)(D);if(!E)return r.S.reject(new Error(`No callId for channel ${C}`));O((0,m.Jc)(M)),y+=1;const S=y;return O((0,s.xB)({roomId:E,name:M})).then(()=>O((0,n.oU)({id:E,name:M}))).finally(()=>{S===y&&O((0,m.Jc)(null)),O((0,i.H)({focusKey:d.Ay.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});p.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const f={fetchAndUpsert:h}},666760496:(x,g,e)=>{"use strict";e.d(g,{A:()=>v});var t=e(9706240641),n=e.n(t),s=e(4540171876),r=e(6422693406),c=e(6304789565),o=e(387328355),a=e(6533394955),l=e(9548972574),i=e(7723800688),d=e(1224315998),_=e(56548687),m=e(6470070112);const h=(0,c.Ay)("Notify members to join huddle",function(){var T=(0,t.coroutine)(function*(A,y,p){let{channelId:f,userIds:O}=p;const I=[];if(O&&O.length>0){O.forEach(k=>{A((0,o.oN)({userId:k})),I.push(new r.S((U,L)=>{A((0,s.OB)({userId:k,channelId:f,reason:"huddle-notify-member"})).then(U).catch(B=>{const b=new Error(B.message);b.invitedMemberId=k,b.inviteRejectionReason=B.name,L(b)})}))});const P=(0,a.getStateForClientStore)(),C=y(),M=(0,l.Yw)(C,f),D=(0,m.$t)(C,{huddleId:M==null?void 0:M.id}),E=(0,m.kn)(P),S=(0,m.UE)(P);(0,_.e)({state:C}).track(d.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:i.Hi.INVITATION_SENT},action:d.UiAction.INVITE_PEOPLE},calls:S},invited_user_ids:O,...D,...E})}return r.S.all(I).then(P=>P)});return function(A,y,p){return T.apply(this,arguments)}}());h.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"};const v=h},1070786785:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>l,V3:()=>o,kb:()=>a});var t=e(6304789565),n=e(6533394955),s=e(6134475965),r=e(5286203919);const c=(0,t.Ay)("End huddle for channelId if any",(i,d,_)=>{const m=(0,n.getStateForClientStore)(),h=(0,r.hc)(m);h&&h===_&&i((0,s.A)())});c.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const o=(0,t.Ay)("End last active huddle for channelId if any",(i,d,_)=>{var m;const h=(0,n.getStateForClientStore)(),v=(m=(0,r.Qn)(h))===null||m===void 0?void 0:m.channelId,T=(0,r.Ak)(h);(v&&v===_||T===null&&v&&v!==_)&&i((0,s.A)())});o.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const a=(0,t.Ay)("End huddle for call Id and channelId if any",(i,d,_)=>{let{channelId:m,callId:h}=_;const v=(0,n.getStateForClientStore)(),{channelId:T,callId:A}=(0,r.Qn)(v)||{};T&&T===m&&A===h&&i((0,s.A)())});a.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"};const l=c},9864164947:(x,g,e)=>{"use strict";e.d(g,{Gt:()=>B,Ho:()=>S,LW:()=>E,Md:()=>C,OF:()=>W,Ux:()=>U,Wf:()=>w,dr:()=>y,fH:()=>M,gA:()=>D,gV:()=>R,qc:()=>k,rV:()=>L,s5:()=>b});var t=e(6998663753),n=e(5950652755),s=e(6304789565),r=e(2778217221),c=e(796111729),o=e(8664881451),a=e(2854284421),l=e(2047021170),i=e(3986753718),d=e(7022928841),_=e(5332875232),m=e(2791814261),h=e(5387083734),v=e(735940183);const T=(0,c.Wo)({label:"HUDDLE-SOUNDS"}),A=[a.o8,a.CZ,a.Ji,a.PV,a.wg,a.sQ,a.o3,a.nP,a.zd,a.qP],y=(0,t.A)(()=>{(0,h.IE)("pre-cache-huddles-sounds",()=>{A.forEach(K=>{T.info(`Adding huddle sound effect to in-memory cache: ${K}`),(0,o.qG)(K)})},{delay:1e3})}),p=(0,n.A)(function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(K?a.Ji:a.o8,{loop:!1})},7e3,{leading:!0,trailing:!1}),f=(0,n.A)(function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(K?a.PV:a.CZ,{loop:!1})},7e3,{leading:!0,trailing:!1}),O=(0,n.A)(function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(K?a.DT:a.o,{loop:!1})},0,{leading:!0,trailing:!1}),I=(0,n.A)((K,Y,X)=>{let Z=Y?a.sQ:a.wg;const ie=.25,Ae=(0,m.L)(X),ae=(0,_.DR)(X);Y&&K==="gong"&&ae&&Ae&&(Z=a.o3);const V=(0,_.Ey)(X);Y&&K==="duck"&&V&&Ae&&(Z=a.nP),(0,o.ZH)(Z,{loop:!1,volume:ie})},5e3,{leading:!0,trailing:!1}),P=u(K=>!(0,l.ty)(K,"mute_huddle_sounds"),"canPlayHuddleSound"),C=(0,s.Ay)("Play sound when user joins",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playSoundOnUserJoin"),p(!1))});C.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const M=(0,s.Ay)("Play sound when user leaves",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playSoundOnUserLeft"),f(!1))});M.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const D=(0,s.Ay)("Play sound when you join",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playSoundOnYouJoin"),p(!0))});D.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const E=(0,s.Ay)("Play sound when you leave",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playSoundOnYouLeft"),f(!0))});E.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const S=(0,s.Ay)("Play sound when user mutes the mic using keyboard shortcut",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playSoundOnMicMute"),O(!0))});S.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const k=(0,s.Ay)("Play sound when user unmutes the mic using keyboard shortcut",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playSoundOnMicUnmute"),O(!1))});k.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const U=(0,s.Ay)("Play sound when reaction is received",(K,Y,X)=>{let{emoji:Z,isEffect:ie}=X;const Ae=Y();(0,l.ty)(Ae,"huddles_reactions_play_sound")&&P(Ae)?((0,c.Ay)({getState:Y}).info(r.o7,"playSoundOnReaction"),I(Z,ie,Ae)):(0,c.Ay)({getState:Y}).info(r.o7,"did not playSoundOnReaction")});U.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const L=(0,s.Ay)("Plays the huddle invite sound",(K,Y)=>{const X=Y();(0,i.YX)(X)||!P(X)||(0,o.ZH)((0,d.qF)(X))});L.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"};const B=(0,s.Ay)("Plays the huddle new requester sound",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playHuddleNewRequesterSound"),(0,o.ZH)(a.rT,{loop:!1}))});B.meta={name:"createThunk",key:"createThunkplayHuddleNewRequesterSound",description:"Plays the huddle new requester sound"};const b=(0,s.Ay)("Plays the huddle request accepted sound",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playHuddleNewRequestAcceptedSound"),(0,o.ZH)(a.rT,{loop:!1}))});b.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestAcceptedSound",description:"Plays the huddle request accepted sound"};const R=(0,s.Ay)("Plays the huddle request expired sound",(K,Y)=>{P(Y())&&((0,c.Ay)({getState:Y}).info(r.o7,"playHuddleNewRequestExpiredSound"),(0,o.ZH)(a.xE,{loop:!1}))});R.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestExpiredSound",description:"Plays the huddle request expired sound"};const z=u(K=>{let Y={onSound:void 0,offSound:void 0};switch(K){case"ja-JP":Y={onSound:a.Q6,offSound:a.uv};break;case"es-LA":case"es-ES":Y={onSound:a.ll,offSound:a.PK};break;default:Y={onSound:a.sH,offSound:a.IZ};break}return Y},"getHuddleSounds"),w=(0,s.Ay)("Plays the huddle recording on sound",(K,Y)=>{const X=(0,v.Yp)(),{onSound:Z,offSound:ie}=z(X);Z&&ie&&((0,o.ds)(Z),(0,o.ds)(ie),(0,o.ZH)(Z,{loop:!1}))});w.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOnSound",description:"Plays the huddle recording on sound"};const W=(0,s.Ay)("Plays the huddle recording off sound",(K,Y)=>{const X=(0,v.Yp)(),{onSound:Z,offSound:ie}=z(X);Z&&ie&&((0,o.ds)(Z),(0,o.ds)(ie),(0,o.ZH)(ie,{loop:!1}))});W.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOffSound",description:"Plays the huddle recording off sound"}},4156857608:(x,g,e)=>{"use strict";e.d(g,{a:()=>y});var t=e(6304789565),n=e(6533394955),s=e(4250409994),r=e(7434063642),c=e(8783285437),o=e(6758774099),a=e(1990810649),l=e(387328355),i=e(8872167513),d=e(2709531527),_=e(5795074931),m=e(4921059838),h=e(3829348308),v=e(8847766420),T=e(488107601),A=e(5332875232);const y=(0,t.Ay)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(p,f,O)=>{let{emoji:I,emojiUrl:P,reactionType:C=a.o.Standard}=O;if(C===a.o.Sticker)p((0,r.Kp)({emoji:I})),(0,n.dispatchForClientStore)((0,s.M4)(I));else{const E=f(),S=(0,v.ZT)(E),k=(0,A.hw)(E);let U=P;if(k&&!P&&!(0,m.A)(E,I)){var M;U=(M=(0,h.Ez)(E,{text:I,teamId:S,emojiMode:T.VZ.AS_TEXT,emojiSize:T.lw.MEDIUM}))!==null&&M!==void 0?M:void 0}(0,n.dispatchForClientStore)((0,s.nU)({emoji:I,reactionType:C,emojiUrl:U})),p((0,l._x)({peerId:"self",emoji:I,isEmoji:!0,reactionType:C,emojiUrl:U}));const{huddleEventsTrace:L}=(0,i.A)().getAllTraceHandlers();L==null||L.update({name:d.p.REACTION,type:d.G.ONCE,tags:{reactionType:C}})}const D=(0,_.WR)(f());D&&p((0,o.U$)({type:c.v.SEND_REACTION,memberId:D,timestampMs:Date.now(),emoji:I}))});y.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},1049642794:(x,g,e)=>{"use strict";e.d(g,{A:()=>I});var t=e(9706240641),n=e.n(t),s=e(8571983633),r=e(6304789565),c=e(6533394955),o=e(8847766420),a=e(2778217221),l=e(4250409994),i=e(6694086724),d=e(5286203919),_=e(571104883),m=e(796111729),h=e(462591818),v=e(7434063642),T=e(6251210828),A=e(387328355),y=e(9365970888),p=e(3065433701),f=e(700984029);const O=(0,r.Ay)("Enable or disable local microphone",function(){var P=(0,t.coroutine)(function*(C,M,D){const E=(0,c.getStateForClientStore)(),S=M(),k=(0,m.Ay)({state:S}),U=(0,y.Hc)(S);if((0,T.RT)(S)||C((0,v.G4)({canShowMutedBanner:!0})),(0,_.y3)()||(yield(0,c.dispatchForClientStore)((0,f.e$)({mediaResourceType:h.mT.MICROPHONE}))),k.info(a.o7,`Set microphone to ${D}`),U&&D){k.warn(a.o7,"Microphone could not be set to enabled as access to the device was blocked"),(0,_.y3)()?C((0,p.CE)({alert:p.vT.NoSystemAudio})):C((0,p.CE)({alert:p.vT.NoBrowserAudioPermission}));return}const{teamId:B}=(0,d.Qn)(E)||{};if(B&&B!==(0,o.ZT)(S)){(0,c.dispatchForTeamId)(B,O(D));return}(0,s.A)(D)||((0,c.dispatchForClientStore)((0,l.I9)(D)),D&&(0,d.wQ)(E)&&C((0,i.e)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),C((0,A.kT)({id:"self",isMicrophoneEnabled:D}))});return function(C,M,D){return P.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"};const I=O},8746998952:(x,g,e)=>{"use strict";e.d(g,{A:()=>M});var t=e(6304789565),n=e(6422693406),s=e(796111729),r=e(9190452268),c=e(1452921056),o=e(5319025363),a=e(6533394955),l=e(6470070112),i=e(5286203919),d=e(5933621899),_=e(9680914051),m=e(8330768070),h=e(6259241484),v=e(716227588),T=e(1655938719),A=e(5332875232),y=e(5881236351),p=e(9712681361),f=e(3015351052),O=e(2047021170),I=e(5203103513);const P=(0,t.Ay)("Join/start huddle, but confirm with shouty rooster modal first",(D,E,S)=>{let{channelId:k,threadTs:U,muted:L,callId:B,forceFocus:b,entryPoint:R,forceConfirmation:z,markTelemeter:w,isMultiDevice:W,isStandaloneHuddle:K}=S,Y=!1;const X=(0,A.Rk)(E()),Z=(0,O.ty)(E(),I.aI)||!1;if(X){const V=(0,a.getClientStoreInstance)().getState(),ve=(0,i.J0)(V);Y=k!==void 0&&ve!==k&&Z}const ie=u(()=>{var ae;w&&(0,r.Cy)({state:E()}).mark(_.qr),(ae=D((0,c.A)({channelId:k,threadTs:U,muted:L,callId:B,forceFocus:b,entryPoint:R,isMultiDevice:W,isStandaloneHuddle:K})))===null||ae===void 0||ae.catch(V=>{(0,s.Ay)({getState:E}).error("Could not start huddle",V)})},"onConfirm"),Ae=u(()=>{Y&&k&&D((0,f._)({channelId:k,handleJoin:ie}))},"showHuddlesJoinPreview");if((0,l.Qj)(E(),k,U)||z){U?D((0,T.iR)({event:{type:h.jo.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{(0,v.Hp)(E(),h.xu.LAUNCH_MODAL)===h.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?D((0,d.Wx)({channelId:k??"",onConfirm:ie})):Y?Ae():ie()}):D((0,m.Oe)({channelId:k??"",onConfirm:ie}));return}Y?Ae():ie()});P.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const C=(0,t.Ay)("Join/start huddle, but confirm if already in another huddle",(D,E,S)=>{const{channelId:k}=S,U=E(),L=(0,A.pL)(U),B=(0,a.getStateForClientStore)(),b=(0,i.hc)(B),R=(0,i.EG)(B),z=(0,i.$V)(B),w=(0,l.r5)(U,{channelId:k});if(D((0,o.z)()),b&&k!==b&&!z){D((0,m.Y6)({prevChannelId:b,nextChannelId:k??"",onConfirm:()=>{D(P({...S,markTelemeter:!1}))}}));return}if(L&&w){D((0,y.$Z)({channelId:k??"",onConfirm:W=>{let{isMultiDevice:K}=W;return D(P({...S,markTelemeter:!1,isMultiDevice:K}))}}));return}return b&&k===b&&R===p.RJ.STARTED?n.S.resolve():D(P({...S,markTelemeter:!0}))});C.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"};const M=C},1452921056:(x,g,e)=>{"use strict";e.d(g,{A:()=>ne});var t=e(9706240641),n=e(92886754);let s=null;const r=u(()=>s,"getOpenChannelId"),c=u(ee=>{s=ee},"setOpenChannelId");var o=e(3134334389),a=e(2562405183),l=e(3051824855),i=e(825587348),d=e(8739505998),_=e(4481313819),m=e(1224315998),h=e(6968387112),v=e(735940183),T=e(3078708518),A=e(4761125736);const y=new v.Ay("huddles");function p(ee){let{closeModal:F}=ee;const H=(0,a.d4)(T.A),j=(0,a.d4)(le=>(0,A._Z)(le,"adoption_instant_slack"))==="treatment";let N,J;if((0,n.yh)())N=y.t("Your browser does not support Huddles"),J=H&&j?y.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},le=>{let{text:ce}=le;return o.createElement(d.A,{href:"https://www.google.com/chrome"},ce)}):y.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},le=>{let{tag:ce,text:Ee}=le;switch(ce){case"desktop-link":return o.createElement(d.A,{href:`https://${(0,h.qF)()}/downloads`},Ee);case"chrome-link":return o.createElement(d.A,{href:"https://www.google.com/chrome"},Ee);default:return null}});else if((0,n.WT)())N=y.t("Please update Slack"),J=y.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return o.createElement(_.A,{eventId:m.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:m.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},o.createElement(i.A,{onClose:F,onSubmit:F,showCancelButton:!1,showSubmitButton:!0,title:N,submitButtonText:y.t("OK")},J))}u(p,"HuddleUnsupportedAlert"),p.displayName="HuddleUnsupportedAlert";const f=(0,l.e)(p);var O=e(6422693406),I=e(6304789565),P=e(5881236351),C=e(5378147939),M=e(6758774099),D=e(8847766420),E=e(1289024643),S=e(7304871158);const k=(0,I.Ay)("End active call",(ee,F)=>{const H=(0,E.J2)(F());if(H){const j=(0,E.Ms)(H);j&&!j.isClosed()&&(0,S.R)(j,"endActiveCall")}});k.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var U=e(9640070512),L=e(2527782504),B=e(2832209848),b=e(7843142872),R=e(6533394955),z=e(9548972574),w=e(8935621861),W=e(5332875232),K=e(5795074931),Y=e(2791814261),X=e(5286203919),Z=e(9712681361),ie=e(7723800688),Ae=e(56548687),ae=e(6470070112),V=e(6290537170),ve=e(5470425448),be=e(5071086688),Ue=e(4250409994),Re=e(8872167513);const ge=(0,I.Ay)("Start huddle",function(){var ee=(0,t.coroutine)(function*(F,H,j){let{channelId:N,threadTs:J,muted:le,callId:ce,forceFocus:Ee,entryPoint:ye=Z.su.UNKNOWN,isMultiDevice:Ie,isStandaloneHuddle:he}=j;const Ce=H();if((0,V.Vo)(Ce)?(0,R.dispatchForClientStore)((0,Ue.t2)(!1)):(0,R.dispatchForClientStore)((0,Ue.t2)(!0)),F(k()),F((0,M.Lm)(!1)),F((0,M.T3)()),(0,n.WT)()||(0,n.yh)())return F(f()),O.S.resolve();F((0,b.g6)({experimentHuddlesDiscoveryCallsGroupTreatment:(0,W.Ms)(Ce),interactionType:B.X8.Click})),r()!==N&&F((0,P.Es)({channelId:N??"",open:!1}));const de=(0,Y.L)(Ce),De=(0,D.ZT)(Ce);(0,Re.A)().initializeTraces({teamId:De,isTinySpeck:de});const Te=!!(0,X.gj)((0,R.getStateForClientStore)()),pe=yield w.A.getInstance().getNearestChimeMediaRegion(De),{ttiTrace:Me,huddleEventsTrace:ke}=(0,Re.A)().getAllTraceHandlers();Me.addTTIMetaTags({entryPoint:ye,preferredMediaRegion:pe,isPrejoin:Te,isCreate:!(0,z.Yw)(Ce,N)}),ke==null||ke.recordEntryPoint(ye),be.A.publish({type:ve.lx.PreferredMediaRegion,update:{mediaRegionPreferred:pe}});const Ke=(0,C.A)(),Ze=(0,K.WR)(Ce);return Ke.start(De,N??"",le,ce,J,Ie,he).then((0,t.coroutine)(function*(){const Q=(0,R.getStateForClientStore)(),se=(0,ae.$t)(Ce,{huddleId:ce}),He=(0,ae.kn)(Q),Ge=(0,ae.UE)(Q);(0,Ae.e)({state:Ce}).track(m.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:ye,ui_properties:{element_name:ie.Hi.CANVAS_JOIN},action:m.UiAction.TOGGLE},calls:Ge},...se,...He}),F((0,U.H)({focusKey:L.Ay.HUDDLE_SIDEBAR_FOOTER,forceFocus:Ee})),F((0,P.xb)(!1)),ce&&F((0,E.r_)({callId:ce,userId:Ze}))}))});return function(F,H,j){return ee.apply(this,arguments)}}());ge.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};const ne=ge},5319025363:(x,g,e)=>{"use strict";e.d(g,{z:()=>r});var t=e(6304789565),n=e(7022928841),s=e(8664881451);const r=(0,t.Ay)("Stop the huddle invite sound",(c,o)=>{(0,s.ds)((0,n.qF)(o()),{logFailure:!1})});r.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},6694086724:(x,g,e)=>{"use strict";e.d(g,{e:()=>d});var t=e(6304789565),n=e(796111729),s=e(4869203191),r=e(4250409994),c=e(6533394955),o=e(5332875232),a=e(5286203919),l=e(7434063642),i=e(6251210828);const d=(0,t.Ay)("Stops huddle lounge music from playing",(_,m,h)=>{let{clearOnEndedCallback:v,logContext:T,isStoppedByUser:A}=h;const y=m(),p=(0,n.Ay)({state:y}),f=(0,o.CI)(y),O=(0,i.jr)(y),I=(0,i.K8)(y),P=(0,c.getStateForClientStore)(),C=(0,a.E9)(P);s.Ay.getInstance().stopMusic({clearOnEndedCallback:v,logger:p,logContext:T}),(0,c.dispatchForClientStore)((0,r.Ag)(!1)),A&&C&&_((0,l.sH)({huddleId:C,hasUserStoppedLoungeMusic:A})),f&&(A||I)&&O&&_((0,l.ju)({stopMusic:!0}))});d.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},6134475965:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(6304789565),n=e(5378147939),s=e(6533394955),r=e(6694086724),c=e(6855917924),o=e(5332875232),a=e(4250409994),l=e(7366481123);const i=(0,t.Ay)("Stop the active huddle",(_,m)=>{const h=m(),v=(0,o.Eg)(h);return(0,s.dispatchForClientStore)((0,a.yi)({})),_((0,c.A)()),_((0,r.e)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),v&&(0,s.dispatchForClientStore)((0,a.JM)()),_((0,l.LL)(l.vT.HiddenUserJoinedHuddle)),(0,n.A)().stop()});i.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"};const d=i},6310192986:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>ne,vP:()=>Ue});var t=e(6313685253),n=e(9137897911),s=e(3398586081),r=e(716022512),c=e(6696292586),o=e(4518410378),a=e(9548972574),l=e(8233775522),i=e(6470070112),d=e(3245843483),_=e(5286203919),m=e(4988306802),h=e(9012396182),v=e(9101533895),T=e(6533394955),A=e(2767624118),y=e(6664301844),p=e(7429662208),f=e(387328355),O=e(1990810649),I=e(9365970888),P=e(6117529990),C=e(8736071954),M=e(610288365),D=e(5332875232),E=e(6251210828),S=e(2465464861),k=e(571104883),U=e(9195837907),L=e(1473609332),B=e(3193155968),b=e(6839188756);function R(ee){return ee?(0,b.tc)(ee)?"free":(0,b.r7)(ee)?"enterprise":"pro":"unknown"}u(R,"getTeamTier");var z=e(3677514771),w=e(4724591729),W=e(4761125736),K=e(415910655),Y=e(5795074931),X=e(7366481123);const Z=navigator.hardwareConcurrency,ie=(0,k.zS)(),Ae=(0,w.b3)(),ae=(0,w.$i)(),V=u(ee=>(0,t.A)(ee,(F,H,j)=>{if(j===B.N2)return F;const N=j.split(/-|_/).slice(0,-1).join("-"),J=(0,n.A)(`windows-${N}-count`);return F[J]?F[J]+=1:F[J]=1,F},{}),"countWindowsByType"),ve=u(ee=>{if(!ee)return"";let F=ee;const H=/Default -/g;F=ee.replace(H,"");const j=/ *?\([^)]*?\) *?/g;return F=F.replace(j,""),F=F.trim(),F},"scrubDeviceLabelForReporting");let be;const Ue=u(()=>be,"getMostRecentStableTags"),Re=(0,s.A)((ee,F)=>{let{teamState:H,clientState:j}=ee;var N;const J=(0,_.E9)(j),le=(0,_.hc)(j),ce=(0,P.OV)(H),Ee=(0,D.MJ)(H),ye=(0,D.nC)(H),Ie=(0,D.ZI)(H),he=y.zF.sdkVersion,Ce=(0,i.R8)(H),oe=(0,D.Qq)(H),de=(0,_.sQ)(j),De=(0,D.Jf)(H),Te=(0,W._Z)(H,"huddles_filter_worker",!1),pe=(0,_.l4)(j),Me=(0,z.H7)(H),ke=R(Me);var Ke;const Ze=(Ke=(N=(0,h.getBootedWorkspaces)(j))===null||N===void 0?void 0:N.length)!==null&&Ke!==void 0?Ke:0,Q=(0,v.D5)(H),se=(Q==null?void 0:Q.length)||0,He=(0,K.s2)()||{},Ge={teamId:pe,huddleId:J,huddleChannelId:le,workspaceCount:Ze,chimeSdkVersion:he,teamTier:ke,isPreWarmed:oe,isPrejoin:de,isHuddlesIncreaseMaxParticipantsEnabled:ye,isTranscriptAllowed:Ce,isChimeSdkExpEnabled:ce,isHuddlesLaterEnabled:Ee,isVideoQualityIncreaseEnabled:De,isDevicesExpEnabled:Ie,osVersion:ie,envIsJsPath:Ae,envIsQa:ae,xwsChannelCount:se,filterWorkerGroup:Te,...He};return be=Ge,Ge},(ee,F)=>F),ne=u(ee=>{let{state:F,appMetrics:H}=ee;var j,N,J,le,ce,Ee,ye,Ie;const he=(0,T.getClientStoreInstance)().getState(),Ce=(0,_.cN)(he),oe=(0,_.E9)(he),de=`${Ce}${oe??""}`,De=Re({teamState:F,clientState:he},de),{huddleId:Te,huddleChannelId:pe,workspaceCount:Me}=De,ke={},Ke=(0,p.e6)(F),Ze=Ke?(0,p.Le)(F,{tab:Ke}):{},{primary:Q,secondary:se,sidebar:He}=Ze||{};Object.assign(ke,{viewPrimary:Q==null?void 0:Q.viewType,viewSecondary:se==null?void 0:se.viewType,viewSidebar:He==null?void 0:He.viewType,viewTab:Ke});const Ge=(0,I.Hc)(F),Be=(0,I.AZ)(F),we=(0,I.IO)(F),xe=(0,I.JM)(F),Oe=(0,I.SR)(F),Xe=(0,I.f3)(F),Ye=(0,I.aA)(F),dt={microphoneIsBlocked:Ge,microphoneIsAvailable:Be,cameraIsBlocked:Oe,cameraIsAvailable:Xe,isMicrophoneBluetooth:we,isSpeakerBluetooth:xe,isMicrophoneAndSpeakerOnSameDevice:Ye},mt=(0,l.fq)(F),it={};if(mt){const Mt=Object.keys(mt);Object.assign(it,{windowsTotalOpen:Mt.length,windowsOpenTypes:Mt.length?Mt.join(" "):"",windowsTypeWithFocus:(0,r.A)(mt,on=>!!on.isFocused),...V(mt)})}const At=(0,i.Fm)(F),Ot=At&&At.type===X.vT.ConnectionUnstable,Kt=(0,S._R)(F),Xt=Kt!==null,vn={isTroubleshootingPanelOpen:Xt,isAudioOnlyModeEnabled:(0,_.Rv)(he),troubleshootingPanelTab:Xt?(0,S.Eh)(F):null,troubleshootingPillPage:(0,S.Wg)(F),troubleshootingEntryPointWas:(0,S.qV)(F),troubleshootingSessionId:Xt?`${(0,Y.WR)(F)}${Te}:${(0,S.$i)(F)}`:null,troubleshootingBannerInView:Ot,troubleshootingSource:Kt},Sn=(0,a.UK)(F),jt=(j=(0,I.ql)(F,C.lW.Camera))===null||j===void 0?void 0:j.label,hn=(N=(0,I.ql)(F,C.lW.Microphone))===null||N===void 0?void 0:N.label,xt=(J=(0,I.ql)(F,C.Q4))===null||J===void 0?void 0:J.label,{isScreenshareEnabled:Dn,isHostDrawEnabled:St,isHostDrawRendererActive:dn,isCameraEnabled:fn,isMicrophoneEnabled:un,isConnected:_n}=(0,f.Ng)(F),tn=!!Dn,nn=!!fn,An=(0,f.fU)(F,{id:"self"}),yn=(0,f.MY)(F),sn=yn==="self",Nn=Sn.filter(Mt=>Mt.isCameraEnabled).length,Ve=(0,A.H)(pe),$e=(0,L.Bh)(),Et=nn&&($e==null||(le=$e.video)===null||le===void 0?void 0:le.effect)===U.t.Blur,It=!!(!($e==null||(ce=$e.audio)===null||ce===void 0)&&ce.enableNoiseSuppression),Tt=It&&sn,Ct=nn&&($e==null||(Ee=$e.video)===null||Ee===void 0?void 0:Ee.effect)===U.t.Background&&($e==null||(ye=$e.video)===null||ye===void 0?void 0:ye.effectBgKey)!==void 0,Wt=!!yn,Gt=!!Nn,qt=(0,f.nD)(F).length,Yt=!!qt,In=qt+(tn?1:0),ft=In===2,yt=Yt||tn,bt=(0,S.gA)(F),Ht=(0,m.VN)(F),ln=(0,m.M3)(F),rn=Wt?(Ie=Sn.find(Mt=>Mt.id===yn))===null||Ie===void 0?void 0:Ie.userId:void 0,Zt=(0,E.dj)(F,{huddleId:Te})||!1,Mn=o.J.document.visibilityState==="visible",es={isBackgroundBlurActive:Et,isNoiseSuppressionEnabled:It,isNoiseSuppressionActive:Tt,isCustomVideoBackgroundActive:Ct,isClosedCaptionsEnabled:Ht,isSideBySideCaptionsEnabled:ln},jn={callId:oe,isMicrophoneEnabled:un,isActiveSpeaker:sn,isSomeoneSpeaking:Wt,isSomeoneSharingScreen:yt,isVideoEnabledForSomeone:bt,isSharingScreen:tn,isHostDrawEnabled:St,isHostDrawActive:dn,isSelfVideoEnabled:nn,isPeerVideoEnabled:Gt,isHuddleWindowVisible:Ve,selectedCamera:ve(jt),selectedMicrophone:ve(hn),selectedSpeakers:ve(xt),activeSpeakerUserId:rn,isPeerSharingScreen:Yt,isDualScreenshareActive:ft,cpuCount:Z,remotePeerCount:Sn.length,remotePeersWithVideoCount:Nn,peersScreensharingCount:qt,activeScreenshareCount:In,workspaceCount:Me,huddleStartTimestamp:Ce,isDisconnected:_n===!1,isMainWindowVisible:Mn,isHuddleSummaryActive:Zt};let Kn={};if(H){const{cpu:Mt,memory:on,gpu:zn,thermalState:Qn,speedLimit:lt}=H,$=(0,c.A)(Mt)?Math.round(Mt*Z):void 0,te=(0,c.A)(zn)?Math.round(zn*Z):void 0,fe=(0,d.oQe)("settings")||{};Kn={cpuUseRelative:Mt?Math.round(Mt):void 0,cpuUse:$,gpuUse:te,memoryUse:(on==null?void 0:on.workingSetSize)||void 0,isHardwareAccelerationEnabled:!!fe.useHwAcceleration,osThermalState:Qn,osSpeedLimit:lt,osIsThrottlingCpu:(0,c.A)(lt)&&lt!==0?lt<30:void 0}}let Yn={huddleViewMode:(0,E.HH)(F,{huddleId:Te})};if(Ve){var wn;const Mt=(0,E.Ec)(F,{huddleId:Te}),on=(0,E.SC)(F,{huddleId:Te,surface:Mt});Yn={...Yn,huddleWindowSurface:Mt,huddleWindowFocusedContentType:(An==null||(wn=An.item)===null||wn===void 0?void 0:wn.type)||O.cM.None,huddleWindowIsFullscreen:(0,E.g0)(F),huddleWindowIsSelfDrawingEnabled:(0,E.ny)(F),huddleWindowWindowHeight:on==null?void 0:on.height,huddleWindowWindowWidth:on==null?void 0:on.width}}const Rt=(0,M.Ay)(),je={batteryIsUsing:Rt.isUsingBatteryPower(),batteryPercentRemaining:Rt.getLevel()},{osIsThrottlingCpu:qe,osThermalState:st}=Kn,{batteryIsUsing:q,batteryPercentRemaining:me}=je,ze={powerThrottlingActive:!!qe&&!!q&&(0,c.A)(me)&&me<100,thermalThrottlingActive:!!qe&&(st==="critical"||st==="serious")};return{...jn,...es,...Kn,...Yn,...ke,...dt,...je,...vn,...it,...De,...ze}},"getHuddleStateSnapshot")},4742719639:(x,g,e)=>{"use strict";e.d(g,{o:()=>c});var t=e(2384831516),n=e(9548972574),s=e(8847766420),r=e(6741408957);const c=(0,t.Mz)((o,a)=>{const l=(0,n.dy)(o);if(l)return l;const i=(0,n.Yw)(o,a);if(!i)return null;const d=(0,s.ZT)(o);return i.name===void 0?((0,r.Ss)().fetchObjectWithId(d,i.id),null):((0,r.GD)().maybeRefetch(d,i.id),i.name)});c.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(o,a)=>{const l=(0,n.dy)(o);if(l)return l;const i=(0,n.Yw)(o,a);if(!i)return null;const d=(0,s.ZT)(o);return i.name===void 0?((0,r.Ss)().fetchObjectWithId(d,i.id),null):((0,r.GD)().maybeRefetch(d,i.id),i.name)}}},1921074781:(x,g,e)=>{"use strict";e.d(g,{F:()=>a});var t=e(9706240641),n=e.n(t),s=e(8571983633),r=e(6422693406),c=e(796111729),o=e(2778217221);class a{static getInstance(){if(!a.wakeLockManager)try{a.wakeLockManager=new a}catch(i){(0,c.Wo)({label:o.o7}).warn("Error instantiating WakeLockManager,",i.message)}return a.wakeLockManager}static doesInstanceExist(){return!(0,s.A)(a.wakeLockManager)}request(){var i=this;return(0,t.coroutine)(function*(){if(i.wakeLockSentinel)return r.S.resolve();i.wakeLockSentinel=yield i.wakeLock.request("screen").catch(d=>(i.logger.warn("WakeLock acquire failed",d.message),null)),i.addHandlers()})()}release(){var i=this;return(0,t.coroutine)(function*(){if(!i.wakeLockSentinel)return r.S.resolve();i.shouldRemoveVisibilityHandler=!0,yield i.wakeLockSentinel.release(),i.logger.info("WakeLock released")})()}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}handleWakeLockReleased(){var i=this;return(0,t.coroutine)(function*(){i.logger.info("WakeLock released by browser"),i.cleanupHandlers()})()}handleDocumentVisibilityChange(){var i=this;return(0,t.coroutine)(function*(){document.visibilityState==="visible"&&i.request()})()}constructor(){if(this.logger=(0,c.Wo)({label:o.o7}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}u(a,"WakeLockManager")},8478954380:(x,g,e)=>{"use strict";e.d(g,{Li:()=>h,ML:()=>c,Rt:()=>a,_6:()=>m,aS:()=>l,al:()=>o,bW:()=>d,it:()=>_,qO:()=>i});var t=e(2140362605),n=e(6304789565),s=e(5071086688),r=e(5470425448);const c=(0,t.Ay)("Update the state of the active tab in the huddle troubleshooting panel");c.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveAccordionViewTrace",description:"Update the state of the active tab in the huddle troubleshooting panel"};const o=(0,t.Ay)("Makes troubleshoot panel V2 visible in source view or clears it");o.meta={name:"createAction",key:"createActionsetTroubleshootingSource",description:"Makes troubleshoot panel V2 visible in source view or clears it"};const a=(0,n.Ay)("Set the screen sharing of a peer.",(v,T,A)=>{s.A.publish({type:r.lx.TroubleshootingEntryPoint,update:(A==null?void 0:A.entryPoint)||null}),v(o(A))});a.meta={name:"createThunk",key:"createThunksetTroubleshootingSourceWithTrace",description:"Set the screen sharing of a peer."};const l=(0,t.Ay)("Sets active pill page for tracing.");l.meta={name:"createAction",key:"createActionsetTroubleshootingPillPageTrace",description:"Sets active pill page for tracing."};const i=(0,t.Ay)("Update stable metrics state");i.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const d=(0,t.Ay)("Update unstable metrics and warnings state");d.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const _=(0,t.Ay)("Update stable warnings state");_.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const m=(0,t.Ay)("Update stable alert state");m.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const h=(0,t.Ay)("Update unstable alert state");h.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},2465464861:(x,g,e)=>{"use strict";e.d(g,{$i:()=>d,Eh:()=>a,FP:()=>y,Ku:()=>f,Wf:()=>A,Wg:()=>i,Z8:()=>o,_R:()=>l,cB:()=>v,gA:()=>O,h:()=>T,m:()=>p,qV:()=>_});var t=e(8161242485),n=e(5751973043),s=e(6790819894),r=e(7091646278),c=e(387328355);const o=3,a=(0,t.Ay)(I=>I.huddleTroubleshooting.view.activeAccordionView);a.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveAccordionView",description:I=>I.huddleTroubleshooting.view.activeAccordionView};const l=(0,t.Ay)(I=>I.huddleTroubleshooting.view.source);l.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelSource",description:I=>I.huddleTroubleshooting.view.source};const i=(0,t.Ay)(I=>I.huddleTroubleshooting.view.activePillPage);i.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPillPageTrace",description:I=>I.huddleTroubleshooting.view.activePillPage};const d=(0,t.Ay)(I=>I.huddleTroubleshooting.view.source?I.huddleTroubleshooting.view.openCounter:-1);d.meta={name:"createSelector",key:"createSelectorgetTroubleshootingSessionCounterIdTrace",description:I=>I.huddleTroubleshooting.view.source?I.huddleTroubleshooting.view.openCounter:-1};const _=(0,t.Ay)(I=>I.huddleTroubleshooting.view.entryPoint);_.meta={name:"createSelector",key:"createSelectorgetTroubleshootingEntryPointTrace",description:I=>I.huddleTroubleshooting.view.entryPoint};const m=(0,t.Ay)(I=>I.huddleTroubleshooting.view.alertCount>=o);m.meta={name:"createSelector",key:"createSelectorshouldDisplaySupportLink",description:I=>I.huddleTroubleshooting.view.alertCount>=o};const h=(0,t.Ay)(I=>I.huddleTroubleshooting.metrics.stable);h.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:I=>I.huddleTroubleshooting.metrics.stable};const v=(0,t.Ay)(I=>I.huddleTroubleshooting.metrics.unstable);v.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:I=>I.huddleTroubleshooting.metrics.unstable};const T=(0,t.Ay)(I=>I.huddleTroubleshooting.warnings.stable);T.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:I=>I.huddleTroubleshooting.warnings.stable};const A=(0,t.Ay)(I=>I.huddleTroubleshooting.warnings.unstable);A.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:I=>I.huddleTroubleshooting.warnings.unstable};const y=(0,t.Ay)(I=>I.huddleTroubleshooting.alerts.stable);y.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:I=>I.huddleTroubleshooting.alerts.stable};const p=(0,t.Ay)(I=>I.huddleTroubleshooting.alerts.unstable);p.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:I=>I.huddleTroubleshooting.alerts.unstable};const f=(0,s.F)(I=>y(I)||n.t0,I=>p(I)||n.t0,I=>T(I)||n.t0,(I,P,C)=>{const{isMicrophoneBlocked:M,isCameraBlocked:D,isDisconnected:E,isMicrophoneNotSendingAudio:S,isPowerThrottlingActive:k}=I,{isAudioQualityPoor:U,isCpuCompetitionPoor:L,isNetworkQualityPoor:B,networkQualityHealth:b}=P,{isCameraProbablyIphone:R,isSpeakerBluetooth:z,isHardwareAccelerationDisabled:w}=C,W=!!(U&&B),K=!!(U&&(L||k)),Y=!!(z&&U||D||M||S||R),X=!!(W||K||D||M||S||E),Z=U||E?r.bz.Bad:b,ie=L||k||w?r.bz.Warn:r.bz.Good;return{shouldSurfaceGeneralWarning:X,shouldSurfaceSystemWarning:K,shouldSurfaceDevicesWarning:Y,aggregateNetworkHealth:Z,aggregateSystemHealth:ie}}),O=(0,s.F)(c.Ng,c.nt,(I,P)=>{const{isCameraEnabled:C}=I;return!!(C||P)})},7091646278:(x,g,e)=>{"use strict";e.d(g,{ML:()=>n,bz:()=>s,pK:()=>t});var t;(function(r){r.Network="network",r.System="system",r.Devices="devices",r.Overview="overview"})(t||(t={}));var n;(function(r){r.EnlargedWindow="EnlargedWindow",r.CompactWindow="CompactWindow",r.MiniPlayer="MiniPlayer"})(n||(n={}));var s;(function(r){r.Good="good",r.Warn="warn",r.Bad="bad"})(s||(s={}))},9943020700:(x,g,e)=>{"use strict";e.d(g,{$W:()=>i,$o:()=>A,Am:()=>T,At:()=>F,C2:()=>M,C9:()=>Ee,CO:()=>m,Cj:()=>y,DB:()=>Ue,Dx:()=>D,EX:()=>Y,FV:()=>R,Fm:()=>h,GI:()=>d,IC:()=>B,IE:()=>be,I_:()=>o,KF:()=>Re,KJ:()=>ae,Lu:()=>V,OG:()=>v,Ot:()=>ne,Qk:()=>s,Qq:()=>j,RL:()=>U,TD:()=>ee,TW:()=>w,To:()=>E,Tt:()=>Z,U_:()=>p,Uo:()=>ie,VV:()=>a,Wn:()=>Ie,XB:()=>L,ZE:()=>k,_L:()=>P,_R:()=>W,ab:()=>C,av:()=>H,aw:()=>J,d0:()=>X,fg:()=>K,fq:()=>ye,g:()=>f,iI:()=>N,k$:()=>_,kJ:()=>le,k_:()=>S,qD:()=>ge,se:()=>ce,tK:()=>n,w$:()=>b,wW:()=>Ae,w_:()=>z,yw:()=>l,zD:()=>I,zl:()=>ve});var t=e(2140362605);const n=(0,t.Ay)("Remove a list");n.meta={name:"createAction",key:"createActionremoveList",description:"Remove a list"};const s=(0,t.Ay)("trigger animation for view");s.meta={name:"createAction",key:"createActiontriggerAnimationForViewId",description:"trigger animation for view"};const r=(0,t.Ay)("Add / update a list column");r.meta={name:"createAction",key:"createActionupsertColumn",description:"Add / update a list column"};const c=(0,t.Ay)("Remove a list column");c.meta={name:"createAction",key:"createActionremoveColumn",description:"Remove a list column"};const o=(0,t.Ay)("Fill column with info data or default value");o.meta={name:"createAction",key:"createActionfillColumnData",description:"Fill column with info data or default value"};const a=(0,t.Ay)("Replace all of a list's records");a.meta={name:"createAction",key:"createActionreplaceRecords",description:"Replace all of a list's records"};const l=(0,t.Ay)("Add / update multiple records");l.meta={name:"createAction",key:"createActionbulkUpsertRecords",description:"Add / update multiple records"};const i=(0,t.Ay)("Add / update a list record");i.meta={name:"createAction",key:"createActionupsertRecord",description:"Add / update a list record"};const d=(0,t.Ay)("Remove a list record");d.meta={name:"createAction",key:"createActionremoveRecord",description:"Remove a list record"};const _=(0,t.Ay)("Archive a list record");_.meta={name:"createAction",key:"createActionarchiveRecord",description:"Archive a list record"};const m=(0,t.Ay)("Add/update a record position in a view");m.meta={name:"createAction",key:"createActionupsertRecordPosition",description:"Add/update a record position in a view"};const h=(0,t.Ay)("Add / update multiple templates");h.meta={name:"createAction",key:"createActionbulkUpsertTemplates",description:"Add / update multiple templates"};const v=(0,t.Ay)("Add / update multiple starter templates");v.meta={name:"createAction",key:"createActionbulkUpsertStarterTemplates",description:"Add / update multiple starter templates"};const T=(0,t.Ay)("Remove a starter template by ID");T.meta={name:"createAction",key:"createActionremoveStarterTemplate",description:"Remove a starter template by ID"};const A=(0,t.Ay)("Set the list's banner message");A.meta={name:"createAction",key:"createActionsetBannerMessageForList",description:"Set the list's banner message"};const y=(0,t.Ay)("Clear the specified type of banner message for this list");y.meta={name:"createAction",key:"createActionclearBannerMessageForList",description:"Clear the specified type of banner message for this list"};const p=(0,t.Ay)("Add / update a list record field");p.meta={name:"createAction",key:"createActionupsertField",description:"Add / update a list record field"};const f=(0,t.Ay)("Add / update a list cell");f.meta={name:"createAction",key:"createActionupsertCell",description:"Add / update a list cell"};const O=(0,t.Ay)("Add / update a workflow for a list");O.meta={name:"createAction",key:"createActionupsertWorkflow",description:"Add / update a workflow for a list"};const I=(0,t.Ay)("Apply an edit action to a list");I.meta={name:"createAction",key:"createActionapplyEditAction",description:"Apply an edit action to a list"};const P=(0,t.Ay)("Clear edit history for a list");P.meta={name:"createAction",key:"createActionclearEditHistory",description:"Clear edit history for a list"};const C=(0,t.Ay)("Update local filters");C.meta={name:"createAction",key:"createActionchangeViewLocalFilters",description:"Update local filters"};const M=(0,t.Ay)("Update local sorts");M.meta={name:"createAction",key:"createActionchangeViewLocalSorts",description:"Update local sorts"};const D=(0,t.Ay)("Update local collapsed grids");D.meta={name:"createAction",key:"createActionchangeViewLocalCollapsedGrids",description:"Update local collapsed grids"};const E=(0,t.Ay)("Update the current viewId set by refine in the active window");E.meta={name:"createAction",key:"createActionsetRefineView",description:"Update the current viewId set by refine in the active window"};const S=(0,t.Ay)("Update the default list view id set for the specific List channel tab");S.meta={name:"createAction",key:"createActionsetChannelTabDefaultRefineView",description:"Update the default list view id set for the specific List channel tab"};const k=(0,t.Ay)("Set filter pill to auto open");k.meta={name:"createAction",key:"createActionsetFilterPillKeyById",description:"Set filter pill to auto open"};const U=(0,t.Ay)("Set group by pill to auto open");U.meta={name:"createAction",key:"createActionsetGroupByPillAutoOpen",description:"Set group by pill to auto open"};const L=(0,t.Ay)("Set search query for list");L.meta={name:"createAction",key:"createActionsetListSearchQuery",description:"Set search query for list"};const B=(0,t.Ay)("Destroy local refinements");B.meta={name:"createAction",key:"createActiondestroyLocalRefinements",description:"Destroy local refinements"};const b=(0,t.Ay)("Add / update my items");b.meta={name:"createAction",key:"createActionupsertMyItems",description:"Add / update my items"};const R=(0,t.Ay)("Add / update a single my item");R.meta={name:"createAction",key:"createActionupsertMyItem",description:"Add / update a single my item"};const z=(0,t.Ay)("Add / update a list cell edit");z.meta={name:"createAction",key:"createActionupsertCellEdit",description:"Add / update a list cell edit"};const w=(0,t.Ay)("set refinement pill to auto open in view");w.meta={name:"createAction",key:"createActionsetRefinePillAutoOpenByViewId",description:"set refinement pill to auto open in view"};const W=(0,t.Ay)("Add / update last read timestamp by list ID");W.meta={name:"createAction",key:"createActionupsertLastReadTimestampById",description:"Add / update last read timestamp by list ID"};const K=(0,t.Ay)("Mark records as new to highlight it");K.meta={name:"createAction",key:"createActionhighlightRecordsAsNew",description:"Mark records as new to highlight it"};const Y=(0,t.Ay)("Mark record read to unhighlight it");Y.meta={name:"createAction",key:"createActionremoveRecordHighlight",description:"Mark record read to unhighlight it"};const X=(0,t.Ay)("Set record as open in flexpane");X.meta={name:"createAction",key:"createActionrecordFlexpaneOpen",description:"Set record as open in flexpane"};const Z=(0,t.Ay)("Set record flexpane closed");Z.meta={name:"createAction",key:"createActionrecordFlexpaneClosed",description:"Set record flexpane closed"};const ie=(0,t.Ay)("Load all recently viewed lists");ie.meta={name:"createAction",key:"createActionloadRecentlyViewedLists",description:"Load all recently viewed lists"};const Ae=(0,t.Ay)("Add recently opened list to the store");Ae.meta={name:"createAction",key:"createActionaddToRecentlyViewedLists",description:"Add recently opened list to the store"};const ae=(0,t.Ay)("Remove deleted lists from the store");ae.meta={name:"createAction",key:"createActionremoveFromRecentlyViewedLists",description:"Remove deleted lists from the store"};const V=(0,t.Ay)("Update local field visibility");V.meta={name:"createAction",key:"createActionchangeLocalViewFieldVisibility",description:"Update local field visibility"};const ve=(0,t.Ay)("Update local view type");ve.meta={name:"createAction",key:"createActionchangeLocalViewType",description:"Update local view type"};const be=(0,t.Ay)("Update local show completed items");be.meta={name:"createAction",key:"createActionchangeLocalShowCompletedItems",description:"Update local show completed items"};const Ue=(0,t.Ay)("Update local group by");Ue.meta={name:"createAction",key:"createActionchangeLocalViewGroupBy",description:"Update local group by"};const Re=(0,t.Ay)("Subscribe/unsubscribe a list record");Re.meta={name:"createAction",key:"createActionsetRecordIsSubscribed",description:"Subscribe/unsubscribe a list record"};const ge=(0,t.Ay)("Set new view ids for badging");ge.meta={name:"createAction",key:"createActionsetListNewViewBadgingById",description:"Set new view ids for badging"};const ne=(0,t.Ay)("Set highlight column in the item flexpane");ne.meta={name:"createAction",key:"createActionsetHighlightColumnId",description:"Set highlight column in the item flexpane"};const ee=(0,t.Ay)("Clear highlight column in the item flexpane");ee.meta={name:"createAction",key:"createActionclearHighlightColumnId",description:"Clear highlight column in the item flexpane"};const F=(0,t.Ay)("Set local views for optimistic updates");F.meta={name:"createAction",key:"createActionsetLocalViewsByListId",description:"Set local views for optimistic updates"};const H=(0,t.Ay)("Updates the UI state for the refine edit view menu component");H.meta={name:"createAction",key:"createActionrefineEditViewMenuComponentState",description:"Updates the UI state for the refine edit view menu component"};const j=(0,t.Ay)("Sets the reference tracker map for my tasks list");j.meta={name:"createAction",key:"createActionsetMyTasksReferenceTracker",description:"Sets the reference tracker map for my tasks list"};const N=(0,t.Ay)("Adds a reference to the reference tracker map for my tasks list");N.meta={name:"createAction",key:"createActionaddToMyTasksReferenceTracker",description:"Adds a reference to the reference tracker map for my tasks list"};const J=(0,t.Ay)("Removes a reference from the reference tracker map for my tasks list");J.meta={name:"createAction",key:"createActionremoveFromMyTasksReferenceTracker",description:"Removes a reference from the reference tracker map for my tasks list"};const le=(0,t.Ay)("Should show list description");le.meta={name:"createAction",key:"createActionsetShowListDescriptionById",description:"Should show list description"};const ce=(0,t.Ay)("Set list history version by list id");ce.meta={name:"createAction",key:"createActionsetSelectedListVersionByListId",description:"Set list history version by list id"};const Ee=(0,t.Ay)("Set the type for the change to task list coachmark");Ee.meta={name:"createAction",key:"createActionsetChangeToTaskListCoachmarkType",description:"Set the type for the change to task list coachmark"};const ye=(0,t.Ay)("Allow an AI-generated title to override the list record's title");ye.meta={name:"createAction",key:"createActionsetAiTitleAllowed",description:"Allow an AI-generated title to override the list record's title"};const Ie=(0,t.Ay)("Do not allow an AI-generated title to override the list record's title");Ie.meta={name:"createAction",key:"createActionclearAiTitleAllowed",description:"Do not allow an AI-generated title to override the list record's title"}},4001611198:(x,g,e)=>{"use strict";e.d(g,{ez:()=>l,mY:()=>i});var t=e(3398586081),n=e(6422693406),s=e(8352634987),r=e(574001087),c=e(6533394955);const o=(0,t.A)(d=>new s.Ay({storeKey:"lists",fetch:(_,m)=>((0,c.dispatchForTeamId)(_,(0,r.o)({idsToFetch:m,listId:d})),n.S.resolve()),isEnabled:()=>!0,metricsName:"lists-record-fetcher"})),a=u((d,_,m)=>o(m).markObjectsAsStale(d,_),"markObjectsAsStale"),l=u((d,_,m)=>o(m).maybeRefetch(d,_),"maybeRefetch"),i=u((d,_,m)=>o(m).markObjectsAsFresh(d,_),"markObjectsAsFresh")},4224126550:(x,g,e)=>{"use strict";e.d(g,{XB:()=>st,w9:()=>Ce,uu:()=>Gt,mJ:()=>mt,av:()=>qe,Uw:()=>nn,vg:()=>V,K0:()=>Ye,rm:()=>ne,kS:()=>ee,E4:()=>sn,fc:()=>Yn,Yq:()=>Dn,k7:()=>fn,$8:()=>Nn,nh:()=>Ve,Jc:()=>Te,$N:()=>xt,zH:()=>Sn,lq:()=>Oe,Te:()=>se,YI:()=>Ze,dR:()=>$e,iP:()=>wt,Ui:()=>rn,qC:()=>yt,Ws:()=>ft,tu:()=>Ht,hA:()=>Wt,PH:()=>Zt,Tj:()=>Kt,jv:()=>Xt,vS:()=>ie,PZ:()=>Ct,I9:()=>oe,DU:()=>Ue,C0:()=>J,C5:()=>Et,vD:()=>le,Rl:()=>Ae,jH:()=>An,P6:()=>ae,Mr:()=>be,El:()=>Rt,bA:()=>St,ot:()=>It,Bj:()=>Yt,qO:()=>dt,Cf:()=>Mn,rh:()=>hn,iM:()=>At,dE:()=>Ot,EI:()=>Re,kG:()=>F,_H:()=>Tt,wx:()=>ge,Xb:()=>he,nZ:()=>Ie,X0:()=>it,hL:()=>tn,uJ:()=>je,BO:()=>vn,K1:()=>ke,gu:()=>yn,aY:()=>Ge,hY:()=>ln,Pj:()=>wn,Yb:()=>In,XR:()=>we,WE:()=>xe,x2:()=>N,$F:()=>H,yv:()=>j,n7:()=>Q,iX:()=>ve,Es:()=>un,mc:()=>es,TF:()=>qt,le:()=>Ke,jW:()=>Be});var t=e(166097325),n=e(3385422400),s=e(1737183214),r=e(3001769570),c=e(9216332371),o=e(2806459763),a=e(8191156954),l=e(9884588328),i=e(2647703359),d=e(5917710436),_=e(6642124196),m=e(2009641291),h=e(1521013946),v=e(6106034567),T=e(3110884894),A=e(1305633231),y=e(3339229351),p=e(5751973043),f=e(796111729),O=e(6471801899),I=e(8161242485),P=e(8847766420),C=e(4813703725),M=e(8455301571),D=e(937317117),E=e(6415612447),S=e(4001611198),k=e(3398586081),U=e(3037015781),L=e(6533394955),B=e(164394607);const b=(0,k.A)(q=>new U.Ay({fetch:(me,Le)=>(0,L.dispatchForTeamId)(me,(0,B.q5)({idsToFetch:Le,listId:q})),upsertKnown:(me,Le)=>(0,L.dispatchForTeamId)(me,(0,B.x3)({records:Le,listId:q})),upsertNonExistent:(me,Le)=>(0,L.dispatchForTeamId)(me,(0,B.x3)({records:Le,listId:q})),isEnabled:()=>!0}));var R=e(5942687316),z=e(7606781622),w=e(2567914105),W=e(9113979368);const K=(0,I.Ay)(q=>!(0,W.A)(q.overlays));K.meta={name:"createSelector",key:"createSelectorisOverlayOpen",description:q=>!(0,W.A)(q.overlays)};var Y=e(2047021170);const X=1e3*60*60*24,Z=u(q=>q.lists,"getListsState"),ie=(0,I.Ay)((q,me)=>(0,D.Lp)(q,me));ie.meta={name:"createSelector",key:"createSelectorgetList",description:(q,me)=>(0,D.Lp)(q,me)};const Ae=(0,I.Ay)((q,me)=>{var Le;return me&&((Le=Z(q).listsById[me])===null||Le===void 0?void 0:Le.records)||p.t0});Ae.meta={name:"createSelector",key:"createSelectorgetListRecords",description:(q,me)=>{var Le;return me&&((Le=Z(q).listsById[me])===null||Le===void 0?void 0:Le.records)||p.t0}};const ae=(0,n.Mz)(ie,q=>q==null?void 0:q.title),V=(0,I.Ay)(q=>Z(q).clock);V.meta={name:"createSelector",key:"createSelectorgetClock",description:q=>Z(q).clock};const ve=(0,I.Ay)(q=>Z(q).triggerAnimationForViewId);ve.meta={name:"createSelector",key:"createSelectorgetViewToAnimate",description:q=>Z(q).triggerAnimationForViewId};const be=(0,I.Ay)(q=>(0,D.Im)(q));be.meta={name:"createSelector",key:"createSelectorgetLists",description:q=>(0,D.Im)(q)};const Ue=(0,I.Ay)((q,me)=>q.files[me].list_limits);Ue.meta={name:"createSelector",key:"createSelectorgetListLimits",description:(q,me)=>q.files[me].list_limits};const Re=(0,I.Ay)((q,me,Le)=>{var We,ze;const ht=(0,P.ZT)(q);if(!ht)return;const Mt=(We=Z(q).listsById[me])===null||We===void 0||(ze=We.records)===null||ze===void 0?void 0:ze[Le];return Mt?(!(0,d.z7)(Mt)&&!b(me).isFetchPendingForId(ht,Le)&&(0,S.ez)(ht,Le,me),Mt):b(me).fetchObjectWithId(ht,Le)});Re.meta={name:"createSelector",key:"createSelectorgetRecord",description:(q,me,Le)=>{var We,ze;const ht=(0,P.ZT)(q);if(!ht)return;const Mt=(We=Z(q).listsById[me])===null||We===void 0||(ze=We.records)===null||ze===void 0?void 0:ze[Le];return Mt?(!(0,d.z7)(Mt)&&!b(me).isFetchPendingForId(ht,Le)&&(0,S.ez)(ht,Le,me),Mt):b(me).fetchObjectWithId(ht,Le)}};const ge=(0,I.Ay)((q,me,Le)=>{var We,ze;return(0,A.A)(q,(We=Re(q,me,Le))===null||We===void 0||(ze=We.fields)===null||ze===void 0?void 0:ze.name)});ge.meta={name:"createSelector",key:"createSelectorgetRecordNameAsPlainText",description:(q,me,Le)=>{var We,ze;return(0,A.A)(q,(We=Re(q,me,Le))===null||We===void 0||(ze=We.fields)===null||ze===void 0?void 0:ze.name)}};const ne=(0,I.Ay)((q,me,Le)=>{const We=ie(q,me),ze=(0,d.uA)(We);return ze==null?void 0:ze.find(ht=>ht.key===Le)});ne.meta={name:"createSelector",key:"createSelectorgetColumnByKey",description:(q,me,Le)=>{const We=ie(q,me),ze=(0,d.uA)(We);return ze==null?void 0:ze.find(ht=>ht.key===Le)}};const ee=(0,I.Ay)((q,me,Le)=>{var We;return(We=ne(q,me,Le))===null||We===void 0?void 0:We.id});ee.meta={name:"createSelector",key:"createSelectorgetColumnIdByColumnKey",description:(q,me,Le)=>{var We;return(We=ne(q,me,Le))===null||We===void 0?void 0:We.id}};const F=(0,I.Ay)((q,me,Le)=>{var We;const ze=(We=Z(q).listsById[me])===null||We===void 0?void 0:We.records;if(ze)return Object.values(ze).find(ht=>ht.threadTs===Le)});F.meta={name:"createSelector",key:"createSelectorgetRecordByThreadTs",description:(q,me,Le)=>{var We;const ze=(We=Z(q).listsById[me])===null||We===void 0?void 0:We.records;if(ze)return Object.values(ze).find(ht=>ht.threadTs===Le)}};const H=(0,I.Ay)((q,me)=>Z(q).templatesById[me]);H.meta={name:"createSelector",key:"createSelectorgetTemplate",description:(q,me)=>Z(q).templatesById[me]};const j=(0,I.Ay)(q=>Z(q).templatesById);j.meta={name:"createSelector",key:"createSelectorgetTemplates",description:q=>Z(q).templatesById};const N=(0,I.Ay)(q=>Z(q).starterTemplatesById);N.meta={name:"createSelector",key:"createSelectorgetStarterTemplates",description:q=>Z(q).starterTemplatesById};const J=(0,I.Ay)(q=>{const me=[],Le=be(q);for(const ze of Le){var We;const ht={id:ze.id,title:(We=ze.title)!==null&&We!==void 0?We:""};me.push(ht)}return me});J.meta={name:"createSelector",key:"createSelectorgetListMentions",description:q=>{const me=[],Le=be(q);for(const ze of Le){var We;const ht={id:ze.id,title:(We=ze.title)!==null&&We!==void 0?We:""};me.push(ht)}return me}};const le=(0,I.Ay)((q,me)=>{const Le=be(q),We=(0,O.V3)(me);if(!We)return[];const{listTitle:ze}=We,ht=(0,O.xL)(Le,ze);if(!ht)return[];const Mt=(0,D.Lp)(q,ht.id),on=ce(ht),zn=[],Qn=Ae(q,ht.id);for(const fe of Object.values(Qn??{})){var lt,$;const Pe=($=fe==null||(lt=fe.fields)===null||lt===void 0?void 0:lt[on])!==null&&$!==void 0?$:[];var te;const Qe={id:fe.id,name:(0,A.A)(q,Pe),blocks:Pe,listId:Mt.id,listTitle:(te=Mt.title)!==null&&te!==void 0?te:""};zn.push(Qe)}return zn});le.meta={name:"createSelector",key:"createSelectorgetListRecordMentions",description:(q,me)=>{const Le=be(q),We=(0,O.V3)(me);if(!We)return[];const{listTitle:ze}=We,ht=(0,O.xL)(Le,ze);if(!ht)return[];const Mt=(0,D.Lp)(q,ht.id),on=ce(ht),zn=[],Qn=Ae(q,ht.id);for(const fe of Object.values(Qn??{})){var lt,$;const Pe=($=fe==null||(lt=fe.fields)===null||lt===void 0?void 0:lt[on])!==null&&$!==void 0?$:[];var te;const Qe={id:fe.id,name:(0,A.A)(q,Pe),blocks:Pe,listId:Mt.id,listTitle:(te=Mt.title)!==null&&te!==void 0?te:""};zn.push(Qe)}return zn}};function ce(q){let me;const Le=(0,d.uA)(q);for(const We of Le??[])if(We.type==="text"&&(me||(me=We),We.key.toUpperCase()==="NAME"))return We.key;return me?me.key:"name"}u(ce,"findColumnKeyForMention");const Ee=(0,I.Ay)(q=>(0,_.isListsEnabled)(q)?!!(0,Y.ty)(q,"seen_onboarding_lists"):!0);Ee.meta={name:"createSelector",key:"createSelectorhasSeenOnboardingLists",description:q=>(0,_.isListsEnabled)(q)?!!(0,Y.ty)(q,"seen_onboarding_lists"):!0};const ye=(0,I.Ay)((q,me)=>{var Le;const We=ie(q,me);return(Le=(0,d.uA)(We))===null||Le===void 0?void 0:Le.find(ze=>(ze==null?void 0:ze.key)==="name")});ye.meta={name:"createSelector",key:"createSelectorgetListDefaultColumn",description:(q,me)=>{var Le;const We=ie(q,me);return(Le=(0,d.uA)(We))===null||Le===void 0?void 0:Le.find(ze=>(ze==null?void 0:ze.key)==="name")}};const Ie=(0,I.Ay)((q,me,Le)=>{const We=Re(q,me,Le),ze=(0,E.Y)(q,me),ht=(0,l.FB)(ze),Mt=We!=null&&We.threadTs?(0,z.Ld)(q,ht,We.threadTs):void 0;var on;return(on=Mt==null?void 0:Mt.reply_count)!==null&&on!==void 0?on:null});Ie.meta={name:"createSelector",key:"createSelectorgetRecordThreadReplyCount",description:(q,me,Le)=>{const We=Re(q,me,Le),ze=(0,E.Y)(q,me),ht=(0,l.FB)(ze),Mt=We!=null&&We.threadTs?(0,z.Ld)(q,ht,We.threadTs):void 0;var on;return(on=Mt==null?void 0:Mt.reply_count)!==null&&on!==void 0?on:null}};const he=(0,I.Ay)((q,me,Le)=>{const We=Re(q,me,Le),ze=(0,E.Y)(q,me),ht=(0,l.FB)(ze),Mt=We!=null&&We.threadTs?(0,z.Ld)(q,ht,We.threadTs):void 0,on=(0,T.Iu)(ht,We==null?void 0:We.threadTs),zn=Mt&&on?(0,M.r7)(q,on)||{timestamps:[],reachedStart:!0}:null,Qn=Mt?(0,c.Nh)(q,ht,(zn==null?void 0:zn.timestamps)||[])||(Mt==null?void 0:Mt.ts):"";var lt;const $=(lt=Mt==null?void 0:Mt._subscribed)!==null&&lt!==void 0?lt:!1;var te;const fe=(te=Mt==null?void 0:Mt._last_read)!==null&&te!==void 0?te:"0";return $?Qn>fe:!1});he.meta={name:"createSelector",key:"createSelectorgetRecordThreadIsUnread",description:(q,me,Le)=>{const We=Re(q,me,Le),ze=(0,E.Y)(q,me),ht=(0,l.FB)(ze),Mt=We!=null&&We.threadTs?(0,z.Ld)(q,ht,We.threadTs):void 0,on=(0,T.Iu)(ht,We==null?void 0:We.threadTs),zn=Mt&&on?(0,M.r7)(q,on)||{timestamps:[],reachedStart:!0}:null,Qn=Mt?(0,c.Nh)(q,ht,(zn==null?void 0:zn.timestamps)||[])||(Mt==null?void 0:Mt.ts):"";var lt;const $=(lt=Mt==null?void 0:Mt._subscribed)!==null&&lt!==void 0?lt:!1;var te;const fe=(te=Mt==null?void 0:Mt._last_read)!==null&&te!==void 0?te:"0";return $?Qn>fe:!1}};const Ce=(0,I.Ay)((q,me)=>Z(q).listBannerMessagesbyId[me]);Ce.meta={name:"createSelector",key:"createSelectorgetBannerMessagesForList",description:(q,me)=>Z(q).listBannerMessagesbyId[me]};const oe=(0,I.Ay)((q,me)=>{const Le=(0,m.A)(q),We=(0,D.Lp)(q,me);return!We||!We.access||!(0,i.mW)(We)||!Le});oe.meta={name:"createSelector",key:"createSelectorgetListIsViewOnly",description:(q,me)=>{const Le=(0,m.A)(q),We=(0,D.Lp)(q,me);return!We||!We.access||!(0,i.mW)(We)||!Le}};const de=(0,I.Ay)(q=>(0,P.ZT)(q)==="T024BE7LD");de.meta={name:"createSelector",key:"createSelectoronTinySpeckDevOrg",description:q=>(0,P.ZT)(q)==="T024BE7LD"};const De=(0,I.Ay)(q=>(0,P.jV)(q)===y.uh);De.meta={name:"createSelector",key:"createSelectoronTinySpeckOrg",description:q=>(0,P.jV)(q)===y.uh};const Te=(0,I.Ay)((q,me)=>Z(q).historyById[me]);Te.meta={name:"createSelector",key:"createSelectorgetEditHistory",description:(q,me)=>Z(q).historyById[me]};const pe=(0,I.Ay)((q,me)=>{const Le=ie(q,me),We=Ae(q,me);if(!Le||!We)return null;let ze="";for(const Mt of Object.values(We)){Mt.position&&ze<Mt.position&&(ze=Mt.position);var ht;for(const on of Object.values((ht=Mt.viewPositions)!==null&&ht!==void 0?ht:{}))ze<on&&(ze=on)}return ze||null});pe.meta={name:"createSelector",key:"createSelectorgetBiggestRecordPosition",description:(q,me)=>{const Le=ie(q,me),We=Ae(q,me);if(!Le||!We)return null;let ze="";for(const Mt of Object.values(We)){Mt.position&&ze<Mt.position&&(ze=Mt.position);var ht;for(const on of Object.values((ht=Mt.viewPositions)!==null&&ht!==void 0?ht:{}))ze<on&&(ze=on)}return ze||null}};const Me=(0,I.Ay)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localFiltersById[We]});Me.meta={name:"createSelector",key:"createSelectorgetLocalFiltersByViewId",description:(q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localFiltersById[We]}};const ke=(0,C.Rb)((q,me,Le)=>ie(q,me),(q,me,Le)=>Le,(q,me)=>{const Le=(0,d.Qq)(q,me);var We;const ze=(We=Le==null?void 0:Le.filters)!==null&&We!==void 0?We:[];var ht;const Mt=(ht=Le==null?void 0:Le.infoColumnFilters)!==null&&ht!==void 0?ht:[];return[...ze,...Mt]}),Ke=u((q,me)=>(0,n.Mz)(Le=>ke(Le,q,me),Le=>Le),"makeGetServerFiltersByViewIdSelector"),Ze=(0,n.Mz)(Me,ke,(q,me)=>q?q.length!==(me==null?void 0:me.length)?!0:!(0,r.U3)(q,me):!1),Q=(0,n.Mz)(Me,ke,(q,me)=>{if(!q)return new Set;const Le=new Map(me==null?void 0:me.map(ze=>[ze.key,ze])),We=q.filter(ze=>(0,r.bV)(ze,Le)).map(ze=>ze.key);return new Set(We)}),se=(0,n.Mz)(Me,ke,(q,me)=>q!==void 0?q:me||[]),He=(0,I.Ay)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localSortsById[We]});He.meta={name:"createSelector",key:"createSelectorgetLocalSortsByViewId",description:(q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localSortsById[We]}};const Ge=(0,C.Rb)((q,me,Le)=>ie(q,me),(q,me,Le)=>Le,(q,me)=>{const Le=(0,d.Qq)(q,me);return(Le==null?void 0:Le.sorts)||[]}),Be=u((q,me)=>(0,n.Mz)(Le=>Ge(Le,q,me),Le=>Le),"makeGetServerSortsByViewIdSelector"),we=(0,n.Mz)(He,Ge,(q,me)=>q!==void 0?q:me||[]),xe=(0,n.Mz)(He,Ge,(q,me)=>q?q.length!==(me==null?void 0:me.length)?!0:!(0,r.Mu)(q,me):!1),Oe=(0,I.Ay)((q,me,Le)=>{var We,ze;const ht=(0,R.zZ)({listId:me,viewId:Le});return(We=Z(q))===null||We===void 0||(ze=We.filterPillKeyById)===null||ze===void 0?void 0:ze[ht]});Oe.meta={name:"createSelector",key:"createSelectorgetFilterPillKeyById",description:(q,me,Le)=>{var We,ze;const ht=(0,R.zZ)({listId:me,viewId:Le});return(We=Z(q))===null||We===void 0||(ze=We.filterPillKeyById)===null||ze===void 0?void 0:ze[ht]}};const Xe=(0,I.Ay)(q=>{var me;return(me=Z(q))===null||me===void 0?void 0:me.groupByPillAutoOpen});Xe.meta={name:"createSelector",key:"createSelectorgetGroupByPillAutoOpen",description:q=>{var me;return(me=Z(q))===null||me===void 0?void 0:me.groupByPillAutoOpen}};const Ye=(0,I.Ay)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localCollapsedGridsById[We]});Ye.meta={name:"createSelector",key:"createSelectorgetCollapsedGridsByViewId",description:(q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localCollapsedGridsById[We]}};const dt=(0,I.Ay)(q=>Z(q).myItemMap);dt.meta={name:"createSelector",key:"createSelectorgetMyItemMap",description:q=>Z(q).myItemMap};const mt=(0,I.Ay)((q,me)=>Z(q).editActivityMap[me]);mt.meta={name:"createSelector",key:"createSelectorgetCellEditByTimestamp",description:(q,me)=>Z(q).editActivityMap[me]};const it=(0,I.Ay)((q,me)=>{var Le;return(Le=Z(q).refinePillAutoOpenByViewId)===null||Le===void 0?void 0:Le[me]});it.meta={name:"createSelector",key:"createSelectorgetRefinePillAutoOpenByViewId",description:(q,me)=>{var Le;return(Le=Z(q).refinePillAutoOpenByViewId)===null||Le===void 0?void 0:Le[me]}};const At=(0,I.Ay)(q=>Z(q).recentlyViewedLists);At.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedLists",description:q=>Z(q).recentlyViewedLists};const Ot=(0,I.Ay)(q=>Z(q).recentlyViewedListsLastLoadedMs);Ot.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedListsLastLoadedMs",description:q=>Z(q).recentlyViewedListsLastLoadedMs};const Kt=(0,I.Ay)(q=>{const me=Ot(q);return me?Date.now()-me>X:!0});Kt.meta={name:"createSelector",key:"createSelectorgetIsRecentlyViewedListsExpired",description:q=>{const me=Ot(q);return me?Date.now()-me>X:!0}};const Xt=(0,I.Ay)((q,me)=>{var Le;return(Le=Z(q).lastReadTimestampById)===null||Le===void 0?void 0:Le[me]});Xt.meta={name:"createSelector",key:"createSelectorgetLastReadTimestampByListId",description:(q,me)=>{var Le;return(Le=Z(q).lastReadTimestampById)===null||Le===void 0?void 0:Le[me]}};const vn=(0,n.Mz)((q,me,Le)=>{const We=ie(q,me);return(0,d.cv)(We,Le)},q=>{var me;return q==null||(me=q.columns)===null||me===void 0?void 0:me.reduce((We,ze)=>{let{key:ht,visible:Mt}=ze;return Mt!==void 0&&(We[ht]=Mt),We},{})}),Sn=(0,I.Ay)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le}),ze=Z(q).localFieldVisibilityByViewId[We];if(!ze)return;const ht=vn(q,me,Le);return Object.entries(ze).filter(on=>{let[zn,Qn]=on;return Qn!==(ht==null?void 0:ht[zn])}).map(on=>{let[zn,Qn]=on;return{key:zn,visible:Qn}})});Sn.meta={name:"createSelector",key:"createSelectorgetFieldsThatChangedVisibility",description:(q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le}),ze=Z(q).localFieldVisibilityByViewId[We];if(!ze)return;const ht=vn(q,me,Le);return Object.entries(ze).filter(on=>{let[zn,Qn]=on;return Qn!==(ht==null?void 0:ht[zn])}).map(on=>{let[zn,Qn]=on;return{key:zn,visible:Qn}})}};const jt=(0,C.eI)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le}),ze=Z(q).localFieldVisibilityByViewId[We],ht=vn(q,me,Le);return ze&&{...ht,...ze}}),hn=(0,C.eI)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localFieldVisibilityByViewId[We]}),xt=(0,n.Mz)(jt,vn,(q,me)=>q?!(0,t.A)(q,me):!1),Dn=(0,I.Ay)((q,me,Le)=>{const We=jt(q,me,Le);return We||vn(q,me,Le)});Dn.meta={name:"createSelector",key:"createSelectorgetCurrentViewFieldVisibilityByViewId",description:(q,me,Le)=>{const We=jt(q,me,Le);return We||vn(q,me,Le)}};const St=(0,I.Ay)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localViewTypeByViewId[We]});St.meta={name:"createSelector",key:"createSelectorgetLocalViewType",description:(q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localViewTypeByViewId[We]}};const dn=(0,C.ow)((q,me,Le)=>{const We=ie(q,me),ze=(0,d.Qq)(We,Le);return ze==null?void 0:ze.type}),fn=(0,I.Ay)((q,me,Le)=>{const We=St(q,me,Le);return We!==void 0?We:dn(q,me,Le)});fn.meta={name:"createSelector",key:"createSelectorgetCurrentViewTypeByViewId",description:(q,me,Le)=>{const We=St(q,me,Le);return We!==void 0?We:dn(q,me,Le)}};const un=(0,I.Ay)((q,me,Le)=>{const We=St(q,me,Le);if(!We)return!1;const ze=dn(q,me,Le);return We!==ze});un.meta={name:"createSelector",key:"createSelectorgetViewTypeHasChanged",description:(q,me,Le)=>{const We=St(q,me,Le);if(!We)return!1;const ze=dn(q,me,Le);return We!==ze}};const _n=(0,I.Ay)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localGroupByViewId[We]});_n.meta={name:"createSelector",key:"createSelectorgetLocalGroupBy",description:(q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localGroupByViewId[We]}};const tn=(0,I.Ay)((q,me)=>{var Le;return(Le=Z(q))===null||Le===void 0?void 0:Le.refineViewByWindowId[me]});tn.meta={name:"createSelector",key:"createSelectorgetRefineView",description:(q,me)=>{var Le;return(Le=Z(q))===null||Le===void 0?void 0:Le.refineViewByWindowId[me]}};const nn=(0,I.Ay)((q,me)=>{var Le;return(Le=Z(q))===null||Le===void 0?void 0:Le.channelTabDefaultRefineView[me]});nn.meta={name:"createSelector",key:"createSelectorgetChannelTabDefaultRefineView",description:(q,me)=>{var Le;return(Le=Z(q))===null||Le===void 0?void 0:Le.channelTabDefaultRefineView[me]}};const An=(0,I.Ay)((q,me)=>{var Le;return(Le=Z(q))===null||Le===void 0?void 0:Le.listSearchQueriesByWindowId[me]});An.meta={name:"createSelector",key:"createSelectorgetListSearchQuery",description:(q,me)=>{var Le;return(Le=Z(q))===null||Le===void 0?void 0:Le.listSearchQueriesByWindowId[me]}};const yn=(0,C.ow)((q,me,Le)=>{const We=ie(q,me),ze=(0,d.Qq)(We,Le);return ze==null?void 0:ze.grouping}),sn=(0,I.Ay)((q,me,Le)=>{const We=_n(q,me,Le);return We||yn(q,me,Le)});sn.meta={name:"createSelector",key:"createSelectorgetCurrentGroupByViewId",description:(q,me,Le)=>{const We=_n(q,me,Le);return We||yn(q,me,Le)}};const Nn=(0,I.Ay)(q=>(0,Y.ty)(q,"lists_add_to_list_default_list"));Nn.meta={name:"createSelector",key:"createSelectorgetDefaultListForAddToList",description:q=>(0,Y.ty)(q,"lists_add_to_list_default_list")};const Ve=(0,n.Mz)(q=>(0,Y.ty)(q,"lists_default_view"),q=>{try{return JSON.parse(q||"{}")}catch(me){return(0,f.Ay)({label:"lists"}).error("error parsing default lists view prefs",me),{}}}),$e=(0,I.Ay)((q,me,Le)=>{var We;const ze=_n(q,me,Le);if(!ze)return!1;const ht=yn(q,me,Le);return!(!(ze==null||(We=ze.groupBy)===null||We===void 0)&&We.length)&&!(ht!=null&&ht.groupBy)?!1:(ze==null?void 0:ze.groupBy)!==(ht==null?void 0:ht.groupBy)});$e.meta={name:"createSelector",key:"createSelectorgetHasGroupByChanged",description:(q,me,Le)=>{var We;const ze=_n(q,me,Le);if(!ze)return!1;const ht=yn(q,me,Le);return!(!(ze==null||(We=ze.groupBy)===null||We===void 0)&&We.length)&&!(ht!=null&&ht.groupBy)?!1:(ze==null?void 0:ze.groupBy)!==(ht==null?void 0:ht.groupBy)}};const Et=(0,I.Ay)((q,me)=>Z(q).listNewViewBadgingById[me]);Et.meta={name:"createSelector",key:"createSelectorgetListNewViewBadgingById",description:(q,me)=>Z(q).listNewViewBadgingById[me]};const It=(0,I.Ay)((q,me)=>{var Le;return((Le=Z(q).localViewsByListId)===null||Le===void 0?void 0:Le[me])||p.Ml});It.meta={name:"createSelector",key:"createSelectorgetLocalViewsByListId",description:(q,me)=>{var Le;return((Le=Z(q).localViewsByListId)===null||Le===void 0?void 0:Le[me])||p.Ml}};const Tt=(0,I.Ay)((q,me,Le)=>{var We,ze,ht;return(We=Z(q).listsById[me])===null||We===void 0||(ze=We.records)===null||ze===void 0||(ht=ze[Le])===null||ht===void 0?void 0:ht.isSubscribed});Tt.meta={name:"createSelector",key:"createSelectorgetRecordIsSubscribed",description:(q,me,Le)=>{var We,ze,ht;return(We=Z(q).listsById[me])===null||We===void 0||(ze=We.records)===null||ze===void 0||(ht=ze[Le])===null||ht===void 0?void 0:ht.isSubscribed}};const Ct=(0,I.Ay)((q,me)=>{var Le;if(oe(q,me))return!1;const We=(0,D.Lp)(q,me);if(!We||!((Le=We.editors)===null||Le===void 0)&&Le.length)return!1;const ze=Te(q,me);if(ze!=null&&ze.undoStack.length||ze!=null&&ze.redoStack.length)return!1;const ht=Ae(q,me);for(const Mt of Object.values(ht??{}))if(String(Mt.dateCreated)!==Mt.updatedTimestamp)return!1;return!0});Ct.meta={name:"createSelector",key:"createSelectorgetListIsEditableAndNeverUpdated",description:(q,me)=>{var Le;if(oe(q,me))return!1;const We=(0,D.Lp)(q,me);if(!We||!((Le=We.editors)===null||Le===void 0)&&Le.length)return!1;const ze=Te(q,me);if(ze!=null&&ze.undoStack.length||ze!=null&&ze.redoStack.length)return!1;const ht=Ae(q,me);for(const Mt of Object.values(ht??{}))if(String(Mt.dateCreated)!==Mt.updatedTimestamp)return!1;return!0}};const Wt=(0,I.Ay)(q=>(0,Y.ty)(q,"lists_template_sidebar_collapsed"));Wt.meta={name:"createSelector",key:"createSelectorgetIsListsTemplateSidebarCollapsedUserPref",description:q=>(0,Y.ty)(q,"lists_template_sidebar_collapsed")};const Gt=(0,I.Ay)((q,me)=>{const Le=ie(q,me);return Ct(q,me)&&(0,d.BS)(Le)});Gt.meta={name:"createSelector",key:"createSelectorgetCanShowListEmptyStateSidebar",description:(q,me)=>{const Le=ie(q,me);return Ct(q,me)&&(0,d.BS)(Le)}};const wt=(0,I.Ay)((q,me,Le,We)=>{const ze=(0,R.pe)(me,Le,We);return Z(q).highlightColumnMap[ze]});wt.meta={name:"createSelector",key:"createSelectorgetHighlightColumnId",description:(q,me,Le,We)=>{const ze=(0,R.pe)(me,Le,We);return Z(q).highlightColumnMap[ze]}};const qt=(0,I.Ay)(q=>(0,w.oY)(q)||K(q));qt.meta={name:"createSelector",key:"createSelectorisModalOrOverlayOpen",description:q=>(0,w.oY)(q)||K(q)};const Yt=(0,I.Ay)((q,me)=>{if(!me)return null;const Le=(0,h.$N)(q,me);return!Le||Le.type!==h.im.MESSAGE||!Le.channelId||!Le.ts?null:(0,z.Ld)(q,Le.channelId,Le.ts)});Yt.meta={name:"createSelector",key:"createSelectorgetMessageFromCellValue",description:(q,me)=>{if(!me)return null;const Le=(0,h.$N)(q,me);return!Le||Le.type!==h.im.MESSAGE||!Le.channelId||!Le.ts?null:(0,z.Ld)(q,Le.channelId,Le.ts)}};const In=(0,I.Ay)((q,me)=>(0,_.isListsAutomationsEntrypointsEnabled)(q)&&(0,s.I)(q)&&!oe(q,me));In.meta={name:"createSelector",key:"createSelectorgetShowListAutomationsEntrypoint",description:(q,me)=>(0,_.isListsAutomationsEntrypointsEnabled)(q)&&(0,s.I)(q)&&!oe(q,me)};const ft=(0,I.Ay)(q=>{const me=(0,v.p)(q),Le=me===v.v.IMAGES_ONLY,We=me===v.v.DISABLE_ALL;return Le||We});ft.meta={name:"createSelector",key:"createSelectorgetIsListCsvImportDisabled",description:q=>{const me=(0,v.p)(q),Le=me===v.v.IMAGES_ONLY,We=me===v.v.DISABLE_ALL;return Le||We}};const yt=(0,I.Ay)((q,me,Le)=>{const We=(0,R.o2)(me,Le),ze=Z(q).refineComponentsState[We];var ht;return(ht=ze==null?void 0:ze.isEditViewMenuOpen)!==null&&ht!==void 0?ht:!1});yt.meta={name:"createSelector",key:"createSelectorgetIsEditViewMenuComponentOpen",description:(q,me,Le)=>{const We=(0,R.o2)(me,Le),ze=Z(q).refineComponentsState[We];var ht;return(ht=ze==null?void 0:ze.isEditViewMenuOpen)!==null&&ht!==void 0?ht:!1}};const bt=(0,I.Ay)(q=>Z(q).myTasksReferenceTrackingMap);bt.meta={name:"createSelector",key:"createSelectorgetMyTasksReferenceTrackingMap",description:q=>Z(q).myTasksReferenceTrackingMap};const Ht=(0,I.Ay)((q,me)=>{const Le=me==null?void 0:me.slack_list;if(!Le||!Le.list_id||!Le.list_record_id)return!1;const We=Re(q,Le.list_id,Le.list_record_id);return We==null?void 0:We.isDeleted});Ht.meta={name:"createSelector",key:"createSelectorgetIsListRootDeletedFromMsg",description:(q,me)=>{const Le=me==null?void 0:me.slack_list;if(!Le||!Le.list_id||!Le.list_record_id)return!1;const We=Re(q,Le.list_id,Le.list_record_id);return We==null?void 0:We.isDeleted}};const ln=(0,I.Ay)((q,me)=>Z(q).shouldShowListDescriptionByListId[me]);ln.meta={name:"createSelector",key:"createSelectorgetShouldShowListDescriptionById",description:(q,me)=>Z(q).shouldShowListDescriptionByListId[me]};const rn=(0,I.Ay)((q,me)=>(0,Y.iN)(q)===me);rn.meta={name:"createSelector",key:"createSelectorgetIsAssignedToList",description:(q,me)=>(0,Y.iN)(q)===me};const Zt=(0,I.Ay)((q,me)=>{if(rn(q,me))return!0;const Le=(0,Y.N$)(q);var We;return((We=Le==null?void 0:Le[0])!==null&&We!==void 0?We:void 0)===me});Zt.meta={name:"createSelector",key:"createSelectorgetIsMyTasksList",description:(q,me)=>{if(rn(q,me))return!0;const Le=(0,Y.N$)(q);var We;return((We=Le==null?void 0:Le[0])!==null&&We!==void 0?We:void 0)===me}};const Mn=(0,I.Ay)((q,me)=>{var Le;if(!(0,_.isTodosEnabled)(q))return;const We=(0,Y.N$)(q);var ze;const ht=(ze=We==null?void 0:We[0])!==null&&ze!==void 0?ze:void 0,Mt=ie(q,ht),on=(0,d.uA)(Mt),zn=Ae(q,ht),Qn=on==null?void 0:on.find($=>$.type===a.$.Reference);return!Qn||!zn?null:(Le=Object.values(zn))===null||Le===void 0?void 0:Le.find($=>{var te,fe,Pe;if((0,o.gk)($))return!1;const Qe=$==null||(te=$.fields)===null||te===void 0?void 0:te[Qn.key];if((0,o.No)(me)){var ut,et;return(Qe==null||(ut=Qe.message)===null||ut===void 0?void 0:ut.channel_id)===me.message.channelId&&(Qe==null||(et=Qe.message)===null||et===void 0?void 0:et.ts)===me.message.ts}return(Qe==null||(fe=Qe.list_record)===null||fe===void 0?void 0:fe.list_id)===me.listRecord.listId&&(Qe==null||(Pe=Qe.list_record)===null||Pe===void 0?void 0:Pe.row_id)===me.listRecord.rowId})});Mn.meta={name:"createSelector",key:"createSelectorgetMyTasksItem",description:(q,me)=>{var Le;if(!(0,_.isTodosEnabled)(q))return;const We=(0,Y.N$)(q);var ze;const ht=(ze=We==null?void 0:We[0])!==null&&ze!==void 0?ze:void 0,Mt=ie(q,ht),on=(0,d.uA)(Mt),zn=Ae(q,ht),Qn=on==null?void 0:on.find($=>$.type===a.$.Reference);return!Qn||!zn?null:(Le=Object.values(zn))===null||Le===void 0?void 0:Le.find($=>{var te,fe,Pe;if((0,o.gk)($))return!1;const Qe=$==null||(te=$.fields)===null||te===void 0?void 0:te[Qn.key];if((0,o.No)(me)){var ut,et;return(Qe==null||(ut=Qe.message)===null||ut===void 0?void 0:ut.channel_id)===me.message.channelId&&(Qe==null||(et=Qe.message)===null||et===void 0?void 0:et.ts)===me.message.ts}return(Qe==null||(fe=Qe.list_record)===null||fe===void 0?void 0:fe.list_id)===me.listRecord.listId&&(Qe==null||(Pe=Qe.list_record)===null||Pe===void 0?void 0:Pe.row_id)===me.listRecord.rowId})}};const es=(0,I.Ay)((q,me)=>{if(!(0,_.isTodosEnabled)(q))return!1;var Le;const We=(Le=bt(q))!==null&&Le!==void 0?Le:{},ze=(0,o.qC)(me),ht=We[ze];return!!ht&&!(0,o.gk)(ht)});es.meta={name:"createSelector",key:"createSelectorisAddedToMyTasks",description:(q,me)=>{if(!(0,_.isTodosEnabled)(q))return!1;var Le;const We=(Le=bt(q))!==null&&Le!==void 0?Le:{},ze=(0,o.qC)(me),ht=We[ze];return!!ht&&!(0,o.gk)(ht)}};const jn=(0,I.Ay)((q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localShowCompletedItemsByViewId[We]});jn.meta={name:"createSelector",key:"createSelectorgetLocalShowCompletedItems",description:(q,me,Le)=>{const We=(0,R.zZ)({listId:me,viewId:Le});return Z(q).localShowCompletedItemsByViewId[We]}};const Kn=(0,C.ow)((q,me,Le)=>{const We=ie(q,me),ze=(0,d.Qq)(We,Le);var ht;return(ht=ze==null?void 0:ze.showCompletedItems)!==null&&ht!==void 0?ht:!1}),Yn=(0,I.Ay)((q,me,Le)=>{if(Zt(q,me))return!0;const We=jn(q,me,Le);return We!==void 0?We:Kn(q,me,Le)});Yn.meta={name:"createSelector",key:"createSelectorgetCurrentShowCompletedItemsByViewId",description:(q,me,Le)=>{if(Zt(q,me))return!0;const We=jn(q,me,Le);return We!==void 0?We:Kn(q,me,Le)}};const wn=(0,n.Mz)(jn,Kn,(q,me)=>q===void 0?!1:!(0,t.A)(q,me)),Rt=(0,I.Ay)(q=>(0,Y.ty)(q,"lists_message_todo_reaction")||"eyes");Rt.meta={name:"createSelector",key:"createSelectorgetListsMessageTodoReaction",description:q=>(0,Y.ty)(q,"lists_message_todo_reaction")||"eyes"};const je=(0,I.Ay)((q,me)=>Z(q).selectedListVersionByListId[me]);je.meta={name:"createSelector",key:"createSelectorgetSelectedListVersionByListId",description:(q,me)=>Z(q).selectedListVersionByListId[me]};const qe=(0,I.Ay)(q=>Z(q).changeToTaskListCoachmarkType);qe.meta={name:"createSelector",key:"createSelectorgetChangeToTaskListCoachmarkType",description:q=>Z(q).changeToTaskListCoachmarkType};const st=(0,I.Ay)((q,me,Le)=>{const We=(0,R.Ro)(me,Le);return Boolean(Z(q).aiTitleAllowedMap[We])});st.meta={name:"createSelector",key:"createSelectorgetAllowedToUseAiTitle",description:(q,me,Le)=>{const We=(0,R.Ro)(me,Le);return Boolean(Z(q).aiTitleAllowedMap[We])}}},4525672255:(x,g,e)=>{"use strict";e.d(g,{E:()=>d});var t=e(9706240641),n=e.n(t),s=e(5513050121),r=e(6554371307),c=e(2634516670),o=e(796111729),a=e(6304789565),l=e(474652310),i=e(832411022);const d=(0,a.Ay)("Fetch lists",function(){var _=(0,t.coroutine)(function*(m,h){let{query:v,sort:T,reason:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const y=yield v?m((0,r.yz)({query:`type:list ${v}`,includeShares:!0,reason:A||"get-lists",bypassCache:!0})):m((0,c.jQ)({module:"files",query:"type:list",sort:T||i.VU.lastRead,reason:A||"get-lists",context:s.Oj.ListsDefault})).then(p=>{let{items:f}=p;return f});m((0,l.b)({files:y}))}catch(y){(0,o.Ay)({label:"lists"}).error("error fetching lists",y)}});return function(m,h){return _.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},164394607:(x,g,e)=>{"use strict";e.d(g,{ky:()=>T,q5:()=>h,x3:()=>v});var t=e(9706240641),n=e.n(t),s=e(2694081143),r=e(796111729),c=e(6471801899),o=e(6304789565),a=e(8847766420),l=e(5795074931),i=e(9943020700),d=e(4001611198),_=e(9629831899);const m=(0,o.Ay)("Fetch list and list record",function(){var A=(0,t.coroutine)(function*(y,p,f){let{listId:O,id:I,includeIsSubscribed:P,reason:C="get-list-record"}=f;try{const{list:B,record:b}=yield y((0,s.T)({listId:O,id:I,includeIsSubscribed:P,reason:C}));y((0,_.y)({lists:[B]}));var M,D,E,S,k,U;const R=(0,c.jG)({id:b.id,fields:b.fields,dateCreated:b.date_created,createdBy:(M=b.created_by)!==null&&M!==void 0?M:"",threadTs:(D=b.thread_ts)!==null&&D!==void 0?D:"",position:(E=b.position)!==null&&E!==void 0?E:"",updatedTimestamp:(S=b.updated_timestamp)!==null&&S!==void 0?S:"",updatedBy:(k=b.updated_by)!==null&&k!==void 0?k:"",viewPositions:b.view_positions,platformRefs:b.platform_refs,saved:b.saved,savedFields:b.saved_fields,isSubscribed:b.is_subscribed,archived:(U=b.archived)!==null&&U!==void 0?U:!1});return y((0,i.$W)({listId:O,record:R})),null}catch(B){var L;return(0,r.Ay)({label:"lists"}).error("error fetching list record",B),{error:B==null||(L=B.data)===null||L===void 0?void 0:L.error}}});return function(y,p,f){return A.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkfetchRecord",description:"Fetch list and list record"};const h=(0,o.Ay)("Fetch and upsert list record",(A,y,p)=>{let{idsToFetch:f,listId:O}=p;return n().all(f.map(function(){var I=(0,t.coroutine)(function*(P){try{const L=(yield A((0,s.T)({listId:O,id:P,includeIsSubscribed:!0,reason:"get-list-record"}))).record;var C,M,D,E,S,k;return(0,c.jG)({id:L.id,fields:L.fields,dateCreated:L.date_created,createdBy:(C=L.created_by)!==null&&C!==void 0?C:"",threadTs:(M=L.thread_ts)!==null&&M!==void 0?M:"",position:(D=L.position)!==null&&D!==void 0?D:"",updatedTimestamp:(E=L.updated_timestamp)!==null&&E!==void 0?E:"",updatedBy:(S=L.updated_by)!==null&&S!==void 0?S:"",viewPositions:L.view_positions,platformRefs:L.platform_refs,saved:L.saved,savedFields:L.saved_fields,archived:(k=L.archived)!==null&&k!==void 0?k:!1})}catch(U){return U.data.error==="record_deleted"?{id:P,isDeleted:!0}:{id:P,isNonExistent:!0}}});return function(P){return I.apply(this,arguments)}}()))});h.meta={name:"createThunk",key:"createThunkfetchRecordsForList",description:"Fetch and upsert list record"};const v=(0,o.Ay)("Format and upsert list records",(A,y,p)=>{let{records:f,listId:O}=p;A((0,i.yw)({listId:O,records:f}));const I=(0,l.WR)(y());A((0,i.fg)({listId:O,currentUserId:I}));const P=f.map(M=>M.id),C=(0,a.ZT)(y())||"";(0,d.mY)(C,P,O)});v.meta={name:"createThunk",key:"createThunkupsertRecordsForList",description:"Format and upsert list records"};const T=(0,o.Ay)("Fetch and upsert list record",function(){var A=(0,t.coroutine)(function*(y,p,f){let{idsToFetch:O,listId:I}=f;return y(h({idsToFetch:O,listId:I})).then(P=>{y(v({records:P,listId:I}))})});return function(y,p,f){return A.apply(this,arguments)}}());T.meta={name:"createThunk",key:"createThunkfetchAndUpsertRecordsForList",description:"Fetch and upsert list record"}},9174292896:(x,g,e)=>{"use strict";e.d(g,{D:()=>d});var t=e(9706240641),n=e.n(t),s=e(444762595),r=e(796111729),c=e(6471801899),o=e(6304789565),a=e(8847766420),l=e(9943020700),i=e(4001611198);const d=(0,o.Ay)("Fetch list records",function(){var _=(0,t.coroutine)(function*(m,h,v){let{listId:T,currentUserId:A,includeArchived:y=!1}=v;const p=h(),f=(0,a.ZT)(p)||"";try{const O=yield m((0,s.z)({listId:T,reason:"get-list-records"}));let I=O.records;if((0,i.mY)(f,I.map(C=>C.id),T),y)try{const C=yield m((0,s.z)({listId:T,reason:"get-list-archived-records",archived:!0}));I=O.records.concat(...C.records)}catch(C){(0,r.Ay)({label:"lists"}).error("error fetching list archived records",C)}const P=I.map(C=>{var M,D,E,S,k,U;return(0,c.jG)({id:C.id,fields:C.fields,dateCreated:C.date_created,createdBy:(M=C.created_by)!==null&&M!==void 0?M:"",threadTs:(D=C.thread_ts)!==null&&D!==void 0?D:"",position:(E=C.position)!==null&&E!==void 0?E:"",updatedTimestamp:(S=C.updated_timestamp)!==null&&S!==void 0?S:"",updatedBy:(k=C.updated_by)!==null&&k!==void 0?k:"",viewPositions:C.view_positions,platformRefs:C.platform_refs,saved:C.saved,savedFields:C.saved_fields,archived:(U=C.archived)!==null&&U!==void 0?U:!1})});return m((0,l.VV)({listId:T,records:P})),m((0,l.fg)({listId:T,currentUserId:A})),P}catch(O){(0,r.Ay)({label:"lists"}).error("error fetching list records",O)}return null});return function(m,h,v){return _.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},9629831899:(x,g,e)=>{"use strict";e.d(g,{y:()=>o});var t=e(9706240641),n=e.n(t),s=e(6304789565),r=e(3237710044),c=e(937317117);const o=(0,s.Ay)("Fetch list",function(){var a=(0,t.coroutine)(function*(l,i,d){let{lists:_}=d;_.forEach(m=>{const h=(0,c.Lp)(i(),m.id);l((0,r.sM)({...h,...m}))})});return function(l,i,d){return a.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkupsertLocalListFiles",description:"Fetch list"}},5942687316:(x,g,e)=>{"use strict";e.d(g,{Ro:()=>r,o2:()=>s,pe:()=>n,zZ:()=>t});const t=u(c=>{let{listId:o,viewId:a}=c;return`${o}-${a}`},"getLocalRefinementsId"),n=u((c,o,a)=>`${c.toString()}-${o}-${a}`,"makeHighlightStoreKey"),s=u((c,o)=>`${c.toString()}-${o}`,"makeRefineComponentStateStoreKey"),r=u(function(){for(var c=arguments.length,o=new Array(c),a=0;a<c;a++)o[a]=arguments[a];return o.join("-")},"makeCompoundKey")},2938177083:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(796111729),n=e(6304789565),s=e(6422693406),r=e(6259241484),c=e(716227588),o=e(3603672985),a=e(7003004874),l=e(3707193570);const i=(0,n.Ay)("record a dismissal on a megaphone notification",(_,m,h)=>{const{spaceName:v,...T}=h,A=h.channelId||h.entityId,y=(0,t.Wo)();if(!v)return y.error(r.cK,"spaceName is required when dispatching recordAndClearNotification."),s.S.resolve();const p=m(),f=(0,c.Hp)(p,v,A);return(0,l.Ay)(A)&&h.entityType==="team"?_((0,o.pn)({spaceName:v,channelId:A})):_((0,o.KT)({spaceName:v,channelId:A})),_((0,a.A)({notificationName:f,...T}))});i.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"};const d=i},7003004874:(x,g,e)=>{"use strict";e.d(g,{A:()=>_,j:()=>d});var t=e(796111729),n=e(6304789565),s=e(8760181906),r=e(6485511687),c=e(6422693406),o=e(6259241484);const a=(0,n.Ay)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(m,h,v)=>{const{notificationName:T,...A}=v,y=(0,t.Wo)();var p;const f=(p=v.reason)!==null&&p!==void 0?p:"record-notification-event";if(!T)return y.error(o.cK,"notificationName is required when dispatching recordNotificationEvent."),c.S.resolve();const O={notification:T,...A,reason:f};return m((0,r.a)(O))});a.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const l=6e4,i=!1,d=(0,s.A)(a,l,i,void 0,!1),_=a},7487228876:(x,g,e)=>{"use strict";e.d(g,{h:()=>r});var t=e(796111729),n=e(6259241484);const s=(0,t.Wo)(),r=u(c=>{let{spaceName:o,notificationName:a}=c;a&&s.error(n.cK,`${a} is not a recognized notification name for space ${o}.`)},"maybeLogUnrecognizedNotification")},2374999399:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(8161242485),n=e(8276911661);const s=(0,t.Ay)((c,o)=>(0,n.nv)(c,o).profile.statusEmojiDisplayInfo||void 0);s.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusEmojiDisplayInfo",description:(c,o)=>(0,n.nv)(c,o).profile.statusEmojiDisplayInfo||void 0};const r=s},1345620242:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(8161242485),n=e(8170643398),s=e(8276911661),r=e(3428522109);const c=(0,t.Ay)((a,l)=>{const i=(0,s.nv)(a,l),{status_text_canonical:d}=i.profile;return d?(0,n.UM)(i):(0,r.K)(a,i)?0:(0,n.UM)(i)});c.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(a,l)=>{const i=(0,s.nv)(a,l),{status_text_canonical:d}=i.profile;return d?(0,n.UM)(i):(0,r.K)(a,i)?0:(0,n.UM)(i)}};const o=c},2072540560:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(8086952004),n=e(8161242485),s=e(8276911661),r=e(8956918631),c=e(3428522109);const o=(0,n.Ay)((l,i)=>{const d=(0,s.nv)(l,i),{status_text_canonical:_}=d.profile;if(_){let m;const h=(0,r.A)(l);return h&&(m=((0,t.A)(h,v=>v.canonical===_)||{}).text||null),_.toLowerCase()==="on a call"&&(m=s.Ru.t("On a call")),m||d.profile.status_text||""}return(0,c.K)(l,d)?s.Ru.t("In a huddle"):d.profile.status_text||""});o.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(l,i)=>{const d=(0,s.nv)(l,i),{status_text_canonical:_}=d.profile;if(_){let m;const h=(0,r.A)(l);return h&&(m=((0,t.A)(h,v=>v.canonical===_)||{}).text||null),_.toLowerCase()==="on a call"&&(m=s.Ru.t("On a call")),m||d.profile.status_text||""}return(0,c.K)(l,d)?s.Ru.t("In a huddle"):d.profile.status_text||""}};const a=o},1651628626:(x,g,e)=>{"use strict";e.d(g,{c:()=>o});var t=e(5797466484),n=e(6304789565),s=e(6422693406),r=e(6333950786),c=e(9291336591);const o=(0,n.Ay)("Submits changes to the current user\u2019s profile",(a,l,i)=>{let{profile:d,reason:_="submitProfileChange"}=i;if(!(0,t.A)(d))return s.S.resolve();const m={...d},h=l();return d.status_text&&(m.status_text=(0,r.A)(h,d.status_text)),a((0,c.n)({profile:JSON.stringify(m),reason:_}))});o.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},7651407571:(x,g,e)=>{"use strict";e.d(g,{p:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Upsert fetched ordered membership list for channel");n.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},8188087967:(x,g,e)=>{"use strict";e.d(g,{GD:()=>v,Nd:()=>A});var t=e(3398586081),n=e(6422693406),s=e(7058495549),r=e(8352634987),c=e(3339229351),o=e(796111729),a=e(4949104520),l=e(6304789565),i=e(8847766420),d=e(8760181906),_=e(6533394955),m=e(7651407571);const h=1e4,v=(0,t.A)(()=>new r.Ay({storeKey:"membershipOrdered",fetch:(p,f)=>n.S.all(f.map(O=>(0,_.dispatchForTeamId)(p,y({channelId:O,count:c.Ql})))),isEnabled:()=>!0,metricsName:"member-list"})),T=(0,l.Ay)("marks objects as stale via CFM for Membership List",function(p,f){let{teamId:O,channelId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};v().markObjectsAsStale(O,[I])});T.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const A=(0,d.A)(T,(0,a.A)(h,0,.5)),y=(0,l.Ay)("Fetches top members for the channel",function(p,f){let{channelId:O,count:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,s.ds)(p,f,O,I).then(P=>{const C=(0,i.ZT)(f());if(!C){(0,o.Wo)().info("MOS","No teamId found");return}return v().markObjectsAsFresh(C,[O]),p((0,m.p)({channelId:O,memberList:P}))})});y.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},1794107122:(x,g,e)=>{"use strict";e.d(g,{$:()=>c});var t=e(5751973043),n=e(8161242485),s=e(8847766420),r=e(8188087967);const c=(0,n.Ay)((o,a)=>{const l=(0,s.ZT)(o);return l&&(0,r.GD)().maybeRefetch(l,a),o&&o.membershipOrdered&&o.membershipOrdered[a]?o.membershipOrdered[a]:t.Ml});c.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(o,a)=>{const l=(0,s.ZT)(o);return l&&(0,r.GD)().maybeRefetch(l,a),o&&o.membershipOrdered&&o.membershipOrdered[a]?o.membershipOrdered[a]:t.Ml}}},6562711329:(x,g,e)=>{"use strict";e.d(g,{z:()=>h});var t=e(7823346015),n=e(8403493408),s=e(6422693406),r=e(1407713935),c=e(8798294025),o=e(6304789565),a=e(8847766420),l=e(6533394955),i=e(5795074931),d=e(9101533895),_=e(3730613858),m=e(2480881364);const h=(0,o.Ay)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(v,T){let{channelId:A,userIds:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=T(),[f,O]=(0,t.A)(y,C=>(0,_.wr)(p,A,C)),I=(0,d.OL)(p,A);if((0,r.LI)(I)){const C=(0,c.e)(I),M=(0,i.WR)(p);(0,n.A)(O,C,M),y!=null&&y.includes(C)&&f.push(C),y!=null&&y.includes(M)&&f.push(M)}const P={};return f.forEach(C=>{P[C]=(0,_.Ql)(p,A,C)}),O.length?(0,l.dispatchForTeamId)((0,a.ZT)(p),(0,m.R)({channelId:A,userIds:O})).then(C=>C&&C.payload&&C.payload.membershipInfo?{membershipInfo:{...C.payload.membershipInfo,...P}}:{membershipInfo:P}):s.S.resolve({membershipInfo:P})});h.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"}},5345057011:(x,g,e)=>{"use strict";e.d(g,{T:()=>n,s:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Add a placeholder to the store");n.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const s=(0,t.Ay)("Remove a placeholder from the store by client_msg_id");s.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},6445408916:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(8161242485);const n=(0,t.Ay)(s=>s==null?void 0:s.messagePlaceholders);n.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:s=>s==null?void 0:s.messagePlaceholders}},5774398667:(x,g,e)=>{"use strict";e.d(g,{I:()=>s});var t=e(8161242485),n=e(6445408916);const s=(0,t.Ay)((r,c)=>{var o;return(o=(0,n.A)(r))===null||o===void 0?void 0:o[c]});s.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(r,c)=>{var o;return(o=(0,n.A)(r))===null||o===void 0?void 0:o[c]}}},6347367879:(x,g,e)=>{"use strict";e.d(g,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Start delete animation for a message");n.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"}},1508337910:(x,g,e)=>{"use strict";e.d(g,{h:()=>c});var t=e(8161242485),n=e(5751973043);const s=(0,t.Ay)(a=>a==null?void 0:a.messagesMeta);s.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:a=>a==null?void 0:a.messagesMeta};var r;const c=(0,t.Ay)((a,l)=>{let{channelId:i,ts:d}=l;var _,m;return(r=(_=s(a))===null||_===void 0||(m=_[i])===null||m===void 0?void 0:m[d])!==null&&r!==void 0?r:n.t0});var o;c.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(a,l)=>{let{channelId:i,ts:d}=l;var _,m;return(o=(_=s(a))===null||_===void 0||(m=_[i])===null||m===void 0?void 0:m[d])!==null&&o!==void 0?o:n.t0}}},3521202413:(x,g,e)=>{"use strict";e.d(g,{j:()=>y});var t=e(6304789565),n=e(7606781622),s=e(9101533895),r=e(8289365785),c=e(8726613433),o=e(8233775522),a=e(6347367879),l=e(9121476043),i=e(9629572172),d=e(4096483543),_=e(3110884894);const m=(0,t.Ay)("Checks if the message is in an active view before doing the animation",function(p,f){let{channelId:O,ts:I,threadTs:P}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments.length>3?arguments[3]:void 0;const M=f(),{getViewSet:D}=C(i.U),E=!(0,d.A)()||(0,c.T2)(M),S=(0,o.ko)(M)&&E,k=(0,c.Qm)(M);var U;const{primary:L,secondary:B}=(U=D(M))!==null&&U!==void 0?U:{},b=L==null?void 0:L.id,R=B==null?void 0:B.id,z=u(()=>p((0,a.o)({channelId:O,ts:I})),"doAnimation");if(S){if(P&&(R==="convo"||R==="thread")&&(0,r.A)(k)===(0,_.Iu)(O,P)){z();return}if(b===O){z();return}}p((0,l.A)({channelId:O,ts:I,threadTs:P}))});m.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};const h=m;var v=e(1484767411),T=e(1508337910),A=e(796111729);const y=(0,t.Ay)("Delete a message by channel ID and timestamp",function(p,f){let{deleted_ts:O,channel:I,_from_evt_log:P,previous_message:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var M;const D=f(),E=(0,A.Ay)({state:D});if(!O){E.error("Error in messageDeleted: no deleted_ts");return}if(!((0,s.gT)(D,I)&&(0,s.OL)(D,I))){E.error(`Unknown channelId: ${I}`);return}if((M=(0,T.h)(D,{channelId:I,ts:O}))===null||M===void 0?void 0:M.isDeleting)return;const U=!1,B=(0,n.Ld)(D,I,O,U)||C;p(B?h({channelId:I,ts:O,threadTs:B.thread_ts,fromEvtLog:P}):(0,l.A)({channelId:I,ts:O})),p((0,v.o)({channelId:I,ts:O}))});y.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"}},5688490863:(x,g,e)=>{"use strict";e.d(g,{J_:()=>l,QI:()=>v,Up:()=>c,V1:()=>h,Zs:()=>a,iN:()=>r,m3:()=>o,oh:()=>_,qA:()=>d,qj:()=>m,yw:()=>i});var t=e(5751973043),n=e(8161242485);const s=(0,n.Ay)(T=>T.modernSelling.salesListViews);s.meta={name:"createSelector",key:"createSelectorgetSalesListViews",description:T=>T.modernSelling.salesListViews};const r=(0,n.Ay)(T=>s(T).listViewActiveObjectOption);r.meta={name:"createSelector",key:"createSelectorgetListViewActiveObjectOption",description:T=>s(T).listViewActiveObjectOption};const c=(0,n.Ay)(T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.listViewSearchResults});c.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.listViewSearchResults}};const o=(0,n.Ay)((T,A)=>{var y;const p=(y=s(T))===null||y===void 0?void 0:y.listViewIdSearchResultsMap;return(p==null?void 0:p[A])||t.t0});o.meta={name:"createSelector",key:"createSelectorgetListViewObjectMapByOrg",description:(T,A)=>{var y;const p=(y=s(T))===null||y===void 0?void 0:y.listViewIdSearchResultsMap;return(p==null?void 0:p[A])||t.t0}};const a=(0,n.Ay)((T,A,y)=>o(T,A)[y]||t.Ml);a.meta={name:"createSelector",key:"createSelectorgetListViewIdsByOrgAndObject",description:(T,A,y)=>o(T,A)[y]||t.Ml};const l=(0,n.Ay)(T=>{var A;return((A=s(T))===null||A===void 0?void 0:A.listViewActiveSearchResultIds)||t.Ml});l.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:T=>{var A;return((A=s(T))===null||A===void 0?void 0:A.listViewActiveSearchResultIds)||t.Ml}};const i=(0,n.Ay)(T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.listViewActiveSearchQuery});i.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.listViewActiveSearchQuery}};const d=(0,n.Ay)(T=>{var A;return((A=s(T))===null||A===void 0?void 0:A.adminSuggestedListViews)||t.Ml});d.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViewsForSidebar",description:T=>{var A;return((A=s(T))===null||A===void 0?void 0:A.adminSuggestedListViews)||t.Ml}};const _=(0,n.Ay)(T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.areAdminSuggestedListViewsForSidebarFresh});_.meta={name:"createSelector",key:"createSelectorgetAreAdminSuggestedListViewsForSidebarFresh",description:T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.areAdminSuggestedListViewsForSidebarFresh}};const m=(0,n.Ay)(T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.adminConfiguredObjects});m.meta={name:"createSelector",key:"createSelectorgetAdminConfiguredObjects",description:T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.adminConfiguredObjects}};const h=(0,n.Ay)(T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.selectedExplorerRowListViewId});h.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewId",description:T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.selectedExplorerRowListViewId}};const v=(0,n.Ay)(T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.selectedExplorerRowListViewType});v.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewType",description:T=>{var A;return(A=s(T))===null||A===void 0?void 0:A.selectedExplorerRowListViewType}}},8149648525:(x,g,e)=>{"use strict";e.d(g,{b:()=>a});var t=e(5104468117),n=e(6304789565),s=e(7146087658),r=e(5688490863),c=e(1670025826),o=e(146149780);const a=(0,n.Ay)("Search list views by query",(l,i,d)=>{let{isFullSearch:_=!1,objectType:m,query:h,salesforceOrgId:v}=d;const T=i(),A=_?t.Iq:t.TD;let y;return m?y=[m]:y=(0,r.qj)(T).map(f=>f.sobject_api_name),l((0,c.R)({limit:A,listviewObjectScopes:y,query:h,sobjects:[{sobjectApiName:"ListView",fields:["Name","LastViewedDate","SobjectType"]}],salesforceOrgId:v,reason:"list_view_search"})).then(p=>{let{records:f}=p;const O=f.map(P=>({id:P.value,label:P.label,objectType:P.extras.SobjectType,salesforceOrgId:v})),I=l((0,o.x)({listViews:O,salesforceOrgId:v}));return _&&l((0,s.hA)(I)),O})});a.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search list views by query"}},146149780:(x,g,e)=>{"use strict";e.d(g,{x:()=>s});var t=e(6304789565),n=e(7146087658);const s=(0,t.Ay)("Upsert list views fetched by search or other API",(r,c,o)=>{let{listViews:a,salesforceOrgId:l}=o;const i=[],d={},_={};return a.forEach(m=>{const h=m.id,v=m.objectType;d[h]={id:h,label:m.label,lastViewedDate:m.lastViewedDate,objectType:v,salesforceOrgId:l,url:m.url},_[v]=_[v]||[],_[v].push(h),i.push(h)}),r((0,n.TO)(d)),r((0,n.KT)({salesforceOrgId:l,listViewObjMap:_})),i});s.meta={name:"createThunk",key:"createThunkupsertFetchedListViews",description:"Upsert list views fetched by search or other API"}},2413251042:(x,g,e)=>{"use strict";e.d(g,{p$:()=>n,rB:()=>s,x8:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Set whether inverted sidebar was enabled before starting BBM");n.meta={name:"createAction",key:"createActionsetInvertedSidebarInternal",description:"Set whether inverted sidebar was enabled before starting BBM"};const s=(0,t.Ay)("Set whether peeks were enabled on mouse enter before starting BBM");s.meta={name:"createAction",key:"createActionsetPeeksEnabledOnMouseEnterInternal",description:"Set whether peeks were enabled on mouse enter before starting BBM"};const r=(0,t.Ay)("Set what zoom value was set in the client before starting BBM");r.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client before starting BBM"}},6303140164:(x,g,e)=>{"use strict";e.d(g,{UY:()=>s,Vb:()=>t,_J:()=>n});const t="slack-inverted-sidebar-initial-setting",n="slack-peeks-enabled-on-mouse-enter-initial-setting",s="slack-zoom-initial-setting"},1838435986:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(4423055085),n=e(9139930183),s=e(2140362605);const r=(0,s.Ay)("NOOP");r.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"};var c=e(6533394955),o=e(7893624209);const a=0,i=(0,n.Ay)({},a,{storeKey:"noop",persistenceEnabled:!1}).on(r,d=>d+1);(0,t.ul)("dispatchNoop",()=>{(0,c.dispatchForTeamId)((0,o.oI)(),r())})},4309043566:(x,g,e)=>{"use strict";e.d(g,{l:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Relay observed overlays state from OverlaysContextProvider to Redux");n.meta={name:"createAction",key:"createActionrelayOverlays",description:"Relay observed overlays state from OverlaysContextProvider to Redux"}},3180420025:(x,g,e)=>{"use strict";e.d(g,{y:()=>o});var t=e(2384831516),n=e(4309043566),s=e(5751973043);const r=s.t0,c={persistenceEnabled:!1,storeKey:"overlays"},o=(0,t.vy)({},r,c).on(n.l,(a,l)=>l)},983004675:(x,g,e)=>{"use strict";e.d(g,{OI:()=>a,cg:()=>s,kK:()=>n,ot:()=>o,qH:()=>c,us:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Sets the current loading state for a channel");n.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const s=(0,t.Ay)("Adds pinned item identifiers for files and messages to list of pinned items");s.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const r=(0,t.Ay)("Remove an item from the pinned items list for a channel");r.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const c=(0,t.Ay)("Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)");c.meta={name:"createAction",key:"createActionprependPinnedItem",description:"Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)"};const o=(0,t.Ay)("Clears the existing pinned items for a channel and sets the loading state");o.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const a=(0,t.Ay)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");a.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},4352409775:(x,g,e)=>{"use strict";e.d(g,{G:()=>a});var t=e(3398586081),n=e(6422693406),s=e(8352634987),r=e(6533394955),c=e(983004675),o=e(6701536972);const a=(0,t.A)(()=>new s.Ay({storeKey:"pins",fetch:(l,i)=>n.S.map(i,d=>((0,r.dispatchForTeamId)(l,(0,c.ot)({channelId:d})),(0,r.dispatchForTeamId)(l,(0,o.b)({channelId:d})))),isEnabled:()=>!0,metricsName:"pins"}))},6247263305:(x,g,e)=>{"use strict";e.d(g,{R:()=>t,b:()=>n});const t={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},n={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},7158699554:(x,g,e)=>{"use strict";e.d(g,{$U:()=>d,A_:()=>_,Wt:()=>m,YG:()=>v,c7:()=>h,jR:()=>i});var t=e(2384831516),n=e(8847766420),s=e(7606781622),r=e(6457401668),c=e(937317117),o=e(4352409775),a=e(6247263305),l=e(4813703725);const i=(0,t.Mz)(function(A,y){let{refetchIfNeeded:p=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(p){const f=(0,n.ZT)(A);(0,o.G)().maybeRefetch(f,y)}return A&&A.pins&&A.pins.pinsByChannel[y]});i.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(A,y){let{refetchIfNeeded:p=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(p){const f=(0,n.ZT)(A);(0,o.G)().maybeRefetch(f,y)}return A&&A.pins&&A.pins.pinsByChannel[y]}};const d=(0,t.Mz)((A,y)=>{var p,f;return A&&A.pins&&A.pins.pinsByChannel[y]?(p=A.pins.pinsByChannel)===null||p===void 0||(f=p[y])===null||f===void 0?void 0:f.length:0});d.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(A,y)=>{var p,f;return A&&A.pins&&A.pins.pinsByChannel[y]?(p=A.pins.pinsByChannel)===null||p===void 0||(f=p[y])===null||f===void 0?void 0:f.length:0}};const _=(0,t.Mz)((A,y)=>A&&A.pins&&A.pins.loadingStateByChannel[y]);_.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(A,y)=>A&&A.pins&&A.pins.loadingStateByChannel[y]};const m=(0,t.Mz)((A,y)=>{let{channelId:p,ts:f}=y;const O=!1,I=(0,s.Ld)(A,p,f,O);if(!I)return!1;if((0,r.m)(I)&&I.comment){const P=(0,c.yd)(A,I.file,I.comment.id);return P?!!(P.pinned_to&&P.pinned_to.includes(p)):!1}return!!(I.pinned_to&&I.pinned_to.includes(p))});m.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(A,y)=>{let{channelId:p,ts:f}=y;const O=!1,I=(0,s.Ld)(A,p,f,O);if(!I)return!1;if((0,r.m)(I)&&I.comment){const P=(0,c.yd)(A,I.file,I.comment.id);return P?!!(P.pinned_to&&P.pinned_to.includes(p)):!1}return!!(I.pinned_to&&I.pinned_to.includes(p))}};const h=u((A,y)=>{switch(y.type){case a.R.MESSAGE:return{...(0,s.Ld)(A,y.channel,y.ts),type:a.R.MESSAGE};case a.R.FILE:return{...(0,c.Lp)(A,y.id),type:a.R.FILE};case a.R.FILE_COMMENT:return{...(0,c.yd)(A,y.fileId,y.id),fileId:y.fileId,type:a.R.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),v=(0,l.eI)((A,y)=>{const p=i(A,y);return p?p.map(f=>h(A,f)):[]}),T=(0,t.Mz)(A=>A&&A.pins&&A.pins.popoverScrollTop);T.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:A=>A&&A.pins&&A.pins.popoverScrollTop}},6701536972:(x,g,e)=>{"use strict";e.d(g,{b:()=>v});var t=e(796111729),n=e(9109082163),s=e(474652310),r=e(6304789565),c=e(8847766420),o=e(6403218297),a=e(6665892446),l=e(10127715),i=e(6247263305),d=e(983004675),_=e(1581380967),m=e(4352409775),h=e(5792544570);const v=(0,r.Ay)("Fetch pinned items list for channel",(T,A,y)=>{const p=y.channelId;return T((0,d.kK)({loadingState:i.b.LOADING,channelId:p})),T((0,n.xs)({reason:"fetchPinsList",...y})).then(function(){let{items:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const O=f.filter(C=>C.type.includes(i.R.FILE)).map(C=>{if(C.type===i.R.FILE_COMMENT){const{comment:M,file:D,...E}=C,S=(0,o.A)(M,D);return{...E,file:S}}return C}),I=f.filter(C=>C.type===i.R.MESSAGE);if(O.length){const C=O.filter(D=>D.type!==i.R.FILE_COMMENT),M=O.filter(D=>D.type===i.R.FILE_COMMENT);T((0,s.b)({files:C.map(D=>D.file)})),T((0,s.b)({files:M.map(D=>D.file)}))}if(I.length){const C=I.map(D=>{let{message:E}=D;return E}),M=T((0,a.A)({imsgs:C,channelId:p}));T((0,l.Kc)(M))}T((0,_.K)({channelId:p,count:f.length})),T((0,d.cg)({items:f.map(h.B),channelId:p})),T((0,d.kK)({loadingState:i.b.LOADED,channelId:p}));const P=(0,c.ZT)(A());(0,m.G)().markObjectsAsFresh(P,[p])}).catch(f=>{throw T((0,d.kK)({loadingState:i.b.NOT_LOADED,channelId:p})),(0,t.Ay)({getState:A}).error(`Error in fetchPinsList: ${JSON.stringify(f)}`),f})});v.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},1581380967:(x,g,e)=>{"use strict";e.d(g,{K:()=>a});var t=e(6304789565),n=e(9606603587),s=e(9101533895),r=e(796111729),c=e(6247263305),o=e(7158699554);const a=(0,t.Ay)("update a pin count for a channel",(l,i,d)=>{let{channelId:_,count:m,forceUpdate:h=!1}=d;const v=i(),T={...(0,s.OL)(v,_)},A=(0,o.jR)(v,_,{refetchIfNeeded:!1}),y=(0,o.A_)(v,_),p=!h&&y===c.b.LOADED?A==null?void 0:A.length:m;if(p===T.pinned_items_count)return;(0,r.Ay)({state:v}).info("PINS",`Pins count updated for channel ${_}: ${p}`);const f={...T,pinned_items_count:p};l((0,n.B)({channel:f}))});a.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},5792544570:(x,g,e)=>{"use strict";e.d(g,{B:()=>n});var t=e(6247263305);const n=u(s=>{switch(s.type){case t.R.MESSAGE:var r;return{type:s.type,channel:s.channel,ts:(r=s.message)===null||r===void 0?void 0:r.ts};case t.R.FILE:var c,o;return{type:s.type,id:s.file?s.file.id:(c=s.files)===null||c===void 0||(o=c[0])===null||o===void 0?void 0:o.id};case t.R.FILE_COMMENT:var a;return{type:s.type,id:s.comment.id,fileId:(a=s.file)===null||a===void 0?void 0:a.id};default:return{}}},"formatPinFromAPI")},7665060966:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(8161242485),n=e(2047021170);const s=(0,t.Ay)(c=>(0,n.ty)(c,"messages_theme")==="dense"?"dense":"light");s.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:c=>(0,n.ty)(c,"messages_theme")==="dense"?"dense":"light"};const r=s},1317368584:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(8161242485),n=e(9599231336),s=e(2047021170),r=e(7665060966);const c=(0,t.Ay)(a=>!(0,n.P)(a)&&!!(0,s.ty)(a,"jumbomoji")&&(0,r.A)(a)!=="dense");c.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:a=>!(0,n.P)(a)&&!!(0,s.ty)(a,"jumbomoji")&&(0,r.A)(a)!=="dense"};const o=c},7520484642:(x,g,e)=>{"use strict";e.d(g,{$n:()=>v,DS:()=>n,Eu:()=>i,JB:()=>h,Lk:()=>T,QU:()=>y,UR:()=>c,Ye:()=>d,aF:()=>A,cl:()=>a,dz:()=>r,gJ:()=>_,mC:()=>o,mo:()=>l,wt:()=>s,zG:()=>m});var t=e(2140362605);const n=(0,t.Ay)("Switch currently active plan");n.meta={name:"createAction",key:"createActionswitchPlans",description:"Switch currently active plan"};const s=(0,t.Ay)("Successfully fetched available plans");s.meta={name:"createAction",key:"createActionplansFetchSuccess",description:"Successfully fetched available plans"};const r=(0,t.Ay)("Successfully fetched cost for current plan");r.meta={name:"createAction",key:"createActioncostFetchSuccess",description:"Successfully fetched cost for current plan"};const c=(0,t.Ay)("Successfully fetched cost for current addon");c.meta={name:"createAction",key:"createActionaddonsCostFetchSuccess",description:"Successfully fetched cost for current addon"};const o=(0,t.Ay)("Received an API error");o.meta={name:"createAction",key:"createActionsetErrorState",description:"Received an API error"};const a=(0,t.Ay)("Plans and cost data loaded");a.meta={name:"createAction",key:"createActionplansAndCostDataLoaded",description:"Plans and cost data loaded"};const l=(0,t.Ay)("Mark plans and cost data as not loaded");l.meta={name:"createAction",key:"createActionmarkPlansAndCostDataAsNotLoaded",description:"Mark plans and cost data as not loaded"};const i=(0,t.Ay)("Set Plan Level");i.meta={name:"createAction",key:"createActionsetPlanLevel",description:"Set Plan Level"};const d=(0,t.Ay)("Set Payment Method");d.meta={name:"createAction",key:"createActionsetPaymentMethod",description:"Set Payment Method"};const _=(0,t.Ay)("Update Is Plans Data Loading");_.meta={name:"createAction",key:"createActionupdateIsPlansDataLoading",description:"Update Is Plans Data Loading"};const m=(0,t.Ay)("Update Is Cost Data Loading");m.meta={name:"createAction",key:"createActionupdateIsCostDataLoading",description:"Update Is Cost Data Loading"};const h=(0,t.Ay)("Load Plans Page Boot Data Success");h.meta={name:"createAction",key:"createActionloadPlansPageBootDataSuccess",description:"Load Plans Page Boot Data Success"};const v=(0,t.Ay)("Mark plans page boot data as not loaded");v.meta={name:"createAction",key:"createActionmarkPlansPageBootDataAsNotLoaded",description:"Mark plans page boot data as not loaded"};const T=(0,t.Ay)("Mark plan payment status data as not loaded");T.meta={name:"createAction",key:"createActionmarkPlanStatusDataAsNotLoaded",description:"Mark plan payment status data as not loaded"};const A=(0,t.Ay)("Set when toggling between base plan and Slack AI on plans page");A.meta={name:"createAction",key:"createActionsetIsSlackAiToggleSelected",description:"Set when toggling between base plan and Slack AI on plans page"};const y=(0,t.Ay)("Team plan status loaded");y.meta={name:"createAction",key:"createActionteamPlanStatusFetchSuccess",description:"Team plan status loaded"}},4005238080:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(6304789565),n=e(165535451),s=e(7520484642);const r=(0,t.Ay)("Load Plans Page Boot Data",o=>(o((0,s.$n)()),o((0,n.ib)()).then(a=>{let l=!0;return a!=null&&a.team_current_product&&a.team_current_product!==""&&(l=!1),o((0,s.aF)({isSelected:l})),o((0,s.JB)(a))})));r.meta={name:"createThunk",key:"createThunkloadPlansPageBootData",description:"Load Plans Page Boot Data"};const c=r},962959561:(x,g,e)=>{"use strict";e.d(g,{L9:()=>T,aJ:()=>h,jv:()=>v});var t=e(8161242485),n=e(7268021173),s=e(1960898919),r=e(3677514771),c=e(6839188756),o=e(6323355797),a=e(5773584938),l=e(3245843483),i=e(6854862203);const d=[{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.MessageLimit},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.Vhq},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.Canvas},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.SharedChannels},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.List},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.WorkflowBuilder},{promoType:o.ZO.GlobalEntrypointTrial},{promoType:o.ZO.SolutionsGalleryPromo,promoSubtype:o.zG.SolutionsGalleryInProduct},{promoType:o.ZO.LandingPageTrial}],_=(0,t.Ay)(y=>d.some(p=>{let{promoType:f,promoSubtype:O}=p;return(0,n.G)(y,f,O)}));_.meta={name:"createSelector",key:"createSelectorisCurrentTrialEligiblePromoCampaign",description:y=>d.some(p=>{let{promoType:f,promoSubtype:O}=p;return(0,n.G)(y,f,O)})};const m=(0,t.Ay)(y=>d.some(p=>{let{promoType:f,promoSubtype:O}=p;return(0,n.hq)(y,f,O)}));m.meta={name:"createSelector",key:"createSelectorisEligiblePromoCampaign",description:y=>d.some(p=>{let{promoType:f,promoSubtype:O}=p;return(0,n.hq)(y,f,O)})};const h=u(y=>{let{campaignType:p,campaignSubType:f}=y;return d.some(O=>{let{promoType:I,promoSubtype:P}=O;return I===p&&P===f})},"checkIfEligiblePromoCampaign"),v=(0,t.Ay)(y=>{const p=(0,r.H7)(y);return!!(0,s.ax)(y,"has_started_feature_auto_charge_trial")&&!(0,c.tc)(p)&&(0,n.tV)(y)&&_(y)&&((0,a.Ii)(y)||(0,i.TM)(y))});v.meta={name:"createSelector",key:"createSelectorisCurrentlyOnAutoChargeFeatureTrial",description:y=>{const p=(0,r.H7)(y);return!!(0,s.ax)(y,"has_started_feature_auto_charge_trial")&&!(0,c.tc)(p)&&(0,n.tV)(y)&&_(y)&&((0,a.Ii)(y)||(0,i.TM)(y))}};const T=(0,t.Ay)(function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const O=(0,r.H7)(y);return!(0,l.Z9F)()&&(0,c.tc)(O)&&!(0,n.iH)(y)&&(f||m(y))&&(p||(0,a.Ii)(y))});T.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeFeatureTrial",description:function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const O=(0,r.H7)(y);return!(0,l.Z9F)()&&(0,c.tc)(O)&&!(0,n.iH)(y)&&(f||m(y))&&(p||(0,a.Ii)(y))}};const A=(0,t.Ay)(y=>T(y)&&(0,o.jo)());A.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeAndCheckoutRoute",description:y=>T(y)&&(0,o.jo)()}},5512605238:(x,g,e)=>{"use strict";e.d(g,{F:()=>n});var t=e(8161242485);const n=(0,t.Ay)(s=>s&&s.promo&&s.promo.showTrialStartedCelebration);n.meta={name:"createSelector",key:"createSelectorgetShowTrialStartedCelebration",description:s=>s&&s.promo&&s.promo.showTrialStartedCelebration}},8448112102:(x,g,e)=>{"use strict";e.d(g,{r:()=>l});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(5270990260),c=e(6304789565),o=e(2375333597),a=e(1384076438);const l=(0,c.Ay)("Open Auto Charge Trial entry modal",function(){var i=(0,t.coroutine)(function*(d,_,m){let{promoType:h,promoSubtype:v,entryPoint:T}=m;const{isEligible:A}=yield d((0,a.A)({campaignType:h,campaignSubType:v,reason:"auto_charge_trial_entry"}));return d((0,o.q)({element:s.createElement(r.J,{entryPoint:T||"auto_charge_trial_entry_point",isEligibleForTrial:A,promoType:h,promoSubtype:v})}))});return function(d,_,m){return i.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkopenAutoChargeTrialEntryModal",description:"Open Auto Charge Trial entry modal"}},398781533:(x,g,e)=>{"use strict";e.d(g,{Q:()=>_});var t=e(9706240641),n=e.n(t),s=e(6304789565),r=e(962959561),c=e(56548687),o=e(1224315998),a=e(5773584938),l=e(1384076438),i=e(4761125736),d=e(8847766420);const _=(0,s.Ay)("Maybe try logging exposure after checking eligibility",function(){var m=(0,t.coroutine)(function*(h,v,T){if(!(0,r.aJ)({campaignType:T==null?void 0:T.campaignType,campaignSubType:T==null?void 0:T.campaignSubType}))return;const{isEligible:A}=yield h((0,l.A)(T)),y=v(),p=(0,d.ZT)(y);if(!A&&!(0,r.L9)(y,!0))return;const f=(0,c.e)({state:y}),O=(0,i.KK)(y,"paid_feature_trial_auto_charge");f.track(o.EventId.NEWXP_TEAM_CREATE,{contents:{ui_context:{step_variant:O==null?void 0:O.group,ui_step:T.entryPoint,ui_component_variant:p,ui_properties:{element_name:"autocharge_exposure_clog",element_value:`${T==null?void 0:T.campaignType}-${T==null?void 0:T.campaignSubType}`},action:o.UiAction.IMPRESSION}},assignment:O,exposureEntryPoint:T.entryPoint,campaignType:T==null?void 0:T.campaignType,campaignSubType:T==null?void 0:T.campaignSubType,team_id:p}),h((0,a.Fg)())});return function(h,v,T){return m.apply(this,arguments)}}());_.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposureAndCheck",description:"Maybe try logging exposure after checking eligibility"}},6822097892:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(9706240641),n=e.n(t),s=e(7307560139),r=e(2346425530),c=e(9629572172),o=e(3193155968),a=e(6078549397),l=e(5033667e3),i=e(7429662208),d=e(9108490430),_=e(6304789565);const m=(0,_.Ay)("Open a document on a specific version",function(){var v=(0,t.coroutine)(function*(T,A,y,p){const{fileId:f,windowId:O,version:I,isFromCloseActivityHistory:P,replaceHistoryState:C}=y,M=A(),{versionId:D,sequence:E}={...I};if(!f)return;const{isMainWindow:S,closeView:k,getViewSet:U}=p(c.U),L=(0,i.e6)(M),B=(0,r.xu)(M,O),{versionId:b,sequence:R}={...B},z=P?void 0:D||b,w=P?void 0:E||R;if(P||T((0,s.fw)({windowId:O,versionId:D||b})),C){const W=S?U(M):(0,i.hZ)(M,{windowId:O});if(W){const K=W[o.mq.Primary];if(K){const Y={...W,[o.mq.Primary]:{...W[o.mq.Primary],params:{...K.params,versionId:z,sequence:w}}};T(S?(0,l.A)({windowId:o.N2,tab:L,viewSet:Y}):(0,l.A)({windowId:O.toString(),viewSet:Y}))}}}else{const W={id:(0,a.Lo)({id:f}),versionId:z,sequence:w,preserveExistingSecondaryView:!P};T(S?(0,d.IZ)({windowId:o.N2,tab:L,container:o.mq.Primary,params:W}):(0,d.IZ)({windowId:O.toString(),container:o.mq.Primary,params:W})),P&&k(o.mq.Secondary)}P&&T((0,s.NA)({windowId:O}))});return function(T,A,y,p){return v.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"};const h=m},7115106069:(x,g,e)=>{"use strict";e.d(g,{Bi:()=>s,d0:()=>c,oj:()=>r});var t=e(8161242485);const n=(0,t.Ay)(o=>o==null?void 0:o.quipDocEmbeds);n.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:o=>o==null?void 0:o.quipDocEmbeds};const s=(0,t.Ay)(o=>{const a=n(o);return a&&Object.keys(a).length>0});s.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:o=>{const a=n(o);return a&&Object.keys(a).length>0}};const r=(0,t.Ay)(o=>{const a=n(o);return Object.keys(a)});r.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:o=>{const a=n(o);return Object.keys(a)}};const c=(0,t.Ay)((o,a)=>{const l=n(o);var i;return((i=l[a])!==null&&i!==void 0?i:0)>0});c.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(o,a)=>{const l=n(o);var i;return((i=l[a])!==null&&i!==void 0?i:0)>0}}},4368281601:(x,g,e)=>{"use strict";e.d(g,{Kt:()=>l,al:()=>o,jw:()=>c,k:()=>n,uo:()=>s,yw:()=>r,z5:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Store/replace client.counts for this channel");n.meta={name:"createAction",key:"createActionsetQuipUnreadCount",description:"Store/replace client.counts for this channel"};const s=(0,t.Ay)("increment mention count for the channel");s.meta={name:"createAction",key:"createActionincQuipUnreadCountForChannel",description:"increment mention count for the channel"};const r=(0,t.Ay)("decrement mention count for the channel");r.meta={name:"createAction",key:"createActiondecQuipUnreadCountForChannel",description:"decrement mention count for the channel"};const c=(0,t.Ay)("Add canvases to hide on undo");c.meta={name:"createAction",key:"createActionsetCanvasesToHideOnClearAll",description:"Add canvases to hide on undo"};const o=(0,t.Ay)("clear new mention flag for the channel");o.meta={name:"createAction",key:"createActionclearNewMentionFlagForChannel",description:"clear new mention flag for the channel"};const a=(0,t.Ay)("Set the list of enterprise file channels (canvases) to exclude from total counts");a.meta={name:"createAction",key:"createActionsetCanvasesToSuppress",description:"Set the list of enterprise file channels (canvases) to exclude from total counts"};const l=(0,t.Ay)("Set the last seen timestamp for a badged canvas animation");l.meta={name:"createAction",key:"createActionsetLastSeenCanvasAnimationTimestamp",description:"Set the last seen timestamp for a badged canvas animation"}},117899263:(x,g,e)=>{"use strict";e.d(g,{_:()=>s});var t=e(8161242485),n=e(1960898919);const s=(0,t.Ay)(r=>{var c;return(c=(0,n.ax)(r,"is_new_human"))!==null&&c!==void 0?c:!1});s.meta={name:"createSelector",key:"createSelectorisNewHuman",description:r=>{var c;return(c=(0,n.ax)(r,"is_new_human"))!==null&&c!==void 0?c:!1}}},5773584938:(x,g,e)=>{"use strict";e.d(g,{Fg:()=>_,Ii:()=>a});var t=e(8161242485),n=e(6304789565),s=e(6209625934),r=e(4761125736);const c=(0,t.Ay)(m=>(0,r._Z)(m,"paid_feature_trial_auto_charge",!1));c.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeGetAssignment",description:m=>(0,r._Z)(m,"paid_feature_trial_auto_charge",!1)};const o=(0,t.Ay)(m=>(0,r._Z)(m,"paid_feature_trial_auto_charge",!1)==="control");o.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsControl",description:m=>(0,r._Z)(m,"paid_feature_trial_auto_charge",!1)==="control"};const a=(0,t.Ay)(m=>(0,r._Z)(m,"paid_feature_trial_auto_charge",!1)==="treatment");a.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsTreatment",description:m=>(0,r._Z)(m,"paid_feature_trial_auto_charge",!1)==="treatment"};const l=(0,t.Ay)(m=>{var h;return["treatment"].includes((h=(0,r._Z)(m,"paid_feature_trial_auto_charge",!1))!==null&&h!==void 0?h:"")});l.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsAnyTreatment",description:m=>{var h;return["treatment"].includes((h=(0,r._Z)(m,"paid_feature_trial_auto_charge",!1))!==null&&h!==void 0?h:"")}};const i=(0,t.Ay)(m=>o(m)||l(m));i.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsExposed",description:m=>o(m)||l(m)};const d=u(m=>{const h=(0,r.KK)(m,"paid_feature_trial_auto_charge");h&&h.log_exposures&&(0,s.K)("paid_feature_trial_auto_charge",h,m)},"paidFeatureTrialAutoChargeLogExposure"),_=(0,n.Ay)("Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed",(m,h)=>{i(h())&&d(h())});_.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposure",description:"Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed"}},9623497342:(x,g,e)=>{"use strict";e.d(g,{$J:()=>a,E5:()=>m});var t=e(8161242485),n=e(6304789565),s=e(6209625934),r=e(4761125736);const c=(0,t.Ay)(h=>(0,r._Z)(h,"pnp_go",!1));c.meta={name:"createSelector",key:"createSelectorpnpGoGetAssignment",description:h=>(0,r._Z)(h,"pnp_go",!1)};const o=(0,t.Ay)(h=>(0,r._Z)(h,"pnp_go",!1)==="control");o.meta={name:"createSelector",key:"createSelectorpnpGoIsControl",description:h=>(0,r._Z)(h,"pnp_go",!1)==="control"};const a=(0,t.Ay)(h=>(0,r._Z)(h,"pnp_go",!1)==="treatment");a.meta={name:"createSelector",key:"createSelectorpnpGoIsTreatment",description:h=>(0,r._Z)(h,"pnp_go",!1)==="treatment"};const l=(0,t.Ay)(h=>{var v;return["treatment"].includes((v=(0,r._Z)(h,"pnp_go",!1))!==null&&v!==void 0?v:"")});l.meta={name:"createSelector",key:"createSelectorpnpGoIsAnyTreatment",description:h=>{var v;return["treatment"].includes((v=(0,r._Z)(h,"pnp_go",!1))!==null&&v!==void 0?v:"")}};const i=(0,t.Ay)(h=>o(h)||l(h));i.meta={name:"createSelector",key:"createSelectorpnpGoIsExposed",description:h=>o(h)||l(h)};const d=(0,t.Ay)(h=>{var v;return["aa_control","aa_treatment"].includes((v=(0,r._Z)(h,"pnp_go",!1))!==null&&v!==void 0?v:"")});d.meta={name:"createSelector",key:"createSelectorpnpGoIsAAExposed",description:h=>{var v;return["aa_control","aa_treatment"].includes((v=(0,r._Z)(h,"pnp_go",!1))!==null&&v!==void 0?v:"")}};const _=u(h=>{const v=(0,r.KK)(h,"pnp_go");v&&v.log_exposures&&(0,s.K)("pnp_go",v,h)},"pnpGoLogExposure"),m=(0,n.Ay)("Log exposure for the pnp_go experiment if it is exposed",(h,v)=>{const T=v();(i(T)||d(T))&&_(T)});m.meta={name:"createThunk",key:"createThunkpnpGoMaybeLogExposure",description:"Log exposure for the pnp_go experiment if it is exposed"}},1302213854:(x,g,e)=>{"use strict";e.d(g,{C7:()=>n,Ln:()=>r,Mb:()=>s,UM:()=>c});var t=e(2140362605);const n=(0,t.Ay)("Have we already sent boot metrics");n.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const s=(0,t.Ay)("Should we log team switch metrics");s.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const r=(0,t.Ay)("Set whether we should continue logging time to visible metrics");r.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const c=(0,t.Ay)("Set whether we should continue logging time to usable metrics");c.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},4476913522:(x,g,e)=>{"use strict";e.d(g,{a:()=>h});var t=e(8086952004),n=e(12126472),s=e(6626377467),r=e(235108050),c=e(7530630315),o=e(5729325965),a=e(2240330919),l=e(1116859610),i=e(6422693406),d=e(6304789565),_=e(3110884894),m=e(2155512519);const h=(0,d.Ay)("gets thread replies from the API",(v,T,A)=>{const{channelId:y,threadTs:p,oldest:f,limit:O}=A;let I=A.latest;f===I&&I===A.threadTs&&(I=null);const P=(0,_.Iu)(y,p);return f&&I?i.S.all([v((0,m.$b)({channelId:y,threadTs:p,latest:I,limit:O})),v((0,m.$b)({channelId:y,threadTs:p,oldest:f,limit:O}))]).then(C=>{let[M,D]=C;const E=(0,t.A)(M.msgs,{ts:p})||(0,t.A)(D.msgs,{ts:p}),S=(0,n.A)(M.msgs,{ts:p}),k=(0,n.A)(D.msgs,{ts:p}),U=M.deleted,L=D.deleted,B=(0,s.A)(S.concat(k),"ts"),b=(0,r.A)((0,c.A)(U,L));!M.hasMore&&E&&B.unshift(E);const R=B.map(z=>z.ts);return v((0,l.A)({msgs:B,channelId:P,hasMore:{hasMoreStart:M.hasMore,hasMoreEnd:D.hasMore},oldest:(0,o.A)([f,(0,o.A)(R)]),latest:(0,a.A)([I,(0,a.A)(R)]),deleted:b})),{msgs:B}}):v((0,m.$b)({channelId:y,threadTs:p,oldest:f,latest:I,limit:O})).then(function(){let{msgs:C,deleted:M,hasMore:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const E=I&&!D||f===p||I===p||!f&&!I&&!D;let S=C;E||(S=(0,n.A)(C,{ts:p}));let k=D;!f&&!I&&(k={hasMoreStart:D,hasMoreEnd:!1}),v((0,l.A)({msgs:S,channelId:P,hasMore:k,oldest:f,latest:I,deleted:M}));const U=(0,t.A)(C,{ts:p});return U&&f===p&&v((0,l.A)({msgs:[U],channelId:P,hasMore:!1,latest:p})),{msgs:S}})});h.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},6929023741:(x,g,e)=>{"use strict";e.d(g,{a:()=>h});var t=e(8086952004),n=e(12126472),s=e(6626377467),r=e(235108050),c=e(7530630315),o=e(5729325965),a=e(2240330919),l=e(1116859610),i=e(6422693406),d=e(6304789565),_=e(3110884894),m=e(2155512519);const h=(0,d.Ay)("gets thread replies from the API",(v,T,A)=>{const{channelId:y,threadTs:p,oldest:f,limit:O}=A;let I=A.latest;f===I&&I===A.threadTs&&(I=null);const P=(0,_.Iu)(y,p);return f&&I?i.S.all([v((0,m.$b)({channelId:y,threadTs:p,latest:I,limit:O})),v((0,m.$b)({channelId:y,threadTs:p,oldest:f,limit:O}))]).then(C=>{let[M,D]=C;const E=(0,t.A)(M.msgs,{ts:p})||(0,t.A)(D.msgs,{ts:p}),S=(0,n.A)(M.msgs,{ts:p}),k=(0,n.A)(D.msgs,{ts:p}),U=M.deleted,L=D.deleted,B=(0,s.A)(S.concat(k),"ts"),b=(0,r.A)((0,c.A)(U,L));!M.hasMore&&E&&B.unshift(E);const R=B.map(z=>z.ts);return v((0,l.A)({msgs:B,channelId:P,hasMore:{hasMoreStart:M.hasMore,hasMoreEnd:D.hasMore},oldest:(0,o.A)([f,(0,o.A)(R)]),latest:(0,a.A)([I,(0,a.A)(R)]),deleted:b})),{msgs:B}}):v((0,m.$b)({channelId:y,threadTs:p,oldest:f,latest:I,limit:O})).then(function(){let{msgs:C,deleted:M,hasMore:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const E=I&&!D||f===p||I===p||!f&&!I&&!D;let S=C;E||(S=(0,n.A)(C,{ts:p}));let k=D;!f&&!I&&(k={hasMoreStart:D,hasMoreEnd:!1}),v((0,l.A)({msgs:S,channelId:P,hasMore:k,oldest:f,latest:I,deleted:M}));const U=(0,t.A)(C,{ts:p});return U&&f===p&&v((0,l.A)({msgs:[U],channelId:P,hasMore:!1,latest:p})),{msgs:S}})});h.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},1827030018:(x,g,e)=>{"use strict";e.d(g,{_:()=>l});var t=e(9746734072),n=e(5238395322),s=e(2101927269),r=e(7486305635),c=e(6304789565),o=e(9101533895),a=e(157328471);const l=(0,c.Ay)("Update the unread count for the all threads view",(i,d,_)=>{let{threadsHasUnreads:m,threadsUnreadCountByChannel:h,threadsMentionCountByChannel:v,threadsLastUpdatedTimestamp:T}=_;const A=(0,t.A)(v)?{}:v,y=d(),p=(0,n.A)((0,s.A)(A,(O,I)=>{const P=(0,o.OL)(y,I);return(0,r.WK)(y,P)&&!(0,r.fA)(y,P)}));let f=0;h?f=(0,n.A)((0,s.A)(h,(O,I)=>{const P=(0,o.OL)(y,I);return(0,r.WK)(y,P)})):f=m?1:0,i((0,a.LI)({threadsUnreadCount:f,threadsUnreadCountByChannel:h,threadsMentionCount:p,threadsMentionCountByChannel:A,threadsLastUpdatedTimestamp:T,suppressThreads:(0,r.dQ)(y)}))});l.meta={name:"createThunk",key:"createThunkthreadsUnreadCountChanged",description:"Update the unread count for the all threads view"}},9132245692:(x,g,e)=>{"use strict";e.d(g,{g:()=>n,y:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Update unread counts for the specified user alert types");n.meta={name:"createAction",key:"createActionupdateUserAlertsUnreadCount",description:"Update unread counts for the specified user alert types"};const s=(0,t.Ay)("Reset the user alerts store to the specified alert counts map");s.meta={name:"createAction",key:"createActionresetAllUserAlertsUnreadCounts",description:"Reset the user alerts store to the specified alert counts map"}},2696160384:(x,g,e)=>{"use strict";e.d(g,{D_:()=>s,FI:()=>n,Sr:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Sets whether the mini player is open or not");n.meta={name:"createAction",key:"createActionsetIsDocked",description:"Sets whether the mini player is open or not"};const s=(0,t.Ay)("Sets mini video player config");s.meta={name:"createAction",key:"createActionsetMiniPlayerConfig",description:"Sets mini video player config"};const r=(0,t.Ay)("Clears mini video player config");r.meta={name:"createAction",key:"createActionclearMiniPlayerConfig",description:"Clears mini video player config"}},9813790040:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3750057149),n=e(9121100949),s=e(9139930183),r=e(1201539379),c=e(6803195599),o=e(9733150292);const a={persistenceEnabled:!1,storeKey:"viewLayout"},l={sidebarWidthIntent:void 0,sidebarWidthMode:c.tR.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:c.tR.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:c.tR.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:c.tR.AUTO,splitWidthIntent:void 0,splitWidthMode:c.tR.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1,isCompactModeEnabled:!1};try{l.sidebarWidthIntent=(0,o.W6)(n.ke)||void 0,l.sidebarWideWidthIntent=(0,o.W6)(n.u1)||void 0,l.sidebarExtraWideWidthIntent=(0,o.W6)(n.jt)||void 0,l.secondaryWidthIntent=(0,o.W6)(n.gN)||void 0,l.sidebarWidthMode=(0,o.W6)(n.ts)||c.tR.AUTO,l.splitWidthIntent=(0,o.W6)(n.qD)||void 0,l.splitWidthMode=(0,o.W6)(n.$D)||c.tR.AUTO,l.sidebarWidthMode=(0,o.W6)(n.ts)||c.tR.AUTO,l.sidebarWideWidthMode=(0,o.W6)(n.r1)||c.tR.AUTO,l.sidebarExtraWideWidthMode=(0,o.W6)(n.OR)||c.tR.AUTO,l.secondaryWidthMode=(0,o.W6)(n.Ts)||c.tR.AUTO;const _=(0,o.W6)(n.jG);l.isSidebarVisible=(0,t.A)(_)?_:!0;const m=(0,o.W6)(n.WU);l.isWorkspaceSwitcherVisible=(0,t.A)(m)?m:!1;const h=(0,o.W6)(n.RC);l.isCompactModeEnabled=(0,t.A)(h)?h:!1}catch{}const d=(0,s.Ay)({},l,a).on(r.SP,(_,m)=>{let{sidebarWidthIntent:h,sidebarWidthMode:v}=m;return{..._,sidebarWidthIntent:h,sidebarWidthMode:v}}).on(r.hk,(_,m)=>{let{sidebarWideWidthIntent:h,sidebarWideWidthMode:v}=m;return{..._,sidebarWideWidthIntent:h,sidebarWideWidthMode:v}}).on(r.$t,(_,m)=>{let{sidebarExtraWideWidthIntent:h,sidebarExtraWideWidthMode:v}=m;return{..._,sidebarExtraWideWidthIntent:h,sidebarExtraWideWidthMode:v}}).on(r.ie,(_,m)=>{let{secondaryWidthIntent:h,secondaryWidthMode:v}=m;return{..._,secondaryWidthIntent:h,secondaryWidthMode:v}}).on(r.yL,(_,m)=>{let{splitWidthIntent:h,splitWidthMode:v}=m;return{..._,splitWidthIntent:h,splitWidthMode:v}}).on(r.KY,(_,m)=>({..._,isSidebarVisible:m})).on(r.Eo,(_,m)=>({..._,isSidebarVisibleWhenFloating:m})).on(r.mV,(_,m)=>({..._,isWorkspaceSwitcherVisible:m})).on(r.Fe,(_,m)=>({..._,isCompactModeEnabled:m}))},4172221507:(x,g,e)=>{"use strict";e.d(g,{F:()=>o});var t=e(9121100949),n=e(6304789565),s=e(6533394955),r=e(1201539379),c=e(9733150292);const o=(0,n.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(a,l,i)=>{(0,c.q9)(t.jG,i),a((0,r.KY)(i)),(0,s.dispatchForClientStore)((0,r.KY)(i))});o.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},8707579690:(x,g,e)=>{"use strict";e.d(g,{J:()=>o});var t=e(9121100949),n=e(6304789565),s=e(1201539379),r=e(6533394955),c=e(9733150292);const o=(0,n.Ay)("Set the user-specified secondary width and mode",(a,l,i)=>{let{secondaryWidthIntent:d,secondaryWidthMode:_}=i;(0,c.q9)(t.gN,d),(0,c.q9)(t.Ts,_),a((0,s.ie)({secondaryWidthIntent:d,secondaryWidthMode:_})),(0,r.dispatchForClientStore)((0,s.ie)({secondaryWidthIntent:d,secondaryWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},2779520532:(x,g,e)=>{"use strict";e.d(g,{R:()=>o});var t=e(9121100949),n=e(6304789565),s=e(1201539379),r=e(6533394955),c=e(9733150292);const o=(0,n.Ay)("Set the user-specified sidebar width and mode",(a,l,i)=>{let{sidebarWidthIntent:d,sidebarWidthMode:_}=i;(0,c.q9)(t.ke,d),(0,c.q9)(t.ts,_),a((0,s.SP)({sidebarWidthIntent:d,sidebarWidthMode:_})),(0,r.dispatchForClientStore)((0,s.SP)({sidebarWidthIntent:d,sidebarWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},7128275929:(x,g,e)=>{"use strict";e.d(g,{a:()=>o});var t=e(9121100949),n=e(6304789565),s=e(1201539379),r=e(6533394955),c=e(9733150292);const o=(0,n.Ay)("Set the user-specified extra wide sidebar width and mode",(a,l,i)=>{let{sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:_}=i;(0,c.q9)(t.jt,d),(0,c.q9)(t.OR,_),a((0,s.$t)({sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:_})),(0,r.dispatchForClientStore)((0,s.$t)({sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},9341298:(x,g,e)=>{"use strict";e.d(g,{q:()=>o});var t=e(9121100949),n=e(6304789565),s=e(1201539379),r=e(6533394955),c=e(9733150292);const o=(0,n.Ay)("Set the user-specified wide sidebar width and mode",(a,l,i)=>{let{sidebarWideWidthIntent:d,sidebarWideWidthMode:_}=i;(0,c.q9)(t.u1,d),(0,c.q9)(t.r1,_),a((0,s.hk)({sidebarWideWidthIntent:d,sidebarWideWidthMode:_})),(0,r.dispatchForClientStore)((0,s.hk)({sidebarWideWidthIntent:d,sidebarWideWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},9938554271:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(352142497),n=e(8834730594),s=e(2960290117),r=e(8040098042),c=e(1826991857),o=e(4862221402);const a=u(v=>!!(v!=null&&v.includes(t.D.SalesCreateRecord)),"looksLikeSalesforceRecordCreateId");var l=e(6471801899),i=e(8813411026),d=e(8414867410);const _={activity:t.D.ActivityList,threads:t.D.Threads,rimeto_profile:t.D.Profile,files:t.D.FileDetails,help:t.D.Help,shortcuts:t.D.KeyboardShortcuts,whats_new:t.D.WhatsNew,feedback:t.D.Feedback,comment_thread:t.D.QuipCommentThread,comment_stream:t.D.QuipCommentStream,activity_history:t.D.QuipActivityHistory,quip_automations_overview:t.D.QuipAutomationsOverview,channel_canvas:t.D.ChannelCanvas,thread:t.D.Thread,ai_summary_details:t.D.AiSummaryDetails,search_summary:t.D.SearchSummary,channel_files:t.D.ChannelFiles,ai_app:t.D.AiApp,about_ai_app:t.D.AboutAiApp,workflow_details:t.D.WorkflowDetails,list_record:t.D.ListRecord,record:t.D.Record},h=u(v=>v?(0,n.A)(v)?t.D.AppSpace:(0,s.Ay)(v)?t.D.Canvas:(0,r.A)(v)?t.D.Channel:(0,l.pI)(v)?t.D.List:(0,l.or)(v)?t.D.ListRecord:(0,i.T)(v)?(0,d.F8)(v):v&&v[0]==="V"?t.D.Threads:(0,c.A)(v)?t.D.Thread:(0,o.A)(v)?t.D.UserGroup:a(v)?t.D.SalesCreateRecord:v===t.D.BrowseCanvases?v:_[v]?_[v]:t.D.Unknown:t.D.Unknown,"convertIdToViewType")},9936094925:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>A,cB:()=>h,ds:()=>m,w9:()=>v,wg:()=>_});var t=e(9113979368),n=e(498506970),s=e(1618349278),r=e(1649982175),c=e(9139930183),o=e(3193155968),a=e(7590914282);const l=100,i={},d={persistenceEnabled:!1,storeKey:"windowHistory"};function _(y){let{windowState:p,entry:f}=y;const O=p?p.stack:[],I=(0,t.A)(O)?null:1;return{stack:[(0,n.A)(f)].concat(O).slice(0,l),index:0,previousIndex:I}}u(_,"handlePushHistoryEntryForWindow");function m(y){let{windowState:p,index:f,previousIndex:O}=y;return{stack:p.stack,index:f,previousIndex:O}}u(m,"handleUpdateIndexForWindow");function h(y){let{windowState:p,index:f}=y;return{stack:(0,s.A)(p.stack,f),index:p.index,previousIndex:null}}u(h,"handlePopHistoryAboveIndexForWindow");function v(y){let{windowState:p,entry:f}=y;const O=[...p.stack];return O[p.index]=(0,n.A)(f),{...p,stack:O}}u(v,"handleReplaceCurrentHistoryEntryForWindowInternal");const A=(0,c.Ay)({},i,d).on(a.xU,(y,p)=>{let{windowId:f,entry:O}=p;return!f||!O?y:{...y,[f]:_({windowState:y[f],entry:O})}}).on(a.aV,(y,p)=>{let{windowId:f}=p;return(0,r.A)(y,f)}).on(a.Nr,(y,p)=>{let{windowId:f,index:O,previousIndex:I}=p;return{...y,[f]:m({windowState:y[f],index:O,previousIndex:I})}}).on(a.o1,(y,p)=>{let{windowId:f,entry:O}=p;return{...y,[f]:{stack:[(0,n.A)(O)],index:0,previousIndex:null}}}).on(a.s0,(y,p)=>{let{windowId:f,index:O}=p;return y[f]?{...y,[f]:h({windowState:y[f],index:O})}:y}).on(a.iV,(y,p)=>{let{windowId:f,entry:O}=p;return y[f]?{...y,[f]:v({windowState:y[f],entry:O})}:y}).on(a.$Z,(y,p)=>{let{windowId:f,viewParams:O,index:I}=p;if(!y[f])return y;const C=[...y[f]?y[f].stack:[]];if(!C[I])return y;const{id:M,...D}=(0,n.A)(C[I]),E=D[o.mq.Primary];if(!(E!=null&&E.id))return y;const S={...D,[o.mq.Primary]:{...E,params:{...E.params,...O}}};return C[I]={id:M,...S},{...y,[f]:{...y[f],stack:C}}})},4256476552:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(9139930183),n=e(1780675971),s=e(3193155968);const r={[s.N2]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},o=(0,t.Ay)({},r,{storeKey:"window",persistenceEnabled:!1}).on(n._p,(a,l)=>{let{windowId:i=s.N2,...d}=l;if(!a[i])return a;const _={[s.N2]:{...a[s.N2]}};return _[i]={...a[i],...d},Reflect.ownKeys(a).forEach(m=>{m!==i&&d.isFocused&&(_[m]={...a[m],isFocused:!1})}),{...a,..._}}).on(n.w3,(a,l)=>{let{windowId:i=s.N2,...d}=l;return a[i]?{...a,[i]:{...a[i],isUnloading:d.isUnloading}}:a}).on(n.d1,(a,l)=>{let{windowId:i=s.N2,...d}=l;return{...a,[i]:{...a[i],...d,windowId:i}}}).on(n.pb,(a,l)=>{let{windowId:i=s.N2,...d}=l;return a[i]?{...a,[i]:{...a[i],bootType:d.bootType}}:a}).on(n.jO,(a,l)=>{let{windowId:i}=l;if(i===s.N2||!a[i])return a;const d={...a};return delete d[i],d}).on(n.NV,(a,l)=>{let{windowId:i,viewport:d}=l;return a[i]?{...a,[i]:{...a[i],viewport:d}}:a})},2802517438:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(4096483543),n=e(8414867410),s=e(5084575109),r=e(4522919696),c=e(3080748521);const a=u(l=>{if((0,t.A)()){const i=(0,c.MC)(l),d=i&&i.entityId,_=(0,n.US)(d);return(0,n.l1)(l,_)?_.id:(0,s.n)(d)?Object.keys(r.F).find(m=>r.F[m]===d):d}return l&&l.workspace&&l.workspace.primaryViewId},"getPrimaryView")},9083290776:(x,g,e)=>{"use strict";e.d(g,{Gy:()=>d,HO:()=>n,Hu:()=>o,K$:()=>a,Lo:()=>c,fw:()=>l,j0:()=>m,k0:()=>_,lH:()=>h,nG:()=>r,ne:()=>i,xW:()=>v});var t=e(2140362605);const n=(0,t.Ay)("Sets the primary view in workspace store");n.meta={name:"createAction",key:"createActionsetPrimaryViewInternal",description:"Sets the primary view in workspace store"};const s=n.getType(),r=(0,t.Ay)("Sets the secondary view in workspace store");r.meta={name:"createAction",key:"createActionsetSecondaryViewInternal",description:"Sets the secondary view in workspace store"};const c=(0,t.Ay)("Sets the flexpane origin store");c.meta={name:"createAction",key:"createActionsetFlexOriginInternal",description:"Sets the flexpane origin store"};const o=(0,t.Ay)("Sets the flexpane restore store");o.meta={name:"createAction",key:"createActionsetFlexRestoreInternal",description:"Sets the flexpane restore store"};const a=(0,t.Ay)("Sets the focused workspaces from the client-store");a.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspaces",description:"Sets the focused workspaces from the client-store"};const l=(0,t.Ay)("Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused");l.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspacesTimestamps",description:"Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused"};const i=(0,t.Ay)("Sets the props we need to re-open the last flexpane");i.meta={name:"createAction",key:"createActionsetPreviousFlexpane",description:"Sets the props we need to re-open the last flexpane"};const d=(0,t.Ay)("Sets channelDetailsOpen");d.meta={name:"createAction",key:"createActionsetChannelDetailsOpen",description:"Sets channelDetailsOpen"};const _=(0,t.Ay)("Sets flexpane highlight state");_.meta={name:"createAction",key:"createActionsetFlexpaneHighlight",description:"Sets flexpane highlight state"};const m=(0,t.Ay)("Sets flexpane section currently docked");m.meta={name:"createAction",key:"createActionsetDockedFlexpaneSection",description:"Sets flexpane section currently docked"};const h=(0,t.Ay)("Add or remove from list expanded inputs");h.meta={name:"createAction",key:"createActionsetMessageInputExpanded",description:"Add or remove from list expanded inputs"};const v=(0,t.Ay)("Sets the last tab for a given channel id");v.meta={name:"createAction",key:"createActionsetLastTabForChannelId",description:"Sets the last tab for a given channel id"}},1116859610:(x,g,e)=>{"use strict";e.d(g,{A:()=>I});var t=e(2101927269),n=e(8840779375),s=e(3750057149),r=e(6304789565),c=e(9536404279),o=e(4350638406),a=e(10127715),l=e(3521202413),i=e(8847766420),d=e(3110884894),_=e(8040098042),m=e(6739248722),h=e(2791814261),v=e(4587446194),T=e(796111729),A=e(9190452268),y=e(1284885799),p=e(3528815215),f=e(5751973043);const O=(0,r.Ay)("Add messages from history",(P,C,M)=>{let{msgs:D,channelId:E,isLimited:S,latest:k,oldest:U,hasMore:L,loading:B,forceUnreadCount:b,deleted:R=[]}=M;const z=C(),w=(0,A.Cy)({getState:C});(0,h.L)(z)&&w.mark("rmsgs_addMessagesFromHistory");const W=(0,t.A)(D,Z=>{const ie=(0,m.k)(z,{channelId:E,ts:Z.ts});return ie&&(0,T.Ay)({getState:C}).warn(`Filtering out ${Z.ts} in ${E} history response because it was deleted`),!ie}),K=S?D.filter(Z=>Z.is_beyond_free_limit).map(Z=>Z.ts):f.Ml,Y=(0,n.A)(W,"ts"),X=(0,_.A)(E)?E:(0,d.Sb)(E).channelId;X&&(0,o.mY)((0,i.ZT)(z),X,Y),P((0,a.tT)(W)),P((0,c.VG)({channelId:E,timestamps:Y,isLimited:S,blurredMessages:K,latest:k,oldest:U,hasMore:L,loading:B,forceUnreadCount:b})),(0,s.A)(B)&&P(B?(0,y.v)({channelId:E,loadingOlder:!!k}):(0,p.f)({channelId:E})),(0,h.L)(z)&&w.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),R.forEach(Z=>P((0,l.j)({deleted_ts:Z,channel:X}))),W.forEach(Z=>(0,v.IY)(C,P,Z,Z))});O.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"};const I=O},8243624171:(x,g,e)=>{"use strict";e.d(g,{Fj:()=>U,Vq:()=>k});var t=e(9706240641),n=e.n(t),s=e(6422693406),r=e(1069376685),c=e(4446301238),o=e(5274604535),a=e(5373179915),l=e(8170643398),i=e(5096647761),d=e(148278831),_=e(6536982570),m=e(2023092677),h=e(5184226701),v=e(3339229351),T=e(4327331459),A=e(4862221402),y=e(6304789565),p=e(1761027239),f=e(4761125736),O=e(8276911661),I=e(3730613858);const P=u((L,B)=>B.map(b=>b.pasted&&!b.entity?{value:b.value,entity:(0,O.nv)(L,b.value)}:b),"getMemberInfoForPastedMembers"),C=u(L=>{const B=L.entity||{};return(0,T.A)(L==null?void 0:L.value)||(0,l.NB)(B)},"isAMember"),M=u(L=>{const B=L.entity||{};return(0,A.A)(L.value)||(0,m.PH)(B)},"isAUserGroup"),D={[v.IS.ALREADY_IN_CHANNEL]:!0,[v.IS.CANNOT_INVITE_SELF]:!0,[v.IS.ALREADY_IN_CHANNEL_UG]:!0},E={},S=u(L=>{let{shouldPreserve:B,teamId:b}=L;E[b]=B},"setShouldPreserveModalsOnNavigation"),k=u(L=>{let{teamId:B}=L;return E[B]},"getShouldPreserveModalsOnNavigation"),U=(0,y.Ay)("Add users and user groups to channel",function(){var L=(0,t.coroutine)(function*(B,b,R){let{selectedMembers:z,addMemberMode:w,channel:W,keepChannelHistory:K,teamId:Y,shouldSkipInitialStage:X}=R;const Z={channelId:W.id,force:!0,reason:"submit-invite-channel-invite-modal"};let ie,Ae;if(w===r.D.AllMembers)Z.inviteAll=!0,ie=[],Ae=[];else{const ge=P(b(),z),ne=(0,o.A)(b(),W),ee=(0,a.R)(b(),W);ie=ge.reduce((F,H)=>{if(H&&C(H)&&H.entity){const j=H,N=(0,I.Sv)(b(),W.id,j.value);if(!N.isKnown||!N.isMember){const J=(0,_.dQ)(j.entity),le=(0,d.S)(b(),j.entity,W);(ee||(0,i.g)(j.entity)&&J&&ne.includes(J)||le)&&F.push(j.value)}}return F},[]),Z.users=ie.join(","),Ae=z.reduce((F,H)=>(H&&M(H)&&F.push(H.value),F),[]),Z.subteams=Ae.join(",")}const ae=Z.inviteAll||!!Z.users||!!Z.subteams,V=(0,f._Z)(b(),"shared_channel_invite_requested_event")==="on",ve={addedExistingMembers:ae,userInviteResults:ie.map(ge=>({ok:!0,invitee:ge,inviteeType:h.T0.User,accessType:h.BD.Member,error:""})),groupInviteResults:Ae.map(ge=>({ok:!0,invitee:ge,inviteeType:h.T0.UserGroup,accessType:h.BD.Member})),newChannelId:void 0};let be;try{if(K)ae&&(yield B((0,c.Cw)(Z)).then(ge=>{const{requested_invites:ne=[]}=ge;be=ne}),V&&(ve.userInviteResults=ve.userInviteResults.map(ge=>{const ne=be.find(ee=>ee.user_id===ge.invitee);return{...ge,accessType:ne?h.BD.SharedChannel:ge.accessType,inviteeType:ne?h.T0.Email:ge.inviteeType,...V&&{isRequestedInvite:!!ne}}})));else{S({shouldPreserve:!X,teamId:Y}),Z.propagateInviteResult=!0;const{channel:ge}=yield B((0,p.t)(Z));ve.newChannelId=ge.id,S({shouldPreserve:!1,teamId:Y})}}catch(ge){var Ue;S({shouldPreserve:!1,teamId:Y});const ne=ge==null||(Ue=ge.data)===null||Ue===void 0?void 0:Ue.errors;if(!ne){var Re;if(!D[ge==null||(Re=ge.data)===null||Re===void 0?void 0:Re.error])throw ge}ne==null||ne.forEach(ee=>{if(D[ee.error])return;const F=ve.userInviteResults.filter(j=>j.invitee===ee.user);if(F.length)F[0].ok=!1,F[0].error=ee.error;else if(z.length===1&&!ee.user&&X){var H;ve.userInviteResults=[{ok:!1,invitee:(H=z[0])===null||H===void 0?void 0:H.value,inviteeType:h.T0.User,error:ee.error,accessType:h.BD.Member}]}else ve.userInviteResults.push({ok:!1,invitee:ee.user,inviteeType:h.T0.User,error:ee.error,accessType:h.BD.Member})})}return s.S.resolve(ve)});return function(B,b,R){return L.apply(this,arguments)}}());U.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},8854307618:(x,g,e)=>{"use strict";e.d(g,{r:()=>o});var t=e(6304789565),n=e(8620339321),s=e(6533394955),r=e(6695353875),c=e(4326266690);const o=(0,t.Ay)("Go back in history",(a,l)=>{const i=l();if((0,r.yZ)(i)){(0,c.ud)((0,s.getStateForClientStore)())||(0,s.dispatchForClientStore)((0,n.oX)());return}window.history.back()});o.meta={name:"createThunk",key:"createThunkgoBackInWindowHistory",description:"Go back in history"}},7606925238:(x,g,e)=>{"use strict";e.d(g,{h:()=>s});var t=e(6304789565),n=e(6695353875);const s=(0,t.Ay)("Go forward in history",(r,c)=>{const o=c();(0,n.yZ)(o)||window.history.forward()});s.meta={name:"createThunk",key:"createThunkgoForwardInWindowHistory",description:"Go forward in history"}},8496310524:(x,g,e)=>{"use strict";e.d(g,{I:()=>c,u:()=>r});var t=e(5751973043),n=e(7969244833),s=e(9101533895);const r=u(o=>(o==null?void 0:o.name)||"","getActionName"),c=u((o,a,l)=>{const i=!l;let d=t.Ml;if(l){const _=(0,s.OL)(o,l);d=_&&(0,n.f)(o,_)||t.Ml}return a.teams&&(d.length||i)&&!a.isWorkspaceAgnostic?i?a.teams:a.teams.filter(m=>d.includes(m)):t.Ml},"getActionRelatedWorkspaces")},3982416567:(x,g,e)=>{"use strict";e.d(g,{O4:()=>r,OB:()=>o});var t=e(937317117),n=e(5597672932);const s="canvas_version_history_enabled",r=u(a=>(0,n.xp)(a,s),"getCanvasVersionHistoryEnabledTeamPref"),c=u((a,l)=>{const i=(0,t.Lp)(a,l);return i?i.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),o=u((a,l)=>l?!!r(a)&&!!c(a,l):!1,"isCanvasVersionHistoryEnabled")},2063075339:(x,g,e)=>{"use strict";e.d(g,{Z:()=>r});var t=e(1407713935),n=e(6007206761),s=e(6113051341);const r=u((c,o)=>!(0,t.JM)(o)&&!(0,n.F)(o)&&!(0,s.N)(o),"canBeExternallyShared")},2912967402:(x,g,e)=>{"use strict";e.d(g,{B2:()=>a,Bw:()=>v,CM:()=>m,FA:()=>i,Jr:()=>h,Kg:()=>f,QS:()=>o,Vp:()=>y,bS:()=>p,bw:()=>l,oP:()=>_});var t=e(3078252698),n=e(4724591729),s=e(796111729),r=e(735940183);const c=new r.Ay("channels"),o=250,a=250;function l(I){return(0,t.A)(I)?I.length>o:((0,n.Cu)()&&(0,s.Wo)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}u(l,"channelTopicExceedsLimit");const i="too_long",d="restricted_action",_="user_is_restricted",m="method_not_supported_for_channel_type",h="method_not_supported_for_dm";function v(I){switch(I){case i:return c.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:o});case d:case _:return c.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case m:return c.t("It\u2019s not possible to set a topic here, unfortunately.");case h:return c.t("Regrettably, direct messages do not have topics.");default:return c.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}u(v,"getChannelTopicError");const T="too_long",A="restricted_action",y="user_is_restricted",p="method_not_supported_for_channel_type",f="method_not_supported_for_dm";function O(I){switch(I){case T:return c.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:a});case A:case y:return c.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case p:return c.t("It\u2019s not possible to set a purpose here, unfortunately.");case f:return c.t("Regrettably, direct messages do not have purposes.");default:return c.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}u(O,"getChannelPurposeError")},4559887502:(x,g,e)=>{"use strict";e.d(g,{i:()=>s});var t=e(9884588328),n=e(1407713935);const s=u((r,c)=>{if((0,n.JM)(c)||!r)return!1;const o=(0,t.mG)(c),a=o?r.get(o):null;return a?(a==null?void 0:a.length)>1:!1},"doesChannelHaveNonUniqueName")},7868634217:(x,g,e)=>{"use strict";e.d(g,{Z:()=>l,Y:()=>i});var t=e(8921478798),n=e(8276911661),s=e(3037015781),r=e(9262712126);function c(d,_,m){const h=!m;var v;const T=(v=(0,n.nv)(d,_,{preferNonExistentToNull:!1,fetchIfMissing:h}))!==null&&v!==void 0?v:void 0;return!T||m&&(0,s.mX)(T)?_:(0,r.wg)(T)}u(c,"getRealMemberNameById");var o=e(5751973043),a=e(8701485242);const l=u((d,_)=>_?_.map(m=>({id:m,name:(0,t.I)(d,m)})).sort((m,h)=>(0,a.Ay)(m.name,h.name)).map(m=>m.id):o.Ml,"getAlphabeticallySortedMemberIds"),i=u((d,_)=>!_||!_.length?o.Ml:_.map(m=>({id:m,name:c(d,m)})).sort((m,h)=>(0,a.Ay)(m.name,h.name)).map(m=>m.id),"getRealNameAlphabeticallySortedMemberIds")},6045879501:(x,g,e)=>{"use strict";e.d(g,{H:()=>t});function t(n){return n&&n.emoji}u(t,"getEmojiCollectionEmoji")},370406050:(x,g,e)=>{"use strict";e.d(g,{M:()=>t});function t(n){return n&&n.name}u(t,"getEmojiCollectionName")},5071545805:(x,g,e)=>{"use strict";e.d(g,{j:()=>t});function t(n){return n&&n.installed}u(t,"isEmojiCollectionInstalled")},3890290905:(x,g,e)=>{"use strict";e.d(g,{Y:()=>t});const t=u(n=>n&&n.name,"getEmojiName")},4282439381:(x,g,e)=>{"use strict";e.d(g,{x:()=>n});var t=e(4761125736);const n=u(s=>(0,t._Z)(s,"a11y_emoji_group")==="on","isEmojiGroupEnabled")},9362126998:(x,g,e)=>{"use strict";e.d(g,{$R:()=>k,BM:()=>Re,DC:()=>W,JC:()=>L,Jn:()=>ae,Kj:()=>Z,NG:()=>Ue,RI:()=>X,UF:()=>b,Wg:()=>Ae,cG:()=>K,hP:()=>w,lL:()=>ve,p4:()=>ge,qh:()=>be,rY:()=>z,y0:()=>ie,yD:()=>B});var t=e(9113979368),n=e(8840779375),s=e(1703559452),r=e(2384831516),c=e(1316483933),o=e(571104883),a=e(5795074931),l=e(9101533895),i=e(8455301571),d=e(7606781622),_=e(5597672932),m=e(8276911661),h=e(3534324375),v=e(937317117),T=e(4827886670),A=e(340763958),y=e(3110884894),p=e(2647703359),f=e(1257883628),O=e(4702704067),I=e(9884588328),P=e(9536443280),C=e(735940183),M=e(5751973043),D=e(3207321841),E=e(6946629059);const S=new C.Ay("stories_av"),k=u((ne,ee)=>{const F=!!ee&&(0,A.ju)(ee);let H=!0;return F?H=(0,_.xp)(ne,"allow_video_clips")&&(0,_.xp)(ne,"allow_video_clip_sharing_slack_connect"):H=(0,_.xp)(ne,"allow_video_clips"),H},"isVideoClipSharingEnabledForChannel"),U=u((ne,ee,F)=>{const H=(0,l.OL)(ne,ee),j=k(ne,H);return(!ee||!F&&(0,T.E)(ne,ee)||!!F&&(0,I.NI)(ne,H))&&j},"canDestinationReceiveVideoClips"),L=u((ne,ee,F)=>U(ne,ee,F),"canPostVideoClipInDestination"),B=u((ne,ee,F)=>U(ne,ee,F)&&L(ne,ee,F)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),b=u((ne,ee)=>{const F=!!ee&&(0,A.ju)(ee);let H=!0;return F?H=(0,_.xp)(ne,"allow_audio_clips")&&(0,_.xp)(ne,"allow_audio_clip_sharing_slack_connect"):H=(0,_.xp)(ne,"allow_audio_clips"),H},"isAudioClipSharingEnabledForChannel"),R=u((ne,ee,F)=>{const H=(0,l.OL)(ne,ee),j=b(ne,H);return(!ee||!F&&(0,T.E)(ne,ee)||!!F&&(0,I.NI)(ne,H))&&j},"canDestinationReceiveAudioClips"),z=u((ne,ee,F)=>R(ne,ee,F),"canPostAudioMessageInDestination"),w=u((ne,ee,F)=>R(ne,ee,F)&&z(ne,ee,F)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),W=u((ne,ee)=>{if(!ae(ee))return!0;const F=(0,_.xp)(ne,"allow_clip_downloads"),H=(0,a.WR)(ne),j=(0,c.qc)(ne,H);if(F==="anyone"||j)return!0;const N=ee.user!==null&&ee.user===H;return!!(F==="creator_and_admins"&&N)},"canDownloadClip"),K=u((ne,ee)=>W(ne,ee)||(0,o.y3)(),"canOpenClipInNewWindow"),Y=(0,r.Mz)((ne,ee)=>{if(!ee)return!1;if((0,t.A)(ee.files))return M.Ml;const F=(0,n.A)(ee.files,H=>(0,v.Lp)(ne,H));return(0,s.A)(F,f.A)});Y.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(ne,ee)=>{if(!ee)return!1;if((0,t.A)(ee.files))return M.Ml;const F=(0,n.A)(ee.files,H=>(0,v.Lp)(ne,H));return(0,s.A)(F,f.A)}};function X(ne){let{state:ee,threadKey:F,includeAllMessages:H=!1,startTs:j}=ne;const{channelId:N,threadTs:J}=(0,y.Sb)(F),{timestamps:le,reachedStart:ce,reachedEnd:Ee}=(0,i.r7)(ee,F,j||J)||{},ye=le!=null&&le.length&&N?le.map(Ie=>(0,d.Ld)(ee,N,Ie)).filter(E.b):[];return{messages:H?ye:ye.filter(Ie=>Y(ee,Ie)),reachedStart:!!ce,reachedEnd:!!Ee}}u(X,"getMediaThread");function Z(ne){var ee;return ne!=null&&ne.vtt?P.D.available:(ne==null||(ee=ne.transcription)===null||ee===void 0?void 0:ee.status)==="processing"?P.D.processing:P.D.none}u(Z,"getCaptionsAvailability");const ie=u(ne=>(0,_.xp)(ne,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function Ae(ne,ee){let F="";if(ee.user){const j=(0,m.nv)(ne,ee.user);F=j?(0,h.sE)(ne,j):""}let H;return F?H=(0,O.A)(ee)?S.t("Audio clip from {memberName}",{memberName:F}):S.t("Video clip from {memberName}",{memberName:F}):H=(0,O.A)(ee)?S.t("Audio clip"):S.t("Video clip"),H}u(Ae,"getLabelForClip");function ae(ne){return ne!=null&&ne.subtype?V(ne.subtype):!1}u(ae,"isClip");function V(ne){let{clipsSubtypes:ee=D.Y1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ee.includes(ne)}u(V,"isClipsSubtype");function ve(ne){return ne===D.iN}u(ve,"isAudioClipSubtype");function be(ne){return ne&&ne.some(ee=>V(ee.subtype))}u(be,"containsClip");function Ue(ne){return ne?ne.filter(ee=>V(ee.subtype)):[]}u(Ue,"findClips");function Re(ne,ee){const F=(0,a.WR)(ne);return(ee==null?void 0:ee.user)===F}u(Re,"canRemoveTranscriptPreview");function ge(ne){return(0,p.pI)(ne)?(ne==null?void 0:ne.aac)||(ne==null?void 0:ne.url_private):(ne==null?void 0:ne.mp4)||(ne==null?void 0:ne.url_private)}u(ge,"getMediaSrc")},102566929:(x,g,e)=>{"use strict";e.d(g,{Fh:()=>i,Iz:()=>l,gC:()=>a});var t=e(8161242485),n=e(937317117),s=e(497761763),r=e(6078549397),c=e(2823938397);const o=(0,t.Ay)((d,_)=>{const{fileIdOrQuipThreadId:m}=(0,r.EX)(_);if((0,s.A)(m)){var h;return(h=(0,n.Lp)(d,m))!==null&&h!==void 0?h:null}return null});o.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(d,_)=>{const{fileIdOrQuipThreadId:m}=(0,r.EX)(_);if((0,s.A)(m)){var h;return(h=(0,n.Lp)(d,m))!==null&&h!==void 0?h:null}return null}};const a=(0,t.Ay)((d,_)=>{const m=o(d,_);return m&&(0,c.uz)(m)?m:null});a.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(d,_)=>{const m=o(d,_);return m&&(0,c.uz)(m)?m:null}};function l(d){return d.linked_channel_id}u(l,"getLinkedChannelId");function i(d){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(d)}u(i,"isSampleCanvas")},7148679525:(x,g,e)=>{"use strict";e.d(g,{eY:()=>M,QX:()=>S,dL:()=>D,oG:()=>k,Lz:()=>E,L7:()=>z,J5:()=>R,XH:()=>U,nY:()=>L});var t=e(2837660778),n=e(1340402138),s=e(7969244833),r=e(3792998666),c=e(8323393403),o=e(6839188756),a=e(9950739645),l=e(7112191091),i=e(6693783993),d=e(4761125736),_=e(9951956014),m=e(8289365785);function h(w){return w&&{...w,type:(0,m.A)(w==null?void 0:w.type)==="owner"?["org_admin"]:["admin"]}}u(h,"mapToWhoCanStyle");function v(w,W){return(0,_.g)(w,"who_can_manage_guests",[W],h)}u(v,"canUserDoManageGuestsTeamPrefForTeamId");const T={mapToWhoCanStyle:h};var A=e(5795074931);const y=u((w,W)=>{if((0,d._Z)(w,"light_read_who_can_manage_guests_pref_migration")==="on"){const Y=(0,A.TZ)(w);return W&&Y?(0,i.l0)(w).includes(W.id):(0,i.mZ)(w)}return W?(0,o.r7)(W)?v(w,W.id)||!1:(0,l.Me)(w,W.id):!1},"canUserInviteGuests");var p=e(5184226701),f=e(504058561),O=e(9101533895),I=e(8276911661),P=e(5597672932),C=e(3677514771);function M(w){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const K=(0,I.cA)(w),Y=W??(0,C.H7)(w);if(!Y)return!1;const X=(0,l.Me)(w,Y.id),Z=(0,i.tx)(w,{teamOrEnterpriseIds:[Y.id]});return X||Z?!0:(0,r.P)(K)?!1:(0,P.xp)(w,"invites_only_admins",W==null?void 0:W.id)?y(w,Y):!0}u(M,"canUserInviteMembersToWorkspace");function D(w,W,K){const Y=W||(0,I.cA)(w),X=K||(0,C.H7)(w);return!(!X&&!X||(0,r.P)(Y)||!(0,P.xp)(w,"invite_requests_enabled",X.id))}u(D,"canUserRequestToInvite");function E(w){const W=(0,I.cA)(w),K=(0,C.H7)(w);return!K||(0,n.R)(w)?!1:(0,o.r7)(K)?!!(0,t.Mo)(w).filter(X=>D(w,W,X)||M(w,X)).length:!!(D(w,W,K)||M(w))}u(E,"canUserSeeInviteModal");function S(w,W){const K=(0,C.H7)(w);if(!K)return!1;const Y=(0,O.OL)(w,W),X=(0,o.tc)(K),Z=(0,o.r7)(K),ie=(0,c.D7)(w,W),Ae=Z?!L(w,Y):E(w);return X&&Ae||!X&&(Ae||ie)}u(S,"canUserInviteToChannelByEmail");function k(w,W){const K=(0,I.cA)(w),Y=W?(0,C._J)(w,W):(0,C.H7)(w);return!Y||(0,o.tc)(Y)?!1:D(w,K,Y)?!0:y(w,Y)}u(k,"canUserSeeAccountTypeOptions");function U(w,W){let{ignoreGuestSettings:K}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Y=(0,I.cA)(w),X=W?(0,C._J)(w,W):(0,C.H7)(w);if(!(0,o.r7)(X))return!1;const Z=(0,l.Me)(w,X.id),ie=(0,i.tx)(w,{teamOrEnterpriseIds:[X.id]});return Z||ie||!(0,P.xp)(w,"invites_only_admins",X.id)||D(w,Y,X)?!1:K?!0:y(w,X)}u(U,"shouldDisableFullMemberInviteOption");function L(w,W){const K=(0,s.f)(w,W);return!!(K!=null&&K.every(Y=>U(w,Y,{ignoreGuestSettings:!0})))}u(L,"shouldDisableFullMemberInviteOptionForChannel");function B(w){let{state:W,team:K,inviteType:Y}=w,X=K;if(!K&&(X=getCurrentTeam(W),!X))return!1;const Z=getTeamPref(W,"auth_mode"),ie=Z==="google"||Z==="saml";return isEnterpriseOrEnterpriseWorkspace(X)&&Y===AccessType.Member||ie&&getTeamPref(W,"sso_auth_restrictions")===0}u(B,"shouldShowSsoAlert");function b(w){let{state:W,inviteType:K}=w;const Y=getTeamPref(W,"auth_mode"),X=getTeamPref(W,"sso_auth_restrictions");return Y==="google"?K===AccessType.Member&&(X===0||X===1)||(K===AccessType.MultiChannelGuest||K===AccessType.SingleChannelGuest)&&X===0:!1}u(b,"shouldShowGoogleDomainsNotice");function R(w){let{state:W,inviteType:K,team:Y}=w;if(!K||!(0,p.LX)(K))throw new Error(`Invalid invite type: ${K}`);const X=Y||(0,C.H7)(W);if(!X||(0,a.N)(Y))return!1;const Z=(0,P.xp)(W,"invites_only_admins",X==null?void 0:X.id),ie=(0,l.Me)(W,X.id),Ae=(0,i.tx)(W,{teamOrEnterpriseIds:[X.id]}),ae=y(W,X);switch(K){case p.BD.Member:return ie||Ae?!1:!!Z;case p.BD.MultiChannelGuest:case p.BD.SingleChannelGuest:return!ae;default:return!0}}u(R,"isRequestingInvitesForType");function z(w){let{state:W}=w;const K=(0,C.H7)(W);return(0,f.z$)()?!0:(0,o.r7)(K)?!!(0,P.xp)(W,"hide_gsuite_invite_option"):!1}u(z,"isGoogleDirectoryDisabled")},9438480351:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(9101533895),n=e(9884588328);function s(r,c){const o=(0,t.Pu)(r,c&&c.id);return o?(0,n.$M)(o):null}u(s,"getImUnreadCountByMember")},9541658228:(x,g,e)=>{"use strict";e.d(g,{P:()=>o});var t=e(2003990933),n=e(5096647761),s=e(8847766420),r=e(6536982570),c=e(8170643398);function o(a,l){if(!a||!l||(0,n.g)(l))return!1;const i=(0,r.QI)(l);return(0,c.dk)(l)&&(i===(0,s.jV)(a)||i===(0,t.A)(l,"enterprise_user.enterprise_id"))}u(o,"isMemberFromOrg")},148278831:(x,g,e)=>{"use strict";e.d(g,{S:()=>l});var t=e(918457931),n=e(2298581483),s=e(6536982570),r=e(5096647761),c=e(2003903489),o=e(9541658228),a=e(893266994);const l=u((i,d,_)=>{if((0,r.g)(d))return!1;if((0,o.P)(i,d)){if((0,c.S)(_))return!0;if((0,t.t)(_))return(0,n.R)(i,_).some(v=>(0,s.nO)(d,v))}const m=(0,a.c)(_);return(0,s.nO)(d,m)},"isMemberOnSomeChannelWorkspace")},863407566:(x,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(8455301571),n=e(2155512519),s=e(7606781622),r=e(3730613858),c=e(5795074931),o=e(8276911661),a=e(8170643398),l=e(4562579337),i=e(7334104107),d=e(9187449049),_=e(7616363684),m=e(1794107122),h=e(9290914927),v=e(1809170903);const T=23;function A(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max((0,n.UL)(),f),I=arguments.length>4?arguments[4]:void 0;if(!(0,t.si)(y,p))return[];const P=(0,t.r7)(y,p);if(!P||!P.timestamps)return[];const C=(0,s.h8)(y,p),M=P.timestamps.slice(-O),D=(0,c.WR)(y);let E=[],S=[],k=!1;const U=[],L=[],B=[],b=[],R=[],z=[];let w=!1;for(let K=M.length-1;K>=0;K--){const Y=C[M[K]],X=(0,i.Hr)(Y);if(!X)continue;if(I&&X===D){w=!0;continue}if(!(I?U.includes(X)||B.includes(X)||R.includes(X):E.includes(X))&&!(0,_.A)(Y)&&(0,d.A)(Y,D)){const ie=(0,r.Sv)(y,p,X),Ae=(0,o.nv)(y,X);if(k||(k=!(ie!=null&&ie.isKnown)||(0,a.t8)(Ae)),!k&&(ie!=null&&ie.isKnown)&&(ie!=null&&ie.isMember)&&!(0,l.A)(Ae)&&!(0,a.oy)(Ae)){if(I){if((0,h.gd)(y,X)==="active"?(0,v.Vd)(y,X)?(B.push(X),b.push(Ae)):(U.push(X),L.push(Ae)):(R.push(X),z.push(Ae)),L.length===f||B.length+z.length===T-f)break}else if(E.push(X),S.push(Ae),S.length===f)break}}}if(k)return[];if(I&&(L.length===f?(S=L,E=U):(S=L.concat(b.slice(0,f-L.length)),E=U.concat(B.slice(0,f-R.length)),S.length<f&&(S=S.concat(z.slice(0,f-L.length)),E=E.concat(R.slice(0,f-R.length))))),S.length>=f)return S;const W=(0,m.$)(y,p);if(!W.length)return[];for(let K=0;K<W.length;K++){const Y=W[K];if(Y&&!E.includes(Y)&&(I&&Y===D?w=!0:(E.push(Y),S.push((0,o.nv)(y,Y)))),S.length===f)break}return S.length===0&&w&&(E.push(D),S.push((0,o.nv)(y,D))),S}u(A,"getLastNRelevantMembersInChannel")},7616363684:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(7334104107),n=e(3339229351);function s(r){return(0,t.Hr)(r)===n.Q$}u(s,"isSlackbotMessage")},9951956014:(x,g,e)=>{"use strict";e.d(g,{L:()=>i,g:()=>a});var t=e(9507365519),n=e(1328783052),s=e(8847766420),r=e(7969244833),c=e(9101533895),o=e(497537177);const a=u((d,_,m,h)=>{if((0,o.X)(d))return!0;const v=(0,t.p)(d,_,m);return Object.entries(v).map(T=>{let[A,y]=T;return[A,h(y)]}).some(T=>{let[A,y]=T;return(0,n.Ic)(d,y,A)})},"canUserDoCustomTeamPrefForTeamIds"),l=u((d,_,m,h)=>{if(!m)return!1;const v=(0,r.f)(d,m);return v?a(d,_,v,h):!1},"canUserDoCustomTeamPrefForChannel"),i=u(d=>({getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:(_,m)=>(0,s.VO)(_).filter(v=>a(_,m,[v],d)),canUserDoCustomTeamPrefInSomeWorkspace:(_,m)=>{const h=(0,s.VO)(_);return a(_,m,h,d)},canUserDoCustomTeamPrefForChannel:(_,m,h)=>l(_,m,h,d),canUserDoCustomTeamPrefForChannelById:(_,m,h)=>{const v=(0,c.OL)(_,h);return l(_,m,v,d)}}),"createUserCanDoCustomTeamPrefRules")},3683888369:(x,g,e)=>{"use strict";e.d(g,{l:()=>r});var t=e(1552255081),n=e(6839188756),s=e(3677514771);const r=u(c=>(0,t.F)(c)&&!(0,n.tc)((0,s.H7)(c)),"teamCanCreateStandaloneCanvas")},5757070316:(x,g,e)=>{"use strict";e.d(g,{J:()=>s});var t=e(78546762),n=e(1802262330);const s=u((r,c)=>{var o,a;let l,i,d;r&&(r.subtype==="file_comment"?[i,l]=["file_comment",r.comment]:(0,t.A)(r.subtype)?[i,l]=["file",c]:[i,l,d]=["message",r,r.channel]);const _=i==="message"?(o=l)===null||o===void 0?void 0:o.ts:(a=l)===null||a===void 0?void 0:a.id;return l&&(l._rxn_key||(0,n.B)(i,_,d))},"getReactionKey")},9001455011:(x,g,e)=>{"use strict";e.d(g,{t:()=>s});var t=e(8161242485),n=e(9889493721);const s=(0,t.Ay)(r=>!((0,n.Bf)(r)||!(0,n.pr)(r)));s.meta={name:"createSelector",key:"createSelectorshouldShowAppsLink",description:r=>!((0,n.Bf)(r)||!(0,n.pr)(r))}},2585735826:(x,g,e)=>{"use strict";e.d(g,{R:()=>i});var t=e(1407713935),n=e(6113051341),s=e(340763958);const r=u((d,_)=>!(0,t.JM)(_)&&(0,s.ju)(_)&&!(0,n.N)(_),"canBeDisconnected");var c=e(1359849784),o=e(6839188756),a=e(6025726268),l=e(3677514771);function i(d,_){if(_&&!r(d,_))return!1;if(_&&(0,a.M)(d,_))return!0;const m=(0,l.H7)(d);return(0,o.tc)(m)?!0:(0,c.I)(d,_)}u(i,"canUserDisconnectExternalSharedChannel")},4803097854:(x,g,e)=>{"use strict";e.d(g,{RY:()=>i,cG:()=>c,l6:()=>l});var t=e(7358758030),n=e(1650729052),s=e(5861086925),r=e(6841796315);const c={RestrictedAction:Symbol("restricted_action"),CanCreateExternalLimitedPref:Symbol("can_create_external_limited_pref"),WhoCanCreateExternalLimitedPref:Symbol("who_can_create_external_limited_pref")},o={ok:!1,reason:c.CanCreateExternalLimitedPref},a={ok:!1,reason:c.WhoCanCreateExternalLimitedPref},l=u(d=>{if(!(0,t.i)(d))return o;const m=s.yY.WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE;return(0,n.y)(d,m)?r.O:a},"canUserInviteExternalLimitedMembersWithReason"),i=u(d=>l(d).ok,"canUserInviteExternalLimitedMembers")},8323393403:(x,g,e)=>{"use strict";e.d(g,{D7:()=>f,JO:()=>A,NU:()=>p,wi:()=>_});var t=e(6027162153),n=e(2063075339),s=e(1407713935),r=e(7969244833),c=e(5455782105),o=e(3916100664),a=e(6839188756),l=e(6841796315),i=e(9101533895),d=e(3677514771);const _={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},m={ok:!1,reason:_.InvalidParams},h={ok:!1,reason:_.FreeTeam},v={ok:!1,reason:_.CannotRequest},T={ok:!1,reason:_.InvalidChannel},A=u((O,I)=>{if(!(0,s.jq)(I))return m;const P=(0,c.k)(O),C=(0,a.qR)((0,d.H7)(O));if(!P&&!C)return h;const D=(0,o.lR)(O,{mustEveryWorkspaceBeAllowed:!0,teamIds:(0,r.f)(O,I)});return!(D!=null&&D.ok)&&(0,t.A)(D==null?void 0:D.reasons,o.jM.UserCannotCreateChannel,o.jM.AllowedWorkspacePref).length>0?v:(0,n.Z)(O,I)?l.O:T},"canUserInviteExternalMembersToChannelWithReason"),y=u((O,I)=>{const C=(0,i.OL)(O,I,!1);return C?A(O,C):m},"canUserInviteExternalMembersToChannelWithReasonById"),p=u((O,I)=>A(O,I).ok,"canUserInviteExternalMembersToChannel"),f=u((O,I)=>y(O,I).ok,"canUserInviteExternalMembersToChannelById")},3916100664:(x,g,e)=>{"use strict";e.d(g,{jM:()=>f,Tc:()=>C,lR:()=>P});var t=e(5455782105),n=e(4803097854),s=e(2643151579),r=e(6839188756),c=e(6992769897),o=e(9087248458),a=e(5980399196),l=e(3071940241),i=e(8359728598),d=e(4761125736);const _=(0,i.A)((M,D)=>{const{teams:E,value:S}=D;switch(S){case"ONLY_SELECTED":return(0,o.A)(M,E).length===M.length;case"ALL_EXCEPT_SELECTED":return(0,a.A)(M,E).length===M.length;default:return!0}},2);function m(M){let{slackConnectAllowedWorkspacesPref:D,teamIds:E}=M;return E!=null&&E.length?_(E,D):!1}u(m,"isEveryTargetWorkspaceAllowedToHaveSharedChannelsStateless");function h(M,D){return!(0,t.k)(M)||(0,d._Z)(M,"sc_allowed_workspaces_pref_override")==="on"?!0:m({slackConnectAllowedWorkspacesPref:(0,l.a)(M),teamIds:D})}u(h,"isEveryTargetWorkspaceAllowedToHaveSharedChannels");var v=e(1507833885),T=e(3559837422),A=e(8847766420),y=e(3677514771);const p={ok:!0},f={...n.cG,...s.Xg,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),FreeTeam:Symbol("free_team"),NoOneCanManagePref:Symbol("who_can_manage_ext_shared_channels_pref_no_one"),UserCannotCreateChannel:Symbol("create_channel_restricted_action"),AllowedWorkspacePref:Symbol("slack_connect_allowed_workspaces_pref")},O=u((M,D,E)=>D?(0,v._t)(M,E):(0,v.Uq)(M,E),"channelCreationChecker"),I=u((M,D,E)=>D?h(M,E):(0,c.A)(M,E),"allowedWorkspacesChecker"),P=u(function(M){let{mustEveryWorkspaceBeAllowed:D,teamIds:E}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const S=[],k=(0,y.H7)(M),U=(0,t.k)(M),L=(0,r.qR)(k),B=!U&&!L;if((0,T.AB)(M)||(0,T.sV)(M))return S.push(f.UserIsRestricted),{ok:!1,reasons:S};var b;const R=(b=E??(0,A.kN)(M))!==null&&b!==void 0?b:[];O(M,D,R)||S.push(f.UserCannotCreateChannel),I(M,D,R)||S.push(f.AllowedWorkspacePref),B&&S.push(f.FreeTeam);const z=(0,n.l6)(M),w=(0,s._d)(M);return!z.ok&&!w.ok&&S.push(z.reason,w.reason),S.length>0?{ok:!!B,reasons:S}:p},"canUserInviteExternalMembersWithReason"),C=u((M,D)=>P(M,D).ok,"canUserInviteExternalMembers")},2643151579:(x,g,e)=>{"use strict";e.d(g,{Xg:()=>c,_d:()=>l,ml:()=>i});var t=e(5225510813),n=e(1650729052),s=e(5861086925),r=e(6841796315);const c={RestrictedAction:Symbol("restricted_action"),CanCreateExternalUnlimitedPref:Symbol("can_create_slack_connect_channel_pref"),WhoCanCreateExternalUnlimitedPref:Symbol("who_can_create_slack_connect_channel_pref")},o={ok:!1,reason:c.CanCreateExternalUnlimitedPref},a={ok:!1,reason:c.WhoCanCreateExternalUnlimitedPref},l=u(d=>{if(!(0,t.C)(d))return o;const m=s.yY.WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE;return(0,n.y)(d,m)?r.O:a},"canUserInviteExternalUnlimitedMembersWithReason"),i=u(d=>l(d).ok,"canUserInviteExternalUnlimitedMembers")},1359849784:(x,g,e)=>{"use strict";e.d(g,{I:()=>f,r:()=>p});var t=e(7174777686),n=e(9087248458),s=e(9884588328),r=e(1407713935),c=e(5455782105),o=e(7224980887),a=e(3792998666),l=e(5861086925),i=e(5331698805),d=e(6839188756),_=e(7112191091),m=e(5510392579),h=e(4761125736),v=e(8276911661),T=e(6693783993),A=e(3677514771),y=e(598369692);function p(O){const I=(0,h._Z)(O,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",P=(0,A.H7)(O);if(I)return(0,d.tc)(P)?!1:(0,T.Du)(O);const C=(0,v.cA)(O),M=(0,i.u)(O);if(!(M!=null&&M.value))return!1;if((0,c.k)(O)){let D=[];switch(M.value){case l.GX.ALL_ADMINS_AND_OWNERS:return(0,_.EC)(O)||(0,o.n5)(C)||(0,o.rr)(C);case l.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,o.n5)(C)||(0,o.rr)(C)?!0:(D=(0,y.QF)(O),!!((0,t.A)(M.users,C==null?void 0:C.id)||(0,n.A)(M.userGroups,D).length));case l.GX.EVERYONE:return!(0,a.Ez)(C);case l.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,o.n5)(C)||(0,o.rr)(C)}}if((0,d.qR)(P))switch(M.value){case l.GX.TOPLEVEL_OWNERS:return(0,m.p2)(O);case l.GX.EVERYONE:return!(0,a.Ez)(C);case l.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,m.p2)(O)||(0,m.Zo)(O)}return!1}u(p,"canUserManageExternalSharedChannels");function f(O,I){const P=(0,h._Z)(O,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",C=(0,A.H7)(O);if(P){if((0,d.tc)(C)||!(0,r.jq)(I))return!1;const E=(0,s.FB)(I);return(0,T.Du)(O,{channelId:E})}const M=(0,v.cA)(O),D=(0,i.u)(O);if(!(D!=null&&D.value))return!1;if((0,c.k)(O)){let E=[];switch(D.value){case l.GX.ALL_ADMINS_AND_OWNERS:return(0,_.S4)(O,I);case l.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,o.n5)(M)||(0,o.rr)(M)?!0:(E=(0,y.QF)(O),!!((0,t.A)(D.users,M==null?void 0:M.id)||(0,n.A)(D.userGroups,E).length));case l.GX.EVERYONE:return!(0,a.Ez)(M);case l.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,o.n5)(M)||(0,o.rr)(M)}}if((0,d.qR)(C))switch(D.value){case l.GX.TOPLEVEL_OWNERS:return(0,m.p2)(O);case l.GX.EVERYONE:return!(0,a.Ez)(M);case l.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,m.p2)(O)||(0,m.Zo)(O)}return!1}u(f,"canUserManageSlackConnectChannel")},1273480023:(x,g,e)=>{"use strict";e.d(g,{u:()=>c});var t=e(2063075339),n=e(340763958),s=e(6839188756),r=e(3677514771);const c=u((o,a)=>{const l=(0,r.H7)(o);return(0,s.tc)(l)&&(0,n.ju)(a)&&(0,t.Z)(o,a)},"getIsCurrentTeamSponsoredInSlackConnectChannel")},8767621462:(x,g,e)=>{"use strict";e.d(g,{S:()=>o});var t=e(8170643398),n=e(5096647761),s=e(9107158149),r=e(7600673124),c=e(8276911661);const o=u((a,l)=>{const i=(0,c.nv)(a,l);return(0,t.Zx)(i)?!1:(0,n.g)(i)?!!((0,s.bo)(a,l)&&(0,s.zP)(a,l)&&!(0,r.y)(a,l)):!0},"isMemberConnectedById")},3071940241:(x,g,e)=>{"use strict";e.d(g,{_:()=>o,a:()=>a});var t=e(2003990933),n=e(5455782105),s=e(5751973043),r=e(6790819894),c=e(766806);const o={All:"ALL",AllExceptSelected:"ALL_EXCEPT_SELECTED",OnlySelected:"ONLY_SELECTED"},a=(0,r.F)(n.k,l=>(0,c.SI)(l,"slack_connect_allowed_workspaces"),(l,i)=>l?{value:(0,t.A)(i,"type[0]"),teams:(i==null?void 0:i.team)||s.Ml}:{value:o.All,teams:s.Ml})},7358758030:(x,g,e)=>{"use strict";e.d(g,{i:()=>a});var t=e(5455782105),n=e(5861086925),s=e(6839188756),r=e(766806),c=e(5597672932),o=e(3677514771);const a=u(l=>{const i=(0,t.k)(l),d=(0,o.H7)(l);return!i&&(0,s.tc)(d)?!1:(i?r.SI:c.xp)(l,n.yY.CAN_CREATE_EXTERNAL_LIMITED_INVITE)},"getCanCreateExternalLimitedInvitePref")},5225510813:(x,g,e)=>{"use strict";e.d(g,{C:()=>a});var t=e(5455782105),n=e(5861086925),s=e(6839188756),r=e(766806),c=e(5597672932),o=e(3677514771);const a=u(l=>{const i=(0,t.k)(l),d=(0,o.H7)(l);return!i&&(0,s.tc)(d)?!1:(i?r.SI:c.xp)(l,n.yY.CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE)},"getCanCreateSlackConnectChannelInvitePref")},1650729052:(x,g,e)=>{"use strict";e.d(g,{y:()=>h});var t=e(7174777686),n=e(9087248458),s=e(5455782105),r=e(5861086925),c=e(8087758879),o=e(6839188756),a=e(5343157203),l=e(5510392579),i=e(3559837422),d=e(5795074931),_=e(3677514771),m=e(598369692);const h=u((v,T)=>{const A=(0,d.WR)(v);var y;const p=(y=(0,_.H7)(v))!==null&&y!==void 0?y:void 0;if((0,i.AB)(v)||(0,i.sV)(v))return!1;const f=(0,l.p2)(v),O=(0,l.Zo)(v),I=(0,a.C)(v),P=(0,s.k)(v),C=(0,o.qR)(p),M=(0,c.o)(v,T);if(P){const D=(0,l.hu)(v),E=(0,l.FQ)(v);switch(M.value){case r.GX.TOPLEVEL_ADMINS_AND_OWNERS:return D||E;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return D||E?!0:!!(0,t.A)(M.users,A);case r.GX.ALL_ADMINS_AND_OWNERS:return D||E||I;case r.GX.EVERYONE:return!0;default:return!1}}if(C)switch(M.value){case r.GX.TOPLEVEL_OWNERS:return f;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS:return f||O;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return f||O||(0,t.A)(M.users,A)?!0:!!(0,n.A)(M.userGroups,(0,m.QF)(v)).length;case r.GX.EVERYONE:return!0;default:return!1}return!1},"isUserWhoCanDoSlackConnectPref")},5861086925:(x,g,e)=>{"use strict";e.d(g,{GX:()=>n,cM:()=>r,d5:()=>s,yY:()=>t});const t={CAN_CREATE_EXTERNAL_LIMITED_INVITE:"can_create_external_limited_invite",WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE:"who_can_create_external_limited_invite",CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"can_create_slack_connect_channel_invite",WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"who_can_create_slack_connect_channel_invite",CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"can_accept_slack_connect_channel_invites",WHO_CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"who_can_accept_slack_connect_channel_invites",WHO_CAN_MANAGE_SHARED_CHANNELS:"who_can_manage_ext_shared_channels",WHO_CAN_SLACK_CONNECT_DM:"who_can_dm_anyone"},n={TOPLEVEL_OWNERS:"TOPLEVEL_OWNERS",ALL_ADMINS_AND_OWNERS:"ORG_AND_WORKSPACE_ADMINS_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:"TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED",EVERYONE:"EVERYONE"},s={...n,NO_ONE:"NO_ONE",DEFAULT:n.EVERYONE},r={CAN_FREE_TEAMS_JOIN_SC_CHANNELS:"allow_sponsored_slack_connections"}},5331698805:(x,g,e)=>{"use strict";e.d(g,{u:()=>s});var t=e(5861086925),n=e(8087758879);const s=u(r=>{const c=t.yY.WHO_CAN_MANAGE_SHARED_CHANNELS;return(0,n.o)(r,c)},"getWhoCanManageSharedChannelsPref")},8087758879:(x,g,e)=>{"use strict";e.d(g,{o:()=>i});var t=e(5455782105),n=e(5861086925),s=e(6839188756),r=e(5751973043),c=e(766806),o=e(5597672932),a=e(3677514771);const l={plan:"",value:"",users:r.Ml,userGroups:r.Ml},i=u((d,_)=>{var m;const h=(0,a.H7)(d),v=(0,t.k)(d);if(!v&&(0,s.tc)(h))return l;const T=(v?"enterprise":h.plan)||"",A=v?(0,c.SI)(d,_):(0,o.xp)(d,_),y=(A==null||(m=A.type)===null||m===void 0?void 0:m[0])||"",p=y===n.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED,f=p&&(A==null?void 0:A.user)||l.users,O=p&&(A==null?void 0:A.subteam)||l.userGroups;return{plan:T,value:y,users:f,userGroups:O}},"getWhoCanPref")},3212336858:(x,g,e)=>{"use strict";e.d(g,{DP:()=>F,qc:()=>le,qA:()=>ye,Bs:()=>J,Hv:()=>j,fK:()=>H,tY:()=>Ie,GE:()=>ce,b:()=>N,iH:()=>he,mE:()=>de});var t=e(7174777686),n=e(4761125736),s=e(3245843483),r=e(5597672932),c=e(8276911661),o=e(9101533895),a=e(3792998666),l=e(3339229351),i=e(2791814261),d=e(8904182388),_=e(6165525655),m=e(591259428),h=e(9884588328),v=e(1407713935),T=e(395285811),A=e(918457931),y=e(2585735826),p=e(340763958),f=e(5343157203),O=e(9416626),I=e(6693783993);const P={...O.u9,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},C={ok:!1,reason:P.ChannelNotFound},M={ok:!1,reason:P.ChannelTypeNotSupported},D={ok:!1,reason:P.CantDisconnectExtShared},E={ok:!1,reason:P.WhoCanManagePref},S={ok:!0},k=u((Te,pe)=>{const Me=(0,n._Z)(Te,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,v.jq)(pe))return C;if((0,T.K3)(Te,pe))return M;if((0,p.ju)(pe)&&!(0,y.R)(Te,pe))return D;const ke=(0,h.FB)(pe),Ke=(0,I.Om)(Te,{channelId:ke});if(!Me&&(0,A.t)(pe)){if(Ke)return S;if(!(0,f.E)(Te))return E}return(0,O.iz)(Te,pe)},"canUserArchiveChannelWithReasons"),U=u((Te,pe)=>k(Te,pe).ok,"canUserArchiveChannel");var L=e(7563681762),B=e(7148679525),b=e(6495946979),R=e(2912967402),z=e(571104883),w=e(735940183),W=e(5156662944);const K=u(Te=>Te&&(0,n._Z)(Te,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var Y=e(529357503),X=e(7969244833),Z=e(6934022494);const ie=new w.Ay("cmd_handlers"),{UNKNOWN_COMMAND:Ae,UNSUPPORTED_IN_THREAD:ae,UNSUPPORTED_IN_SHORTCUTS_MENU:V,CUSTOM_ERROR:ve}=l.SLASH_COMMAND_ERRORS,be=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/gif","/active","/giphy","/iamcal","/mute","/remind"],Ue=["/asana","/adobe-manage","/adobe-subscribe","/adobe-feedback","/adobe-help","/cohere-help","/cohere-settings","/cohere-summarize","/cohere-quiet"],Re=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],ge=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],ne=["/slackaccessibility","/slackgov"],ee=["/leave","/close","/part","/archive","/topic"],F=u(Te=>Te&&Te.alias_of,"getCommandAliasOf"),H=u(Te=>Te&&Te.name,"getCommandName"),j=u(Te=>Te&&(Te.desc||Te.description),"getCommandDesc"),N=u(Te=>Te&&Te.usage,"getCommandUsage"),J=u(Te=>Te&&(Te.canonical_name||Te.name),"getCommandCanonicalName"),le=u(Te=>Te&&Te.aliases,"getCommandAliases"),ce=u(Te=>Te&&Te.type,"getCommandType"),Ee=u(Te=>Te&&Te.app,"getCommandApp"),ye=u(Te=>Te==null?void 0:Te.appName,"getCommandAppName"),Ie=u((Te,pe,Me)=>{const ke=(0,o.OL)(Te,Me),Ke=ke?(0,X.f)(Te,ke)||[]:[];return pe.teams&&Ke.length&&pe.appName!=="Slack"&&!pe.isWorkspaceAgnostic?pe.teams.filter(Q=>Ke.includes(Q)):[]},"getCommandRelatedWorkspaces"),he=u(function(Te,pe){let{channelId:Me}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!pe)return!1;const ke=J(pe);return ke==="/leave"?(0,_.Y9)(Te,Me):ke==="/remove"?(0,d.Vj)(Te,Me):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(ke)>-1?!1:!!pe.autocomplete},"isAutocompleteCommand"),Ce=u(Te=>!!(Te&&Te.isServer),"isServerCommand"),oe=u(function(Te){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(Te){case L.a_.InvalidDm:return ie.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case L.a_.OwnerRequired:return ie.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case L.a_.InvalidParams:return pe?ie.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):ie.t("You don\u2019t have permission to rename.");case L.a_.RestrictedUser:return pe?ie.t("Your admins have limited who can rename multi-workspace channels."):ie.t("You don\u2019t have permission to rename.");case L.a_.OrgSharedSettings:return pe?ie.t("Your admins have limited who can rename multi-workspace channels."):ie.t("You don\u2019t have permission to rename.");case L.a_.InvalidChannelType:return ie.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return ie.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),de=u(function(Te,pe){let{channelId:Me,isThread:ke,isShortcutsMenu:Ke}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Te||!pe)return{isEnabled:!1,reason:Ae};const Ze=(0,n._Z)(Te,"ai_apps_feature")==="on",Q=J(pe),se=ce(pe),He=(0,o.OL)(Te,Me);if(!(0,i.L)(Te)&&(0,t.A)(ge,Q))return{isEnabled:!1,reason:Ae};if(!(0,z.y3)()&&(0,t.A)(ne,Q))return{isEnabled:!1,reason:Ae};if((0,T.jT)(He)&&(0,t.A)(ee,Q))return{isEnabled:!1,reason:Ae};if(ke&&!((0,t.A)(be,Q)||Ze&&(0,t.A)(Ue,Q)))return{isEnabled:!1,reason:ae};if(Ke&&(0,t.A)(Re,Q))return{isEnabled:!1,reason:V};if(se==="custom"||se==="service"){const Be=(0,r.xp)(Te,"commands_only_regular"),we=(0,c.cA)(Te);if(Be&&(0,a.Ez)(we))return{isEnabled:!1,reason:Ae}}if(pe.teams){const Be=(0,X.f)(Te,He)||[];if(!pe.teams.filter(xe=>Be.includes(xe)).length){const xe=`Command not run. No intersection found between channel teams (${Be}) and command teams (${pe.teams})`;return{isEnabled:!1,reason:ve,logString:xe,feedback:ie.t("This command is not available in this channel")}}}if(Q==="/open"||Q==="/feed"){const Be=(0,c.cA)(Te);if((0,a.Ez)(Be))return{isEnabled:!1,reason:Ae}}else if(Q==="/topic"){const{ok:Be,reason:we}=(0,m.X)(Te,Me);if(!Be)return{isEnabled:!1,reason:ve,feedback:(0,R.Bw)(we)}}else if(Q==="/invite"){const Be=(0,c.cA)(Te);if((0,a.Yd)(Be))return{isEnabled:!1,reason:Ae};if(!(0,b.bl)(He))return{isEnabled:!1,reason:ve,feedback:ie.t("You don\u2019t have permission to invite people.")};if((0,a.Ez)(Be)&&!(0,v.Zp)(He)||(0,Y.A)(Te,Be,He))return{isEnabled:!1,reason:ve,feedback:ie.t("You don\u2019t have permission to invite people.")}}else if(Q==="/invite_people"){if(!(0,B.Lz)(Te))return{isEnabled:!1,reason:ve,feedback:ie.t("You don\u2019t have permission to invite people.")}}else if(Q==="/rename"){const{ok:Be,reason:we}=(0,L.be)(Te,Me);if(!Be)return{isEnabled:!1,reason:ve,feedback:oe(we)}}else if(Q==="/archive"){if(!U(Te,He))return{isEnabled:!1,reason:Ae}}else if(Q==="/call"){if(!(0,W.lp)(Te,Me)||(0,W.tO)(Te))return{isEnabled:!1,reason:Ae}}else if(Q==="/slacktrace"){if(!(0,s.Rg4)())return{isEnabled:!1,reason:ve,feedback:ie.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(Q==="/feedback"){if(K(Te))return{isEnabled:!1,reason:Ae}}else if(Q==="/gif"){if(!(0,Z.R4)(Te))return{isEnabled:!1,reason:Ae};if(!(0,Z.BH)(Te))return{isEnabled:!1,reason:ve,feedback:ie.t("Attach a GIF is not enabled.")}}return{isEnabled:!0}},"isSlashCommandEnabled"),De={getRenameDisabledFeedback:oe,TS_ONLY_COMMANDS:ge,DESKTOP_APP_ONLY_COMMANDS:ne}},6992769897:(x,g,e)=>{"use strict";e.d(g,{A:()=>i,O:()=>l});var t=e(9087248458),n=e(5980399196),s=e(5455782105),r=e(3071940241),c=e(8359728598),o=e(4761125736);const a=(0,c.A)((d,_)=>{const{teams:m,value:h}=_;switch(h){case"ONLY_SELECTED":return!!(0,t.A)(d,m).length;case"ALL_EXCEPT_SELECTED":return!!(0,n.A)(d,m).length;default:return!0}},2);function l(d){let{slackConnectAllowedWorkspacesPref:_,teamIds:m}=d;return m!=null&&m.length?a(m,_):!1}u(l,"areSomeTargetWorkspacesAllowedToHaveSharedChannelsStateless");function i(d,_){return!(0,s.k)(d)||(0,o._Z)(d,"sc_allowed_workspaces_pref_override")==="on"?!0:l({slackConnectAllowedWorkspacesPref:(0,r.a)(d),teamIds:_})}u(i,"areSomeTargetWorkspacesAllowedToHaveSharedChannels")},2801540778:(x,g,e)=>{"use strict";e.d(g,{z:()=>r});var t=e(6839188756),n=e(8847766420),s=e(1890276164);function r(c,o){if(!c||!o)return!1;const a=(0,t.ZT)(o);if((0,n.Kc)(c)===a||(0,n.ZT)(c)===a)return!1;const l=(0,n.jV)(c);return l&&l===o.enterprise_id?!1:(0,s.R)(c,o.id)}u(r,"isTeamExternal")},958961878:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>y,w2:()=>T});var t=e(8161242485),n=e(3202757386),s=e(4096483543),r=e(6564475562),c=e(2249017398),o=e(2615100822),a=e(5731054235),l=e(6089972488);const d=u(()=>(0,n.A)(),"isDarkModeFeatureEnabled");var _=e(571104883),m=e(506684971),h=e.n(m);const v=u(()=>{var f;const O=(0,_.y3)()||((f=window.matchMedia)===null||f===void 0?void 0:f.call(window,"(prefers-color-scheme)").media)!=="not all",I=(0,_.cX)()&&(0,l.Z)((0,l.P)(h().osversion),(0,l.P)("10.14"))>=0,P=(0,_.jy)(),C=(0,_.j9)()&&(0,_.dY)("4.36.136"),M=I||P||C,D=(0,_.y3)()||(0,s.A)()||(0,r.A)()||(0,c.A)()||(0,o.A)()||(0,a.A)();return(0,n.A)()&&O&&M&&D},"computeSystemSyncIsSupportedOnBoot"),T=v(),A=(0,t.Ay)(f=>!!T&&!!d(f));A.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:f=>!!T&&!!d(f)};const y=A,p={computeSystemSyncIsSupportedOnBoot:v}},677609895:(x,g,e)=>{"use strict";e.d(g,{X:()=>c});var t=e(2384831516),n=e(5510392579),s=e(5597672932),r=e(3677514771);const c=(0,t.Mz)(o=>{const a=(0,r.Yc)(o);return(0,n.p2)(o,a.id)||(0,s.xp)(o,"all_users_can_purchase")});c.meta={name:"createSelector",key:"createSelectorgetCanCurrentUserUpgradeSlack",description:o=>{const a=(0,r.Yc)(o);return(0,n.p2)(o,a.id)||(0,s.xp)(o,"all_users_can_purchase")}}},317660850:(x,g,e)=>{"use strict";e.d(g,{D:()=>n});var t=e(6693783993);const n=u(s=>(0,t.eq)(s),"canUserAddEmoji")},324756633:(x,g,e)=>{"use strict";e.d(g,{S:()=>c});var t=e(9101533895),n=e(201941576),s=e(6693783993),r=e(1407713935);function c(o,a){const l=(0,t.gT)(o,a)&&(0,t.OL)(o,a)||void 0;return((0,r.yz)(l)?(0,s.E2)(o):(0,s.E2)(o,{channelId:a}))&&!(0,n.i)(o,l==null?void 0:l.id,{allowToAdmins:!0})}u(c,"canUserAtChannelInChannelById")},641827819:(x,g,e)=>{"use strict";e.d(g,{W:()=>o});var t=e(9101533895),n=e(201941576),s=e(6113051341),r=e(5795074931),c=e(6693783993);const o=u((a,l)=>{const i=(0,t.gT)(a,l)&&(0,t.OL)(a,l)||void 0;return!l||!i||!(0,s.N)(i)?!1:(0,r.u8)(a)?(0,c._7)(a,{channelId:l})&&!(0,n.i)(a,i==null?void 0:i.id,{allowToAdmins:!0}):(0,c._7)(a,{channelId:l})},"canUserAtEveryoneInChannelById")},1507833885:(x,g,e)=>{"use strict";e.d(g,{MM:()=>c,Uq:()=>o,_t:()=>a});var t=e(3385422400),n=e(5962670951),s=e(241752795),r=e(1340402138);const c=u(l=>((0,s.HV)(l)||(0,n.R)(l))&&!(0,r.R)(l),"canUserCreateChannelsInSomeWorkspace"),o=(0,t.Mz)(s.y5,n.S,(l,i)=>i,(l,i,d)=>d.some(_=>l.includes(_)||i.includes(_))),a=(0,t.Mz)(s.y5,n.S,(l,i)=>i,(l,i,d)=>d.every(_=>l.includes(_)||i.includes(_)))},5962670951:(x,g,e)=>{"use strict";e.d(g,{R:()=>r,S:()=>c});var t=e(3078708518),n=e(6693783993);const s=u(o=>!(0,t.A)(o),"isPermittedToPrecondition"),r=u(o=>s(o)?(0,n.lM)(o):!1,"canUserCreatePrivateChannelsInSomeWorkspace"),c=u(o=>s(o)?(0,n.f$)(o):[],"getWorkspaceIdsOnWhichUserCanCreatePrivateChannels")},241752795:(x,g,e)=>{"use strict";e.d(g,{HV:()=>d,YD:()=>m,y5:()=>_});var t=e(3078708518),n=e(1407713935),s=e(6495946979),r=e(1190344069),c=e(7304011293),o=e(3307632080),a=e(7112191091),l=e(6693783993);const i=u(h=>!(0,t.A)(h),"isPermittedToPrecondition"),d=u(h=>i(h)?(0,l.F5)(h):!1,"canUserCreatePublicChannelsInSomeWorkspace"),_=u(h=>i(h)?(0,l.qm)(h):[],"getWorkspaceIdsOnWhichUserCanCreatePublicChannels"),m=u((h,v)=>!(0,n.Zp)(v)||!i(h)||(0,o.A)(h,v)?!1:(0,l.Mz)(h,{channelId:v.id})&&(0,s.bl)(v)||(0,a.yG)(h,v)||(0,r.hm)(h)&&(0,n.rI)(v)&&(0,c.O)(h,v.id)?!0:!!(0,a.yG)(h,v),"canUserCreatePublicChannelFromPrivateChannel")},1612857492:(x,g,e)=>{"use strict";e.d(g,{i:()=>i,q:()=>l});var t=e(9884588328),n=e(6495946979),s=e(7112191091),r=e(1407713935),c=e(9101533895),o=e(6693783993),a=e(8250322877);const l=u((d,_)=>{if(!(0,r.jq)(_))return!1;const m=(0,t.FB)(_);return(0,a.D)(d,_)&&((0,s.S4)(d,_)||(0,n.bl)(_)&&(0,o.MN)(d,{channelId:m}))},"canUserInviteExternalUsersToChannel"),i=u((d,_)=>{const h=(0,c.OL)(d,_,!1);return h?l(d,h):!1},"canUserInviteExternalUsersToChannelById")},9183417278:(x,g,e)=>{"use strict";e.d(g,{Q:()=>i,e:()=>d});var t=e(9884588328),n=e(6495946979),s=e(1407713935),r=e(7112191091),c=e(9101533895),o=e(4761125736),a=e(6693783993),l=e(8250322877);const i=u((_,m)=>{const h=(0,o._Z)(_,"invite_to_channel_permission")==="on";if(!(0,s.jq)(m))return!1;const v=(0,t.FB)(m),T=(0,l.D)(_,m);return h&&(0,s.Zp)(m)?T&&((0,r.S4)(_,m)||(0,n.bl)(m)&&(0,a.oo)(_,{channelId:v})):T},"canUserInviteInternalUsersToChannel"),d=u((_,m)=>{const v=(0,c.OL)(_,m,!1);return v?i(_,v):!1},"canUserInviteInternalUsersToChannelById")},8250322877:(x,g,e)=>{"use strict";e.d(g,{D:()=>h,X:()=>v});var t=e(1340402138),n=e(9884588328),s=e(1407713935),r=e(6007206761),c=e(5373179915),o=e(6495946979),a=e(2350349607),l=e(7112191091),i=e(3559837422),d=e(9101533895),_=e(4761125736),m=e(6693783993);const h=u((T,A)=>{const y=(0,_._Z)(T,"invite_to_channel_permission")==="on";if(!(0,s.jq)(A))return!1;const p=(0,n.FB)(A);return(0,i.AB)(T)||(0,r.F)(A)||!(0,a.V)(A)||(0,t.R)(T)&&(0,c.R)(T,A)?!1:y&&(0,s.Zp)(A)?(0,l.S4)(T,A)||(0,o.bl)(A)&&((0,m.oo)(T,{channelId:p})||(0,m.MN)(T,{channelId:p})):(0,l.S4)(T,A)||(0,o.bl)(A)},"canUserInviteToChannel"),v=u((T,A)=>{const p=(0,d.OL)(T,A,!1);return p?h(T,p):!1},"canUserInviteToChannelById")},8904182388:(x,g,e)=>{"use strict";e.d(g,{CE:()=>v,Vj:()=>O,VJ:()=>f});var t=e(1407713935),n=e(6007206761),s=e(6841796315),r=e(9101533895);const c={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},o={ok:!1,reason:c.ArchivedChannel},a={ok:!1,reason:c.InvalidDm},l={ok:!1,reason:c.RequiredChannel};function i(I,P){const C=(0,r.gT)(I,P)?(0,r.OL)(I,P):null;return(0,n.F)(C)?o:(0,t.LI)(C)||(0,t.yz)(C)?a:(0,t.gx)(C)?l:s.O}u(i,"isChannelKickableWithReason");function d(I,P){return i(I,P).ok}u(d,"isChannelKickable");var _=e(6915262278),m=e(3559837422),h=e(6693783993);const v={...c,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},T={ok:!1,reason:v.InvalidParams},A={ok:!1,reason:v.UserIsRestricted},y={ok:!1,reason:v.RestrictedPublicChannel},p={ok:!1,reason:v.RestrictedPrivateChannel};function f(I,P){const C=(0,r.gT)(I,P)?(0,r.OL)(I,P):null;if(!(0,t.jq)(C))return T;if((0,m.sV)(I))return A;const M=i(I,P);if(!M.ok)return{ok:!1,reason:M.reason};const D=(0,h.ou)(I,{channelId:P}),E=(0,h.sX)(I,{channelId:P}),S=(0,t.rW)(C)?"public":"private",k=S==="private"?_.Po:_.LI,U=S==="private"?_.tU:_.H7;return!(k(I)||U(I))&&!(S==="private"?E:D)?S==="private"?p:y:s.O}u(f,"canUserKickFromChannelWithReason");function O(I,P){return f(I,P).ok}u(O,"canUserKickFromChannel")},6915262278:(x,g,e)=>{"use strict";e.d(g,{H7:()=>i,LI:()=>a,Po:()=>l,tU:()=>d});var t=e(5597672932),n=e(3677514771),s=e(5455782105),r=e(6839188756),c=e(5510392579),o=e(6693783993);const a=u(_=>(0,s.k)(_)?(0,o.fl)(_):!1,"canUserManagePublicChannelsInOrgDash"),l=u(_=>(0,s.k)(_)?(0,o.$5)(_):!1,"canUserManagePrivateChannelsInOrgDash"),i=u(_=>{const m=(0,n.H7)(_);return(0,r.Ny)(m)?(0,c.h3)(_):!1},"canUserManagePublicChannelsInTeamSite"),d=u(_=>{const m=(0,n.H7)(_);return!(0,r.Ny)(m)||(0,r.NB)(m)&&!(0,t.xp)(_,"has_compliance_export")?!1:(0,o.Ny)(_)},"canUserManagePrivateChannelsInTeamSite")},5343157203:(x,g,e)=>{"use strict";e.d(g,{C:()=>v,E:()=>T});var t=e(7530630315),n=e(235108050),s=e(9087248458),r=e(5455782105),c=e(7876109014),o=e(5510392579),a=e(3559837422),l=e(8847766420),i=e(5795074931),d=e(4761125736),_=e(6693783993),m=e(766806),h=e(598369692);const v=u(A=>{if((0,a.sV)(A))return!1;const y=(0,l.jV)(A);if((0,o.V7)(A,y)||(0,o.PY)(A,y))return!0;const p=(0,l.ZT)(A),f=(0,t.A)(p,(0,l.kN)(A));return(0,n.A)(f).some(I=>!!((0,o.$G)(A,I)||(0,o.h3)(A,I)))},"isCurrentUserAnyAdminOrOwner");function T(A){if((0,d._Z)(A,"light_read_who_can_manage_shared_channels_pref_migration")==="on")return(0,_.Tg)(A);const p=(0,m.SI)(A,"who_can_manage_shared_channels");if(!p)return!0;if(!(0,r.k)(A)||(0,a.sV)(A))return!1;const f=(0,i.WR)(A);if((0,c.v)(p,"user")&&p.user.includes(f))return!0;if((0,c.v)(p,"subteam")){const I=(0,h.QF)(A);if((0,s.A)(p.subteam,I).length>0)return!0}const O=p==null?void 0:p.type;return O!=null&&O.includes("regular")?!0:O!=null&&O.includes("admin")?v(A):O!=null&&O.includes("owner")?(0,o.PY)(A):!1}u(T,"canUserManageOrgSharedChannels")},7563681762:(x,g,e)=>{"use strict";e.d(g,{JJ:()=>D,a_:()=>v,be:()=>C,rY:()=>M});var t=e(1407713935),n=e(918457931),s=e(7112191091),r=e(6915262278),c=e(5343157203),o=e(6025726268),a=e(3559837422),l=e(6841796315),i=e(5795074931),d=e(9101533895),_=e(4761125736),m=e(3490825458),h=e(6693783993);const v={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},T={ok:!1,reason:v.InvalidParams},A={ok:!1,reason:v.InvalidDm},y={ok:!1,reason:v.InvalidChannelType},p={ok:!1,reason:v.RestrictedUser},f={ok:!1,reason:v.OrgSharedSettings},O={ok:!1,reason:v.OwnerRequired},I={ok:!1,reason:v.UserHasNoPermissions},P=u((E,S)=>{const k=(0,_._Z)(E,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,t.jq)(S))return T;if((0,t.LI)(S)||(0,t.yz)(S))return A;if((0,t.rI)(S))return y;const U=(0,i.TZ)(E),L=(0,m.s)(E),B=(0,m.R)(E);if(!U)return L&&((0,t.Zp)(S)&&(0,r.Po)(E)||(0,t.rW)(S)&&(0,r.LI)(E))||B&&((0,t.Zp)(S)&&(0,r.tU)(E)||(0,t.rW)(S)&&(0,r.H7)(E))?l.O:I;if(k)return(0,h.bT)(E,{channelId:S.id})?l.O:I;const b=(0,c.E)(E)||(0,h.LN)(E);return(0,n.t)(S)&&!b?f:(0,o.M)(E,S)||(0,h.bT)(E,{channelId:S.id})?l.O:(0,a.sV)(E)||(0,a.AB)(E)?p:(0,s.S4)(E,S)?l.O:O},"canUserRenameChannelWithReason"),C=u((E,S)=>{const U=(0,d.OL)(E,S,!1);return U?P(E,U):T},"canUserRenameChannelWithReasonById"),M=u((E,S)=>P(E,S).ok,"canUserRenameChannel"),D=u((E,S)=>C(E,S).ok,"canUserRenameChannelById")},9416626:(x,g,e)=>{"use strict";e.d(g,{NG:()=>E,iz:()=>D,u9:()=>h});var t=e(9884588328),n=e(1407713935),s=e(6007206761),r=e(6495946979),c=e(918457931),o=e(2585735826),a=e(340763958),l=e(9846841407),i=e(7112191091),d=e(5343157203),_=e(4761125736),m=e(6693783993);const h={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),NotAllowedHomeExternallyShared:Symbol("not_allowed_home_ext_shared"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},v={ok:!1,reason:h.ChannelNotFound},T={ok:!1,reason:h.ChannelTypeNotSupported},A={ok:!1,reason:h.CantArchiveGeneral},y={ok:!1,reason:h.NotInChannel},p={ok:!1,reason:h.AlreadyArchived},f={ok:!1,reason:h.NotAllowedHomeExternallyShared},O={ok:!1,reason:h.AwayExternallyShared},I={ok:!1,reason:h.UserHasNoPermissions},P={ok:!1,reason:h.DefaultOrgWideChannel},C={ok:!1,reason:h.WhoCanManagePref},M={ok:!0},D=u((S,k)=>{const U=(0,_._Z)(S,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,n.jq)(k))return v;if((0,n.LI)(k)||(0,n.yz)(k))return T;if((0,n.gx)(k))return A;if((0,s.F)(k))return p;if((0,l.b)(S,k))return O;if(!(0,i.S4)(S,k)&&!(0,r.bl)(k))return y;const B=(0,t.FB)(k);if((0,a.ju)(k)&&!(0,l.b)(S,k)&&!(0,o.R)(S,k))return f;const b=(0,m.Om)(S,{channelId:B});return!U&&(0,c.t)(k)&&!(0,d.E)(S)&&!(0,m.LN)(S,{channelId:B})?C:b?M:I},"canUserSeeArchiveChannelOptionWithReasons"),E=u((S,k)=>D(S,k).ok,"canUserSeeArchiveChannelOption")},591259428:(x,g,e)=>{"use strict";e.d(g,{P:()=>A,X:()=>T});var t=e(9101533895),n=e(4761125736),s=e(6495946979),r=e(2912967402),c=e(1407713935),o=e(6007206761),a=e(3559837422),l=e(340763958),i=e(4827886670),d=e(6693783993);const _={ok:!0},m={ok:!1,reason:r.CM},h={ok:!1,reason:r.Jr},v={ok:!1,reason:r.oP},T=u((y,p)=>{const f=(0,t.gT)(y,p)&&(0,t.OL)(y,p);return f?(0,c.JM)(f)&&(0,l.ju)(f)?h:(0,o.F)(f)?v:(0,n._Z)(y,"channel_manager_enhancements")==="on"&&(0,d.ig)(y,{channelId:p})?_:!(0,s.bl)(f)||!(0,i.c)(y,f)||(0,a.sV)(y)||(0,a.AB)(y)?v:_:m},"canUserSetTopicForChannelWithReasonById"),A=u((y,p)=>T(y,p).ok,"canUserSetTopicForChannelById")},3307632080:(x,g,e)=>{"use strict";e.d(g,{A:()=>r,G:()=>s});var t=e(6545221113),n=e(8847766420);const s=u((c,o)=>{if(!c||!o)return!1;const a=(0,n.Kc)(c);return(0,t.A)(c,a,o)},"isExternalLimited"),r=s},7645285332:(x,g,e)=>{"use strict";e.d(g,{Xw:()=>n,l0:()=>a,xf:()=>s,gU:()=>c,XT:()=>i});var t=e(7732872146);const n=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function s(d){const _=typeof d=="string"&&d.match(n);return _&&_.length===1&&_[0]===d||!1}u(s,"isEmail");function r(d){const{pathname:_,protocol:m}=parseUrl(d);return m==="mailto:"&&s(_)}u(r,"isEmailUrl");function c(d){const{pathname:_,protocol:m}=d;return m==="mailto:"&&s(_)}u(c,"isEmailUrlFromUrlObject");const o=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function a(d){const _=typeof d=="string"&&d.match(o);return _&&_.length===1&&_[0]===d||!1}u(a,"isDomain");function l(d){return d.includes("@slack-bots.com")}u(l,"isSlackBotEmail");function i(d){let{csv:_,min:m=0,max:h=10}=d;const v=_.split(/\s*,\s*/).length;return{minViolation:v<m,maxViolation:v>h}}u(i,"validateCSV")},9385953262:(x,g,e)=>{"use strict";e.d(g,{RG:()=>E,f1:()=>U,fp:()=>k});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(1030162945),c=e(8822892075),o;(function(L){L.BaseHeart="mask__base-heart",L.SmallHeart="mask__small-heart",L.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",L.BaseSingleChannelGuest="mask__base-single-channel-guest",L.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",L.SmallSingleChannelGuest="mask__small-single-channel-guest",L.BaseGuestDnd="mask__base-guest-dnd",L.BaseGuest="mask__base-guest",L.SmallGuestDnd="mask__small-guest-dnd",L.SmallGuest="mask__small-guest",L.BaseMemberDnd="mask__base-member-dnd",L.BaseMember="mask__base-member",L.SmallMemberDnd="mask__small-member-dnd",L.SmallMember="mask__small-member",L.NoAccess="mask__base-no-access"})(o||(o={}));function a(L){let{size:B="base",userType:b="member",isDnd:R=!1,hasNoAccess:z=!1}=L;return z?t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:o.NoAccess,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.542 V0.825 C0.542,0.745,0.587,0.676,0.653,0.642 C0.662,0.481,0.795,0.353,0.958,0.353 C0.972,0.353,0.986,0.354,1,0.356 V0"}))):t.createElement("svg",{className:"sr-only"},b==="slackbot"&&(B==="base"?t.createElement("clipPath",{id:o.BaseHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.createElement("clipPath",{id:o.SmallHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),b==="ura"&&(B==="base"?R?t.createElement("clipPath",{id:o.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):R?t.createElement("clipPath",{id:o.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:o.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(b==="ra"||b==="external")&&(B==="base"?R?t.createElement("clipPath",{id:o.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):R?t.createElement("clipPath",{id:o.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.createElement("clipPath",{id:o.SmallGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),b==="member"&&(B==="base"?R?t.createElement("clipPath",{id:o.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):R?t.createElement("clipPath",{id:o.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:o.SmallMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}u(a,"AvatarMasks");var l=e(7725022178),i=e(9332393661),d=e(2036354333),_=e(1610251172),m=e(9742374352),h=e(5547320682),v=e(138341465),T=e(2855755676),A=e(1563996154),y=e(82287009),p=e(735940183),f=e(485355941),O=e(1060768686),I=e.n(O),P=e(2979422297),C=e.n(P);function M(){return M=Object.assign||function(L){for(var B=1;B<arguments.length;B++){var b=arguments[B];for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(L[R]=b[R])}return L},M.apply(this,arguments)}u(M,"_extends");const D=new p.Ay("avatar"),E={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},S=t.memo(L=>{let{botEmoji:B,canRenderEmoji:b}=L;return B?b?t.createElement(r.Ay,{className:"c-avatar__emoji",text:B,emojiSize:r.lw.LARGE,stopAnimations:!0,forceDisplay:!0}):t.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:I(),srcSet:`${C()} 2x`,alt:""}):null});function k(L){let{isExternal:B,teamId:b,team:R,showTooltip:z,badgeIconType:w,badgeIconClassName:W,allowTeamInitials:K=!0}=L;if(w){const Y=W?{[W]:!!W}:{};return()=>t.createElement(_.A,{className:(0,n.A)("c-avatar__icon c-avatar__nonteam_icon",{...Y}),type:w})}return B&&b?()=>t.createElement(v.A,{className:"c-avatar__icon c-avatar__team_icon",id:b,team:R,size:16,showTooltip:z,allowTeamInitials:K,ariaHidden:!0}):()=>null}u(k,"getCustomBadgeIconRenderer"),k.displayName="getCustomBadgeIconRenderer";const U=u(L=>{let{size:B,userId:b,isAdHocMember:R,botId:z,botProfile:w=void 0,imageUrl:W,imageUrl2x:K,additionalOverlay:Y,onClick:X=void 0,className:Z,teamId:ie,isExternal:Ae=!1,isRestricted:ae=!1,isUltraRestricted:V=!1,isInToken:ve=!1,isDeleted:be=!1,tokenSize:Ue=void 0,memberOrBotName:Re=void 0,showTooltip:ge=!1,showCard:ne=!1,showBadge:ee=!0,showPresence:F=!1,badgeIconType:H=void 0,badgeIconClassName:j=void 0,isInteractive:N=!0,clogLinkClick:J=s.A,tabIndex:le=0,ariaHidden:ce=void 0,team:Ee=void 0,botEmoji:ye=void 0,canRenderEmoji:Ie=void 0,renderCustomBadge:he=void 0,autoClogProps:Ce=void 0,openProfile:oe=s.A,showMemberProfileInWindow:de=s.A,propagateClickEvent:De=!1,fromQuipDoc:Te=!1,allowTeamInitials:pe=!0,disableLink:Me=!1,isUserHidden:ke=!1,onLoad:Ke=s.A,onError:Ze=s.A,navigate:Q,resetIA:se,userType:He,isDnd:Ge,isSlackbot:Be,hasNoAccess:we,"data-qa":xe,"data-stringify-ignore":Oe,triggerId:Xe}=L;const Ye=(0,t.useCallback)(Ve=>(Ve.preventDefault(),N?(De||Ve.stopPropagation(),J(),Te||((0,f.Cz)(Ve)?de(b):Q&&b?Q((0,c.Fo)({memberId:b})):oe({memberId:b,serviceId:z,botProfile:w,triggerId:Xe})),X?X(Ve):null):null),[b,z,w,Xe,J,Te,X,N,Q,oe,De,de]),dt=u(()=>b?`/team/${b}`:z&&!Me?`/services/${z}`:"","getHrefAttr"),mt=u(()=>K?`${K} 2x`:"","getSrcSetAttribute"),it=u(()=>{if(Y){const Ve=Y>9?"9+":`+${Y}`;return t.createElement("div",{className:"c-avatar__additional_overlay"},Ve)}return null},"renderAdditionalOverlay");it.displayName="renderAdditionalOverlay";const At=u(Ve=>{let{tooltipText:$e,className:Et}=Ve,It=t.createElement("span",{className:"c-avatar__badge_inner"});ge&&(It=t.createElement(A.Ay,{tip:$e},It));const Tt=(0,n.A)("c-avatar__badge",Et);return t.createElement("span",{className:Tt},It)},"renderBadgeElement");At.displayName="renderBadgeElement";const Ot=u(()=>{const Ve=Ue?T.n[Ue]:B;if(he!==void 0&&Ve>=32){const $e=he();if($e)return $e}if(he===void 0&&Ve>=32){const $e=k({isExternal:Ae,teamId:ie,team:Ee,showTooltip:ge,badgeIconType:H,badgeIconClassName:j,allowTeamInitials:pe})();if($e)return $e}return F?t.createElement(h.A,{memberId:b,inline:!1,className:"c-avatar__presence",inheritIconSize:!0,hasNoAccess:we}):V&&Ve>=32?At({tooltipText:u(()=>D.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,Et=>{let{text:It}=Et;return t.createElement("span",{className:"c-avatar__tooltip_detail"},It)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):ae&&Ve>=32?At({tooltipText:u(()=>D.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,Et=>{let{text:It}=Et;return t.createElement("span",{className:"c-avatar__tooltip_detail"},It)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");Ot.displayName="renderBadgeOrPresence";const Kt=u(()=>{let Ve=W||K;return Ue?(Ue==="large"&&K&&(Ve=K),t.createElement(i.A,{image:Ve,classes:"c-base_icon--token",srcSet:mt(),size:T.n[Ue],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:Ke,onError:Ze,resetIA:se})):null},"renderTokenAvatar");Kt.displayName="renderTokenAvatar";const Xt=u(()=>W||K?Ue||ve?Kt():t.createElement(i.A,{image:W||K,size:B,srcSet:mt(),ariaHidden:!0,widthOnly:!0,onLoad:Ke,onError:Ze,resetIA:se}):null,"renderImageTag");Xt.displayName="renderImageTag";const vn=u(Ve=>{let{fallback:$e=null}=Ve,Et=$e;return(W||K)&&(Et=Xt()),Et},"renderImageOrFallback"),Sn=ye?t.createElement(S,{botEmoji:ye,canRenderEmoji:Ie}):null,jt=B>26?"base":"small",hn=He==="member",xt=He==="ra"||He==="external",Dn=He==="ura",St=t.useMemo(()=>F?we?o.NoAccess:Be&&jt==="base"?o.BaseHeart:Be&&jt==="small"?o.SmallHeart:hn&&jt==="base"&&Ge?o.BaseMemberDnd:hn&&jt==="base"?o.BaseMember:hn&&jt==="small"&&Ge?o.SmallMemberDnd:hn&&jt==="small"?o.SmallMember:xt&&jt==="base"&&Ge?o.BaseGuestDnd:xt&&jt==="base"?o.BaseGuest:xt&&jt==="small"&&Ge?o.SmallGuestDnd:xt&&jt==="small"?o.SmallGuest:Dn&&jt==="base"&&Ge?o.BaseSingleChannelGuestDnd:Dn&&jt==="base"?o.BaseSingleChannelGuest:Dn&&jt==="small"&&Ge?o.SmallSingleChannelGuestDnd:Dn&&jt==="small"?o.SmallSingleChannelGuest:"":"",[F,Ge,jt,xt,hn,Dn,Be,we]),dn=(0,n.A)(Z,"c-avatar",{"c-avatar--no_image":!(W||K||Sn),"c-avatar--interactive":N&&!R&&!Me,"c-avatar--ad_hoc_member":R,"c-avatar--deleted_member":be,"c-avatar--resetIA":se}),fn=Ue?T.n[Ue]:B,un={height:`${fn}px`,width:`${fn}px`};let _n;z&&(_n=N&&dt());const tn=Re&&(N||_n)?D.t("View {name}\u2019s Profile",{name:Re}):void 0,nn=vn({fallback:Sn}),An={...un,"--avatar-image-size":`${fn}px`},yn=Be?"slackbot":He,sn=F||ee;let Nn=t.createElement(t.Fragment,null,F&&He&&t.createElement(a,{isDnd:Ge,userType:yn,hasNoAccess:we,size:jt}),ke?t.createElement(l.A,{className:Z,size:fn}):nn,sn&&Ot(),it());return _n?Nn=t.createElement(m.A,{href:_n,target:"_blank",rel:"noopener noreferrer",style:un,className:dn,onClick:Ye,tabIndex:le,"aria-hidden":ce,"aria-label":tn,autoClogProps:Ce,"data-qa":xe,"data-stringify-ignore":Oe},Nn):N&&!Me?Nn=t.createElement(d.A,{style:un,className:dn,"data-qa":xe,"data-stringify-ignore":Oe,"aria-hidden":ce,"aria-label":tn,tabIndex:le,onClick:Ye,autoClogProps:Ce},Nn):Nn=t.createElement("span",M({style:An,className:dn},St?{"data-mask":St}:{},{"data-qa":xe,"data-stringify-ignore":Oe,"aria-hidden":ce}),Nn),N&&ne&&B>=E.medium?(0,y.yN)({memberId:b,serviceId:z,botProfile:w,children:Nn}):Nn},"BaseAvatar");U.displayName="BaseAvatar"},9457726980:(x,g,e)=>{"use strict";e.d(g,{A:()=>b});var t=e(3134334389),n=e(6122756707),s=e(8642919232),r=e(1212974695),c=e(5267010247),o=e(8822892075),a=e(3275490582),l=e(3244118357),i=e(6052448919),d=e(8170643398),_=e(3534324375),m=e(4562579337),h=e(6536982570),v=e(9385953262),T=e(3339229351),A=e(4724591729),y=e(6415587347),p=e(92812954),f=e(6045540917),O=e(8847766420),I=e(9786721596),P=e(2562405183),C=e(8677230210),M=e(6273556946),D=e(3829348308),E=e(4761125736),S=e(5761207079),k=e(3677514771);function U(){return U=Object.assign||function(R){for(var z=1;z<arguments.length;z++){var w=arguments[z];for(var W in w)Object.prototype.hasOwnProperty.call(w,W)&&(R[W]=w[W])}return R},U.apply(this,arguments)}u(U,"_extends");const L=(0,t.forwardRef)((R,z)=>{const w=(0,n.wA)();t.useImperativeHandle(z,()=>({props:R}),[R]);const{user:W,userId:K,botId:Y,botProfile:X,triggerId:Z,size:ie,icons:Ae,emoji:ae,team:V,slackbotFeels:ve,isUnknown:be,showPresence:Ue,isExternal:Re,hasNoAccess:ge}=R;let ne=null,ee=null,F,H,j,N,J,le=ae,ce,Ee;const{member:ye,bot:Ie,memberIsHuman:he}=(0,P.Z2)(Ye=>(0,C.Od)(Ye,{userId:K,botId:Y,botProfile:X})),{currentTab:Ce,channelId:oe}=(0,t.useContext)(r.d),de=W||K||be,De=de?W||ye:void 0,Te=De&&!De.isUnknown&&!De.is_unknown,pe=(0,P.d4)(Ye=>(0,E._Z)(Ye,"bot_team_id_from_member")==="on");if(Te){var Me;Y||(ce=Ie==null?void 0:Ie.id);let Ye;pe?Ye=(0,h.dQ)(De):Ye=(0,m.A)(De)?(0,h.D5)(De):(0,h.dQ)(De);const dt=(0,y.Ay)({size:ie,teamOrEnterpriseId:Ye,memberId:De==null?void 0:De.id,avatarHash:De==null||(Me=De.profile)===null||Me===void 0?void 0:Me.avatar_hash,slackbotFeels:ve});ne=dt==null?void 0:dt.imageUrl,ee=dt==null?void 0:dt.imageUrl2x,F=Re||(De==null?void 0:De.isExternal),H=De==null?void 0:De.is_restricted,j=De.is_ultra_restricted,N=De.id,J=(0,d.oy)(De)}Ee=(0,P.d4)(Ye=>Te&&F?(0,h.Ux)(Ye,De):void 0);let ke=de?void 0:Ae||X&&X.icons;if(!de){if(Ie){ke=ke||Ie.icons;const Ye=(0,A.Cu)()?M.O:M.U;(Ie==null?void 0:Ie.app_id)===Ye&&(ke=(Ie==null?void 0:Ie.icons)||ke)}if(!le&&ke&&(le=ke.emoji),!le){const Ye=(0,y.Ay)({size:ie,botImages:ke,isBot:!0});ne=Ye.imageUrl,ee=Ye.imageUrl2x}}Ee=(0,P.d4)(Ye=>de?Ee:(V==null?void 0:V.id)||(0,i.s)(Ye,{bot:Ie,botProfile:X,botId:Y})||void 0),F=(0,P.d4)(Ye=>de?F:Ee?Ee!==(0,O.Kc)(Ye):!1);const Ke=(0,P.d4)(Ye=>{if(Te)return(0,_.sE)(Ye,De);if(!de)return(0,l.Hg)(Ie)}),Ze=(0,P.d4)(Ye=>{let dt=le&&Ee&&(0,D.ux)(Ye,{text:le,teamId:Ee});if(!dt&&le&&Ee===(0,O.Kc)(Ye)){const mt=(0,k.H7)(Ye),it=mt&&mt.id;it&&it!==Ee&&(dt=(0,D.ux)(Ye,{text:le,teamId:it}))}return dt}),Q=(0,P.d4)(Ye=>Ue?(0,p.d)(Ye,K):void 0),se=(0,P.d4)(Ye=>Ue?(0,f.h)(Ye,K):!1);var He;const Ge=(He=K??N)!==null&&He!==void 0?He:"",Be=(0,P.d4)(Ye=>Ge?(0,S.a)(Ye,Ge):!1),we=(0,t.useCallback)(Ye=>w((0,I.U)(Ye)),[w]),xe=(0,t.useCallback)(Ye=>w((0,s.A)(Ye)),[w]),Oe=(0,t.useCallback)(Ye=>w(Ce&&oe?(0,c.o)((0,o.sL)(Ye,oe,Ce.id)):(0,c.o)(Ye)),[w,Ce,oe]),Xe=he||Ie&&!(0,d.v3)(Ie)||Z;return t.createElement(v.f1,U({},R,{userId:K,imageUrl:ne||void 0,imageUrl2x:ee||void 0,botEmoji:le,canRenderEmoji:!!Ze,teamId:Ee,isRestricted:H,isUltraRestricted:j,isDeleted:J,memberOrBotName:Ke,botId:ce||Y,disableLink:!Xe,isExternal:F,isUserHidden:Be,userType:Q,isDnd:se,isSlackbot:K===T.Q$,size:ie,openProfile:we,showMemberProfileInWindow:xe,navigate:Oe,hasNoAccess:ge,showPresence:Ue,triggerId:Z}))}),B=(0,a.A)(t.memo(L));B.displayName="ConnectedAvatar";const b=B},3462964303:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>s,RG:()=>n.RG,f1:()=>n.f1,fp:()=>n.fp});var t=e(9457726980),n=e(9385953262);const s=t.A},7725022178:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(5255740490),s=e(8683010724);function r(o){let{className:a="",size:l,"data-qa":i}=o;return t.createElement("span",{className:(0,n.A)(a,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":l===16}),style:{width:`${l}px`,height:`${l}px`},"data-qa":i},t.createElement("span",{className:"c-hidden_user_avatar--icon"},t.createElement(s.A,{size:l<=24?"16":"24",name:"user-hide"})))}u(r,"HiddenUserAvatar"),r.displayName="HiddenUserAvatar";const c=t.memo(r)},8796434876:(x,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(3134334389),n=e(1649982175),s=e(3297051565),r=e.n(s),c=e(9262712126),o=e(8921478798),a=e(3534324375),l=e(735940183),i=e(9391594207),d=e(5761207079);function _(){return _=Object.assign||function(p){for(var f=1;f<arguments.length;f++){var O=arguments[f];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(p[I]=O[I])}return p},_.apply(this,arguments)}u(_,"_extends");const m=new l.Ay("files"),h={name:r().string.isRequired,isChannelFiles:r().bool,showMemberNameIfHidden:r().bool},v={isChannelFiles:!1,showMemberNameIfHidden:!1},T=u(p=>{const f=(0,n.A)(p,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let O=p.name;if(p.isChannelFiles){const I=p.name;O=m.t("Shared by {memberName}",{memberName:I})}return t.createElement("span",_({},f),O)},"MemberName");T.displayName="MemberName",T.propTypes=h,T.defaultProps=v;const A=u((p,f)=>{const{id:O,member:I,skipPrefCompliance:P,showMemberNameIfHidden:C}=f;if(P)return{name:(0,c.wg)(I)};let M;return!C&&(0,d.a)(p,O)?M=m.t("Name hidden"):M=I?(0,a.sE)(p,I,!1,!1,P,!1):(0,o.I)(p,O,!1,!1,!1,!1),{name:M}},"mapStateToProps"),y=(0,i.N)(A)(T)},1471580244:(x,g,e)=>{"use strict";e.d(g,{A:()=>P,k:()=>y});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(4559887502),c=e(6007206761),o=e(1921529647),a=e(7594425517),l=e(1442695153),i=e(2671211451),d=e(3877384923),_=e(1224844542),m=e(796111729),h=e(4757466470),v=e(9391594207),T=e(9101533895);function A(){return A=Object.assign||function(C){for(var M=1;M<arguments.length;M++){var D=arguments[M];for(var E in D)Object.prototype.hasOwnProperty.call(D,E)&&(C[E]=D[E])}return C},A.apply(this,arguments)}u(A,"_extends");function y(C){return!(0,s.LI)(C)&&!(0,s.yz)(C)}u(y,"shouldUseInlineChannelEntity");const p="INLINE-CHANNEL-ENTITY";function f(C){let{className:M,channel:D,bestFormerName:E,displayFormerNames:S=d.P.false,logger:k,boldIcon:U=!1,showTeam:L=!0,truncate:B=!1,truncateWidth:b,overrideHiddenName:R,overrideHiddenIcon:z,withTruncationTooltip:w,channelNameClassName:W,omitNonExistentTooltip:K,channelHasNonUniqueName:Y=!1,showDisambiguatingTeamName:X=!1}=C;const Z=(0,s.t8)(D),ie=(0,s.QR)(D||null),Ae=(0,t.useCallback)(ge=>{let{className:ne,...ee}=ge;return(!ie||z)&&t.createElement(l.A,A({},ee,{bold:U,className:ne,channel:D,overrideHiddenIcon:z}))},[D,U,ie,z]);if(!y(D||null))return k==null||k.warn(p,"InlineChannelEntity should not display IMs or MPIMs"),null;const ae=(0,n.A)(M,"c-inline_channel_entity"),V=(0,c.F)(D)?d.pI.dim:void 0,ve=D&&R?{...D,name:R}:D||void 0,be=(0,n.A)(W,"c-inline_channel_entity__content"),Ue=Y&&X,Re=(Z||ie)&&!R?t.createElement(_.A,{"data-qa":"inline_channel_entity__missing",type:Z?"unknown":"non-existent",size:"small",width:b,omitNonExistentTooltip:K}):t.createElement("span",{className:be},t.createElement(o.A,{bold:U,channel:ve,bestFormerName:E,displayFormerNames:S,showTeam:L,showTeamForLocalChannel:Ue,width:b,"data-qa":"inline_channel_entity__name",overrideHiddenName:R}));return t.createElement(i.A,{avatar:Ae,className:ae,"data-qa":"inline_channel_entity","data-channel-id":D&&D.id,style:V,truncate:B,truncateWidth:b,withTruncationTooltip:w,primaryContent:Re,secondaryContent:b&&t.createElement(t.Fragment,null,L&&t.createElement(a.A,{className:"c-inline_channel_entity__team",iconSize:14,channel:ve,"data-qa":"inline_channel_entity__team"}))})}u(f,"InlineChannelEntity"),f.displayName="InlineChannelEntity";function O(C){return Object.prototype.hasOwnProperty.call(C,"channel")}u(O,"propsContainsChannel");function I(C,M){const D=O(M)?M.channel:(0,T.OL)(C,M.channelId);let E;return M.showDisambiguatingTeamName&&(E=(0,r.i)((0,T.MS)(C),D)),{channel:D,channelHasNonUniqueName:E,logger:(0,m.Ay)({state:C})}}u(I,"mapStateToProps");const P=(0,v.N)(I,null,null,{areStatePropsEqual:h.kt})(f)},6850680508:(x,g,e)=>{"use strict";e.d(g,{A:()=>M});var t=e(3134334389),n=e(5255740490),s=e(6696292586),r=e(9884588328),c=e(1407713935),o=e(4559887502),a=e(6007206761),l=e(8597130189),i=e(1921529647),d=e(5273017660),_=e(3877384923),m=e(1224844542),h=e(796111729),v=e(735940183),T=e(9391594207),A=e(9101533895),y=e(8286248123);function p(){return p=Object.assign||function(D){for(var E=1;E<arguments.length;E++){var S=arguments[E];for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(D[k]=S[k])}return D},p.apply(this,arguments)}u(p,"_extends");const f=new v.Ay("channel_entity"),O="SMALL-CHANNEL-ENTITY";function I(D){let{className:E,channel:S,bestFormerName:k,inlineNameSuffix:U,invert:L=!1,logger:B,displayFormerNames:b=_.P.false,showTeamForLocalChannel:R,showDraftIcon:z=!1,showFilledIcon:w=!1,showTeam:W,memberCount:K,onlyBoldIfUnread:Y=!1,showTruncatedChannelNameTooltip:X=!1,"data-qa":Z="small_channel_entity",channelHasNonUniqueName:ie=!1,showDisambiguatingTeamName:Ae=!1}=D;const ae=(0,t.useCallback)(j=>t.createElement(l.A,p({},j,{className:"c-small_channel_entity__icon",channel:S,size:_.RG.small,showDraftIcon:z,showFilledIcon:w})),[S,z,w]);if((0,c.LI)(S)||(0,c.yz)(S))return B==null||B.warn(O,"SmallChannelEntity should not display IMs or MPIMs"),null;const V=(0,n.A)(E,"c-small_channel_entity"),ve=!Y||(0,r.KJ)(S),be=(0,c.t8)(S),Ue=(0,c.QR)(S);let Re=(0,a.F)(S)?_.pI.dim:void 0;L&&(Re=_.pI.highlightDark);let ge=null;if((0,s.A)(K)){const j=f.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:K,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});ge=t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":j},"(",K,")")}const ne=ie&&Ae,ee=t.createElement(i.A,{channel:S,bestFormerName:k,inlineNameSuffix:U,displayFormerNames:b,showTeamForLocalChannel:R||ne,showTeam:W,bold:!!ve}),F=X?t.createElement(d.CG,{withTruncationTooltip:!0},ee):ee,H=(0,n.A)("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":X});return t.createElement(d.Ay,{avatar:ae,className:V,"data-qa":Z,size:"small",style:Re,text:t.createElement(d.CG,null,be||Ue?t.createElement(m.A,{type:be?"unknown":"non-existent",invert:L,size:"small"}):t.createElement("span",{className:H},F,U&&t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},U),ge))})}u(I,"SmallChannelEntity"),I.displayName="SmallChannelEntity";function P(D){return Object.prototype.hasOwnProperty.call(D,"channel")}u(P,"propsContainsChannel");function C(D,E){let S;if(E.showMemberCounts){var k;const B=(0,y.q8)(D,P(E)?(0,r.FB)(E.channel):E.channelId);S=B?B==null||(k=B.counts)===null||k===void 0?void 0:k.member_count:null}const U=P(E)?E.channel:(0,A.OL)(D,E.channelId);let L;return E.showDisambiguatingTeamName&&(L=(0,o.i)((0,A.MS)(D),U)),{memberCount:S,channel:U,logger:(0,h.Ay)({state:D,label:O}),channelHasNonUniqueName:L}}u(C,"mapStateToProps");const M=(0,T.N)(C)(I)},3215419563:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),n=e(6850680508),s=e(2828836153),r=e(3877384923),c=e(9163962844),o=e(9391594207),a=e(9101533895);function l(){return l=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(v[y]=A[y])}return v},l.apply(this,arguments)}u(l,"_extends");function i(v,T,A){if(v)return T||A?r.pI.highlightDim:r.pI.highlightDark;if(T||A)return r.pI.dim}u(i,"getBaseStyle");function d(v){let{className:T,secondaryContent:A,isActive:y=!1,isDeactivated:p=!1,isDisabled:f=!1,showUnreadBadge:O=!1,badgeCount:I=0,onlyBoldIfUnread:P=!1,...C}=v,M=A;O&&(M=t.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},A,t.createElement(c.A,{count:I,className:"c-channel_entity__mentions",style:y?c.r.white:c.r.red})));const D=i(y,f,p);return t.createElement(s.A,{className:T,primaryContent:t.createElement(n.A,l({invert:D===r.pI.highlightDark,onlyBoldIfUnread:P},C)),secondaryContent:M,size:"small",style:D})}u(d,"SmallChannelListEntity"),d.displayName="SmallChannelListEntity";function _(v){return Object.prototype.hasOwnProperty.call(v,"channel")}u(_,"propsContainsChannel");function m(v,T){const A=_(T)?T.channel:(0,a.OL)(v,T.channelId),y=T.showUnreadBadge?T.badgeCount||(0,a.TJ)(v,A):0;return{channel:A,badgeCount:y}}u(m,"mapStateToProps");const h=(0,o.N)(m)(d)},8597130189:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(1694643415),c=e(3877384923),o=e(8683010724),a=e(2562405183);function l(){return l=Object.assign||function(_){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(_[v]=h[v])}return _},l.apply(this,arguments)}u(l,"_extends");function i(_){let{size:m=c.RG.medium,className:h,channel:v,showDraftIcon:T=!1,showFilledIcon:A=!1}=_;const y=(0,s.t8)(v),p=(0,a.d4)(f=>(0,r.Ay)(f,v,{filled:A,showDraftIcon:T}));return m!==c.RG.small&&(p.inline=!0),t.createElement("span",{className:(0,n.A)("c-channel_icon",{"c-channel_icon--unknown":y,"c-channel_icon--with-background":m!==c.RG.small},h),"data-channel-type-icon":(p==null?void 0:p.name)||"unknown"},!y&&t.createElement(o.A,l({},m===c.RG.small?{size:"18"}:{},p)))}u(i,"ChannelIcon"),i.displayName="ChannelIcon";const d=i},1921529647:(x,g,e)=>{"use strict";e.d(g,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(9113979368),r=e(6159136815),c=e(9884588328),o=e(6007206761),a=e(395285811),l=e(4630136761),i=e(2647703359),d=e(3634593162),_=e(6839188756),m=e(7594425517),h=e(1442695153),v=e(3877384923),T=e(82287009),A=e(4518138713),y=e(735940183),p=e(9391594207),f=e(937317117),O=e(3677514771);function I(){return I=Object.assign||function(S){for(var k=1;k<arguments.length;k++){var U=arguments[k];for(var L in U)Object.prototype.hasOwnProperty.call(U,L)&&(S[L]=U[L])}return S},I.apply(this,arguments)}u(I,"_extends");const P=new y.Ay("search"),C=new y.Ay("inline_channel");function M(S){const{bestFormerName:k,bold:U=!0,channel:L,channelName:B,overrideHiddenName:b,width:R,displayFormerNames:z=v.P.true,isChannelFrozenAndInGracePeriod:w,showTeam:W=!0,showTeamForLocalChannel:K=!1,showTeamName:Y,titleBlocks:X}=S,Z=(0,o.F)(L)&&!w;let ie=`${b??B}${Z?` ${P.t("(archived)")}`:""}`,Ae;if(z)if(k){const V=t.createElement(h.A,{bold:U,className:"c-channel_name__former_channel_icon",channel:L}),ve=t.createElement("span",{className:"c-channel_name__former_name_text"},t.createElement(r.A,{text:k,showTooltips:!1}));Ae=k&&t.createElement("span",{className:"c-channel_name__suffix"},C.rt(" (formerly {icon}{name})",{icon:V,name:ve,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"}))}else{let V;const ve=(0,c.Hx)(L);if(ve&&!(0,s.A)(ve)){const be=ve.map(Re=>`#${Re}`);V=(0,y.jd)(be,{noConj:!0}).join("")}V&&(ie+=` ${C.t("(formerly {names})",{names:V,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"'})}`)}const ae=(0,n.A)("c-channel_entity__name",{"c-channel_entity__name--bold":U});return t.createElement(t.Fragment,null,t.createElement("span",I({className:ae},(0,A.A)(S)),X??t.createElement(t.Fragment,null,t.createElement(r.A,{text:ie,showTooltips:!1}),z&&Ae)),!R&&t.createElement(t.Fragment,null,W&&t.createElement(m.A,{className:"c-channel_entity__team",iconSize:v.RG.inline,channel:L,"data-qa":"channel_entity__team",shouldRender:K,showTeamName:Y})))}u(M,"ChannelName"),M.displayName="ChannelName";function D(S,k){let{channel:U,includeChannelPrefix:L}=k;const B=(0,O.H7)(S)||(0,O.lp)(S),b=(0,_.ZT)(B),R=U&&(0,a.jT)(U)&&(0,d.l)(U.id),z=R?(0,f.Lp)(S,R):void 0,w=z&&(0,i.U9)(z)?(0,T.GU)({id:R,fileId:R,size:"caption",truncate:!1}):null;var W;return{channelName:(W=(0,c.SB)(S,U,{publicChannelIncludeHashSign:!!L,imIncludeAtSign:!1}))!==null&&W!==void 0?W:void 0,titleBlocks:w,isChannelFrozenAndInGracePeriod:(0,l.sP)(b,U)}}u(D,"mapStateToProps");const E=(0,p.N)(D)(M)},7594425517:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(9884588328),r=e(5373179915),c=e(6839188756),o=e(9391594207),a=e(9101533895),l=e(3677514771);let i=u(class extends t.Component{render(){const{shouldRender:h,team:v,className:T}=this.props;return!h||!v?null:t.createElement("div",{className:(0,n.A)("c-channel_team","c-channel_team--xws",T),"data-qa":"channel_team"},t.createElement("span",{className:"c-channel_team__name"},(0,c.F1)(v)))}},"ChannelTeam");i.displayName="ChannelTeam";const d=u((m,h)=>{let{channel:v,channelId:T,shouldRender:A}=h;const y=v||(0,a.OL)(m,T),p=(0,r.R)(m,y);let f;if((0,s.lo)(y))f=(0,l._J)(m,(0,s.bK)(m,y));else if(A||p){const O=(0,s.ne)(m,y);f=(O?(0,l._J)(m,O):void 0)||(0,l.H7)(m)}return{shouldRender:A||p||!!(0,s.lo)(y),team:f??void 0}},"mapStateToProps"),_=(0,o.N)(d)(i)},1442695153:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(1694643415),c=e(8683010724),o=e(2562405183);function a(){return a=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var m=arguments[_];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(d[h]=m[h])}return d},a.apply(this,arguments)}u(a,"_extends");const l=u(d=>{let{className:_,filled:m,bold:h,channel:v,disableArchived:T,overrideHiddenIcon:A}=d;const y=(0,o.d4)(f=>A||(0,r.Ay)(f,v,{filled:m||(0,s.Zp)(v),bold:h,disableArchived:T})),p=(0,n.A)(_,{"c-inline_channel_icon c-inline_channel_icon--space":!0});return t.createElement("span",{className:p,"data-inline-channel-type-icon":y.name},t.createElement(c.A,a({inline:!0},y)))},"InlineChannelIcon");l.displayName="InlineChannelIcon";const i=t.memo(l)},1694643415:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>M,PR:()=>P,pH:()=>O});var t=e(5892132962),n=e(9884588328),s=e(1407713935),r=e(6007206761),c=e(395285811),o=e(4630136761),a=e(2647703359),l=e(3634593162),i=e(6839188756),d=e(9101533895),_=e(937317117),m=e(3677514771);const h={name:"archive"},v={name:"archive",variation:"filled"},T={name:"edit"},A={name:"edit",variation:"filled"},y={name:"file"},p={name:"lists"},f={name:"lock"},O={name:"lock",variation:"filled"},I={name:"channel"},P={name:"channel",variation:"filled"},C={name:"canvas"};function M(D,E){let{filled:S,bold:k,disableArchived:U,showDraftIcon:L}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const B=(0,m.H7)(D)||(0,m.lp)(D),b=(0,i.ZT)(B);if(!(0,o.sP)(b,E)&&((0,r.F)(E)&&!U||(0,o.Zz)(E)))return S?v:h;if(L&&(0,n.yc)(D,E.id))return S?A:T;if((0,c.jT)(E)){const z=(0,_.Lp)(D,(0,l.l)(E.id));if((0,a.wL)(z))return C;if((0,a.aD)(z)){const w=(0,d.Pf)(D,z.id),W=(0,d.OL)(D,w);return(0,s.Zp)(W)||(0,s.JM)(W)?S?O:f:C}return(0,a.l7)(z)?p:y}const R=(0,t.sc)(E);return R||((0,s.Zp)(E)?S?O:f:k?P:I)}u(M,"getChannelIconType")},2023515700:(x,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(3134334389),n=e(5255740490),s=e(3750057149),r=e(3037015781),c=e(8170643398),o=e(9262712126),a=e(4562579337),l=e(479227507),i=e(2671211451),d=e(3877384923),_=e(9391594207),m=e(5761207079),h=e(8276911661),v=e(3146663623);function T(p){const{className:f,forceRealName:O=!1,id:I,member:P,truncate:C=!1,truncateWidth:M,withTruncationTooltip:D=!1,"data-qa":E="inline_member_entity",isBold:S=!0,showAppOrBotBadge:k,isUserHidden:U=!1}=p,L=(0,n.A)(f,"c-inline_member_entity"),B=(0,a.A)(P),b=(0,c.v3)(P),R=(0,c.oy)(P),z=(0,r.lv)(P),w=(0,r.mX)(P),W=(0,o.wg)(P),K=(0,o.Fh)(P);let Y;O||!K?Y=W:Y=K;const X=R?d.pI.dim:void 0;return t.createElement(i.A,{className:L,"data-qa":E,"data-member-id":I||(P==null?void 0:P.id),style:X,truncate:C,truncateWidth:M,withTruncationTooltip:D,primaryContent:t.createElement("span",{className:"c-inline_member_entity__content"},t.createElement(l.A,{isBold:S,name:Y,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:B,isWorkflowBot:b,isDeleted:R,isNonExistent:z,isUnknown:w,showAppOrBotBadge:k,isUserHidden:U}))})}u(T,"InlineMemberEntity"),T.displayName="InlineMemberEntity";function A(p,f){let{forceRealName:O,member:I,id:P}=f;const C=I||(0,h.nv)(p,P);return{member:C??void 0,forceRealName:(0,s.A)(O)?O:(0,v.E)(p),isUserHidden:C&&(0,m.a)(p,C.id)}}u(A,"mapStateToProps");const y=(0,_.N)(A)(T)},5658567578:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>U,lP:()=>E});var t=e(3134334389),n=e(5255740490),s=e(2486585453),r=e(3037015781),c=e(9884588328),o=e(8170643398),a=e(9262712126),l=e(3534324375),i=e(4562579337),d=e(3462964303),_=e(479227507),m=e(1464713483),h=e(51460783),v=e(161084047),T=e(3534100833),A=e(3877384923),y=e(5016016975),p=e(8683010724),f=e(82287009),O=e(9391594207),I=e(9101533895),P=e(5761207079),C=e(8276911661),M=e(2809903252);function D(){return D=Object.assign||function(L){for(var B=1;B<arguments.length;B++){var b=arguments[B];for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(L[R]=b[R])}return L},D.apply(this,arguments)}u(D,"_extends");const E={right:"right",bottom:"bottom"};function S(L){const{className:B,id:b,invert:R=!1,member:z,memberPrimaryName:w,memberSecondaryName:W,secondaryContent:K,secondaryContentPosition:Y=E.bottom,subtext:X,showSubtext:Z=!0,showAvatar:ie=!0,showDraftIcon:Ae=!1,showPresence:ae=!0,showStatus:V=!0,showTooltip:ve=!0,showAppOrBotBadge:be=!0,isDeactivated:Ue=!1,useShortMode:Re,showHoverCard:ge=!1,forwardedRef:ne,"data-sk":ee="medium_member_entity","data-qa":F="medium_member_entity",isUserHidden:H=!1,noStatusText:j=!1,showBadgeOnTextTruncation:N,description:J=""}=L,le=(0,i.A)(z),ce=(0,o.v3)(z),Ee=(0,o.oy)(z),ye=(0,o.fy)(z),Ie=(0,o.hh)(z),he=(0,r.lv)(z),Ce=(0,r.mX)(z),oe=t.createElement(_.A,{"data-qa":"member-entity__primary-name",name:w,invert:R&&!Ue,isAppOrBot:le,isWorkflowBot:ce,showAppOrBotBadge:be,isDeleted:Ee,isSelf:ye,isNonExistent:he,isUnknown:Ce,isUserHidden:H,showBadgeOnTextTruncation:N}),de=(0,f.yN)({memberId:b,children:oe}),De=!H&&t.createElement(T.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},W),Te=z&&t.createElement(v.A,{className:"c-member__title","data-qa":"member-entity__title"},(0,o.rN)(z)),pe=!Ee&&!Ie&&t.createElement(y.Ay,{memberId:b,className:"c-member__presence",invert:R&&!Ue,"data-qa":"member-entity__presence",inline:!1}),Me=t.createElement(s.A,{memberId:b,tooltip:ve,animated:Re,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:j}),ke=Y===E.bottom&&K?t.createElement(h.A,{"data-qa":"member-entity__metadata"},K):null,Ke=t.createElement("span",{className:"c-member__primary_content__description"},t.createElement(M.A,{lines:1,withTooltip:!0,breakWords:!1},J)),Ze=t.createElement("span",{className:"c-member__primary_content"},ge?de:oe,ae&&pe,!Re&&De,V&&Me,J&&Ke),Q=Ee||Ue?A.pI.dim:void 0,se=(0,n.A)(B,"c-member","c-member--medium",{"c-member--with-presence":ae}),He=(0,t.useCallback)(Ge=>ie&&(Ae?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(p.A,{name:"edit"})):t.createElement(d.Ay,D({},Ge,{size:A.RG.medium,userId:b,"data-qa":"member-entity__avatar",isInteractive:!1}))),[ie,Ae,b]);return t.createElement(m.A,{avatar:He,className:se,size:"medium",style:Q,text:Ze,subtext:Z&&(X||Te),metadata:!Ee&&ke,"data-qa":F,"data-sk":ee,forwardedRef:ne})}u(S,"MediumMemberEntity"),S.displayName="MediumMemberEntity";function k(L,B){let{id:b,isDraftContext:R,member:z,showStatus:w}=B;const W=z||(0,C.nv)(L,b);let K=!1;if(R&&b){const X=(0,I.Pu)(L,b);K=!!(X&&(0,c.yc)(L,X.id))}const Y=b||(W==null?void 0:W.id);return{id:Y,member:W??void 0,memberPrimaryName:(0,l.sE)(L,W,!1,!1),memberSecondaryName:(0,a.Mu)(L,W),showDraftIcon:K,showStatus:w&&(0,o.aH)(W),isUserHidden:!!Y&&(0,P.a)(L,Y)}}u(k,"mapStateToProps");const U=(0,O.N)(k)(S)},1681415537:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),n=e(5255740490),s=e(9438480351),r=e(5658567578),c=e(2828836153),o=e(3877384923),a=e(2762351398),l=e(9391594207),i=e(8276911661);function d(){return d=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(v[y]=A[y])}return v},d.apply(this,arguments)}u(d,"_extends");let _=u(class extends t.Component{render(){const{className:T,isActive:A=!1,isDeactivated:y=!1,isDisabled:p=!1,secondaryContent:f,secondaryContentPosition:O=r.lP.right,showUnreadCount:I=!1,showStatus:P,showPresence:C,useShortMode:M=!1,showHoverCard:D,forwardedRef:E,unreadCount:S,ariaLabel:k}=this.props,U=I&&S&&t.createElement(a.Ay,{className:"c-member__unread_count",count:S,style:a.rY.red}),L=f&&t.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},f),B=(O===r.lP.right&&L||U)&&t.createElement("span",{className:"c-member__secondary_content"},O===r.lP.right&&L,U),b=(0,n.A)(T,"c-medium_member_list_entity");let R;return A?p||y?R=o.pI.highlightDim:R=o.pI.highlightLight:(p||y)&&(R=o.pI.dim),t.createElement(c.A,{"data-qa":"medium_member_list_entity",className:b,style:R,primaryContent:t.createElement(r.Ay,d({},this.props,{secondaryContent:O===r.lP.right?null:f,showStatus:P,showPresence:C,showHoverCard:D,useShortMode:M,forwardedRef:E})),secondaryContent:B,size:"medium",ariaLabel:k})}},"MediumMemberListEntity");_.displayName="MediumMemberListEntity";function m(v,T){let{id:A}=T;const y=(0,i.nv)(v,A);return{member:y??void 0,unreadCount:(0,s.A)(v,y)}}u(m,"mapStateToProps");const h=(0,l.N)(m,null,null,{forwardRef:!0})(_)},6216960938:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>Y,Cg:()=>z});var t=e(3134334389),n=e(5255740490),s=e(3750057149),r=e(7278430876),c=e(3037015781),o=e(9884588328),a=e(8170643398),l=e(9438480351),i=e(9262712126),d=e(4562579337),_=e(3347503334),m=e(5096647761),h=e(6536982570),v=e(3462964303),T=e(479227507),A=e(5273017660),y=e(3534100833),p=e(3877384923),f=e(2762351398),O=e(1849828988),I=e(5016016975),P=e(8683010724),C=e(5409659566),M=e(735940183),D=e(9391594207),E=e(9101533895),S=e(4761125736),k=e(5761207079),U=e(8276911661),L=e(3146663623),B=e(5624319675);function b(){return b=Object.assign||function(X){for(var Z=1;Z<arguments.length;Z++){var ie=arguments[Z];for(var Ae in ie)Object.prototype.hasOwnProperty.call(ie,Ae)&&(X[Ae]=ie[Ae])}return X},b.apply(this,arguments)}u(b,"_extends");const R=20,z=16,w=new M.Ay("members");function W(X){const{className:Z,id:ie,invert:Ae=!1,member:ae,teamId:V,showAvatar:ve=!0,showDraftIcon:be=!1,showPresence:Ue=!0,showBadge:Re=!0,showStatus:ge=!0,showTooltip:ne=!0,showUnreadCount:ee=!1,showDeactivated:F=!0,showAppOrBotBadge:H=!0,isDeactivated:j=!1,unreadCount:N,useShortMode:J=!1,forceRealName:le=!1,tokenSize:ce,truncateStatus:Ee=!1,withTruncationTooltip:ye,"data-sk":Ie="small_member_entity","data-qa":he="small_member_entity",isBold:Ce,experimentSidebarPrefsApplyToMenusGroupOn:oe=!1,isUserHidden:de=!1,hasNoAccess:De=!1,forceAvatarPresenceIndicator:Te=!1,isAgent:pe=!1,experimentAgentforceGroupOn:Me=!1}=X,ke=(0,d.A)(ae),Ke=(0,a.v3)(ae),Ze=(0,a.oy)(ae),Q=(0,m.g)(ae),se=(0,a.fy)(ae),He=(0,a.hh)(ae),Ge=(0,c.lv)(ae),Be=(0,c.mX)(ae),we=Ge||Be,xe=Ae&&!j,Oe=F&&Ze,Xe=(0,i.wg)(ae),Ye=(0,i.Fh)(ae);let dt,mt;de?(dt=w.t("Name hidden"),mt=w.t("Name hidden")):le||!Ye?(dt=Xe,mt=Ye):(dt=Ye,mt=Xe);const it=t.createElement(T.A,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:dt,invert:xe,isAppOrBot:ke,isWorkflowBot:Ke,isDeleted:Oe,isSelf:se,isNonExistent:Ge,isUnknown:Be,withTruncationTooltip:ye,isBold:Ce,isAgent:Me&&pe,showAppOrBotBadge:H}),At=!de&&!He&&t.createElement(y.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},mt),Ot=(0,t.useMemo)(()=>!de&&!Ze&&!He&&t.createElement(I.Ay,{memberId:ie||(ae==null?void 0:ae.id),className:"c-member__presence",invert:xe,inline:!1}),[de,Ze,He,ie,xe,ae]),Kt=(0,t.useCallback)(St=>ve?de?t.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.createElement(P.A,{size:"20",name:"user-hide"})):we?t.createElement(O.A,b({},St,{"data-qa":"member-entity__missing",isNonExistent:Ge,size:R})):be?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(P.A,{name:"edit"})):t.createElement(v.Ay,b({},St,{"data-qa":"member-entity__avatar",size:p.RG.small,userId:ie,user:ae,showBadge:Re,tabIndex:-1,isInteractive:!1,tokenSize:ce,hasNoAccess:De,showPresence:Te})):Ue&&oe?Ot:null,[ve,ie,Ge,we,ae,ce,be,de,Ot,Ue,Re,oe,De,Te]),Xt=Q&&t.createElement(C.A,b({},X,{"data-qa":"member-entity__team-icon",id:V,size:z,className:"c-member__team_icon"})),vn=t.createElement(r.A,{memberId:ie||"",tooltip:ne,animated:J,className:(0,n.A)("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:Ee}),"data-qa":"member-entity__status"}),Sn=ee&&!!N&&t.createElement(f.Ay,{className:"c-member__unread_count",count:N,style:xe?f.rY.white:f.rY.red,"data-qa":"member-entity__mention-badge"}),jt=t.createElement("span",{className:"c-member__primary_content"},it,Ue&&!we&&ve&&Ot,!J&&At,ge&&vn),hn=(Xt||Sn)&&t.createElement("span",{className:"c-member__secondary_content"},Xt,Sn),xt=Ze&&!Ae?p.pI.dim:void 0,Dn=(0,n.A)(Z,"c-member","c-member--small",{"c-member--with-presence":Ue,"c-member--deleted":Ze,"c-base_entity--dim":de});return t.createElement(A.Ay,{avatar:Kt,className:Dn,text:jt,size:"small",style:xt,subtext:hn,"data-qa":he,"data-sk":Ie})}u(W,"SmallMemberEntity"),W.displayName="SmallMemberEntity";function K(X,Z){let{forceRealName:ie,member:Ae,id:ae,isDraftContext:V,showStatus:ve,onlyBoldIfUnread:be,useShortMode:Ue,neverBold:Re}=Z;const ge=Ae||(0,U.nv)(X,ae);let ne;const ee=ae||(ge==null?void 0:ge.id);ee&&(V||be)&&(ne=(0,E.Pu)(X,ee));const F=(0,k.a)(X,ee);let H=!0;F?H=!!Ue:be?H=!!(ne&&(0,o.KJ)(ne)):Re&&(H=!1);let j;return V&&(j=!!(ne&&(0,o.yc)(X,ne.id))),{id:ae||(ge==null?void 0:ge.id),member:ge??void 0,teamId:(0,h.Ux)(X,ge),forceRealName:(0,s.A)(ie)?ie:(0,L.E)(X),unreadCount:(0,l.A)(X,ge),showDraftIcon:j,showStatus:ve&&(0,a.aH)(ge),isBold:H,experimentSidebarPrefsApplyToMenusGroupOn:(0,S._Z)(X,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:F,isAgent:(0,_.yh)(X,ge==null?void 0:ge.id),experimentAgentforceGroupOn:(0,B.mr)(X)}}u(K,"mapStateToProps");const Y=(0,D.N)(K)(W)},5882561377:(x,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),n=e(5255740490),s=e(6216960938),r=e(2828836153),c=e(3877384923);function o(){return o=Object.assign||function(i){for(var d=1;d<arguments.length;d++){var _=arguments[d];for(var m in _)Object.prototype.hasOwnProperty.call(_,m)&&(i[m]=_[m])}return i},o.apply(this,arguments)}u(o,"_extends");let a=u(class extends t.Component{render(){const{className:d,id:_,isActive:m=!1,isDeactivated:h=!1,isDisabled:v=!1,isDraftContext:T,showAvatar:A,showBadge:y,showPresence:p,showAppOrBotBadge:f,showStatus:O,showTooltip:I,withTruncationTooltip:P,showUnreadCount:C,useShortMode:M,secondaryContent:D,onlyBoldIfUnread:E=!1,forceRealName:S,hasNoAccess:k,forceAvatarPresenceIndicator:U,removePadding:L}=this.props;let B;return m?v||h?B=c.pI.highlightDim:B=c.pI.highlightDark:(v||h)&&(B=c.pI.dim),t.createElement(r.A,{className:(0,n.A)(d,"c-small_member_list_entity"),primaryContent:t.createElement(s.Ay,o({id:_,invert:B===c.pI.highlightDark,isDeactivated:h,truncateStatus:!!D,showAvatar:A,showPresence:p,showBadge:y,showAppOrBotBadge:f,useShortMode:M,showStatus:O,showTooltip:I,withTruncationTooltip:P,showUnreadCount:C,isDraftContext:T,onlyBoldIfUnread:E,forceRealName:S,hasNoAccess:k,forceAvatarPresenceIndicator:U},this.props)),secondaryContent:D,size:"small",style:B,padding:L?c.FK.none:c.FK.normal})}},"SmallMemberListEntity");a.displayName="SmallMemberListEntity";const l=a},479227507:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),n=e(5255740490),s=e(9509635375),r=e(5273017660),c=e(9849711458),o=e(4518138713),a=e(5734745215),l=e(2562405183),i=e(4761125736);function d(){return d=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(v[y]=A[y])}return v},d.apply(this,arguments)}u(d,"_extends");const _=new a.Ay("inline_member");function m(v){const{className:T,multiline:A=!1,inline:y=!1,invert:p=!1,name:f,isSelf:O=!1,isAppOrBot:I=!1,isWorkflowBot:P=!1,showAppOrBotBadge:C=!0,isDeleted:M=!1,isUnknown:D=!1,isNonExistent:E=!1,withTruncationTooltip:S=!1,isBold:k=!0,isUserHidden:U=!1,isChannelFiles:L=!1,isCreator:B=!1,showMemberNameIfHidden:b=!1,showBadgeOnTextTruncation:R,isAgent:z=!1}=v,w=(0,l.d4)(Z=>(0,i._Z)(Z,"member_name_channel_files_view_two")==="on");let W;if(D||E)W=t.createElement(c.A,{type:E?"non-existent":"unknown","data-qa":"member_name__missing"});else if(U&&!b)W=_.t("Name hidden");else if(L){const Z=w?_.rt("Created by {name}",{name:f}):`Created by ${f}`;W=B?Z:_.rt("Shared by {name}",{name:f})}else W=f;const K=(0,n.A)(T,"c-member_name",{"c-member_name--deactivated":M,"c-member_name--inverted":p}),Y=k?"strong":"span",X=(I||P)&&C;return t.createElement(r.CG,d({className:K,multiline:A,inline:y,withTruncationTooltip:S},(0,o.A)(v)),t.createElement(Y,{className:(0,n.A)({"c-member_name__container":X&&R}),"data-qa":"member_name"},X&&R?t.createElement("span",{className:"c-member_name__text"},W):W,O&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},_.t("(you)")),M&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},_.t("(deactivated)")),X&&t.createElement(s.A,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:p,isWorkflow:P,isAgent:z})))}u(m,"MemberName"),m.displayName="MemberName";const h=m},2704661e3:(x,g,e)=>{"use strict";e.d(g,{A:()=>ve});var t=e(3134334389),n=e(5255740490),s=e(3297051565),r=e.n(s),c=e(2562405183),o=e(5795074931),a=e(6989432693),l=e(735940183);const i=new l.Ay("channel_token"),d=10,_=u(be=>{let{memberIds:Ue}=be;var Re;const ge=(Re=(0,c.d4)(o.WR))!==null&&Re!==void 0?Re:void 0;let ne=Ue.map((ee,F)=>t.createElement(a.A,{key:ee,userId:ee,isFirst:F===0,isSelf:ge===ee}));return Ue.length>d+1&&(ne=ne.slice(0,d).concat(i.rt("{count} others",{count:Ue.length-d}))),t.createElement(t.Fragment,null,(0,l.jd)(ne))},"TooltipMemberNames");_.displayName="TooltipMemberNames";const m=_;var h=e(3037015781),v=e(9884588328),T=e(3462964303),A=e(3330998079),y=e(8170643398),p=e(3534324375),f=e(4562579337),O=e(479227507),I=e(3877384923),P=e(1849828988),C=e(9391594207),M=e(8276911661);const D=20,E={id:r().string.isRequired,invert:r().bool,isDeactivated:r().bool,isHidden:r().bool,member:r().object,memberPrimaryName:r().string},S={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},k=t.forwardRef((be,Ue)=>{const{id:Re,invert:ge,member:ne,memberPrimaryName:ee,isDeactivated:F,isHidden:H}=be,j=(0,f.A)(ne),N=(0,y.v3)(ne),J=(0,y.oy)(ne),le=(0,h.lv)(ne),ce=(0,h.mX)(ne),Ee=le||ce,ye=ge&&!F,Ie=t.createElement(O.A,{"data-qa":"mpim-entity__name",name:ee,invert:ye,isAppOrBot:j,isWorkflowBot:N,isDeleted:J,isNonExistent:le,isUnknown:ce});let he;Ee?he=t.createElement(P.A,{isNonExistent:le,size:D}):he=t.createElement(T.Ay,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:I.RG.small,userId:Re,tabIndex:-1,isInteractive:!1});const Ce=(0,n.A)("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":J,"c-small_mpim_entity__member--hidden":H});return t.createElement("div",{className:Ce,"data-id":Re,ref:Ue},he,Ie)});k.propTypes=E,k.defaultProps=S;function U(be,Ue){let{id:Re}=Ue;const ge=(0,M.nv)(be,Re);return{member:ge,memberPrimaryName:(0,p.sE)(be,ge,!1,!1)}}u(U,"mapStateToProps");const L=(0,C.N)(U,null,null,{forwardRef:!0})(k);var B=e(5273017660),b=e(2762351398),R=e(2312625946),z=e(8170659516),w=e(3852424459),W=e(9101533895),K=e(3328068409),Y=e(4761125736);function X(){return X=Object.assign||function(be){for(var Ue=1;Ue<arguments.length;Ue++){var Re=arguments[Ue];for(var ge in Re)Object.prototype.hasOwnProperty.call(Re,ge)&&(be[ge]=Re[ge])}return be},X.apply(this,arguments)}u(X,"_extends");const Z=I.RG.small,ie={className:r().string,"data-qa":r().string,"data-sk":r().string,mpim:r().object,id:r().string,invert:r().bool,isDeactivated:r().bool,memberIds:r().array,isActive:r().bool,clientTheme:r().oneOf(["light","dark"]),matchData:r().array,onlyBoldIfUnread:r().bool,showUnreadBadge:r().bool,unreadCount:r().number,shortenTooltipContents:r().bool,showAvatar:r().bool,experimentSidebarPrefsApplyToMenusGroupOn:r().bool,tooltipPosition:r().string},Ae={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,experimentSidebarPrefsApplyToMenusGroupOn:!1,tooltipPosition:"top-right"};function ae(be){let{className:Ue,"data-qa":Re,"data-sk":ge,id:ne,invert:ee,isDeactivated:F,mpim:H,memberIds:j,isActive:N,clientTheme:J,matchData:le,onlyBoldIfUnread:ce,showUnreadBadge:Ee,unreadCount:ye,shortenTooltipContents:Ie,showAvatar:he,experimentSidebarPrefsApplyToMenusGroupOn:Ce,tooltipPosition:oe}=be;const de=(0,h.lv)(H),De=(0,h.mX)(H),Te=(0,v.N4)(H),pe=ne||(H==null?void 0:H.id),Me=ee&&!F,ke=Ee&&!!ye&&t.createElement(b.Ay,{className:"c-member__unread_count",count:ye,style:Me?"white":"red","data-qa":"member-entity__mention-badge"}),Ke=ke&&t.createElement("span",{className:"c-member__secondary_content"},ke),Ze=(0,t.useCallback)(Ge=>{if(de||De)return t.createElement(P.A,X({},Ge,{isNonExistent:de,size:Z,invert:Me}));const Be=j==null?void 0:j[0];return t.createElement("span",{className:(0,n.A)("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",Ue,{"c-small_mpim_entity__mpim_avatars--inverted":Me,[`c-small_mpim_entity__mpim_avatars--${J}`]:J!=="light"})},he&&t.createElement(T.Ay,{userId:Be,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.createElement("div",{className:(0,n.A)("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!he&&Ce}),"data-qa":"small-mpim-entity-mpim-counter"},t.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},Te)))},[Ue,J,de,De,Te,Me,j,he,Ce]),Q=(0,t.useCallback)(()=>{let Ge;return Ie?Ge=t.createElement(m,{memberIds:j}):Ge=j.map(Be=>t.createElement(L,{id:Be,key:Be})),t.createElement(t.Fragment,null,Ge)},[j,Ie]);let se=F?I.pI.dim:null;Me&&(se=I.pI.highlightDark);const He=t.createElement(B.Ay,{"data-id":pe,"data-qa":Re,"data-sk":ge,avatar:Ze,className:Ue,size:"small",style:se,subtext:Ke,text:t.createElement(A.A,{"data-qa":"name",id:pe,mpim:H,invert:Me,matchData:le,onlyBoldIfUnread:ce})});return t.createElement(R.Ay,{tip:Q(),tipClassName:Ie?"":"c-small_mpim_entity__tooltip",position:oe,shouldForceVisible:N,shouldOnlyShowWhenTruncated:N,zIndex:"above_fs"},t.createElement("div",null,He))}u(ae,"SmallMpimEntity"),ae.displayName="SmallMpimEntity",ae.propTypes=ie,ae.defaultProps=Ae;function V(be,Ue){let{id:Re,mpim:ge,matchData:ne}=Ue;const ee=ge||(0,W.OL)(be,Re),F=(0,w.B)(be,Re),H=(0,Y._Z)(be,"sidebar_prefs_apply_to_menus")==="on",j=(0,z.A)({state:be,mpim:ee,matchData:ne}),N=(0,K.to)(be),J=(0,v.kR)(ee,F);return{mpim:ee,experimentSidebarPrefsApplyToMenusGroupOn:H,memberIds:j,clientTheme:N,unreadCount:J}}u(V,"small_mpim_entity_mapStateToProps");const ve=(0,C.N)(V)(ae)},3330998079:(x,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),n=e(9867500491),s=e(1703559452),r=e(3297051565),c=e.n(r),o=e(3037015781),a=e(9884588328),l=e(5273017660),i=e(7410191410),d=e(8170659516),_=e(9391594207),m=e(9101533895),h=e(8276911661);const v=4,T={className:c().string,mpim:c().object,multiline:c().bool,name:c().string,isAnyMemberUnknown:c().bool,invert:c().bool,inline:c().bool,onlyBoldIfUnread:c().bool},A={className:void 0,mpim:void 0,multiline:!1,name:void 0,isAnyMemberUnknown:!1,invert:!1,inline:void 0,onlyBoldIfUnread:!1};function y(O){let{className:I,mpim:P,multiline:C,name:M,invert:D,isAnyMemberUnknown:E,inline:S,onlyBoldIfUnread:k}=O;const U=(0,o.lv)(P),L=(0,o.mX)(P),B=(0,a.N4)(P),b=!k||(0,a.KJ)(P);let R;return L||U||E?R=(0,n.A)(B||v).map(z=>t.createElement(i.A,{key:z,className:"c-mpim_entity__missing_text",isNonExistent:U,size:"random",invert:D})):R=b?t.createElement("strong",{"data-qa":"mpim_name"},M):t.createElement("span",{"data-qa":"mpim_name"},M),t.createElement(l.CG,{className:I,multiline:C,breakWords:!1,inline:S},R)}u(y,"MpimName"),y.displayName="MpimName",y.propTypes=T,y.defaultProps=A;const p=u((O,I)=>{let{id:P,mpim:C,matchData:M}=I;const D=C||(0,m.OL)(O,P),E=(0,d.A)({state:O,mpim:D,matchData:M}),S=E&&E.map(L=>(0,h.nv)(O,L)),k=(0,s.A)(S,o.GU),U=(0,a.Xx)(O,D,E);return{mpim:D,name:U,isAnyMemberUnknown:k}},"mapStateToProps"),f=(0,_.N)(p)(y)},2966224896:(x,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),n=e(5255740490),s=e(6839188756),r=e(2023092677),c=e(5273017660),o=e(3877384923),a=e(5302815729),l=e(8683010724),i=e(735940183),d=e(9391594207),_=e(8847766420),m=e(3677514771),h=e(1835177371);function v(){return v=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(f[P]=I[P])}return f},v.apply(this,arguments)}u(v,"_extends");const T=new i.Ay("user_group_entity");function A(f){let{className:O,invert:I,showDescription:P=!0,userGroup:C,userGroupTeamName:M,isDeactivated:D}=f;const E=D||!(0,r.V1)(C),S=(0,t.useCallback)(z=>t.createElement("span",{className:"margin_right_50"},t.createElement(l.A,v({},z,{name:"user-groups",size:"18"}))),[]);if((0,r.t8)(C)||(0,r.QR)(C)){const z=(0,n.A)("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":I});return t.createElement("div",{className:"c-small_user_group__missing"},t.createElement("div",{className:z},t.createElement(l.A,{name:"user-groups",size:"18"})),t.createElement(a.A,{type:(0,r.t8)(C)?"unknown":"non-existent",invert:I}))}const k=(0,r.ue)(C),U=t.createElement("span",{className:"c-user_group__name c-small_user_group__name"},k),L=(0,r.Br)(C),B=M&&t.createElement(t.Fragment,null,"\xA0\xA0",t.createElement("span",{className:"c-small_user_group__team"},M)),b=t.createElement(t.Fragment,null,t.createElement("span",{className:"c-small_user_group__count"},"(",T.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:L}),")"),B);let R;return E?R=o.pI.dim:I&&(R=o.pI.highlightDark),t.createElement(c.Ay,{avatar:S,className:O,size:"small",style:R,text:t.createElement(c.CG,null,U,P&&b),"data-usergroup-id":C.id})}u(A,"SmallUserGroupEntity"),A.displayName="SmallUserGroupEntity";const y=u((f,O)=>{let{id:I,userGroup:P}=O;const C=P||(0,h.lJ)(f,I),M=(0,_.ZT)(f),D=(0,r.$Q)(C),E=D!==M&&(0,s.F1)((0,m._J)(f,D));return{userGroup:C,userGroupTeamName:E}},"mapStateToProps"),p=(0,d.N)(y)(A)},1224844542:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(4761581538);const n=t.A},4761581538:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(7410191410),r=e(8683010724),c=e(2312625946),o=e(2649129472),a=e(735940183);const l=new a.Ay("channel_token"),i=u(_=>{let{type:m=o.A.Unknown,subtler:h=!1,size:v=o.o.Small,width:T="random",invert:A=!1,showHash:y=!0,omitNonExistentTooltip:p=!1}=_;const f=(0,n.A)("c-missing_channel",{"c-missing_channel--unknown":m===o.A.Unknown,"c-missing_channel--nonexistent":m===o.A.Nonexistent,"c-missing_channel--subtler":h,"c-missing_channel--medium":v===o.o.Medium,"c-missing_channel--unknown_inverted":m===o.A.Unknown&&A,"c-missing_channel--non_existent_inverted":m===o.A.Nonexistent&&A}),O=(0,n.A)("c-missing_channel--medium_hash",{"c-missing_channel--subtler":h});let I;if(m===o.A.Unknown)I=l.t("Loading...");else if(m===o.A.Nonexistent)I=l.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"});else return null;if(m===o.A.Nonexistent){const P=t.createElement("span",{className:"c-missing_channel--private"},t.createElement(r.A,{name:"lock"}),t.createElement("span",null,l.t("private channel")));return p?P:t.createElement(c.Ay,{tip:I},P)}return v===o.o.Medium?t.createElement("div",null,t.createElement("div",{className:"c-missing_channel--medium-top"},y&&t.createElement("span",{className:O},t.createElement(r.A,{name:"channel"})),t.createElement(s.A,{tooltip:I,isNonExistent:!1,size:T,className:f})),t.createElement(s.A,{tooltip:I,isNonExistent:!1,size:T,className:f})):t.createElement(s.A,{tooltip:I,isNonExistent:!1,size:T,className:f})},"MissingChannel");i.displayName="MissingChannel";const d=t.memo(i)},1849828988:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(5255740490),s=e(2649129472);const r=u(o=>{let{className:a,isNonExistent:l=!1,size:i,subtler:d=!1,invert:_=!1,dataQa:m}=o;const{Unknown:h,Nonexistent:v}=s.A,T=l?v:h,A=(0,t.useMemo)(()=>({height:i,width:i}),[i]);return t.createElement("span",{className:(0,n.A)(a,"c-missing_icon",`c-missing_icon--${T}`,{"c-missing_icon--unknown_inverted":T===h&&_,"c-missing_icon--non_existent_inverted":T===v&&_,"c-missing_icon--subtler":d}),style:A,"data-qa":m})},"MissingIcon");r.displayName="MissingIcon";const c=r},6962474707:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(9849711458);const n=t.A},9849711458:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),n=e(7410191410),s=e(2649129472),r=e(735940183);const c=new r.Ay("member_token"),{Unknown:o,Nonexistent:a}=s.A,l=u(d=>{let{type:_=o,subtler:m=!1,className:h,"data-qa":v}=d;const T=_===o?c.t("Loading\u2026"):c.t("Private user info");return t.createElement(n.A,{className:h??"",isNonExistent:_===a,subtler:m,tooltip:T,"data-qa":v})},"MissingMember");l.displayName="MissingMember";const i=t.memo(l)},5302815729:(x,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),n=e(7410191410),s=e(2649129472),r=e(735940183);const c=new r.Ay("user_group_token"),{Unknown:o,Nonexistent:a}=s.A,{Small:l,Medium:i}=s.o,d=u(h=>{let{invert:v=!1,size:T=l,type:A=o,subtler:y=!1}=h;const p=A===o?c.t("Loading..."):c.t("Private user group info");if(T===i){const f="\xA0\xA0\xB7\xA0\xA0";return t.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.createElement("div",null,t.createElement(n.A,{tooltip:p,isNonExistent:A===a,size:"small",invert:v})," ",t.createElement(n.A,{tooltip:p,isNonExistent:A===a,size:"small",invert:v})),t.createElement("div",null,t.createElement(n.A,{tooltip:p,isNonExistent:A===a,size:"small",invert:v}),f,t.createElement(n.A,{tooltip:p,isNonExistent:A===a,size:"large",invert:v})))}return t.createElement(n.A,{tooltip:p,isNonExistent:A===a,size:"random",subtler:y,invert:v})},"MissingUserGroup");d.displayName="MissingUserGroup";const m=d},5547320682:(x,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(3134334389),n=e(7715417323),s=e(8157829725),r=e(964605802);function c(){return c=Object.assign||function(p){for(var f=1;f<arguments.length;f++){var O=arguments[f];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(p[I]=O[I])}return p},c.apply(this,arguments)}u(c,"_extends");const o=(0,t.memo)(p=>{let{addMemberToPresenceSubscription:f=n.A,memberId:O,removeMemberFromPresenceSubscription:I=n.A,renderDoublePresence:P=!1,firstElementExtraClassName:C="",...M}=p;return(0,s.A)(()=>(f(O),()=>I(O)),[O]),P?t.createElement(t.Fragment,null,t.createElement(r.Ay,c({},M,{className:`${M.className||""} ${C}`})),t.createElement(r.Ay,c({},M))):t.createElement(r.Ay,c({},M))});o.displayName="PresenceWithSubscriptions";const a=o;var l=e(3339229351),i=e(92812954),d=e(6045540917),_=e(9391594207),m=e(5241075893),h=e(5795074931),v=e(9290914927);const T=u((p,f)=>{const O=(0,v.gd)(p,f.memberId),I=(0,i.d)(p,f.memberId),P=(0,d.h)(p,f.memberId),C=(0,h.WR)(p)===f.memberId;return{...f,userType:I,isDnd:P,isSelf:C,isSlackbot:f.memberId===l.Q$,isActive:O==="active"}},"mapStateToProps"),A=u(p=>({addMemberToPresenceSubscription:f=>p((0,m.xz)({memberId:f})),removeMemberFromPresenceSubscription:f=>p((0,m.Fd)({memberId:f}))}),"mapDispatchToProps"),y=(0,_.N)(T,A)(a)},5016016975:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>s});var t=e(5547320682),n=e(964605802);const s=t.A},964605802:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>_});var t=e(3134334389),n=e(5255740490),s=e(2036354333),r=e(8683010724),c=e(1563996154),o=e(735940183);function a(){return a=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])}return m},a.apply(this,arguments)}u(a,"_extends");const l=new o.Ay("presence");function i(m,h){return m?h?l.t("Active, notifications snoozed"):l.t("Active"):h?l.t("Away, notifications snoozed"):l.t("Away")}u(i,"getPresenceText");const d=u(m=>{let{inheritIconSize:h=!1,inline:v=!0,isActive:T=!1,isDnd:A=!1,isSelf:y=!1,isSlackbot:p=!1,invert:f=!1,userType:O="member",focusable:I=!1,showText:P=!1,resetIA:C=!1,hasNoAccess:M=!1,className:D}=m,E=T?{name:"status-member",variation:"filled"}:{name:"status-member"};const S=(0,n.A)(D,"c-presence",{"c-presence--active":T&&!f,"c-presence--resetIA":C,"c-presence--away":!T&&!f,"c-presence--inverted":f,"is-inline":v,block:!v}),k=i(T,A);M?E={name:"lock",variation:"filled"}:O==="member"?A?E=T?{name:"status-member-dnd",variation:"filled"}:{name:"status-member-dnd"}:p&&(E={name:"status-slackbot",variation:"filled"}):O==="ra"||O==="external"?A?E=T?{name:"status-guest-dnd",variation:"filled"}:{name:"status-guest-dnd"}:E=T?{name:"status-guest",variation:"filled"}:{name:"status-guest"}:O==="ura"&&(A?E=T?{name:"status-single-channel-guest-dnd",variation:"filled"}:{name:"status-single-channel-guest-dnd"}:E=T?{name:"status-single-channel-guest",variation:"filled"}:{name:"status-single-channel-guest"});const U=t.createElement("span",{className:S},t.createElement(r.A,a({},E,{title:k,"aria-label":k,"aria-hidden":"false",size:h?"inherit":"20",inline:v,"data-qa":"presence_indicator","data-qa-type":E.name,"data-qa-presence-self":y,"data-qa-presence-active":T,"data-qa-presence-dnd":A})));return I?t.createElement(t.Fragment,null,t.createElement(c.Ay,{tip:k},t.createElement(s.A,null,U)),P&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},k)):t.createElement(t.Fragment,null,U,P&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},k))},"Presence");d.displayName="Presence";const _=t.memo(d)},4931940375:(x,g,e)=>{"use strict";e.d(g,{A:()=>ee});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(4481313819),c=e(307717037),o=e(2208015175),a=e(2664504268),l=e(4250078557),i=e(3207321841),d=e(5602423845),_=e(8157829725),m=e(7937864072),h=e(5204962244),v=e(6308822),T=e(1224315998),A=e(735940183),y=e(2562405183),p=e(2047021170);const f=new A.Ay("slack_kit_video"),I=(0,t.forwardRef)((F,H)=>{let{src:j,vtt:N,videoPoster:J,title:le,label:ce,autoPlay:Ee=!0,enableMediaCaptions:ye,onLoadedMetadata:Ie,isLoading:he,setIsLoading:Ce,isPlaying:oe,setIsPlaying:de,duration:De,setDuration:Te,setElapsed:pe,enableControls:Me=!1,controlsList:ke,shiftCaptionsUp:Ke,setHasError:Ze,videoContainerClassName:Q}=F;const se=(0,m.A)(),He=(0,d.A)(),Ge=(0,t.useRef)(null),Be=(0,h.d)(a.A),[we,xe]=(0,t.useState)(!1),Oe=(0,t.useRef)(),Xe=(0,t.useRef)(0),[Ye,dt]=(0,t.useState)(null),mt=(0,y.d4)(nn=>(0,p.ty)(nn,"media_muted"));var it;const At=(it=(0,y.d4)(nn=>(0,p.ty)(nn,"media_volume")))!==null&&it!==void 0?it:1,Ot=(0,y.d4)(nn=>(0,p.ty)(nn,"media_playback_speed")),Kt=(0,t.useRef)({});(0,t.useEffect)(()=>{Ge.current&&Ye&&(Kt.current={file_src:Ye,media_type:"video",duration_ms:De*1e3,playback_session:Be,title:le})},[Be,Ye,le,De]),(0,t.useEffect)(()=>{fetch(j).then(nn=>nn.blob()).then(nn=>{const An=URL.createObjectURL(nn);dt(An)}).catch(nn=>{se.error(`Video player err: ${nn}`),Ze(!0)})},[se,Ze,dt,j]);const Xt=(0,t.useRef)(!1),vn=(0,t.useCallback)(()=>{!Xt.current&&we&&(Oe.current&&(Xe.current+=Date.now()-Oe.current,Oe.current=void 0),He.track(T.EventId.SK_VIDEO_PLAYER,(0,c.A)({},Kt.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_type:"video",element_name:"playback_finished"}}},closed_captions:ye?"on":"off",playback_speed:`${Ot??1}x`,duration_watched_ms:Xe.current})),Xt.current=!0,Xe.current=0)},[He,we,ye,Ot]),Sn=(0,t.useRef)(vn);Sn.current=vn,(0,_.A)(()=>()=>Sn.current(),[]);const jt=(0,t.useCallback)(()=>{vn()},[vn]);(0,t.useEffect)(()=>{if(!Ge.current)return;const nn=u(()=>{oe&&de(!1),Ce(!0)},"onWaiting"),An=u(()=>{Ce(!1),de(!0),He.track(T.EventId.SK_VIDEO_PLAYER,(0,c.A)({},Kt.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"play"}}}})),we||(xe(!0),He.track(T.EventId.SK_VIDEO_PLAYER,(0,c.A)({},Kt.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_name:"media"}}}}))),Oe.current=Date.now()},"onPlay"),yn=u(()=>{de(!1),Ce(!1),He.track(T.EventId.MEDIA_PLAYER,(0,c.A)({},Kt.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"pause"}}}})),Oe.current&&(Xe.current+=Date.now()-Oe.current,Oe.current=void 0)},"onPause"),sn=Ge.current,Nn=u(()=>{if(!sn.buffered)return;const Et=sn.duration||0;Te(Et)},"onProgress"),Ve=u(()=>{Ce(!1);const Et=sn.duration;Te(Et),pe(sn.currentTime)},"onTimeUpdate"),$e=u(()=>{const Et=sn.playbackRate;i.Cv.includes(Et)&&(sn.playbackRate=Et)},"handleRateChange");return sn.addEventListener("waiting",nn),sn.addEventListener("progress",Nn),sn.addEventListener("timeupdate",Ve),sn.addEventListener("play",An),sn.addEventListener("playing",An),sn.addEventListener("pause",yn),sn.addEventListener("ratechange",$e),sn.addEventListener("ended",jt),()=>{sn.addEventListener("waiting",nn),sn.removeEventListener("progress",Nn),sn.removeEventListener("timeupdate",Ve),sn.removeEventListener("play",An),sn.removeEventListener("playing",An),sn.removeEventListener("pause",yn),sn.removeEventListener("ratechange",$e),sn.removeEventListener("ended",jt)}},[Ge,he,oe,Te,Ce,pe,de,we,xe,jt,He]),(0,t.useEffect)(()=>{var nn;const An=(nn=Ge.current)===null||nn===void 0?void 0:nn.textTracks[0];An&&(An.mode=ye?"showing":"hidden")},[ye]),(0,t.useEffect)(()=>{if(ye){var nn,An;const yn=(nn=Ge.current)===null||nn===void 0?void 0:nn.textTracks[0];if(!yn)return;const sn=((An=Ge.current)===null||An===void 0?void 0:An.clientWidth)<500?50:80;yn.mode="hidden",Ke?(0,o.A)(yn==null?void 0:yn.cues,Nn=>{(Nn.text.match(/\n/g)||[]).length>=2||Nn.text.length>sn?Nn.line=-6:Nn.line=-5}):(0,o.A)(yn==null?void 0:yn.cues,Nn=>{Nn.line="auto"}),yn.mode="showing"}},[ye,Ke]);const hn=(0,t.useCallback)(function(nn){let An=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ge!=null&&Ge.current&&(Ge.current.currentTime=nn,An&&Ge.current.play())},[Ge]),xt=(0,t.useCallback)(()=>{Ge!=null&&Ge.current&&(Ge.current.paused?Ge.current.play():Ge.current.pause())},[Ge]),Dn=(0,t.useCallback)(()=>{var nn;Ge!=null&&Ge.current&&((nn=Ge.current)===null||nn===void 0||nn.pause())},[Ge]),St=(0,t.useCallback)(nn=>{Ge!=null&&Ge.current&&(Ge.current.muted=nn)},[Ge]),dn=(0,t.useCallback)(nn=>{Ge!=null&&Ge.current&&(Ge.current.volume=nn)},[Ge]),fn=(0,t.useCallback)(nn=>{Ge!=null&&Ge.current&&i.Cv.includes(nn)&&(Ge.current.playbackRate=nn)},[Ge]);(0,t.useImperativeHandle)(H,()=>({setCurrentTime:hn,togglePlayPause:xt,setMuted:St,setVolume:dn,setPlaybackRate:fn,pause:Dn})),(0,t.useEffect)(()=>{mt&&St(mt),At&&dn(At),Ot&&!Me&&fn(Ot)});const un=(0,t.useCallback)(()=>{var nn;const An=(nn=Ge.current)===null||nn===void 0?void 0:nn.error;An&&(Ze(!0),se.error(`error code: ${An.code}, msg: ${An.message}`))},[Ge,se,Ze]),_n=(0,t.useCallback)(()=>{Ce(!1)},[Ce]),tn=(0,n.A)("c-video_player-video-container",Q);return t.createElement("div",{className:tn,"data-media-focus-container":!0,tabIndex:-1},he&&t.createElement("div",{className:"c-video_player-video-container_spinner"},t.createElement(v.A,{color:"white"})),t.createElement("video",{preload:"auto",autoPlay:Ee,"aria-label":ce,className:"c-video_player-video",controls:Me&&!he?!0:void 0,controlsList:Me?ke:void 0,title:le,ref:Ge,poster:J,disablePictureInPicture:!0,onLoadedMetadata:Ie,onCanPlay:_n,onError:un},Ye&&t.createElement("source",{src:Ye,type:"video/mp4"}),f.t("Your browser does not support the video tag"),N&&t.createElement(l.A,{vtt:N,enableMediaCaptions:ye})))});var P=e(5460331959),C=e(3118200703),M=e(8371678613),D=e(3242899446),E=e(4916948857),S=e(3749524846),k=e(6084388622),U=e(6122756707),L=e(9362126998),B=e(2036354333),b=e(5946832122),R=e(8683010724),z=e(2312625946),w=e(387484329);const W=new A.Ay("video_player"),K=u(F=>{let{vtt:H,isInlinePlayer:j,className:N,backgroundStyle:J}=F;const le=(0,U.wA)(),ce=(0,y.d4)(oe=>(0,p.ty)(oe,"enable_media_captions")),Ee=(0,y.d4)(L.y0),ye=(0,t.useCallback)(()=>{le((0,w.AZ)({pref:"enable_media_captions",value:!ce}))},[le,ce]),Ie=ce&&H?W.t("Turn off captions",{fallbackHash:"c344bd39683fc6566ab53b0d886e93230fd21cbf",fallbackHashNs:"stories_av"}):W.t("Turn on captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"}),he=W.t("Display captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"});if(!Ee)return null;const Ce=ce?t.createElement(R.A,{name:"closed-caption",variation:"filled",size:"inherit"}):t.createElement(R.A,{name:"closed-caption",size:"inherit"});return t.createElement(z.Ay,{tip:Ie,position:"top",delay:z.n1,hideFromScreenReader:!0},j?t.createElement(B.A,{className:(0,n.A)("c-video_controls_overlay__controls__button c-video_controls_overlay__controls__caption"),"aria-label":he,"aria-pressed":ce,onClick:ye},Ce):t.createElement(b.A,{"aria-label":he,"aria-pressed":ce,icon:ce?"cc-filled":"cc",onClick:ye,size:"medium",className:N,backgroundStyle:J},"CC"))},"VideoCaptionsButton");K.displayName="VideoCaptionsButton";const Y=K;var X=e(5874162200),Z=e(9446966957);function ie(){return ie=Object.assign||function(F){for(var H=1;H<arguments.length;H++){var j=arguments[H];for(var N in j)Object.prototype.hasOwnProperty.call(j,N)&&(F[N]=j[N])}return F},ie.apply(this,arguments)}u(ie,"_extends");const Ae=new A.Ay("video_scrubber"),ae=u(F=>{let{elapsed:H,duration:j,setTime:N}=F;const J=(0,t.useRef)(null);(0,t.useEffect)(()=>{var ye;(ye=J.current)===null||ye===void 0||ye.toggleAttribute("data-no-drag-on-mouse-move",!0)},[J]);const le=(0,t.useCallback)(ye=>t.createElement("div",ie({className:"c-video_player_controls_scrubber c-video_player_controls_overlay__hover",ref:J},ye)),[]),ce=(0,t.useCallback)(ye=>t.createElement("div",ie({className:"c-video_player_controls_scrubber__track"},ye)),[]),Ee=(0,t.useCallback)(ye=>t.createElement("div",ie({className:"c-video_player_controls_scrubber__elapsed"},ye)),[]);return t.createElement(Z.A,{value:H,max:j,onChange:N,renderContainer:le,renderTrack:ce,renderInner:Ee,"aria-label":Ae.t("Time scrubber",{currentTime:(0,X.A)(H),totalTime:(0,X.A)(j),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1",fallbackHashNs:"stories_av"}),"aria-valuetext":(0,X.A)(H)})},"VideoControlsScrubber");ae.displayName="VideoControlsScrubber";const V=ae;var ve=e(5034080361);const be=new A.Ay("slack_kit_video"),Ue=u(F=>{let{onClickOverlay:H,showControls:j=!0,duration:N,elapsed:J,setTime:le,isPlaying:ce,isLoading:Ee,videoRef:ye,vtt:Ie,setShiftCaptionsUp:he=s.A,onFullscreenButtonClicked:Ce,isFullScreen:oe}=F;const de=(0,t.useContext)(S.A),[De,Te]=(0,t.useState)(!1),[pe,Me]=(0,t.useState)(!1),ke=(0,t.useRef)(null),Ke=(0,t.useRef)(null),Ze=ce?be.t("Pause",{fallbackHash:"781961bc81c25697841ecce5d4d9dad9f6b261c6",fallbackHashNs:"stories_av"}):be.t("Play",{fallbackHash:"5d12bd53552cafc41ca6146c04870df2e1574e13",fallbackHashNs:"stories_av"}),Q=(0,t.useCallback)(dt=>{var mt,it;const At=dt.target,Ot=!!(de&&(!((mt=ke.current)===null||mt===void 0)&&mt.contains(At)||!((it=Ke.current)===null||it===void 0)&&it.contains(At)));Me(Ot)},[de]),se=(0,t.useCallback)(dt=>{var mt,it;const At=dt.relatedTarget,Ot=!!(de&&(!((mt=ke.current)===null||mt===void 0)&&mt.contains(At)||!((it=Ke.current)===null||it===void 0)&&it.contains(At)));Me(Ot)},[de]),{mouseIsOverElement:He,onMouseLeave:Ge,onMouseEnter:Be,onMouseMove:we,onMouseOver:xe}=(0,E.A)(),Oe=(0,t.useCallback)(()=>{Be()},[Be]);(0,t.useEffect)(()=>{he(He)},[He,he]);const Xe=(()=>J?(0,ve.A)(J*1e3):N?(0,ve.A)(N*1e3):be.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"call_buttons"}))(),Ye=Ee?t.createElement(v.A,{size:"medium",color:"white",className:"c-video_player_controls_overlay__controls__spinner",noMargin:!0}):t.createElement(R.A,{name:ce?"pause":"play",variation:"filled",inline:!0});return j?t.createElement(P.A,null,dt=>{let{measureRef:mt,width:it}=dt;const At=it||360,Ot=!!(At&&At<=330);return t.createElement("div",{className:(0,n.A)("c-video_player_controls_overlay","c-video_player_controls_overlay--controls",{"c-video_player_controls_overlay--active":pe,"p-video_player_controls_overlay--vertical_volume_active":De}),onFocus:Q,onBlur:se,onMouseEnter:Oe,onMouseLeave:Ge,onMouseMove:we,onMouseOver:xe,"data-prevent-fade":"true",role:"group",ref:mt},t.createElement(k.Nm,{className:"c-video_player_controls_overlay__button",onClick:H,tabIndex:-1,"aria-hidden":"true"}),t.createElement("div",{className:"c-video_player_controls_overlay__controls_container",ref:ke},t.createElement(V,{elapsed:J,duration:N,setTime:le}),t.createElement("div",{className:"c-video_player_controls_overlay--controls"},t.createElement(k.Nm,{className:(0,n.A)("c-video_player_controls_overlay__controls__pill",{"c-video_player_controls_overlay__controls__pill--playing":ce}),"aria-label":Ze,"aria-pressed":ce,onClick:H},Ye,t.createElement("div",{className:"c-video_player_controls_overlay__time"},Xe)),t.createElement(D.A,{className:"c-video_player_media_volume_slider",isInlinePlayer:!0,useVerticalVolume:Ot,setIsVerticalVolumeActive:Te,videoRef:ye}),t.createElement("div",{className:"c-video_player_controls--right-controls"},t.createElement(M.A,{isInlinePlayer:!0,videoRef:ye}),Ie&&t.createElement(Y,{vtt:Ie,isInlinePlayer:!0})))),t.createElement("div",{className:"c-video_player_controls_overlay__corner c-video_controls_overlay__hover",ref:Ke},!oe&&Ce&&t.createElement(C.A,{classPrefix:"c-video_player",onClick:Ce})))}):null},"VideoOverlay");Ue.displayName="VideoOverlay";const Re=Ue,ge=new A.Ay("slack_kit_video"),ne=u(F=>{let{className:H,styleProps:j,title:N,label:J,src:le,vtt:ce,enableMediaCaptions:Ee=!1,autoPlay:ye,videoPoster:Ie,enableControls:he=!1,controlsList:Ce,bubbleErrorOrLoadingStateToParent:oe=s.A,videoContainerClassName:de}=F;const De=(0,t.useRef)(null),[Te,pe]=(0,t.useState)(!1),[Me,ke]=(0,t.useState)(!1),[Ke,Ze]=(0,t.useState)(!0),[Q,se]=(0,t.useState)(0),[He,Ge]=(0,t.useState)(0),[Be,we]=(0,t.useState)(!1),xe=(0,y.d4)(dt=>(0,p.ty)(dt,"enable_media_captions"))||Ee;(0,t.useEffect)(()=>{oe&&oe({hasError:Me,isLoading:Ke})},[Me,Ke,oe]);const Oe=(0,t.useCallback)(dt=>{if(De!=null&&De.current){var mt;(mt=De.current)===null||mt===void 0||mt.setCurrentTime(dt,!1)}else se(dt)},[De,se]),Xe=(0,t.useCallback)((dt,mt)=>{mt&&Ge(mt)},[]),Ye=(0,t.useCallback)(dt=>{var mt;dt.stopPropagation(),(mt=De.current)===null||mt===void 0||mt.togglePlayPause()},[De]);return t.createElement(r.A,{clogImpression:!0,eventId:T.EventId.SK_VIDEO_PLAYER},t.createElement("div",{className:(0,n.A)("c-video_player",H),style:j},t.createElement(I,{title:N,label:J,src:le,vtt:ce,ref:De,autoPlay:ye,videoPoster:Ie,enableControls:he,controlsList:Ce,setIsLoading:Ze,isLoading:Ke,isPlaying:Te,setIsPlaying:pe,duration:He,setDuration:Ge,setElapsed:se,onLoadedMetadata:Xe,enableMediaCaptions:xe,shiftCaptionsUp:Be,setHasError:ke,videoContainerClassName:de}),Me&&t.createElement("div",{className:"c-video_player__error_overlay"},t.createElement("p",null,ge.t("Error loading video. Please try again later."))),t.createElement(Re,{onClickOverlay:Ye,elapsed:Q,duration:He,showControls:!he,setTime:Oe,isPlaying:Te,isLoading:Ke,videoRef:De,vtt:ce,setShiftCaptionsUp:we,onFullscreenButtonClicked:s.A,isFullScreen:!1})))},"VideoPlayer");ne.displayName="VideoPlayer";const ee=t.memo(ne)},581167618:(x,g,e)=>{"use strict";e.d(g,{AO:()=>h,A_:()=>m,Ay:()=>y,QE:()=>_});var t=e(3134334389),n=e(5255740490),s=e(6105929840),r=e(1610251172),c=e(2201208793),o=e(4882164428),a=e(8683010724),l=e(1224315998),i=e(735940183);const d=new i.Ay("sk_banner");var _;(function(p){p.default="default",p.boxed="boxed",p.inlineBoxed="inline_boxed",p.nestedBox="nested_box",p.inline="inline",p.custom="custom"})(_||(_={}));var m;(function(p){p.default="default",p.info="info",p.success="success",p.warning="warning",p.error="error"})(m||(m={}));var h;(function(p){p.left="left",p.center="center",p.right="right"})(h||(h={}));const v={elementName:"close",elementType:l.ElementType.X,action:l.UiAction.CLOSE,onClick:{enableClogAction:!0}},T=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),A=u(p=>{let{align:f=h.left,className:O,heading:I,icon:P,customIcon:C,id:M,level:D=m.default,type:E=_.boxed,children:S,"data-qa":k,isIconVisible:U=!0,showCloseButton:L=!1,onClose:B,ariaLabelForCloseBtn:b,closeBackgroundStyle:R}=p;const z=(0,o.f)(c.j.Alert),[w,W]=(0,t.useState)(!1),K=(0,n.A)("c-alert",`c-alert--${E}`,`c-alert--level_${D}`,`c-alert--align_${f}`,{"c-alert--multiline":!!I},O,z),Y=T.get(D)||"slack-pillow",X=(C||Y)&&E!==_.inline&&E!==_.custom,Z=E===_.nestedBox?"inherit":void 0,ie=E!==_.custom&&I,Ae=(0,t.useCallback)(()=>{W(!0),B==null||B()},[B]);return w?null:t.createElement("div",{className:K,id:M,"data-qa":k,"data-qa-alert":!0,"data-qa-alert-level":D,"data-qa-alert-type":E,"data-qa-alert-align":f},U&&X&&(C||t.createElement(r.A,{type:P||Y,className:"c-alert__icon",size:Z,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":P||Y})),t.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},ie&&t.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},I),S),L&&t.createElement("div",{className:"c-alert__close","data-qa":"alert_close_btn"},t.createElement(s.A,{onClick:Ae,backgroundStyle:R,"aria-label":b??d.t("Dismiss"),autoClogProps:v,size:"small"},t.createElement(a.A,{name:"close",size:"20"}))))},"Alert");A.displayName="Alert",A.displayName="Alert";const y=A},9332393661:(x,g,e)=>{"use strict";e.d(g,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(3398586081),r=e(7715417323),c=e(1610251172);const o=(0,s.A)(T=>({height:`${T}px`,width:`${T}px`}));function a(T){let{icon:A,classes:y=null,size:p=20,ariaHidden:f=void 0,ariaRole:O="img",ariaLabel:I=void 0}=T;const P=(0,n.A)("c-base_font_icon",y);return t.createElement("div",{className:P,style:o(p),"aria-hidden":f,role:O,"aria-label":I},t.createElement(c.A,{type:A}))}u(a,"BaseFontIcon"),a.displayName="BaseFontIcon";const l=a;var i=e(796111729);const d=(0,i.Wo)(),_=(0,s.A)(T=>({height:`${T}px`,width:`${T}px`})),m=(0,s.A)(T=>({width:`${T}px`}));function h(T){let{image:A=void 0,size:y=20,srcSet:p="",classes:f=void 0,icon:O=void 0,ariaHidden:I=!1,ariaRole:P="img",ariaLabel:C=void 0,widthOnly:M=!1,onLoad:D=r.A,onError:E=r.A,resetIA:S,"data-qa":k}=T;A&&O&&d.warn("BaseIcon: cannot pass in both image and icon!"),!I&&!C&&d.warn("BaseIcon: if ariaHidden is false, we must have an ariaLabel for a11y!");const U=(0,n.A)("c-base_icon",f,{"c-base_icon--unknown":!A&&!O,"c-base_icon--image":A,"c-base_icon--resetIA":S});if(O)return t.createElement(l,{icon:O,classes:U,size:y,ariaHidden:I,ariaRole:P,ariaLabel:C});const L=t.createElement("img",{src:A,srcSet:p,className:U,style:M?m(y):_(y),"aria-hidden":I,role:P,"aria-label":C,alt:"",onLoad:D,onError:E,"data-qa":k});return M?t.createElement("span",{className:(0,n.A)("c-base_icon__width_only_container",{"c-base_icon--resetIA":S}),style:_(y)},L):L}u(h,"BaseIcon"),h.displayName="BaseIcon";const v=h},6496493732:(x,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(3134334389),n=e(7715417323),s=e(7968796288),r=e(6084388622),c=e(4979382452),o=e(4636370173),a=e(2465132699),l=e(8523371695),i=e(3606117573),d=e(8029613601),_=e(4947127560),m=e(735940183);const h=new m.Ay("generic_dialog"),v=u(A=>{let{title:y,children:p,submitButtonType:f="primary",submitButtonText:O=h.t("Confirm"),submitButtonIsDisabled:I=!1,submitButtonIsLoading:P=!1,showCancelButton:C=!0,showCloseButton:M=!0,showSubmitButton:D=!0,cancelButtonText:E=h.t("Cancel"),onSubmit:S=n.A,onCancel:k=n.A,onClose:U=n.A,"data-qa":L="dialog",className:B,overlayClassName:b,submitAutoClogProps:R,cancelAutoClogProps:z,shouldReturnFocusAfterClose:w=!0}=A;const W=(0,s.A)(),K=(0,s.A)();return t.createElement(c.A,{describedby:K,labelledby:W,closeModal:U,role:"dialog",className:B,overlayClassName:b,dataQa:L,shouldReturnFocusAfterClose:w,showCloseButton:M},t.createElement(d.A,null,t.createElement(_.A,{id:W,title:y,"data-qa":`${L}_header`})),t.createElement(o.A,null,t.createElement(a.A,{id:K,"data-qa":`${L}_body`},p)),(C||D)&&t.createElement(l.A,{"data-qa":`${L}_footer`},t.createElement(i.A,null,C&&t.createElement(r.Ay,{type:"outline",onClick:k,"data-qa":`${L}_cancel`,autoClogProps:z},E),D&&t.createElement(r.lV,{type:f,onClick:S,loading:P,disabled:I,"data-qa":`${L}_go`,autoClogProps:R,"aria-label":O},O))))},"DialogModalProps");v.displayName="DialogModalProps";const T=v},51460783:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(5255740490),s=e(4518138713);function r(){return r=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},r.apply(this,arguments)}u(r,"_extends");function c(a){const{children:l,className:i}=a;return l?t.createElement("span",r({className:(0,n.A)(i,"c-base_entity__metadata")},(0,s.A)(a)),l):null}u(c,"BaseEntityMetadata"),c.displayName="BaseEntityMetadata";const o=c},161084047:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(5255740490),s=e(4518138713);function r(){return r=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},r.apply(this,arguments)}u(r,"_extends");function c(a){const{children:l,className:i}=a;return l?t.createElement("span",r({className:(0,n.A)(i,"c-base_entity__subtext")},(0,s.A)(a)),l):null}u(c,"BaseEntitySubtext"),c.displayName="BaseEntitySubtext";const o=c},3534100833:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(2809903252),r=e(4518138713);function c(){return c=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var d=arguments[i];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(l[_]=d[_])}return l},c.apply(this,arguments)}u(c,"_extends");function o(l){const{children:i=null,className:d="",multiline:_=!1,inline:m=!1,breakWords:h=!0,withTruncationTooltip:v=!1}=l;if(!i)return null;const T=_?2:1;return m?t.createElement("span",c({className:(0,n.A)(d,"c-base_entity__text")},(0,r.A)(l)),i):t.createElement("span",c({className:(0,n.A)(d,"c-base_entity__text")},(0,r.A)(l)),t.createElement(s.A,{lines:T,breakWords:h,withTooltip:v},i))}u(o,"BaseEntityText"),o.displayName="BaseEntityText";const a=o},1464713483:(x,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3877384923),c=e(4518138713);function o(){return o=Object.assign||function(_){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(_[v]=h[v])}return _},o.apply(this,arguments)}u(o,"_extends");const a=u((_,m,h,v)=>!(_!==r.ny.medium||!h||v||m),"shouldVerticallyCenter"),l={className:"c-base_entity__avatar"},i=u(_=>{const{size:m,style:h=r.pI.normal,text:v=null,className:T="",subtext:A=null,avatar:y=s.A,metadata:p=null,forwardedRef:f=null}=_,O=y(l),I=!!O;return t.createElement("div",o({className:(0,n.A)(T,"c-base_entity",`c-base_entity--${m}`,{"c-base_entity--has-avatar":I,"c-base_entity--dim":h===r.pI.dim,"c-base_entity--vertically-center":a(m,A,I,p)})},(0,c.A)(_),{ref:f}),O,t.createElement("div",{className:"c-base_entity__text-contents"},v,A,p))},"BaseEntity");i.displayName="BaseEntity";const d=i},5273017660:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>c,CG:()=>r.A,Q:()=>n.A,sT:()=>s.A});var t=e(1464713483),n=e(51460783),s=e(161084047),r=e(3534100833);const c=t.A},2671211451:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3877384923),c=e(2809903252),o=e(4518138713);function a(){return a=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])}return m},a.apply(this,arguments)}u(a,"_extends");const l=u(m=>{let{children:h,truncate:v=!1,truncateWidth:T,withTruncationTooltip:A=!1}=m;const y=(0,t.useMemo)(()=>({maxWidth:T||void 0}),[T]);if(!v)return t.createElement("span",null,h);let p;return T?p=t.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:y},h):p=t.createElement("span",null,t.createElement(c.A,{lines:1,withTooltip:A},h)),p},"MaybeTruncate");l.displayName="MaybeTruncate";const i={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let d=u(class extends t.Component{render(){const{className:h,avatar:v=s.A,primaryContent:T,secondaryContent:A,style:y=r.pI.normal,truncate:p=!1,truncateWidth:f,withTruncationTooltip:O=!1}=this.props,I=v(i),P=!!I;return t.createElement("span",a({className:(0,n.A)(h,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":P,"c-base_inline_entity--truncate_block":p&&!f,"c-base_inline_entity--truncate_inline":p&&f,"c-base_inline_entity--dim":y===r.pI.dim,"c-base_inline_entity--highlight-dark":y===r.pI.highlightDark,"c-base_inline_entity--highlight-dim":y===r.pI.highlightDim,"c-base_inline_entity--highlight-light":y===r.pI.highlightLight})},(0,o.A)(this.props)),t.createElement(l,{truncate:p,truncateWidth:f,withTruncationTooltip:O},I,t.createElement("span",{className:"c-base_inline_entity__primary_content"},T),A&&t.createElement("span",{className:"c-base_inline_entity__secondary_content"},A)))}},"BaseInlineEntity");d.displayName="BaseInlineEntity";const _=d},2828836153:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(3877384923),r=e(4518138713);function c(){return c=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var d=arguments[i];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(l[_]=d[_])}return l},c.apply(this,arguments)}u(c,"_extends");let o=u(class extends t.Component{render(){const{className:i,ariaLabel:d,primaryContent:_,secondaryContent:m,size:h=s.ny.medium,style:v=s.pI.normal,padding:T=s.FK.normal}=this.props;return t.createElement("div",c({className:(0,n.A)(i,"c-base_list_entity",`c-base_list_entity--${h}`,{"c-base_list_entity--dim":v===s.pI.dim,"c-base_list_entity--highlight-dark":v===s.pI.highlightDark,"c-base_list_entity--highlight-dim":v===s.pI.highlightDim,"c-base_list_entity--highlight-light":v===s.pI.highlightLight,"c-base_list_entity--no-pad":T===s.FK.none})},(0,r.A)(this.props),{"aria-label":d}),t.createElement("div",{className:"c-base_list_entity__primary_content"},_),m&&t.createElement("div",{className:"c-base_list_entity__secondary_content"},m))}},"BaseListEntity");o.displayName="BaseListEntity";const a=o},3877384923:(x,g,e)=>{"use strict";e.d(g,{FK:()=>s,P:()=>c,RG:()=>t,ny:()=>r,pI:()=>n});const t={xxlarge:102,xlarge:72,large:56,medium:36,small:20,inline:14},n={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},s={normal:"12px",none:"0"},r={small:"small",medium:"medium"},c={true:!0,bestOnly:"best_only",false:!1}},3989454579:(x,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),c=e(3588592544),o=e(2201208793),a=e(4882164428),l=e(1224315998),i=e(3817509504),d=e(4954329752);function _(){return _=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(v[y]=A[y])}return v},_.apply(this,arguments)}u(_,"_extends");const m=t.forwardRef((v,T)=>{let{className:A,isRequired:y=!1,"aria-disabled":p,indeterminate:f=!1,checked:O,hasKeyboardFocus:I,unstyled:P,autoClogProps:C,onChange:M,focusOnMount:D,...E}=v;const S=(0,t.useRef)(null),[k,U]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(f&&O==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");S.current&&(S.current.indeterminate=f)},[O,f]),(0,t.useEffect)(()=>{if(D){var W;(W=S.current)===null||W===void 0||W.focus()}},[D]);const L=(0,t.useCallback)(W=>{O===void 0&&C&&U(W.target.checked),M==null||M(W)},[C,O,M]),B=(0,a.f)(o.j.Checkbox),b=P?(0,n.A)("c-input_unstyled_checkbox",A,B,{"c-input_unstyled_checkbox--focus-visible":I,"c-input_unstyled_checkbox--checked":O}):(0,n.A)("c-input_checkbox",A,B,{"c-input_checkbox--focus-visible":I,"c-input_checkbox--disabled":p}),R=t.createElement("input",_({},E,(0,i.A)(E),{"aria-disabled":p,"aria-checked":f?"mixed":void 0,checked:O,type:"checkbox",required:y,className:b,ref:(0,d.P)(S,T),onChange:p?s.A:L})),z=O!==void 0?O:k,w=(0,t.useMemo)(()=>({onChange:{action:z?l.UiAction.UNCHECK:l.UiAction.CHECK}}),[z]);return C?t.createElement(r.A,{autoClogProps:C,actionProps:w,elementType:l.ElementType.CHECKBOX},R):R});m.displayName="Checkbox";const h=(0,c.A)(m)},5797272849:(x,g,e)=>{"use strict";e.d(g,{E:()=>t});const t={small:"c-form--small",large:"c-form--large"}},3391133100:(x,g,e)=>{"use strict";e.d(g,{Es:()=>s,Yk:()=>c,r7:()=>a,r9:()=>r,zI:()=>o});var t=e(735940183);const n=new t.Ay("form_inputs");function s(l,i){return`${l}_${i}`}u(s,"getInputBuddyId");function r(){return Math.random().toString(36).substring(2,10)}u(r,"getRandomId");const c=u(l=>{const i=l.filter(d=>d);if(i.length!==0)return i.join(" ")},"makeAriaComboIds"),o=u(l=>n.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:l}),"getMaximumCharacterErrorText"),a=u(l=>n.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:l}),"getMinimumCharacterErrorText")},2660476100:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3134334389),n=e(5255740490);function s(r){let{children:c,className:o,id:a}=r;return c?t.createElement("div",{className:(0,n.A)("c-hint",o),id:a},c):null}u(s,"Hint")},7138682671:(x,g,e)=>{"use strict";e.d(g,{A:()=>i,Q:()=>o});var t=e(3134334389),n=e(5255740490),s=e(735940183);function r(){return r=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var m=arguments[_];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(d[h]=m[h])}return d},r.apply(this,arguments)}u(r,"_extends");const c=new s.Ay("app_dialog"),o={block:"block",inline:"inline"};var a;let l=u(class extends(a=t.Component){getCursor(){const{cursor:_,htmlFor:m,isDisabled:h}=this.props;return h?null:typeof _>"u"&&m?"pointer":_}renderOptionalTextMaybe(){const{optional:_}=this.props,m=c.t("(optional)");return _?t.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},m):null}renderSubtextMaybe(){const{subtext:_}=this.props;return _?t.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},_):null}render(){const{className:_,cursor:m,htmlFor:h,optional:v,subtext:T,text:A,type:y,isDisabled:p,dataQaLabel:f,...O}=this.props,I=(0,n.A)("c-label",_,{"c-label--block":y===o.block,"c-label--inline":y===o.inline,"c-label--with_subtext":T,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":p,"c-label--with_formatted_text":typeof A!="string"});return t.createElement("label",r({},O,{htmlFor:h,className:I,"data-qa-label":f,"data-qa-label-type":y}),t.createElement("span",{className:"c-label__text","data-qa-label-text":!0},A,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");l.displayName="Label",l.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"};const i=l},5375115868:(x,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),n=e(5255740490),s=e(5617110048),r=e(1224315998);function c(){return c=Object.assign||function(i){for(var d=1;d<arguments.length;d++){var _=arguments[d];for(var m in _)Object.prototype.hasOwnProperty.call(_,m)&&(i[m]=_[m])}return i},c.apply(this,arguments)}u(c,"_extends");const o={onChange:{action:r.UiAction.CLICK}};let a=u(class extends t.PureComponent{componentDidMount(){const{focusOnMount:d,autoFocus:_}=this.props;(d||_)&&this.focus()}componentDidUpdate(){const{autoFocus:d}=this.props;d&&this.focus()}focus(){var d;(d=this.inputRef.current)===null||d===void 0||d.focus()}render(){const{className:d,autoClogProps:_,autoFocus:m,focusOnMount:h,...v}=this.props,T=(0,n.A)("c-input_radio",d),A=t.createElement("input",c({},v,{className:T,ref:this.inputRef,type:"radio"}));return _?t.createElement(s.A,{autoClogProps:_,actionProps:o,elementType:r.ElementType.RADIO},A):A}constructor(d){super(d),this.inputRef=t.createRef()}},"Radio");a.displayName="Radio",a.defaultProps={autoFocus:!1};const l=a},9205344153:(x,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(3134334389),n=e(5255740490),s=e(3708320478),r=e(5166368300),c=e(4426213732),o=e(3514889545),a=e(735940183);const l=new a.Ay("form_inputs"),i={inline:"inline",multiline:"multiline"},d=u((A,y)=>A>y,"isCurrentCountInvalid"),_=u((A,y)=>y-A,"getCharacterCount"),m=u((A,y,p)=>!p||A>=p?_(A,y):"","getCharacterCountDisplay"),h=u(A=>A.toString().length,"getCharacterCountLength");let v=u(class extends t.Component{getSnapshotBeforeUpdate(y){if(y.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const p=_(this.props.currentCount,this.props.maxCharacterLimit),f=h(p);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==f&&this.setCharacterCountLength(f)}return null}componentDidUpdate(y,p){this.props.type===i.inline&&p.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountWidth(){return this.characterCountWidth||this.measureCountWidth()}setCharacterCountLength(y){this.setState(()=>({characterCountLength:y}))}setCharactersRemainingMessage(y,p){const f=this.makeCharactersRemainingMessage(y,p);this.setState(()=>({charactersRemainingMessage:f}))}setCharactersRemainingRef(y){this.charactersRemainingElement=y}makeCharactersRemainingMessage(y,p){const f=_(y,p);return l.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:f})}measureCountWidth(){const y=this.charactersRemainingElement&&this.charactersRemainingElement.offsetWidth||0;return this.characterCountWidth=y,y}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:y,maxCharacterLimit:p,counterMinimumCharacters:f}=this.props,O=m(y,p,f);return t.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining",ref:this.setCharactersRemainingRef},O)}render(){const{className:y,currentCount:p,maxCharacterLimit:f,children:O,isDisabled:I,size:P,type:C,id:M}=this.props,D=(0,n.A)(y,"c-input_character_count",{"c-input_character_count--multiline":C===i.multiline,"c-input_character_count--large":P===r.F.large,"c-input_character_count--small":P===r.F.small,"c-input_character_count--invalid":this.state.hasFocus&&d(p,f),"c-input_character_count--disabled":I}),E=this.shouldReadCharactersRemainingMessage&&t.createElement("div",{id:M,hidden:!0},this.state.charactersRemainingMessage);let S;return this.shouldReadCharactersRemainingMessage||(S=t.createElement(s.A,{assertive:!0,message:this.state.charactersRemainingMessage})),t.createElement("div",{role:"presentation",className:D,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},O,this.renderCharactersRemaining(),S,E)}constructor(y){super(y);const p=this.makeCharactersRemainingMessage(y.currentCount,y.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:p,hasFocus:!1},this.characterCountWidth=0,this.shouldReadCharactersRemainingMessage=!0,(0,c.v)(this,["setCharactersRemainingRef","setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=(0,o.A)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");v.displayName="CharacterCount",v.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:i.inline,size:r.F.medium,counterMinimumCharacters:0,id:void 0};const T=v},2219904496:(x,g,e)=>{"use strict";e.d(g,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(2003990933),r=e(7715417323),c=e(581167618),o=e(3391133100),a=e(2660476100),l=e(9205344153),i=e(5166368300),d=e(1610251172);const _={small:"small",medium:"medium",large:"large"},m=u(S=>{let{size:k,icon:U,children:L}=S;const B=(0,n.A)("c-input_text_icon",{"c-input_text_icon--small":k===_.small,"c-input_text_icon--large":k===_.large}),b=(0,n.A)("c-input_text_icon__icon",{"c-input_text_icon__icon--small":k===_.small,"c-input_text_icon__icon--large":k===_.large});return t.createElement("div",{className:B},t.createElement(d.A,{type:U,className:b,size:"inherit"}),L)},"TextInputIcon");m.displayName="TextInputIcon";const h=t.memo(m);let v=u(class extends t.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:k,prefix:U,suffix:L}=this.props,B=(0,n.A)("c-input_text_overlay",{"c-input_text_overlay--large":k===i.F.large},this.props.className);return t.createElement("div",{className:B,"data-overlay-prefix":U,"data-overlay-suffix":L,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:k,suffix:U}=this.props;return t.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${U} appended to the text value.`},this.renderOverlay(),k)}},"TextInputOverlay");v.displayName="TextInputOverlay",v.defaultProps={className:"",placeholder:"",size:i.F.medium,value:"",prefix:"",suffix:""};const T=v;var A=e(434544446),y=e.n(A),p=e(8509961938);function f(S,k){const U=O(S);return k&&U.length?U.replace((0,p.A)(),"E").replace(y()(),"E").length:U.length}u(f,"getTextLength");function O(S){return S==null?"":typeof S=="string"?S:String(S)}u(O,"coerceValueToString");var I=e(9665283624),P=e(4426213732);function C(){return C=Object.assign||function(S){for(var k=1;k<arguments.length;k++){var U=arguments[k];for(var L in U)Object.prototype.hasOwnProperty.call(U,L)&&(S[L]=U[L])}return S},C.apply(this,arguments)}u(C,"_extends");const M=12;let D=u(class extends t.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(k,U){(this.props.value!==k.value||this.state.isFocused!==U.isFocused)&&this.getTextStyle(),this.props.value!==k.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(k)}onBlur(k){const{onBlur:U}=this.props;this.setState(()=>({isFocused:!1})),U&&U(k)}onFocus(k){const{onFocus:U}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),U&&U(k)}getPrefixStyle(){const{size:k,prefix:U}=this.props;if(!U)return;let L;const b=document.createElement("canvas").getContext("2d");return b&&(k===i.F.medium?(b.font="15px Slack-Lato",L=b.measureText(U).width+M):k===i.F.small?(b.font="13px Slack-Lato",L=b.measureText(U).width+M):(b.font="18px Slack-Lato",L=b.measureText(U).width+M)),{paddingLeft:L}}getTextStyle(){var k;const{maxCharacterLimit:U}=this.props;if(!U){this.setTextStyle({});return}const B={paddingRight:(k=this.characterCount)===null||k===void 0?void 0:k.getCharacterCountWidth()};this.setTextStyle(B)}setTextStyle(k){this.setState(()=>({textStyle:k}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(k){const{focusOnMount:U,forceSelectAll:L}=this.props;this.state.everFocused&&U&&k&&k.focusOnMount===U||!this.input||!this.input.current||!U||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),L&&this.input.current.select())}getIsInputLengthTooShort(){const{emojisShouldCountAsSingleCharacter:k,isRequired:U,minCharacterLimit:L,value:B}=this.props,{everReceivedUserInput:b}=this.state;if(!b||L==null)return!1;const R=f(B,k);return!U&&R===0?!1:R<L}getIsInputLengthTooLong(){const{maxCharacterLimit:k,value:U,emojisShouldCountAsSingleCharacter:L}=this.props;return k==null?!1:f(U,L)>k}renderDeprecatedErrorMaybe(){const{errorLevel:k,errorText:U,errorType:L,minCharacterLimit:B,maxCharacterLimit:b}=this.props;return U?t.createElement(c.Ay,{id:this.state.errorId,level:k,type:L,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},U):this.getIsInputLengthTooLong()?t.createElement(c.Ay,{id:this.state.errorId,level:c.A_.error,type:L,className:"margin_bottom_100"},(0,o.zI)(b)):this.getIsInputLengthTooShort()?t.createElement(c.Ay,{id:this.state.errorId,level:c.A_.error,type:L,className:"margin_bottom_100"},(0,o.r7)(B)):null}renderErrorMaybe(){const{errorText:k,minCharacterLimit:U,maxCharacterLimit:L}=this.props;return k?t.createElement(I.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},k):this.getIsInputLengthTooLong()?t.createElement(I.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,o.zI)(L)):this.getIsInputLengthTooShort()?t.createElement(I.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,o.r7)(U)):null}renderHintMaybe(){const{hintText:k}=this.props;return k?t.createElement(a.A,{id:this.state.hintId,"data-qa":"form-text-hint"},k):null}renderTextInput(){const{className:k,errorId:U,errorLevel:L,errorText:B,errorType:b,hintId:R,hintText:z,id:w,isRequired:W,isInvalid:K,labelId:Y,name:X,onBlur:Z,onChange:ie,onCopy:Ae,forceSelectAll:ae,onFocus:V,size:ve,prefix:be,suffix:Ue,maxCharacterLimit:Re,minCharacterLimit:ge,emojisShouldCountAsSingleCharacter:ne,counterMinimumCharacters:ee,icon:F,focusOnMount:H,useInlineAlert:j,showError:N,inputRef:J,preventScrollOnFocus:le,ariaDescribedById:ce,autoComplete:Ee,type:ye,readOnly:Ie,...he}=this.props,Ce=!!B||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||K,oe=(0,n.A)({[`c-input_text--with_${L}`]:Ce,"c-input_text--with_hint":z,"c-input_text--with_icon":F},k),de=(0,o.Yk)([Y,Ce?this.state.errorId:null]),De=(0,o.Yk)([ce,this.state.hintId,this.characterCounterId]),Te={...this.state.textStyle,...this.getPrefixStyle()};return t.createElement(i.A,C({},he,{style:Te,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:De,isInvalid:Ce,ariaLabelledby:de,ariaRequired:W,className:oe,id:w,name:X,onChange:ie,onCopy:Ae,forceSelectAll:ae,ref:this.input,size:ve,autoComplete:Ee,type:ye,readOnly:Ie??void 0}))}renderWrappedTextMaybe(){const{prefix:k,suffix:U,value:L,placeholder:B,maxCharacterLimit:b,counterMinimumCharacters:R,size:z,isDisabled:w,icon:W}=this.props;let K=this.renderTextInput();if(b){const Y=f(L,this.props.emojisShouldCountAsSingleCharacter);K=t.createElement(l.A,{id:this.characterCounterId,currentCount:Y,isDisabled:w,maxCharacterLimit:b,counterMinimumCharacters:R,size:z,ref:X=>{this.characterCount=X}},K)}return(k||U)&&(K=t.createElement(T,{className:W&&"c-input_text_overlay--icon",placeholder:B,size:z,prefix:k,suffix:U,value:L??void 0},K)),W&&(K=t.createElement(h,{icon:W,size:z},K)),K}render(){const k=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&k,this.renderHintMaybe())}constructor(k){super(k),(0,P.v)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:U}=k;this.state={errorId:(0,s.A)(this.props,"errorId",(0,o.Es)(U,"error")),everReceivedUserInput:!1,hintId:(0,s.A)(this.props,"hintId",(0,o.Es)(U,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},k.maxCharacterLimit&&(this.characterCounterId=(0,o.Es)(U,"character-count")),this.input=k.inputRef||t.createRef()}},"FormTextInput");D.displayName="FormTextInput",D.defaultProps={className:null,errorId:void 0,errorLevel:c.A_.error,errorText:null,errorType:c.QE.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,emojisShouldCountAsSingleCharacter:!1,onBlur:r.A,onChange:r.A,onCopy:r.A,forceSelectAll:!1,readOnly:!1,onFocus:r.A,placeholder:void 0,size:i.F.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:r.A,onMouseLeave:r.A,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:r.A,onKeyDown:r.A,onCompositionStart:r.A,onCompositionEnd:r.A};const E=D},8472205500:(x,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(3134334389),n=e(5255740490),s=e(2003990933),r=e(7715417323),c=e(5617110048),o=e(581167618),a=e(3391133100),l=e(2660476100),i=e(9205344153),d=e(8452232783),_=e(9665283624),m=e(4426213732),h=e(1224315998);function v(){return v=Object.assign||function(y){for(var p=1;p<arguments.length;p++){var f=arguments[p];for(var O in f)Object.prototype.hasOwnProperty.call(f,O)&&(y[O]=f[O])}return y},v.apply(this,arguments)}u(v,"_extends");const T={onChange:{action:h.UiAction.ENTER_TEXT}};let A=u(class extends t.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var p;(p=this.input.current)===null||p===void 0||p.focus()}}componentDidUpdate(p,f){if((this.props.value!==p.value||this.state.isFocused!==f.isFocused)&&this.getTextStyle(),this.props.value!==p.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&p.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var O;(O=this.input.current)===null||O===void 0||O.focus()}}onBlur(){const{onBlur:p}=this.props;this.setFocus(!1),p&&p()}onFocus(){const{onFocus:p}=this.props;this.setFocus(!0),p&&p()}getTextStyle(){var p;const{maxCharacterLimit:f}=this.props;if(!f){this.setTextStyle({});return}const I={paddingRight:(p=this.characterCount)===null||p===void 0?void 0:p.getCharacterCountWidth()};this.setTextStyle(I)}setCharacterCountRef(p){this.characterCount=p}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(p){this.setState(()=>({isFocused:p}))}setInputRef(p){this.input=p}setTextStyle(p){this.setState(()=>({textStyle:p}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:p,minCharacterLimit:f,value:O}=this.props,{everReceivedUserInput:I}=this.state;return!I||f==null||!p&&O.length===0?!1:O.length<f}getIsInputLengthTooLong(){const{maxCharacterLimit:p,value:f}=this.props;return p==null?!1:f.length>p}renderDeprecatedErrorMaybe(){const{showError:p,errorLevel:f,errorText:O,errorType:I,isRequired:P,maxCharacterLimit:C,minCharacterLimit:M,value:D}=this.props;return p?O?t.createElement(o.Ay,{id:this.state.errorId,level:f,type:I,className:"margin_bottom_100"},O):!P&&D.length===0?null:this.getIsInputLengthTooLong()?t.createElement(o.Ay,{id:this.state.errorId,level:o.A_.error,type:I,className:"margin_bottom_100"},(0,a.zI)(C)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(o.Ay,{id:this.state.errorId,level:o.A_.error,type:I,className:"margin_bottom_100"},(0,a.r7)(M)):null:null}renderErrorMaybe(){const{showError:p,errorText:f,isRequired:O,maxCharacterLimit:I,minCharacterLimit:P,value:C}=this.props;return p?f?t.createElement(_.A,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},f):!O&&C.length===0?null:this.getIsInputLengthTooLong()?t.createElement(_.A,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},(0,a.zI)(I)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(_.A,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},(0,a.r7)(P)):null:null}renderHintMaybe(){const{hintText:p}=this.props;return p?t.createElement(l.A,{id:this.state.hintId},p):null}renderTextArea(){const{className:p,showError:f,errorId:O,errorLevel:I,errorText:P,errorType:C,hintId:M,hintText:D,useInlineAlert:E,id:S,isRequired:k,isInvalid:U,labelId:L,name:B,onChange:b,onFocus:R,onBlur:z,maxCharacterLimit:w,minCharacterLimit:W,focusOnMount:K,autoClogProps:Y,ariaDescribedById:X,inputRef:Z,...ie}=this.props,{textStyle:Ae}=this.state,ae=!!P||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||U,V=(0,n.A)({[`c-input_textarea--with_${I}`]:ae,"c-input_textarea--with_hint":D,"c-input_textarea--with_character_count":!!w,"c-input_text--with_inline_alert":E},p),ve=(0,a.Yk)([L,ae?this.state.errorId:void 0]),be=(0,a.Yk)([X,this.state.hintId,this.characterCounterId]),Ue=t.createElement(d.A,v({},ie,{ref:this.setInputRef,style:Ae,ariaDescribedby:be,isInvalid:ae,ariaLabelledby:ve,ariaRequired:k,className:V,id:S,"data-qa":ie["data-qa"]||S,name:B,onChange:b,onFocus:this.onFocus,onBlur:this.onBlur}));return Y?t.createElement(c.A,{autoClogProps:Y,actionProps:T,elementType:h.ElementType.TEXTAREA},Ue):Ue}renderWrappedTextareaMaybe(){const{value:p,maxCharacterLimit:f,size:O,isDisabled:I}=this.props;let P=this.renderTextArea();return f&&(P=t.createElement(i.A,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:p==null?void 0:p.length,isDisabled:I,maxCharacterLimit:f,type:"multiline",size:O},P)),P}render(){const p=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),p,this.renderHintMaybe())}constructor(p){super(p);const{id:f}=this.props;(0,m.v)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:(0,s.A)(this.props,"errorId",(0,a.Es)(f,"error")),hintId:(0,s.A)(this.props,"hintId",(0,a.Es)(f,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=(0,a.Es)(f,"character-count")),this.input=t.createRef()}},"FormTextareaInput");A.displayName="FormTextareaInput",A.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:o.A_.error,errorText:null,errorType:o.QE.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:r.A,onFocus:r.A,onBlur:r.A,placeholder:void 0,size:d.F.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},5166368300:(x,g,e)=>{"use strict";e.d(g,{A:()=>_,F:()=>l});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),c=e(5797272849),o=e(1224315998);function a(){return a=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])}return m},a.apply(this,arguments)}u(a,"_extends");const l={small:"small",medium:"medium",large:"large"};var i;let d=u(class extends(i=t.Component){componentDidMount(){if(this.props.focusOnMount){var h;(h=this.props.refToForward.current)===null||h===void 0||h.focus()}}onChange(h){this.props.onChange&&this.props.onChange(h.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(h){this.props.readOnly&&this.props.forceSelectAll&&h.currentTarget.select()}blur(){var h;(h=this.props.refToForward.current)===null||h===void 0||h.blur()}focus(){var h;(h=this.props.refToForward.current)===null||h===void 0||h.focus()}render(){const{ariaDescribedby:h,isInvalid:v,ariaLabelledby:T,ariaRequired:A,className:y,id:p,isDisabled:f,name:O,placeholder:I,size:P,type:C,refToForward:M,ariaLabel:D,forceSelectAll:E,focusOnMount:S,autoClogProps:k,autoComplete:U,...L}=this.props,B=(0,n.A)("c-input_text",{"c-input_text--large":P===l.large,"c-input_text--small":P===l.small,"c-input_text--with_error":v,"c-input_text--with_inline_alert":v,[c.E.small]:P===l.small,[c.E.large]:P===l.large},y),b=t.createElement("input",a({},L,{"aria-describedby":L["aria-describedby"]||h,"aria-invalid":L["aria-invalid"]||v,"aria-labelledby":L["aria-labelledby"]||T,"aria-required":L["aria-required"]||A,"aria-label":L["aria-label"]||D,autoComplete:U,className:B,disabled:f,id:p,name:O,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:I,ref:M,type:C}));return k?t.createElement(r.A,{autoClogProps:k,actionProps:{onChange:{action:o.UiAction.ENTER_TEXT},onCopy:{action:o.UiAction.COPY_TO_CLIPBOARD}},elementType:o.ElementType.INPUT},b):b}constructor(h){super(h),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");d.displayName="TextInput",d.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:s.A,onCopy:s.A,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"};const _=t.forwardRef((m,h)=>t.createElement(d,a({},m,{refToForward:h||t.createRef()})))},8452232783:(x,g,e)=>{"use strict";e.d(g,{A:()=>m,F:()=>l});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),c=e(5797272849),o=e(1224315998);function a(){return a=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var T=arguments[v];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(h[A]=T[A])}return h},a.apply(this,arguments)}u(a,"_extends");const l={small:"small",medium:"medium",large:"large"},i={onBlur:{action:o.UiAction.SAVE}};var d;let _=u(class extends(d=t.Component){componentDidMount(){var v;this.props.focusOnMount&&(!((v=this.textAreaRef)===null||v===void 0)&&v.current)&&this.textAreaRef.current.focus()}onChange(v){this.props.onChange(v.target.value)}render(){const{ariaDescribedby:v,isInvalid:T,ariaLabelledby:A,ariaRequired:y,className:p,placeholder:f,id:O,isDisabled:I,name:P,resize:C,size:M,focusOnMount:D,autoClogProps:E,...S}=this.props,k=(0,n.A)("c-input_textarea",{"c-input_textarea--large":M===l.large,"c-input_textarea--small":M===l.small,"c-input_textarea--resize_none":C==="none","c-input_textarea--resize_both":C==="both","c-input_textarea--resize_h":C==="horizontal","c-input_textarea--with_error":T,"c-input_textarea--with_inline_alert":T,[c.E.small]:M===l.small,[c.E.large]:M===l.large},p),U=t.createElement("textarea",a({},S,{"aria-describedby":v,"aria-invalid":T,"aria-labelledby":A,"aria-required":y,className:k,disabled:I,id:O,name:P,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeholder:f,ref:this.textAreaRef,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return E?t.createElement(r.A,{autoClogProps:E,actionProps:i,elementType:o.ElementType.TEXTAREA},U):U}constructor(v){super(v),this.onChange=this.onChange.bind(this),this.textAreaRef=t.createRef()}},"TextareaInput");_.displayName="TextareaInput",_.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:s.A,onFocus:s.A,onBlur:s.A,placeholder:"",resize:null,size:l.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0};const m=_},4967176632:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(3564666345);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o[i]=l[i])}return o},s.apply(this,arguments)}u(s,"_extends");function r(o){let{className:a=void 0,initialValues:l,initialErrors:i=void 0,validate:d=void 0,validationSchema:_=void 0,validateOnBlur:m=!0,validateOnChange:h=!0,validateOnMount:v=!1,onReset:T=void 0,onSubmit:A,children:y,...p}=o;const f=T?{onReset:T}:{};return t.createElement(n.l1,s({initialValues:l,initialErrors:i,validate:d,validationSchema:_,validateOnBlur:m,validateOnChange:h,validateOnMount:v,onSubmit:A},f,p),O=>{let{handleSubmit:I,handleReset:P,...C}=O;return t.createElement("form",{className:a,onSubmit:I,onReset:P},y({...C}))})}u(r,"Form"),r.displayName="Form";const c=r},3155323475:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(5255740490),s=e(9665283624);function r(c){let{className:o,errors:a}=c;var l;return a&&a.length>0?t.createElement(t.Fragment,null,a.map(i=>(0,t.isValidElement)(i.message)?t.cloneElement(i.message,{key:i.id,id:i.id,className:(0,n.A)(o,"c-field_input__helpers")}):(l=!!i.message&&t.createElement(s.A,{className:(0,n.A)(o,"c-field_input__helpers"),key:i.id,id:i.id},i.message))!==null&&l!==void 0?l:null)):null}u(r,"FieldErrors")},7811786890:(x,g,e)=>{"use strict";e.d(g,{DQ:()=>d,IM:()=>o,T$:()=>i,Wz:()=>h,Zr:()=>v,m4:()=>r,mw:()=>c});var t=e(9746734072),n=e(6313685253),s=e(9113979368);const r={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phone:/^[0-9._+-]{8,15}$/i},c=u(T=>{const A=typeof T=="boolean",y=typeof T=="string",p=A&&!T,f=y&&(!T||!T.trim()),O=(0,t.A)(T)&&!T.length;return p||f||O||T===null?"Required":null},"required"),o=u((T,A)=>y=>(r[T]||T).test(y)?null:A,"regexPattern"),a=o(r.email,"Please enter a valid email address."),l=o(r.phone,"Please enter a valid phone number."),i=u(T=>A=>!A||A.length<T?`Minimum of ${T} characters`:null,"minCharacterCount"),d=u(T=>A=>A.length>T?`Max character limit is ${T}`:null,"maxCharacterCount"),_=u(T=>A=>{let y=null;return T.forEach(p=>{A===p&&(y=`Cannot use ${A}`)}),y},"tokenNotAllowed"),m=u(T=>A=>{let y=null,p;return A&&A.length&&(A.includes(",")?(p=A.split(",").filter(f=>!!T.includes(f)),y=`Cannot use ${p}`):T.includes(A)&&(p=A,y=`Cannot use ${p}`)),y},"tokensNotAllowed"),h=u(T=>A=>{const y=(0,n.A)(T,(p,f,O)=>{const I=f.map(P=>P(A[O],A)).filter(Boolean);return I.length>0&&(p[O]=I),p},{});return(0,s.A)(y)?void 0:y},"createValidation"),v=u(T=>A=>{const y=T.map(p=>p(A)).filter(Boolean);return(0,s.A)(y)?void 0:y},"createValidate")},9665283624:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(3708320478),r=e(8683010724);function c(){return c=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var d=arguments[i];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(l[_]=d[_])}return l},c.apply(this,arguments)}u(c,"_extends");let o=u(class extends t.PureComponent{render(){const{children:i,className:d,id:_,...m}=this.props,h=(0,n.A)("c-inline_alert",d);return t.createElement("div",c({},m,{className:h,id:_,"data-qa-error":!0}),t.createElement(r.A,{name:"info"}),t.createElement(s.z,{assertive:!0},t.createElement("span",{className:"c-inline_alert__text"},i)))}},"InlineAlert");o.displayName="InlineAlert",o.defaultProps={className:"",id:""};const a=o},440635146:(x,g,e)=>{"use strict";e.d(g,{ed:()=>v,tc:()=>d,zG:()=>T});var t=e(3134334389),n=e(5255740490),s=e(1610251172),r=e(8214116048),c=e(571104883),o=e(735940183);const a=new o.Ay("keyboard_key");var l;(function(A){A.ArrowUp="\u2191",A.ArrowDown="\u2193",A.ArrowLeft="\u2190",A.ArrowRight="\u2192"})(l||(l={}));var i;(function(A){A.CmdOrCtrl="CmdOrCtrl",A.OptOrAlt="OptOrAlt"})(i||(i={}));const d={...l,...i},_=Object.values(l).map(A=>A.toString()),m={Cmd:"cmd-small",[l.ArrowUp]:"caret-up",[l.ArrowDown]:"caret-down",[l.ArrowLeft]:"caret-left",[l.ArrowRight]:"caret-right"},h=u(A=>A===i.CmdOrCtrl?(0,c.cX)()?"Cmd":"Ctrl":A===i.OptOrAlt?(0,c.cX)()?"Option":"Alt":A,"getKeyForOS"),v=u(A=>({"\u2191":a.t("up arrow"),"\u2193":a.t("down arrow"),"\u2190":a.t("left arrow"),"\u2192":a.t("right arrow"),Ctrl:a.t("control"),"\u2318":a.t("command"),Cmd:a.t("command"),Option:a.t("option"),Alt:a.t("alt"),".":a.t("period"),",":a.t("comma"),"[":a.t("left bracket"),"]":a.t("right bracket"),"+":a.t("plus"),"-":a.t("minus"),Esc:a.t("escape"),Strg:"Steuerung"}[A]||String(A)).toLowerCase(),"getNameForKey"),T=u(A=>{let{label:y,className:p,slim:f=!1,theme:O=r.Sx.Light,tooltip:I=!1}=A;const P=String(y),C=_.includes(P),M=h(P),D=m[M],E=(0,n.A)(p,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":C,"c-keyboard_key--slim":f,"c-keyboard_key--dark":O===r.Sx.Dark,"c-keyboard_key__tooltip":I}),S=v(M);return t.createElement("div",{role:"img","aria-label":S,className:E},D?t.createElement(s.A,{type:D,size:f?"inherit":20,inline:f}):M)},"KeyboardKey");T.displayName="KeyboardKey"},9194155027:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(440635146),r=e(571104883);const c=u(()=>(0,r.cX)()?t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"\xA0"):t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"+"),"Delimiter");c.displayName="Delimiter";const o=u(l=>{let{isInline:i=!1,title:d,mainKey:_,modifier:m,modifiers:h,className:v,useSlimModifiers:T}=l;const A=(0,n.A)("c-keyboard_keys",{"c-keyboard_keys--inline":i,"c-keyboard_key__tooltip_text":!(m||h)},v),y=(0,n.A)("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":i}),p=m?[m]:h,f=p==null?void 0:p.map(O=>t.createElement(t.Fragment,{key:`${O}_key`},t.createElement(s.zG,{label:O,tooltip:!0,slim:T}),t.createElement(c,null)));return t.createElement(t.Fragment,null,t.createElement("span",{className:y,"aria-hidden":"true"},d),t.createElement("span",{className:A},f,t.createElement(s.zG,{label:_,tooltip:!0})))},"KeyboardKeysTooltip");o.displayName="KeyboardKeysTooltip";const a=o},9742374352:(x,g,e)=>{"use strict";e.d(g,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(5617110048),r=e(3588592544),c=e(6538933722),o=e(1224315998),a=e(6695894399);function l(){return l=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])}return m},l.apply(this,arguments)}u(l,"_extends");const i={onClick:{action:o.UiAction.CLICK}},d=t.forwardRef(u(function(h,v){let{autoClogProps:T,className:A,href:y,invert:p=!1,children:f,hasKeyboardFocus:O=!1,...I}=h;const P=(0,n.A)("c-link",{"c-link--focus-visible":O,"c-link--invert":p},A),C=I.target==="_blank"||(y==null?void 0:y.startsWith("mailto:")),M=t.createElement("a",l({},(0,a.A)(I),{className:P,href:y,ref:v}),f,C&&t.createElement(c.A,null));return T?t.createElement(s.A,{autoClogProps:T,actionProps:i,elementType:o.ElementType.LINK},M):M},"BaseLink"));d.displayName="BaseLink";const _=(0,r.A)(d)},9163962844:(x,g,e)=>{"use strict";e.d(g,{A:()=>n,r:()=>t.rY});var t=e(2762351398);const n=t.Ay},2762351398:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>i,HY:()=>o,rY:()=>c});var t=e(3134334389),n=e(5255740490),s=e(2312625946);function r(){return r=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var m=arguments[_];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(d[h]=m[h])}return d},r.apply(this,arguments)}u(r,"_extends");var c;(function(d){d.transparent="transparent",d.black="black",d.red="red",d.white="white",d.blue="blue",d.minGray="min_gray",d.minGrayDarken="min_gray_darken",d.themed="themed"})(c||(c={}));var o;(function(d){d.pill="pill",d.circle="circle"})(o||(o={}));const a=u((d,_)=>d>_?`${_}+`:String(d),"getCountText"),l=u(d=>{let{className:_,count:m,maxCount:h=9,style:v=c.black,toolTipText:T="",shape:A=o.pill}=d;if(!m||m<0)return null;const y=T?s.Ay:t.Fragment,p=T?{tip:T}:{};return t.createElement(y,r({},p),t.createElement("span",{"aria-hidden":"true",className:(0,n.A)(_,"c-mention_badge",{"c-mention_badge--max":m>h,"c-mention_badge--pill":A===o.pill,"c-mention_badge--circle":A===o.circle,"c-mention_badge--transparent":v===c.transparent,"c-mention_badge--black":v===c.black,"c-mention_badge--red":v===c.red,"c-mention_badge--white":v===c.white,"c-mention_badge--blue":v===c.blue,"c-mention_badge--min_gray":v===c.minGray,"c-mention_badge--min_gray_darken":v===c.minGrayDarken,"c-mention_badge--themed":v===c.themed},T&&"c-mention_badge--default"),"data-qa":"mention_badge"},a(m,h)))},"MentionBadge");l.displayName="MentionBadge";const i=t.memo(l)},3514831633:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>l,Dr:()=>s.A,YJ:()=>t.YJ,a:()=>n.A,bX:()=>c.Ay,c$:()=>r.Ay,cQ:()=>o.A});var t=e(1865069963),n=e(8383646472),s=e(8245211418),r=e(7417231112),c=e(8184841524),o=e(7433650413),a=e(101973425);const l=t.Ay},8383646472:(x,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),n=e(2141441167),s=e(862210999),r=e(3297051565),c=e.n(r),o=e(1658558415),a=e(4902318931),l=e(6308822),i=e(1865069963),d=e(8245211418),_=e(7417231112),m=e(8184841524),h=e(8773153312),v=e(1959847761);function T(){return T=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var P=arguments[I];for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(O[C]=P[C])}return O},T.apply(this,arguments)}u(T,"_extends");const A={type:c().oneOf((0,n.A)(h.A)),label:c().node,description:c().oneOfType([c().string,c().element]),children:c().element,key:c().string,click:c().func,danger:c().bool,dataQa:c().string,checked:c().bool,indeterminate:c().bool,ariaHidden:c().bool,target:c().string,href:c().string,download:c().string,action:c().func,payload:c().object,autoClogProps:c().object},y={template:c().arrayOf(c().shape({...A,renderSubmenu:c().func,template:c().arrayOf(c().shape(A)),submenu:c().arrayOf(c().shape(A)),checked:c().bool})).isRequired};let p=u(class tr extends t.PureComponent{render(){const{template:I,...P}=this.props,C=I.map((M,D)=>{if(!M)return null;if(M.type===h.A.separator)return t.createElement(m.Ay,T({},M,{key:M.key||`separator-${D}`}));if(M.type===h.A.sub_separator)return t.createElement(m.Ay,T({},M,{className:"c-menu_separator__li--sub",key:M.key||`separator-${D}`}));if(M.type===h.A.header)return t.createElement(_.Ay,{key:M.key||`header-${D}`,label:M.label,className:M.className});if(M.type===h.A.loading)return t.createElement(l.A,{key:M.key||"loading",size:"large"});const E={children:M.children,className:M.className,classNameListItem:M.classNameListItem,label:M.label,description:M.description,icon:M.icon,badgeCount:M.badgeCount,badgeLabel:M.badgeLabel,badgeClassName:M.badgeClassName,shortcut:M.shortcut,showEnter:M.showEnter,onSelected:M.click,target:M.target,href:M.href,download:M.download,danger:M.danger,type:M.type,"data-qa":M.dataQa,disabled:M.disabled,showOfflineIcon:M.showOfflineIcon,showLinkIndicatorIcon:M.showLinkIndicatorIcon,checked:M.checked,indeterminate:M.indeterminate,width:M.submenuWidth,autoClogProps:M.autoClogProps,megaphoneSpaceName:M.megaphoneSpaceName,megaphoneNotificationName:M.megaphoneNotificationName,onMount:M.onMount,onUnmount:M.onUnmount,ariaDescribedBy:M.ariaDescribedBy,ariaRole:M.ariaRole,ariaLabel:M.ariaLabel},S=M.key||M.label;if(M.type===h.A.submenu){const U=(0,s.A)(M.renderSubmenu)?M.renderSubmenu:L=>t.createElement(tr,T({template:M.template||M.submenu},L,{width:M.submenuWidth}));return t.createElement(v.A,T({},E,{label:M.label,renderSubmenu:U,key:S}))}if(M.type===h.A.custom)return M.ariaHidden===!1&&!(0,o.A)()?M.children:t.createElement("div",{"aria-hidden":M.ariaHidden===!1?"false":"true",key:M.key,"data-qa":M.dataQa},M.children);if(M.type===h.A.subheaderChild)return t.createElement(d.A,T({key:S,type:h.A.subheaderChild},E));const k=t.createElement(d.A,T({key:S},E));return M.megaphoneSpaceName&&M.megaphoneNotificationName?t.createElement(a.Ay,{key:S,spaceName:M.megaphoneSpaceName,notifications:{[M.megaphoneNotificationName]:{component:()=>k}}}):k});return t.createElement(i.Ay,T({},P),C)}},"MenuFromTemplate");p.displayName="MenuFromTemplate",p.propTypes=y;const f=p},7417231112:(x,g,e)=>{"use strict";e.d(g,{$b:()=>i,Ay:()=>a,a6:()=>l});var t=e(3134334389),n=e(5255740490),s=e(7715417323);function r(){return r=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var m=arguments[_];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(d[h]=m[h])}return d},r.apply(this,arguments)}u(r,"_extends");const c="_isSlackMenuItemHeader";function o(d){let{for:_,label:m,className:h,onMouseEnter:v=s.A}=d;return t.createElement("div",r({},_&&{id:i(_)},{"aria-hidden":"true",className:(0,n.A)("c-menu_item__header",h),onMouseEnter:v,"data-qa":"menu-item-header"}),m)}u(o,"MenuItemHeader"),o.displayName="MenuItemHeader",o[c]=!0;const a=o;function l(d){return!!(d!=null&&d[c])}u(l,"isMenuItemHeader");function i(d){return`${d}-label`}u(i,"getMenuItemHeaderIdForGroup")},8245211418:(x,g,e)=>{"use strict";e.d(g,{A:()=>P});var t=e(3134334389),n=e(5255740490),s=e(3078252698),r=e(7715417323),c=e(6084388622),o=e(7420598276),a=e(1610251172),l=e(2762351398),i=e(8773153312),d=e(101973425),_=e(8506855902),m=e(8683010724),h=e(1224315998),v=e(571104883),T=e(735940183),A=e(9391594207);const y=new T.Ay("menu");function p(C){return!!C&&!(0,s.A)(C)&&"label"in C}u(p,"isMenuItemShortcutObjectType");let f=u(class extends t.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(M){var D,E;(E=(D=this.props).menuCallbackBefore)===null||E===void 0||E.call(D,M),this.props.onSelected(M),this.props.menuCallback(this.props.menuCallbackId,M)}determineMenuRole(){const{type:M,ariaRole:D}=this.props;if(D)return D;switch(M){case i.A.radio:return"menuitemradio";case i.A.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:M,badgeCount:D,badgeClassName:E,badgeVariant:S,highlighted:k}=this.props;return D?t.createElement(l.Ay,{count:D,style:k?l.rY.white:l.rY.red}):M?t.createElement(o.A,{className:E,variant:S},M):null}renderAdditionalIconMaybe(){const{additionalIcon:M}=this.props;return M?t.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},M):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.createElement(m.A,{name:this.props.showFullCarat?"caret-right-full":"caret-right"}))}renderEnterMaybe(){const{showEnter:M,highlighted:D}=this.props;return!M||!D?null:t.createElement(a.A,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:M,checked:D,indeterminate:E}=this.props,S=M===i.A.radio||M===i.A.checkbox;return S&&E?t.createElement(a.A,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):S&&D?t.createElement("div",{className:"c-menu_item__checkmark"},t.createElement(m.A,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:M}=this.props;return M?t.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},M):null}renderLinkIconMaybe(){const{href:M,showLinkIndicatorIcon:D}=this.props;return D===!1||D!==!0&&!M?null:t.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.createElement(m.A,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:M,containerSize:D,experimentSkResponsiveMenusGroupOn:E,isResponsive:S}=this.props;if(!M||E&&S&&D&&D.width<300)return null;if(p(M)){const{label:k}=M;return t.createElement("div",{className:"c-menu_item__shortcut"},k)}return t.createElement("div",{className:"c-menu_item__shortcut"},M)}render(){const{autoClogProps:M,children:D,className:E,classNameListItem:S,danger:k,link:U,description:L,disabled:B,showOfflineIcon:b,highlighted:R,label:z,onMouseEnter:w,onMouseLeave:W,href:K,target:Y,download:X,type:Z,withSubmenu:ie,standaloneHoverEffect:Ae,checked:ae,indeterminate:V,measureRef:ve,containerSize:be,experimentSkResponsiveMenusGroupOn:Ue,isResponsive:Re,ariaDescribedBy:ge,ariaLabelledBy:ne,ariaLabel:ee,disableHoverStyling:F}=this.props,H=(0,n.A)(E,"c-menu_item__button",{"c-menu_item__button--highlighted":R&&!B&&!F,"c-menu_item__button--danger":k,"c-menu_item__button--link":U,"c-menu_item__button--disabled":B,"c-menu_item__button--with_submenu":ie,"c-menu_item--button--subheader_child":Z===i.A.subheaderChild,"c-menu_item__button--checked":(Z===i.A.radio||Z===i.A.checkbox)&&(ae||V),"c-menu_item--compact":Z===i.A.compactItem,"c-menu_item--standalone":Ae}),j=(0,n.A)(S,"c-menu_item__li",{"c-menu_item__li--highlighted":R&&!F}),N=(0,n.A)(S,"c-menu_item__label",{"c-menu_item__label--with_description":L}),J=ie?"true":void 0,le=L?t.createElement("div",{className:"c-menu_item__description"},L):"",ce=this.props.activeMenuId,Ee=this.props.featureSubmenuRoleDescription?y.t("submenu"):void 0,ye=(0,v.cX)()&&ie?Ee:void 0;return t.createElement("div",{ref:ve,className:j,onMouseEnter:w,onMouseLeave:W,"data-qa":`${this.props["data-qa"]}-wrapper`},t.createElement(c.Nm,{autoClogProps:{...M,elementType:h.ElementType.MENU_ITEM},ref:this.buttonRef,id:ce,className:H,disabled:B,onClick:this.onSelected,href:K,target:Y,download:X,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:ae,"aria-checked":V?"mixed":ae,"aria-haspopup":J,tabIndex:-1,"aria-roledescription":ye,"aria-describedby":ge,"aria-labelledby":ne,"aria-label":ee},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.createElement("div",{className:N},z,D,!(Ue&&Re&&be&&be.width<300)&&le),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),b&&t.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.createElement(a.A,{type:"cloud-offline-small"}))))}constructor(M){super(M),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.createRef()}},"MenuItem");f.displayName="MenuItem",f.defaultProps={children:void 0,highlighted:!1,onMouseEnter:r.A,onMouseLeave:r.A,onSelected:r.A,menuCallback:r.A,menuCallbackBefore:r.A,menuCallbackId:null,className:"",classNameListItem:"",label:"",description:"",danger:!1,link:!1,disabled:!1,showOfflineIcon:!1,href:null,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,badgeVariant:void 0,showEnter:!1,target:void 0,download:void 0,type:i.A.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,standaloneHoverEffect:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:r.A,onUnmount:r.A,showFullCarat:!1,disableHoverStyling:!1};const O={MenuItem:f},I=u(C=>({experimentSkResponsiveMenusGroupOn:(0,_.IN)(C)}),"mapStateToProps"),P=(0,d.Ay)((0,A.N)(I)((0,_.BM)(f)))},8184841524:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>c,Ex:()=>s,HP:()=>o});var t=e(3134334389),n=e(5255740490);const s="_isSlackMenuSeparator";function r(a){let{className:l,noPadding:i,noPaddingAbove:d,noPaddingBelow:_,noFirstChild:m,noLastChild:h,dataQa:v="menu_separator__separator"}=a;const T=(0,n.A)("c-menu_separator__li",{padding_0:i,padding_top_0:d,padding_bottom_0:_,"c-menu_separator__li--no_first_child":m,"c-menu_separator__li--no_last_child":h},l);return t.createElement("div",{className:T},t.createElement("hr",{className:"c-menu_separator__separator","data-qa":v}))}u(r,"MenuSeparator"),r.displayName="MenuSeparator",r[s]=!0;const c=r;function o(a){return!!(a!=null&&a[s])}u(o,"isMenuSeparator")},7433650413:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(5249175977),s=e(5751973043);function r(){return r=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},r.apply(this,arguments)}u(r,"_extends");const c=u(a=>{const{renderMenu:l,onPopoverOpen:i,onPopoverClose:d,isDisabled:_=!1,closeOnSelect:m=!0,onTriggerClose:h,onMenuItemSelected:v,onMenuKeyDown:T,...A}=a,y=u(()=>{i&&i()},"onOpenProp"),p=u(O=>{const{onClose:I,...P}=O,C=u((k,U)=>{I&&I(k),d&&d(k)},"onCloseProp"),M=u(k=>{I&&I(k),h&&h(k)},"onTriggerClose"),D=u((k,U)=>{m&&(I&&I(U),d&&d(U)),v&&v(k,U)},"onMenuItemSelected"),E=typeof a.children=="function"?a.children(s.t0):a.children,S=l({...O,children:E,onTriggerClose:M,onMenuItemSelected:D,onMenuKeyDown:T});return S?t.createElement(n.AM,r({shouldFade:!1,onClose:C,onOpen:y},P),S):!1},"renderPopover");if(p.displayName="renderPopover",_)return typeof a.children=="function"?a.children(s.t0):a.children;const f=a.isContextMenu?s.t0:{...A.triggerProps,"aria-haspopup":"menu"};return t.createElement(n.Wv,r({},A,{triggerProps:f,renderPopover:p}),a.children)},"MenuTrigger");c.displayName="MenuTrigger";const o=c},8773153312:(x,g,e)=>{"use strict";e.d(g,{A:()=>n,y:()=>t});const t={default:"default",compactItem:"compact_item",separator:"separator",sub_separator:"sub_separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"},n=t},1865069963:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>z,YJ:()=>L});var t=e(3134334389),n=e(5255740490),s=e(3078252698),r=e(9746734072),c=e(8424846741),o=e(7715417323),a=e(4481313819),l=e(4244379358);const i=u(w=>{let{"aria-labelledby":W,"aria-owns":K}=w;return K?t.createElement("div",{className:"offscreen",role:"group","aria-owns":K,"aria-labelledby":W}):null},"MenuItemGroup");i.displayName="MenuItemGroup";const d=i;var _=e(7417231112),m=e(8184841524),h=e(101973425),v=e(8506855902),T=e(1959847761),A=e(8226269261),y=e(1224315998);function p(w){return t.isValidElement(w)&&"children"in w.props}u(p,"hasChildren");function f(w){return w!=null&&typeof w=="object"&&"type"in w&&w.type===t.Fragment}u(f,"isFragment");function O(w){return w instanceof Array?w.map(O):f(w)&&p(w)?O(w.props.children):w}u(O,"defragment");function I(w){return t.Children.toArray(O(w))}u(I,"flattenChildren");var P=e(796111729),C=e(9391594207);function M(){return M=Object.assign||function(w){for(var W=1;W<arguments.length;W++){var K=arguments[W];for(var Y in K)Object.prototype.hasOwnProperty.call(K,Y)&&(w[Y]=K[Y])}return w},M.apply(this,arguments)}u(M,"_extends");function D(w){const W=w&&w.type;return!!W&&(0,h.l0)(W)}u(D,"isMenuItem");function E(w){const W=w&&w.type;return!!W&&(0,T.e)(W)}u(E,"isSubmenu");function S(w){const W=w&&w.type;return W&&(0,m.HP)(W)}u(S,"isSeparator");function k(w){const W=w&&w.type;return W&&(0,_.a6)(W)}u(k,"isMenuItemHeader");let U=0;function L(){return U>0}u(L,"isMenuVisible");const B={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select"," ":"select",Home:"selectfirst",End:"selectlast"};let b=u(class extends t.Component{componentDidMount(){this.focus(),U+=1}componentDidUpdate(W){this.props.kbNavActive&&!W.kbNavActive&&this.activateKBNav()}componentWillUnmount(){U-=1,this.props.onUnmount&&this.props.onUnmount()}menuItemHtmlId(W){return`${this.activeMenuId}-${W}`}onMenuNavigation(W){const K=this.getIndexOfNextMenuItemInDirection(W);this.setState(()=>({highlightedMenuItemIndex:K,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(W){const K=this.state.highlightCanChangeOnMouseMovement?W:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:K,contingentHighlightedMenuItemIndex:W,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var Y;(Y=this.ariaMenuNode)===null||Y===void 0||Y.focus()}}getAllMenuItemIndices(){const W=[];return I(this.props.children).filter(t.isValidElement).forEach((K,Y)=>{var X;!((X=this.ariaMenuNode)===null||X===void 0)&&X.querySelector(`#${this.menuItemHtmlId(Y)}`)&&(D(K)||E(K))&&W.push(Y)}),W}getIndexOfNextMenuItemInDirection(W){const K=this.getAllMenuItemIndices(),Y=K.indexOf(this.state.highlightedMenuItemIndex),X=K.length-1;if(W==="selectnext"){const ie=Y<X?Y+1:0;return K[ie]}const Z=Y-1>=0?Y-1:X;return K[Z]}getSelectedMenuItem(){const{highlightedMenuItemIndex:W}=this.state;if(!(W<0)&&this.menuChildren)return this.menuChildren[W]}focus(){const{kbNavActive:W,isSubmenu:K}=this.props;if(!W)return;if(!K){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const Y=this.getAllMenuItemIndices();if(!Y.length){var X;(X=this.ariaMenuNode)===null||X===void 0||X.focus();return}this.setState(()=>({highlightedMenuItemIndex:Y[0]}),()=>{var Z;(Z=this.ariaMenuNode)===null||Z===void 0||Z.focus()})}registerKeyboardShortcutForMenuItem(W,K){if(!W||!K)return;const{label:Y,key:X}=W;(0,s.A)(Y)&&((0,s.A)(X)||(0,r.A)(X))&&(0,c.A)(X).forEach(Z=>{this.keyboardShortcutsMap[Z]=K})}renderMenuItem(W,K){const Y=this.onMouseEnterMenuItem.bind(this,K),{highlightedMenuItemIndex:X,highlightedMenuItemKbNavActive:Z,isKeyboardHighlight:ie}=this.state,{onMenuItemSelectedBefore:Ae,stripTerminalSeparators:ae,isResponsive:V}=this.props;k(W)&&W.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[W.props.for]={key:W.props.for,"aria-labelledby":(0,_.$b)(W.props.for),"aria-owns":[],index:K});const ve={...W.props,onMouseEnter:Y,key:K},be=this.menuItemHtmlId(K),{shortcut:Ue}=W.props;if(Ue&&this.registerKeyboardShortcutForMenuItem(Ue,be),D(W)||E(W)){const ee=X===K;if(ve.activeMenuId=be,ee&&ie){var Re,ge,ne;(ge=(Re=this.ariaMenuNode)===null||Re===void 0?void 0:Re.querySelector(`#${ve.activeMenuId}`))===null||ge===void 0||(ne=ge.scrollIntoView)===null||ne===void 0||ne.call(ge)}ve.menuCallbackBefore=Ae,ve.menuCallback=this.onMenuItemSelected,ve.menuCallbackId||(ve.menuCallbackId=K),ve.highlighted=X===K,ve.isKeyboardHighlight=ve.highlighted&&ie,ve.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[ve.group]||(this.menuGroups[ve.group]={key:ve.group,"aria-owns":[],index:K}),this.menuGroups[ve.group]["aria-owns"].push(ve.activeMenuId))}if(E(W)&&(ve.isOpen=ve.highlighted&&!ie||ve.highlighted&&Z,ve.kbNavActive=ve.highlighted&&Z,ve.returnKBNav=this.activateKBNav,ve.preventHighlightChange=this.preventHighlightChange,ve.allowHighlightChange=this.allowHighlightChange),S(W)&&ae)if(!this.menuChildren)(0,P.Wo)().warn("Menu.renderMenuItem called without this.menuChildren");else{const ee=this.menuChildren[K-1];if(S(ee))return null;ve.noFirstChild=!0,ve.noLastChild=!0}return D(W)&&(ve.isResponsive=V),t.cloneElement(W,ve)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(W=>W["aria-owns"].length>0).map(W=>({group:t.createElement(d,{key:W.key,"aria-labelledby":W["aria-labelledby"],"aria-owns":W["aria-owns"].join(" ")}),index:W.index})).sort((W,K)=>K.index-W.index):[]}renderMenuItems(){this.menuChildren=I(this.props.children).filter(t.isValidElement);const W=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(Y=>{let{group:X,index:Z}=Y;W.splice(Z,0,X)}),W}renderMenu(){const{noMargin:W,menuClassNames:K,"data-qa":Y,isUnstyled:X,isResponsive:Z,experimentSkResponsiveMenusGroupOn:ie}=this.props,Ae=(0,n.A)("c-menu__items",{"c-menu__items--no_margin":W}),ae=this.state.highlightedMenuItemIndex!==-1?this.menuItemHtmlId(this.state.highlightedMenuItemIndex):null,V=(0,n.A)({"c-menu":!X,"c-menu--responsive":Z&&ie},K);return t.createElement("div",{className:V,"data-qa":Y,style:{width:this.props.width}},t.createElement("div",{className:"c-menu__items_scroller"},t.createElement("div",{"aria-activedescendant":ae??void 0,ref:this.setAriaMenuRef,className:Ae,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const W=this.renderMenu(),{autoClogProps:K}=this.props;return K?t.createElement(a.A,M({elementType:y.ElementType.MENU},K),W):W}constructor(W){super(W),this.activeMenuId=`menu-${(0,A.A)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.menuGroups={},this.onMenuItemSelected=(K,Y)=>{this.props.onMenuItemSelected&&this.props.onMenuItemSelected(K,Y)},this.onMenuKeyDown=K=>{var Y;const{kbNavActive:X,onMenuKeyDown:Z,onCloseSubmenu:ie,onTriggerClose:Ae,windowRef:ae}=this.props;if(!X)return;const{key:V}=K,ve=B[V],be=(Y=this.keyboardShortcutsMap)===null||Y===void 0?void 0:Y[V],Ue=this.getSelectedMenuItem(),Re=Ue&&E(Ue),ge=this.getAllMenuItemIndices();(ve||be)&&(K.stopPropagation(),K.preventDefault()),(ve==="selectnext"||ve==="selectprevious")&&this.onMenuNavigation(ve),ve==="closesubmenu"&&(ie==null||ie(K)),(ve==="select"||ve==="opensubmenu")&&Re&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),ve==="closemenu"&&(Ae==null||Ae(K)),ve==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:ge[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),ve==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:ge[ge.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const ne=this.menuItemHtmlId(this.state.highlightedMenuItemIndex);if(ve==="select"&&ne&&!Re){var ee,F;(F=(ee=ae.deref())===null||ee===void 0?void 0:ee.document.getElementById(ne))===null||F===void 0||F.click(),Ae==null||Ae(K)}if(be){var H,j;(j=(H=ae.deref())===null||H===void 0?void 0:H.document.getElementById(be))===null||j===void 0||j.click(),Ae==null||Ae(K)}Z==null||Z(K,{isCurrentItemSubmenu:Re,closeMenu:Ae,selectedMenuItem:Ue})},this.onMouseLeaveMenu=()=>{const K=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:K,contingentHighlightedMenuItemIndex:-1}))},this.setAriaMenuRef=K=>{this.ariaMenuNode=K},this.activateKBNav=()=>{var K;(K=this.ariaMenuNode)===null||K===void 0||K.focus(),this.setState(Y=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:Y.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):Y.highlightedMenuItemIndex}))},this.allowHighlightChange=()=>{this.setState(K=>({highlightedMenuItemIndex:K.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()},this.preventHighlightChange=()=>{this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()},this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1}}},"Menu");b.displayName="Menu",b.defaultProps={menuClassNames:void 0,onMenuItemSelected:o.A,onMenuItemSelectedBefore:o.A,onTriggerClose:o.A,onCloseSubmenu:o.A,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:o.A,allowHighlightChange:o.A,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:o.A,onUnmount:o.A,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0};const R=u(w=>({experimentSkResponsiveMenusGroupOn:(0,v.IN)(w)}),"mapStateToProps"),z=(0,l.A)((0,C.N)(R,null,null,{forwardRef:!0})(b))},101973425:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>i,KJ:()=>o,LN:()=>a,l0:()=>l});var t=e(2208015175),n=e(3297051565),s=e.n(n),r=e(4724591729),c=e(796111729);const o="_isSlackMenuItem",a={menuCallback:s().func,menuCallbackId:s().number,highlighted:s().bool};function l(d){return!!d[o]}u(l,"isMenuItem");function i(d){if((0,r.Cu)()){const _=d.propTypes||{};let m;Object.defineProperty(d,"propTypes",{get:()=>m,set:h=>{const v=d.displayName||d.name||"Component";(0,t.A)(a,(T,A)=>{const y=h[A];y&&y!==T&&y!==T.isRequired&&(0,c.Wo)().warn(`${v}'s ${A} prop type doesn't match menu item`)}),m={...a,...h}}}),d.propTypes=_}return d[o]=!0,d}u(i,"wrapMenuItem")},4376397139:(x,g,e)=>{"use strict";e.d(g,{j:()=>o,A:()=>l});var t=e(3134334389),n=e(6105929840),s=e(735940183);const r=new s.Ay("generic_dialog");function c(i){let{onClick:d,..._}=i;return t.createElement(n.A,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:d,"aria-label":r.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"}),"data-qa":_["data-qa"]})}u(c,"ModalBackButton"),c.displayName="ModalBackButton";const o=t.memo(c);var a=e(1427522952);const l=a.A},1427522952:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(7937864072),r=e(4979382452);function c(){return c=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var d=arguments[i];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(l[_]=d[_])}return l},c.apply(this,arguments)}u(c,"_extends");function o(l){let{defaultPane:i,panes:d,forceFullRerenderOnPageChange:_=!0,...m}=l;const h=(0,s.A)(),[v,T]=(0,t.useState)({pane:i}),A=(0,t.useCallback)((f,O)=>T({pane:f,props:O}),[]),{render:y,modalProps:p}=d[v.pane];return y||h.error("MULTI_PANE_MODAL",`Unknown pane "${v.pane}"`),t.createElement(r.A,c({},m,p,{className:(0,n.A)(m.className,p==null?void 0:p.className,"c-multi_pane_modal")}),_?t.createElement(t.Fragment,{key:v.pane},y({switchPane:A,...v.props})):y({switchPane:A,...v.props}))}u(o,"MultiPaneModal"),o.displayName="MultiPaneModal";const a=o},8506855902:(x,g,e)=>{"use strict";e.d(g,{BM:()=>_,IN:()=>a});var t=e(3134334389),n=e(5950652755),s=e(5460331959),r=e(1641606663),c=e(4761125736);function o(){return o=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&(m[T]=v[T])}return m},o.apply(this,arguments)}u(o,"_extends");const a=u(m=>(0,c._Z)(m,"sk_responsive_menus")==="on","isSkResponsiveMenusEnabled");function l(m){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const{windowRef:v}=(0,t.useContext)(r.Mn),T=u(y=>{!Array.isArray(y)||!y.length||requestAnimationFrame(()=>m(y))},"observer"),A=v.deref();return new A.ResizeObserver((0,n.A)(T,h))}u(l,"useResizeObserver");const i=u(()=>{var m,h,v;const{windowRef:T}=(0,t.useContext)(r.Mn),A=(0,t.useRef)((m=T.deref())===null||m===void 0?void 0:m.document.body),y=((h=A.current)===null||h===void 0?void 0:h.clientWidth)||0,p=((v=A.current)===null||v===void 0?void 0:v.clientHeight)||0,[f,O]=(0,t.useState)(y),[I,P]=(0,t.useState)(p),C=l(()=>{var M,D;O(((M=A.current)===null||M===void 0?void 0:M.clientWidth)||0),P(((D=A.current)===null||D===void 0?void 0:D.clientHeight)||0)},100);return(0,t.useEffect)(()=>{const M=A.current;return M&&C.observe(M),()=>{T&&M&&C.unobserve(M)}},[C,T]),{width:f,height:I}},"useWindowSize");function d(m){return h=>{const v=i();return t.createElement(m,o({},h,{windowSize:v}))}}u(d,"withWindowSize"),d.displayName="withWindowSize";function _(m){return h=>h.experimentSkResponsiveMenusGroupOn?t.createElement(s.A,null,v=>{let{measureRef:T,width:A,height:y}=v;return t.createElement(m,o({},h,{measureRef:T,containerSize:{width:A,height:y}}))}):t.createElement(m,o({},h))}u(_,"withContainerSize"),_.displayName="withContainerSize"},5846524816:(x,g,e)=>{"use strict";e.d(g,{A:()=>b});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),c=e(5617110048),o=e(3391133100),a=e(2660476100),l=e(3155323475),i=e(45851552),d=e(5404505308),_=e(6696292586),m=e(4244379358),h=e(7074822529),v=e(7193040700),T=e(8683010724),A=e(4426213732),y=e(735940183);function p(){return p=Object.assign||function(R){for(var z=1;z<arguments.length;z++){var w=arguments[z];for(var W in w)Object.prototype.hasOwnProperty.call(w,W)&&(R[W]=w[W])}return R},p.apply(this,arguments)}u(p,"_extends");const f=new y.Ay("select");let O=u(class extends t.Component{componentDidMount(){const{focusOnMount:z=!1}=this.props;z&&this.onClick()}onKeyDown(z){const{shiftKey:w,ctrlKey:W,metaKey:K,altKey:Y,key:X}=z;if(!(w||W||K)){if(X==="Escape"&&!Y){this.onEsc(z);return}if(X===" "&&!Y){this.onSpacebar(z);return}if(X==="Enter"&&!Y){this.onEnter(z);return}if(X==="ArrowUp"&&Y){this.onAltArrowUp(z);return}if(X==="ArrowUp"&&!Y){this.onArrowUp(z);return}if(X==="ArrowDown"){this.onArrowDown(z);return}if(X==="Home"&&!Y){this.onHome(z);return}if(X==="End"&&!Y){this.onEnd(z);return}X==="Tab"&&!Y&&this.onTab()}}onEsc(z){const{selectState:w,setSelectState:W}=this.props,{isExpanded:K}=w;K&&(z.stopPropagation(),W(()=>({activeRowIndex:void 0,activeOption:void 0,initialActiveOption:void 0,isExpanded:!1})))}onArrowUp(z){const{selectState:w,setSelectState:W}=this.props,{isExpanded:K,options:Y}=w;if(K)return;z.preventDefault(),z.stopPropagation(),this.updateOptionsListPosition();const X=(0,i.A)(Y,ie=>(0,h.oj)(ie),0),Z=Y[X];W(()=>({initialActiveOption:Z,isExpanded:!0}))}onAltArrowUp(z){const{selectState:w}=this.props,{isExpanded:W}=w;if(!W)return;const K=this.props.listRef.current;K&&(z.stopPropagation(),z.preventDefault(),K.onEnter(z))}onArrowDown(z){const{selectState:w,setSelectState:W}=this.props,{isExpanded:K}=w;K||(z.preventDefault(),z.stopPropagation(),this.updateOptionsListPosition(),W(()=>({isExpanded:!0})))}onHome(z){const{selectState:w,setSelectState:W}=this.props,{isExpanded:K,options:Y}=w;if(K)return;z.preventDefault(),z.stopPropagation(),this.updateOptionsListPosition();const X=(0,i.A)(Y,ie=>(0,h.oj)(ie),0),Z=Y[X];W(()=>({initialActiveOption:Z,isExpanded:!0}))}onEnd(z){const{selectState:w,setSelectState:W}=this.props,{isExpanded:K,options:Y}=w;if(K)return;z.preventDefault(),z.stopPropagation(),this.updateOptionsListPosition();const X=(0,d.A)(Y,ie=>(0,h.oj)(ie)),Z=Y[X];W(()=>({initialActiveOption:Z,isExpanded:!0}))}onEnter(z){const{selectState:w}=this.props,{isExpanded:W}=w;W||(z.stopPropagation(),this.onClick())}onSpacebar(z){const{selectState:w}=this.props,{isExpanded:W}=w;W||(z.preventDefault(),z.stopPropagation(),this.onClick())}onTab(){const{setSelectState:z}=this.props;z(()=>({isExpanded:!1}))}onClick(){const{onClick:z=s.A,setSelectState:w,selectState:W}=this.props;this.updateOptionsListPosition(),z&&z(),w(()=>({isExpanded:!W.isExpanded}))}updateOptionsListPosition(){const{selectState:z}=this.props,{isExpanded:w}=z;if(!w&&this.measurePopoverEvent){var W;(W=this.props.windowRef.deref())===null||W===void 0||W.dispatchEvent(this.measurePopoverEvent)}}renderContent(z){const{renderSelectedOption:w,selectState:W,textSelect:K=!1,textSelectLabel:Y=void 0,selectDataQa:X=void 0,placeholderText:Z=void 0}=this.props,{selectedOption:ie}=W,Ae=ie?w(ie):t.createElement("span",{className:"c-select_button__placeholder"},Z||f.t("Please select an option")),ae=K&&Y?t.createElement("span",{className:"c-select_button--text-select-label"},Y):void 0;return t.createElement("div",{id:z,"data-qa":X?`${X}-button-content`:null,className:"c-select_button__content",role:"none"},ae,Ae)}render(){const{ariaLabelledBy:z=void 0,ariaDescribedBy:w=void 0,ariaLabel:W=void 0,ariaControls:K=void 0,selectState:Y,size:X,width:Z,textSelect:ie=!1,selectDataQa:Ae=void 0,classPrefix:ae=void 0,onBlur:V=s.A,onMouseEnter:ve=void 0,onMouseLeave:be=void 0,refToForward:Ue}=this.props,{isDisabled:Re,isExpanded:ge,isInvalid:ne,selectId:ee,activeRowIndex:F}=Y,H=(0,n.A)("c-select_button",`c-select_button--${X}`,{"c-select_button--disabled":Re,"c-select_button--expanded":ge,"c-select_button--text-select":ie,"c-select_button--invalid":ne,[`${ae}__select_button`]:ae}),j=ie?{}:{width:Z},N=(0,o.Es)(ee,"button"),J=`${N}-option`,le=(0,_.A)(F)&&ge?(0,o.Es)(ee,`option_${F}`):void 0;return t.createElement("div",{tabIndex:0,className:H,style:j,"data-qa":Ae?`${Ae}-button`:null,id:N,ref:Ue,role:"combobox","aria-disabled":Re?!0:void 0,"aria-labelledby":z,"aria-describedby":w,"aria-label":W,"aria-invalid":ne,"aria-activedescendant":le,"aria-expanded":ge,"aria-haspopup":"listbox","aria-controls":K,onBlur:V,onMouseEnter:ve,onMouseLeave:be,onClick:this.onClick,onKeyDown:this.onKeyDown},this.renderContent(J),t.createElement("div",{className:`c-select_button__icon c-select_button__icon--${X}`},t.createElement(T.A,{name:"caret-down",size:X===v.hu.SMALL?"inherit":"20"})))}constructor(z){super(z),(0,A.v)(this,["updateOptionsListPosition","onKeyDown","onClick"]);const{measurePopoverEventName:w=null}=this.props;w&&(this.measurePopoverEvent=new Event(w))}},"SelectButton");O.displayName="SelectButton";const I=(0,m.A)(O),P=t.forwardRef((R,z)=>t.createElement(I,p({},R,{refToForward:z})));var C=e(4640201401),M=e(3650946343),D=e(1224315998);function E(){return E=Object.assign||function(R){for(var z=1;z<arguments.length;z++){var w=arguments[z];for(var W in w)Object.prototype.hasOwnProperty.call(w,W)&&(R[W]=w[W])}return R},E.apply(this,arguments)}u(E,"basic_select_extends");const S=10,k={onOptionSelected:{action:D.UiAction.SELECT}},U=u(R=>R.map(z=>{let{id:w}=z;return w}),"getIdsFromHintOrErrors");let L=u(class extends t.Component{onHome(z){const w=this.listRef.current;if(!w||(w.isMouseMoveEnabled=!1,!w.shouldInterceptKeyEvent(z)))return;const{isExpanded:W}=this.props.selectState;W&&z.preventDefault(),w.movePrevious(0)}onEnd(z){const w=this.listRef.current;if(!w||(w.isMouseMoveEnabled=!1,!w.shouldInterceptKeyEvent(z)))return;const{isExpanded:W}=this.props.selectState;W&&z.preventDefault();const K=w.getOptionsList();if(!K)return;const Y=K.length-1;w.moveNext(Y)}onPageUp(z){const w=this.listRef.current;if(!w||(w.isMouseMoveEnabled=!1,!w.shouldInterceptKeyEvent(z)))return;const{isExpanded:W,activeRowIndex:K}=this.props.selectState;W&&z.preventDefault();const Y=K?Math.floor(K/S):0,X=Y>1?(Y-1)*S:0;w.movePrevious(X)}onPageDown(z){const w=this.listRef.current;if(!w||(w.isMouseMoveEnabled=!1,!w.shouldInterceptKeyEvent(z)))return;const{activeRowIndex:W,isExpanded:K}=this.props.selectState;K&&z.preventDefault();const Y=w.getOptionsList();if(!Y)return;const X=Y.length,Z=Math.ceil(X/S),ie=W?Math.floor(W/S):0,Ae=ie===Z-1?X-1:(ie+1)*S;w.moveNext(Ae)}renderOptionsList(){const{ariaLabel:z,onOptionSelected:w,onOptionsListClose:W,renderOption:K,resultsInPopover:Y,overlayClassName:X,listClassName:Z,selectState:ie,setSelectState:Ae,width:ae,classPrefix:V,minOptionsListWidth:ve,optionsRowHeight:be,maxListHeight:Ue,onScrollablePage:Re,dynamicHeight:ge,forceMaxHeight:ne,includePadding:ee,includeDividers:F,preventScroll:H,autoClogProps:j}=this.props,{isDisabled:N}=ie;if(N)return null;const J=Y?t.createElement(C.A,{selectOptionsListRef:this.listRef,className:Z,selectState:ie,setSelectState:Ae,renderOption:K,ariaLabel:z,onOptionSelected:w,onOptionsListClose:W,width:ae,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:V,selectDataQa:this.fallbackDataQa,minOptionsListWidth:ve,optionsRowHeight:be,popoverProps:X?{overlayClassName:X}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:Ue,onScrollablePage:Re,dynamicHeight:ge,forceMaxHeight:ne,includePadding:ee,includeDividers:F,preventScroll:H,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0}):t.createElement(h.Ay,{ref:this.listRef,className:Z,selectState:ie,setSelectState:Ae,renderOption:K,ariaLabel:z,onOptionSelected:w,onOptionsListClose:W,width:ae,inputRef:this.inputContainerRef,classPrefix:V,selectDataQa:this.fallbackDataQa,optionsRowHeight:be,maxListHeight:Ue,shouldAlwaysHaveActiveRow:!0,dynamicHeight:ge,forceMaxHeight:ne,includePadding:ee,includeDividers:F,preventScroll:H,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0});return j?t.createElement(c.A,{autoClogProps:j,actionProps:k,elementType:D.ElementType.DROPDOWN},J):J}render(){const{resultsInPopover:z,selectState:w,setSelectState:W,className:K,textSelect:Y,textSelectLabel:X,focusOnMount:Z,onBlur:ie,ariaLabel:Ae,ariaLabelledBy:ae,ariaDescribedBy:V,buttonRef:ve,errors:be,hints:Ue,size:Re,renderSelectedOption:ge}=this.props,{isExpanded:ne,isInvalid:ee,selectId:F}=w,H=(0,M.A)(be),j=(0,M.A)(Ue);let N;be&&(N=H?U(be):void 0);let J;Ue&&(J=j?U(Ue):void 0);const le=(0,o.Yk)([V,N,J]);return t.createElement("div",{className:(0,n.A)(K,"c-basic-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(P,E({},this.props,{size:Re,renderSelectedOption:ge,selectDataQa:this.fallbackDataQa,selectState:w,setSelectState:W,measurePopoverEventName:z?this.measurePopoverEventName:void 0,textSelect:Y,textSelectLabel:X,focusOnMount:Z,onBlur:ie,ariaLabel:Ae,ariaLabelledBy:ae,ariaDescribedBy:le,"aria-invalid":ee},ne?{ariaControls:(0,o.Es)(F,"listbox")}:{},{ref:ve,listRef:this.listRef})),H&&be&&t.createElement(l.A,{errors:be}),j&&Ue&&Ue.map(Ee=>{let{id:ye,message:Ie}=Ee;return t.createElement(a.A,{key:ye,id:ye},Ie)}),this.renderOptionsList())}constructor(z){super(z),(0,A.v)(this,["renderOptionsList","onHome","onEnd","onPageUp","onPageDown"]),this.inputContainerRef=t.createRef(),this.listRef=t.createRef();const{selectId:w}=z.selectState;this.measurePopoverEventName=`measureSelectPopover--${w}`,this.fallbackDataQa=z.selectDataQa||w,this.keyCommandShortcuts=[{keys:["home"],handler:this.onHome},{keys:["end"],handler:this.onEnd},{keys:["pageup"],handler:this.onPageUp},{keys:["pagedown"],handler:this.onPageDown}]}},"ControlledBasicSelect");L.displayName="ControlledBasicSelect",L.defaultProps={renderOption:R=>R.label,renderSelectedOption:R=>R.label,size:v.hu.MEDIUM,width:225,optionsRowHeight:v.bJ,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:s.A,onOptionSelected:s.A,onOptionsListClose:s.A,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onBlur:s.A,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0};let B=u(class extends t.Component{static getDerivedStateFromProps(z,w){const{selectedOption:W}=z,{selectedOption:K}=w;return!K||W!==void 0&&W!==K?{selectedOption:W}:null}setSelectState(z,w){return this.setState(z,w)}render(){const{isDisabled:z,isInvalid:w,isRequired:W,errors:K}=this.props,Y=w||(0,M.A)(K),X=(0,r.A)(()=>({...this.state,isDisabled:z,isInvalid:Y,isRequired:W}));return t.createElement(L,E({},this.props,{selectState:X(),setSelectState:this.setSelectState}))}constructor(z){super(z),this.state={activeRowIndex:void 0,isDisabled:z.isDisabled,isExpanded:z.isExpanded,isInvalid:z.isInvalid,isRequired:z.isRequired,options:z.options,selectId:z.selectId,selectedOption:z.selectedOption,selectType:v.US.BASIC},(0,A.v)(this,["setSelectState"])}},"BasicSelect");B.displayName="BasicSelect",B.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:s.A,onOptionsListClose:s.A,selectedOption:void 0,selectId:`basic-select-${(0,o.r9)()}`,maxListHeight:void 0,autoClogProps:void 0};const b=B},5536692738:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>c,HH:()=>s.A,P2:()=>r.A,Z1:()=>n.A});var t=e(5846524816),n=e(2727264612),s=e(8274994582),r=e(320706952);const c=t.A},7090824688:(x,g,e)=>{"use strict";e.d(g,{$c:()=>S,Ay:()=>D,Gn:()=>k,h7:()=>E,xn:()=>U,yW:()=>C});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),c=e(5617110048),o=e(3391133100),a=e(2660476100),l=e(3155323475),i=e(868047630),d=e(7074822529),_=e(4640201401),m=e(9573786552),h=e(2742076544),v=e(3239909785),T=e(7193040700),A=e(3650946343),y=e(7772530643),p=e(4426213732),f=e(1224315998);function O(){return O=Object.assign||function(L){for(var B=1;B<arguments.length;B++){var b=arguments[B];for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(L[R]=b[R])}return L},O.apply(this,arguments)}u(O,"_extends");const I={onOptionSelected:{action:f.UiAction.SELECT}},P=u(L=>L.map(B=>{let{id:b}=B;return b}),"getIdsFromHintOrErrors");let C=u(class extends t.Component{renderOptionsList(B){var b;const{selectState:R,setSelectState:z,renderOption:w,emptyStateMessage:W,enableLoadingState:K,width:Y,maxOptionsListHeight:X,minOptionsListWidth:Z,inputRef:ie,resultsInPopover:Ae,isLoading:ae,classPrefix:V,optionsRowHeight:ve,onOptionsListOpen:be,onOptionsListClose:Ue,overlayClassName:Re,onScrollablePage:ge,onOptionSelected:ne,shouldOptionBeSelected:ee,shouldTokenizeOnComma:F,shouldTokenizeOnSpace:H,autoClogProps:j,dynamicHeight:N,shouldAllowUnselectInMultiSelectMode:J,stayExpandedAfterSelection:le,optionsListFooterBannerContent:ce,offsetY:Ee,offsetX:ye}=this.props,{isDisabled:Ie,loadInBackground:he}=R;if(Ie)return null;const Ce={key:`${R.selectId}-popover`};Re&&(Ce.overlayClassName=Re),Ee&&(Ce.offsetY=Ee);const oe=(b=this.additionalInfoContainerRef)===null||b===void 0?void 0:b.current;B&&oe&&(Ce.offsetY=-oe.offsetHeight),ye&&(Ce.offsetX=ye);const de=Ae?t.createElement(_.A,{selectState:R,setSelectState:z,renderOption:w,emptyStateMessage:W,enableLoadingState:K,width:Y,maxListHeight:X,multiSelectMode:!0,inputRef:ie,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:ae&&!he,classPrefix:V,selectDataQa:this.fallbackDataQa,optionsRowHeight:ve,onOpen:be,onOptionsListClose:Ue,popoverProps:Ce,onScrollablePage:ge,onOptionSelected:ne,shouldOptionBeSelected:ee,shouldTokenizeOnComma:F,shouldTokenizeOnSpace:H,autoClogProps:j,dynamicHeight:N,shouldAllowUnselectInMultiSelectMode:J,stayExpandedAfterSelection:le,footerBannerContent:ce,minOptionsListWidth:Z}):t.createElement(d.Ay,{selectState:R,setSelectState:z,renderOption:w,emptyStateMessage:W,enableLoadingState:K,width:Y,maxListHeight:X,multiSelectMode:!0,classPrefix:V,selectDataQa:this.fallbackDataQa,optionsRowHeight:ve,onOptionsListClose:Ue,onOptionSelected:ne,shouldOptionBeSelected:ee,shouldTokenizeOnComma:F,shouldTokenizeOnSpace:H,dynamicHeight:N,footerBannerContent:ce});return j?t.createElement(c.A,{elementType:f.ElementType.DROPDOWN,actionProps:I,autoClogProps:j},de):de}render(){const{selectState:B,setSelectState:b,inputRef:R,maxHeight:z,placeholderText:w,size:W,width:K,isLoading:Y,focusOnMount:X,resultsInPopover:Z,onSelectedItemsChange:ie,onKeyDown:Ae,onKeyUp:ae,className:V,classPrefix:ve,onFilterQueryChange:be,onFilterQueryPaste:Ue,processOptions:Re,onBlur:ge,onOptionsListClosedBlur:ne,onOptionsListClose:ee,expandOnFocus:F,ariaLabel:H,ariaLabelledBy:j,ariaDescribedBy:N,onTokenSelect:J,onInputFocused:le,forceRealName:ce,autoClogProps:Ee,errors:ye,hints:Ie,disableIdParsing:he,customizeTokenProps:Ce,iconType:oe,isTokenEditable:de,ignoreSelectAllTokensAfterMount:De,disableCloseOnTab:Te,throttleForceRenderSelectContainer:pe,forceRenderSelectContainerThrottleRate:Me}=this.props;let ke;ye&&(ke=(0,A.A)(ye));let Ke;Ie&&(Ke=(0,A.A)(Ie));let Ze;ye&&(Ze=ke?P(ye):void 0);let Q;Ie&&(Q=Ke?P(Ie):void 0);const se=(0,o.Yk)([N,Ze,Q]),He=!!(ke&&ye||Ke&&Ie);return t.createElement("div",{className:(0,n.A)(V,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(i.A,{selectState:B,setSelectState:b,size:W,width:K,maxHeight:z,placeholderText:w,isLoading:Y,inputRef:R,focusOnMount:X,measurePopoverEventName:Z&&this.measurePopoverEventName,onSelectedItemsChange:ie,selectDataQa:this.fallbackDataQa,onKeyDown:Ae,onKeyUp:ae,classPrefix:ve,onFilterQueryChange:be,onFilterQueryPaste:Ue,processOptions:Re,onBlur:ge,onOptionsListClosedBlur:ne,onOptionsListClose:ee,expandOnFocus:F,ariaLabel:H,ariaLabelledBy:j,ariaDescribedBy:se,onTokenSelect:J,onInputFocused:le,forceRealName:ce,autoClogProps:Ee,customizeTokenProps:Ce,iconType:oe,disableIdParsing:he,isTokenEditable:de,ignoreSelectAllTokensAfterMount:De,disableCloseOnTab:Te,throttleForceRenderSelectContainer:pe,forceRenderSelectContainerThrottleRate:Me}),t.createElement("div",{className:"flow_root",ref:this.additionalInfoContainerRef},ke&&ye&&t.createElement(l.A,{errors:ye}),Ke&&Ie&&Ie.map(Ge=>{let{id:Be,message:we,className:xe}=Ge;return t.createElement(a.A,{key:Be,id:Be,className:xe},we)})),this.renderOptionsList(He))}constructor(B){super(B),(0,p.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef(),this.additionalInfoContainerRef=t.createRef();const{selectId:b}=B.selectState;this.measurePopoverEventName=`measureSelectPopover--${b}`,this.fallbackDataQa=B.selectDataQa||b}},"ControlledMultiSelect");C.displayName="ControlledMultiSelect",C.defaultProps={renderOption:L=>L.label,size:T.hu.MEDIUM,width:300,optionsRowHeight:T.bJ,maxHeight:void 0,maxOptionsListHeight:void 0,minOptionsListWidth:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:s.A,onKeyDown:s.A,onKeyUp:s.A,className:void 0,classPrefix:void 0,onFilterQueryChange:s.A,onFilterQueryPaste:s.A,processOptions:s.A,onBlur:s.A,onOptionsListClosedBlur:s.A,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:s.A,onInputFocused:s.A,forceRealName:void 0,onOptionsListOpen:s.A,onOptionsListClose:s.A,onScrollablePage:!1,onOptionSelected:s.A,shouldOptionBeSelected:s.A,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0};let M=u(class extends t.Component{setSelectState(B,b){this.setState(R=>{let z=B();const{filter:w,options:W}=this.props;return z.filterQuery!==void 0&&z.filterQuery!==R.filterQuery&&w&&(z=w(W,z)),z},b)}render(){const{isDisabled:B,isInvalid:b,isRequired:R,customControlledMultiSelectComponent:z,errors:w}=this.props,W=b||(0,A.A)(w),K=z??C,Y=(0,r.A)(()=>({...this.state,isDisabled:B,isInvalid:W,isRequired:R}));return t.createElement(K,O({},this.props,{selectState:Y(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(B){super(B),this.state={filterQuery:"",options:B.options,isDisabled:B.isDisabled,isExpanded:B.isExpanded,isInvalid:B.isInvalid,isRequired:B.isRequired,selectId:B.selectId,selectedOptions:B.selectedOptions||[],shouldRefocusInputAfterSelection:!!B.showConfirmDialog,selectedTokenIndexes:B.selectedTokenIndexes||[]},this.inputRef=t.createRef(),(0,p.v)(this,["setSelectState"])}},"MultiSelect");M.displayName="MultiSelect",M.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:y.k,selectId:`multi-select-${(0,o.r9)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]};const D=M,E=(0,v.A)(C),S=(0,v.A)((0,m.A)(C)),k=(0,m.A)(C),U=(0,h.A)(C)},630868093:(x,g,e)=>{"use strict";e.d(g,{AM:()=>k,Ay:()=>E,Fw:()=>M,JJ:()=>C,mH:()=>U,uR:()=>S});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),c=e(5617110048),o=e(3391133100),a=e(2660476100),l=e(3155323475),i=e(581574686),d=e(7074822529),_=e(4640201401),m=e(9573786552),h=e(2742076544),v=e(3239909785),T=e(7193040700),A=e(3650946343),y=e(7772530643),p=e(4426213732),f=e(1224315998);function O(){return O=Object.assign||function(L){for(var B=1;B<arguments.length;B++){var b=arguments[B];for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(L[R]=b[R])}return L},O.apply(this,arguments)}u(O,"_extends");const I={onOptionSelected:{action:f.UiAction.SELECT}},P=u(L=>L.map(B=>{let{id:b}=B;return b}),"getIdsFromHintOrErrors");let C=u(class extends t.Component{maybeRenderOptionsList(){const{selectState:B,setSelectState:b,renderOption:R,width:z,inputRef:w,ariaLabel:W,resultsInPopover:K,overlayClassName:Y,offsetY:X,offsetX:Z,onOptionSelected:ie,className:Ae,classPrefix:ae,optionsRowHeight:V,onOpen:ve,emptyStateMessage:be,minOptionsListWidth:Ue,maxOptionsListHeight:Re,isLoading:ge,onOptionsListClose:ne,onScrollablePage:ee,enableLoadingState:F,autoClogProps:H,shouldAllowUnselectInSingleSelectMode:j,shouldOptionBeSelected:N,optionsListFooterBannerContent:J,includeWrapper:le=!0}=this.props;if(K&&(!this.props.inputRef||!this.props.inputRef.current))return null;const ce={key:`${B.selectId}-popover`};Y&&(ce.overlayClassName=Y),X&&(ce.offsetY=X),Z&&(ce.offsetX=Z);const Ee=K?t.createElement(_.A,{selectState:B,setSelectState:b,renderOption:R,width:z,inputRef:w,ariaLabel:W,onOptionSelected:ie,popoverProps:ce,measurePopoverEventName:this.measurePopoverEventName,className:Ae,classPrefix:ae,selectDataQa:this.fallbackDataQa,optionsRowHeight:V,onOpen:ve,emptyStateMessage:be,minOptionsListWidth:Ue,maxListHeight:Re,isLoading:ge,onOptionsListClose:ne,onScrollablePage:ee,enableLoadingState:F,autoClogProps:H,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:j,shouldOptionBeSelected:N,footerBannerContent:J,includeWrapper:le}):t.createElement(d.Ay,{selectState:B,setSelectState:b,renderOption:R,width:z,inputRef:w,ariaLabel:W,onOptionSelected:ie,classPrefix:ae,selectDataQa:this.fallbackDataQa,emptyStateMessage:be,maxListHeight:Re,optionsRowHeight:V,onOptionsListClose:ne,enableLoadingState:F,shouldAllowUnselectInSingleSelectMode:j,shouldOptionBeSelected:N,footerBannerContent:J,includeWrapper:le});return t.createElement(c.A,{elementType:f.ElementType.DROPDOWN,actionProps:I,autoClogProps:H},Ee)}render(){const{renderSelectedOption:B,className:b,classPrefix:R,placeholderText:z,size:w,width:W,selectState:K,setSelectState:Y,inputRef:X,focusOnMount:Z,showDropdownIcon:ie,isLoading:Ae,resultsInPopover:ae,isDisabled:V,isRequired:ve,onFocus:be,onEsc:Ue,ariaLabelledBy:Re,ariaDescribedBy:ge,inputIcon:ne,maxCharacterLimit:ee,onOptionsListClose:F,ariaLabel:H,expandOnClick:j,searchOnClick:N,autoClogProps:J,errors:le,hints:ce,expandOnFocus:Ee,hideSelectedOptionOnDropdownOpen:ye,retainPreviousSelectionOnDelete:Ie}=this.props,{isInvalid:he}=K,Ce=(0,A.A)(le),oe=(0,A.A)(ce);let de;le&&(de=Ce?P(le):void 0);let De;ce&&(De=oe?P(ce):void 0);const Te=(0,o.Yk)([ge,de,De]),pe=he||Ce;return t.createElement("div",{className:(0,n.A)(b,"c-search-select"),"data-qa":this.fallbackDataQa},t.createElement(i.Ay,{selectState:{...K,isInvalid:pe,isRequired:ve,isDisabled:V},setSelectState:Y,renderSelectedOption:B,placeholderText:z,size:w,width:W,selectDataQa:this.fallbackDataQa,inputRef:X,focusOnMount:Z,showDropdownIcon:ie,isLoading:Ae,resultsInPopover:ae,measurePopoverEventName:ae?this.measurePopoverEventName:void 0,classPrefix:R,onBlur:this.onBlur,onFocus:be,onEsc:Ue,"aria-label":H,ariaLabelledBy:Re,ariaDescribedBy:Te,icon:ne,maxCharacterLimit:ee,onOptionsListClose:F,expandOnClick:j,autoClogProps:J,searchOnClick:N,expandOnFocus:Ee,hideSelectedOptionOnDropdownOpen:ye,retainPreviousSelectionOnDelete:Ie}),Ce&&le&&t.createElement(l.A,{errors:le}),oe&&ce&&ce.map(Me=>{let{id:ke,message:Ke,className:Ze}=Me;return Ke&&t.createElement(a.A,{key:ke,id:ke,className:Ze},Ke)}),this.maybeRenderOptionsList())}constructor(B){super(B),this.onBlur=R=>{if(this.dropdownContainer){const z=this.dropdownContainer.current;if(z&&z.contains(R.relatedTarget)&&!this.props.isInvalidStateControlled){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(R)};const{selectId:b}=B.selectState;this.measurePopoverEventName=`measureSelectPopover--${b}`,this.fallbackDataQa=B.selectDataQa||b,this.dropdownContainer=t.createRef()}},"ControlledSearchSelect");C.displayName="ControlledSearchSelect",C.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:L=>L.label,renderSelectedOption:L=>L.label,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,size:T.hu.MEDIUM,width:360,optionsRowHeight:T.bJ,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:s.A,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:s.A,onFocus:s.A,onEsc:s.A,onOpen:s.A,onOptionsListClose:s.A,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:s.A,isInvalidStateControlled:!1,shouldRefocusInputAfterSelection:void 0};const M=(0,m.A)(C);let D=u(class extends t.Component{setSelectState(B,b){this.setState(R=>{let z=B();const{filter:w,options:W}=this.props;return z.filterQuery!==void 0&&z.filterQuery!==R.filterQuery&&w&&(z=w(W,z)),z},b)}render(){const{isRequired:B,isInvalid:b,isDisabled:R,showConfirmDialog:z}=this.props,w=z?M:C,W=(0,r.A)(()=>({...this.state,isInvalid:b,isRequired:B,isDisabled:R}));return t.createElement(w,O({},this.props,{selectState:W(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(B){super(B),this.state={filterQuery:"",displayQuery:"",options:B.options,selectId:B.selectId,isExpanded:B.isExpanded,isInvalid:B.isInvalid,isDisabled:B.isDisabled,selectedOption:B.selectedOption},this.inputRef=this.props.inputRef?this.props.inputRef:t.createRef(),(0,p.v)(this,["setSelectState"])}},"SearchSelect");D.displayName="SearchSelect",D.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:y.k,onOptionSelected:s.A,selectId:`search-select-${(0,o.r9)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0};const E=D,S=(0,v.A)(C),k=(0,v.A)((0,m.A)(C)),U=(0,h.A)(C)},2727264612:(x,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),n=e(6044196829),s=e(8683010724),r=e(735940183);const c=new r.Ay("form_inputs"),o=u(l=>{let{onCtaClick:i,errorCopy:d,ctaCopy:_}=l;return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.createElement(s.A,{name:"warning",inline:!0})),t.createElement("span",null,d||c.t("Selected entries contain errors."),t.createElement(n.A,{onClick:i,className:"margin_left_25"},_||c.t("Delete all errors"))))},"MultiSelectErrorText");o.displayName="MultiSelectErrorText";const a=o},868047630:(x,g,e)=>{"use strict";e.d(g,{A:()=>L});var t=e(3134334389),n=e(5255740490),s=e(8571983633),r=e(6696292586),c=e(3398586081),o=e(5950652755),a=e(7715417323),l=e(6422693406),i=e(5617110048),d=e(4244379358),_=e(1250195607),m=e(6308822),h=e(5797272849),v=e(3391133100),T=e(1610251172),A=e(7193040700),y=e(561151542),p=e(4426213732),f=e(1224315998),O=e(571104883),I=e(4757466470);function P(){return P=Object.assign||function(B){for(var b=1;b<arguments.length;b++){var R=arguments[b];for(var z in R)Object.prototype.hasOwnProperty.call(R,z)&&(B[z]=R[z])}return B},P.apply(this,arguments)}u(P,"_extends");const C={onChange:{action:f.UiAction.ENTER_TEXT}},M={onClick:{action:f.UiAction.CLICK}},D=new Array(95).fill("").map((B,b)=>String.fromCharCode(b+32)),E=u(B=>t.createElement("span",P({className:"c-multi_select_input__space"},B),"\xA0"),"makeSpace"),S=1e3,k={leading:!0,trailing:!1};let U=u(class extends t.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(b){var R;const z=b.selectState,{selectState:w,onTokenSelect:W,onSelectedItemsChange:K,setSelectState:Y,hasKeyboardFocus:X,isTokenEditable:Z}=this.props,{selectedOptions:ie,isExpanded:Ae,isDisabled:ae}=w,V=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&b.focusOnMount!==this.props.focusOnMount&&this.focus(),((R=w.filterQuery)===null||R===void 0?void 0:R.length)&&w.filterQuery!==z.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(z),this.haveSelectedTokens()&&!(0,I.Ay)(z.selectedTokenIndexes,V)&&ie&&(V==null||V.forEach(ge=>{W&&W(ie[ge])}),Ae&&Y(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),z.isDisabled&&!ae&&this.moveCursorAndScrollToFilterQuery(),!(0,I.Ay)(z.selectedOptions,ie,3)){if(K&&typeof ie<"u"){if(Z){var Ue;const{isCurrentlyEditingToken:ge}=this.state;if((((Ue=z.selectedOptions)===null||Ue===void 0?void 0:Ue.length)||0)<ie.length){if(ge){const ne=ie.pop();ne&&ie.splice(this.state.editTokenIndex,0,ne),this.setTokenState(!1,0)}}else ge&&ie.length===0&&this.setTokenState(!1,0)}K(ie)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),X&&!b.hasKeyboardFocus&&(0,s.A)(w.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(b){const{selectState:R,setSelectState:z,hideFilterQueryOnBlur:w,onBlur:W,onOptionsListClosedBlur:K}=this.props,{selectedOptions:Y,filterQuery:X,isExpanded:Z}=R,ie=w&&X&&!Z;this.setState(()=>({focused:!1})),this.deselectAllTokens(),ie&&z(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,W&&W(b,Y),!Z&&K&&K()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(b,R){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:b,editTokenIndex:R}))}onFilterQueryChanged(){const{setSelectState:b,selectState:R,onFilterQueryChange:z}=this.props,w=this.filterQueryRef.current,W=w==null?void 0:w.textContent,K=R.filterQuery!==W;if(this.backspaceWasPressed&&!K){this.backspaceWasPressed=!1;return}const Y=W?W.length>0:!1;this.saveCaretPosInFilterQuery(),b(()=>({filterQuery:W,isExpanded:Y})),z&&z(W)}onFocus(b){this.setState(()=>({focused:!0}));const{expandOnFocus:R,onInputFocused:z,setSelectState:w,onFocus:W}=this.props;R&&w(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),z&&z(b),this.mouseDownOnToken=!1,W&&W(b)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){var b;const R=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection(),z=R==null?void 0:R.getRangeAt(0),w=this.getTokensAsArray(),{selectState:W}=this.props,{filterQuery:K}=W,Y=w.reduce((ve,be,Ue)=>R!=null&&R.containsNode(be)?[...ve,Ue]:ve,[]),X=Y.length>0;if(!K&&!X&&!(R!=null&&R.isCollapsed)){this.ignoreSelectionChange=!0,R==null||R.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!X){var Z;this.ignoreSelectionChange=!0,z==null||z.setStartBefore((Z=this.filterQueryRef.current)===null||Z===void 0?void 0:Z.firstChild);return}const ie=Y[0],Ae=Y[Y.length-1],ae=w[ie],V=w[Ae];if(!K&&X){this.ignoreSelectionChange=!0,z==null||z.setStartBefore(ae),this.ignoreSelectionChange=!0,z==null||z.setEndAfter(V),this.setSelectedTokenIndexes(Y);return}this.isEntireFilterQuerySelected()&&X&&(this.ignoreSelectionChange=!0,z==null||z.setStartBefore(ae),this.setSelectedTokenIndexes(Y))}onSelectionChange(){var b;if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const R=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();let z=null;if(R){const{type:w}=R;z=w}z==="Caret"&&this.onCaretSelectionChange(),z==="Range"&&this.onRangeSelectionChange()}onKeyDown(b){if(this.state.composing)return;const{key:R,ctrlKey:z,metaKey:w,altKey:W,shiftKey:K}=b,{selectState:Y,onKeyDown:X}=this.props,Z=(0,O.cX)()?w:z,ie=R==="Delete"&&((0,O.cX)()&&W||(0,O.uF)()&&Z);(R==="Backspace"||ie)&&this.onBackspace(b),!ie&&R==="Delete"&&this.onDelete(b),R==="Escape"&&this.onEscape(b),(R==="Home"||w&&!K&&R==="ArrowLeft"||w&&!K&&R==="ArrowUp")&&this.onHome(b),(R==="End"||w&&!K&&R==="ArrowRight"||w&&!K&&R==="ArrowDown")&&this.onEnd(b),!w&&R==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(b)),!w&&R==="ArrowRight"&&this.onRightArrow(b),R==="Tab"&&this.onTab(b),(R==="ArrowUp"||R==="ArrowDown")&&b.preventDefault(),R==="Enter"&&b.preventDefault(),!Z&&D.includes(R)&&this.onCharacterKey(),X&&X(b,{hasActiveRowIndex:(0,r.A)(Y.activeRowIndex),isExpanded:!!Y.isExpanded})}onHome(b){b.preventDefault();const{selectState:R}=this.props,{selectedOptions:z}=R;z!=null&&z.length?this.setSelectedTokenIndexes([0],{initiator:b.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(b){b.preventDefault();const{selectState:R}=this.props,{selectedTokenIndexes:z}=R;z!=null&&z.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(b){const{selectState:R,onKeyUp:z}=this.props,w=this.getSelectedTokenIndexes(),W=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(w!=null&&w.length)&&(this.selectTextInNode(W[w[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),z&&z(b,{hasActiveRowIndex:(0,r.A)(R.activeRowIndex)})}onInputContainerMouseDown(b){b.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(b){if(!b||!b.clipboardData)return;const{selectState:R}=this.props,{filterQuery:z}=R,{onFilterQueryPaste:w,setSelectState:W}=this.props;b.preventDefault();const K=b.clipboardData.getData("text"),Y=this.caretPosInFilterQuery||0,X=z||"",Z=(z==null?void 0:z.length)||0,ie=Y<=Z?Y:Z,Ae=X.slice(0,ie)+K+X.slice(ie);W(()=>({filterQuery:Ae})),w&&w(b)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:b}=this.props,{selectState:R}=this.props,{filterQuery:z,selectedOptions:w}=R,W=this.getSelectedTokenIndexes(),K=w==null?void 0:w.filter((Z,ie)=>(W==null?void 0:W.indexOf(ie))===-1),Y=this.getSelectedFilterQueryText(),X=z==null?void 0:z.replace(Y,"");b(()=>({selectedOptions:K,selectedTokenIndexes:[],filterQuery:X})),this.moveCursorToFilterQuery()}onBackspace(b){const{setSelectState:R}=this.props,{selectState:z,isTokenEditable:w}=this.props,{filterQuery:W}=z;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!W)){b.preventDefault(),R(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(w&&(W==null?void 0:W.length)===1){b.preventDefault(),R(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){b.preventDefault(),R(()=>({filterQuery:"",isExpanded:!1}));return}const Y=this.getTokensAsArray().length,X=this.getSelectedTokenIndexes(),Z=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,Z&&Y===0){b.preventDefault();return}if(!Z&&!this.haveSelectedTokens()&&W)return;if(b.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([Y-1],{initiator:b.type});return}X==null||X.forEach(V=>{this.removeToken(V,"backspaceKey")});const ie=X&&X[0],Ae=ie===0;let ae=null;ie&&(ae=Ae?[0]:[ie-1]),ae!=null&&ae.length&&this.setSelectedTokenIndexes(ae,{initiator:b.type})}onDelete(b){const{setSelectState:R}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){b.preventDefault(),R(()=>({filterQuery:"",isExpanded:!1}));return}const w=this.getTokensAsArray().length,W=this.getSelectedTokenIndexes();if(w===0||!this.haveSelectedTokens()||(b.preventDefault(),W==null||W.forEach(Z=>{this.removeToken(Z,"deleteKey")}),!(W!=null&&W.length)))return;const Y=W[W.length-1]===w-1,X=(W==null?void 0:W.length)===w;(Y||X)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(b){const{selectState:R,setSelectState:z,onOptionsListClose:w}=this.props;R.isExpanded&&(b.stopPropagation(),w&&w(),z(()=>({isExpanded:!1})))}onLeftArrow(b){var R;const w=this.getTokensAsArray().length,W=this.getSelectedTokenIndexes(),K=(W==null?void 0:W.length)&&W[0],Y=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();let X=null,Z=null;if(Y){const{type:be,anchorOffset:Ue}=Y;X=be,Z=Ue}const ie=X==="Caret",Ae=X==="Range";if(b.shiftKey&&Ae&&this.isRangeSelectionOfFilterQueryComplete(Z)){b.preventDefault();return}const ae=ie&&this.isCaretAtStartOfFilterQuery();if(w===0&&ae){b.preventDefault();return}if(w===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&ae){b.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:b.type});return}if(!this.haveSelectedTokens()&&ae){this.setSelectedTokenIndexes([w-1],{initiator:b.type});return}if(Ae&&this.haveSelectedTokens()&&K===0){b.preventDefault();return}this.haveSelectedTokens()&&typeof K=="number"&&this.setSelectedTokenIndexes([K-1],{initiator:b.type})}onRightArrow(b){var R;const z=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),w=(z==null?void 0:z.type)==="Range",K=this.getTokensAsArray().length,Y=this.getSelectedTokenIndexes(),X=(Y==null?void 0:Y.length)&&Y[0];if(typeof X!="number")return;if(!(w&&this.haveSelectedTokens()&&X<K-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){b.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof X=="number"&&this.setSelectedTokenIndexes([X+1],{initiator:b.type})}onTab(b){const{shiftKey:R}=b,{expandOnFocus:z,selectState:w,onOptionsListClose:W,setSelectState:K,disableCloseOnTab:Y}=this.props;Y||(W&&W(),(R||z&&(0,s.A)(w.activeRowIndex))&&K(()=>({isExpanded:!1})))}onTokenMouseDown(b,R){const{focused:z,isCurrentlyEditingToken:w}=this.state,{selectState:W,isTokenEditable:K}=this.props;if(W.isDisabled)return;if(b.preventDefault(),this.mouseDownOnToken=!0,b.stopPropagation(),K&&!w){this.onTokenEdit(R);return}z||this.focus();const Y=this.getTokensAsArray();this.selectTextInNode(Y[R]);const X=this.getSelectedTokenIndexes();R!==(X==null?void 0:X[0])&&this.setSelectedTokenIndexes([R])}onTokenEdit(b){const{selectState:R,setSelectState:z,processOptions:w}=this.props,{selectedOptions:W}=R;this.setTokenState(!0,b);let K="";W&&W[b]&&(typeof W[b].label=="string"&&W[b].label!==W[b].value?K=W[b].label:K=W[b].value),this.removeToken(b,"editToken"),this.updateFilterQueryValue(K),w&&w([],K).then(Y=>{z(()=>({isExpanded:!0,options:Y,filterQuery:K}))})}onTokenRemoveMouseDown(b,R){const{focused:z,isCurrentlyEditingToken:w,editTokenIndex:W}=this.state;b.preventDefault(),this.mouseDownOnToken=!0,b.stopPropagation(),z||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&w&&R<W&&this.setTokenState(!0,W-1),this.removeToken(R,"iconClick")}onFilterQueryMouseDown(b){var R;this.state.focused&&(!((R=this.filterQueryRef.current)===null||R===void 0)&&R.textContent)&&b.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(b){const{onFilterQueryChange:R}=this.props;this.updateQueryTimer=setTimeout(()=>{R&&R(b),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(b){var R;const{setSelectState:z}=this.props;b.preventDefault(),z(()=>({selectedTokenIndexes:[],isExpanded:!1}));const w=(R=this.filterQueryRef)===null||R===void 0?void 0:R.current;w!=null&&w.textContent&&this.selectTextInNode(w)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:b}=this.props,{filterQuery:R,selectedOptions:z}=b,w=this.getSelectedTokenIndexes(),W=z==null?void 0:z.filter((X,Z)=>(w==null?void 0:w.indexOf(Z))===-1),K=this.getSelectedFilterQueryText(),Y=R==null?void 0:R.replace(K,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:W,filterQuery:Y,isExpanded:!1}}onNodeAdded(b){const{nodeName:R}=b;(R==="B"||R==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(b){const{setSelectState:R}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),R(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}b===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(b){b.forEach(R=>{R.addedNodes.forEach(this.onNodeAdded),R.removedNodes.forEach(this.onNodeRemoved)})}getAriaPlaceholderText(){const{selectState:b,placeholderText:R}=this.props,{filterQuery:z,selectedOptions:w}=b;if(!z&&!(w&&w.length>0))return R}getAriaActiveDescendant(){const{selectState:b}=this.props,{selectId:R,activeRowIndex:z}=b;return(0,r.A)(z)?(0,v.Es)(R,`option_${z}`):void 0}getInputHeight(){const{inputRef:b}=this.props,R=b==null?void 0:b.current;return R?R.offsetHeight:null}getTokensAsArray(){var b,R;const z=(b=this.props.inputRef)===null||b===void 0||(R=b.current)===null||R===void 0?void 0:R.querySelectorAll(".c-token");return Array.prototype.slice.call(z)}getSelectedFilterQueryText(){var b;const{selectState:R}=this.props,{filterQuery:z}=R;if((z==null?void 0:z.length)===0)return"";const w=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection(),W=w==null?void 0:w.toString();if(!(w==null?void 0:w.containsNode(this.filterQueryRef.current,!0)))return"";const Y=W==null?void 0:W.split(`
`);return Y!=null&&Y.length?Y[Y.length-1].trim():""}setSelectedTokenIndexes(b){let{initiator:R}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:z}=this.props;z(()=>({selectedTokenIndexes:b}))}getSelectedTokenIndexes(){const{selectState:b}=this.props,{selectedTokenIndexes:R}=b;return R||[]}allTokensAreSelected(){const b=this.getSelectedTokenIndexes(),R=this.getTokensAsArray();return b!=null&&b.length?b.length>0&&b.length===R.length:!1}attachMutationObserver(){var b;if(this.mutationObserver=new MutationObserver(this.onMutation),!((b=this.props.inputRef)===null||b===void 0)&&b.current){var R;this.mutationObserver.observe((R=this.props.inputRef)===null||R===void 0?void 0:R.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:b}=this.props,{filterQuery:R}=b;if(this.caretPosInFilterQuery===-1||!R)return 0;const z=R==null?void 0:R.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>z?z:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var b;(b=this.mutationObserver)===null||b===void 0||b.disconnect(),this.mutationObserver=null}focus(){var b;const R=(b=this.props.inputRef)===null||b===void 0?void 0:b.current;R==null||R.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(b){const{isLoading:R,throttleForceRenderSelectContainer:z}=this.props;z?(b&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),R||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var b;return!!(!((b=this.getSelectedTokenIndexes())===null||b===void 0)&&b.length)}isCaretAtStartOfFilterQuery(){var b;if(this.isCaretOutSideFilterQuery())return!1;const{selectState:R}=this.props,{filterQuery:z}=R;if(!z)return!0;const w=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();let W=null;if(w){const{anchorOffset:K}=w;W=K}return W===0}isCaretOutSideFilterQuery(){var b,R;const z=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();let w=null;if(z){const{anchorNode:W}=z;w=W}return!(!((R=this.filterQueryRef.current)===null||R===void 0)&&R.contains(w))}isRangeSelectionOfFilterQueryComplete(b){const R=this.getSelectedFilterQueryText();if(!R)return!1;const{selectState:z}=this.props,w=z.filterQuery;return!w||!b?!1:R.substr(0,b)===(w==null?void 0:w.substr(0,b))}isEntireFilterQuerySelected(){const{selectState:b}=this.props,R=this.getSelectedFilterQueryText();return!!R&&R===b.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:b}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var R,z,w,W;const K=document.createRange(),Y=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();Y==null||Y.removeAllRanges();const X=(z=this.filterQueryRef)===null||z===void 0?void 0:z.current,Z=(X==null?void 0:X.firstChild)||X,ie=b?0:(W=X==null||(w=X.textContent)===null||w===void 0?void 0:w.trim())===null||W===void 0?void 0:W.length;Z!==null&&typeof ie=="number"&&K.setStart(Z,ie),K.collapse(!0),Y==null||Y.addRange(K)}possiblyRepositionOptionsList(b){if(!this.measurePopoverEvent)return;const{selectState:R}=this.props,z=R.isExpanded&&!b.isExpanded,w=this.getInputHeight(),W=this.inputHeight!==w;if(z||W){var K;(K=this.props.windowRef.deref())===null||K===void 0||K.dispatchEvent(this.measurePopoverEvent)}}removeToken(b,R){const{selectState:z,setSelectState:w,isTokenEditable:W}=this.props,{selectedOptions:K,pendingQueries:Y,filterQuery:X}=z,Z=Y?Y.length:0,ie=K&&K[b]&&K[b].queryId,ae=ie&&Z?Y==null?void 0:Y.filter(V=>{let{queryId:ve}=V;return ve!==ie}):Y;w(()=>({selectedOptions:K==null?void 0:K.filter((V,ve)=>ve!==b),selectedTokenIndexes:[],removalInitiator:R,removedItemIndex:b,pendingQueries:ae})),W&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(X)}saveCaretPosInFilterQuery(){var b;const R=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();this.caretPosInFilterQuery=R==null?void 0:R.anchorOffset}scrollFilterQueryIntoView(){const b=this.filterQueryRef.current;b&&b!=null&&b.scrollIntoView&&(b==null||b.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const b=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const R=this.getTokensAsArray();if(!(b!=null&&b.length))return;const z=b[b.length-1],w=R[z];w&&w.scrollIntoView&&w.scrollIntoView({block:"nearest"})}selectAllTokens(){var b;if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const R=this.getTokensAsArray();if(R.length===0)return;const z=R[0],w=R[R.length-1],W=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection(),K=document.createRange();W==null||W.removeAllRanges(),K.setStartBefore(z),K.setEndAfter(w),W==null||W.addRange(K)}selectTextInNode(b){var R;if(!b)return;const z=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),w=document.createRange();this.ignoreSelectionChange=!0,z==null||z.removeAllRanges();const W=(0,O.cX)()?b:b.querySelector(".c-token__content");w.selectNode(W),this.ignoreSelectionChange=!0,z==null||z.addRange(w)}updateCaretPosInFilterQuery(){var b,R;const z=(b=this.filterQueryRef)===null||b===void 0?void 0:b.current;if(!z)return;const w=document.createRange(),W=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();W==null||W.removeAllRanges();const K=this.determineCaretPosInFilterQuery();typeof K=="number"&&w.setStart((z==null?void 0:z.firstChild)||z,K),w.collapse(!0),W==null||W.addRange(w)}renderFilterQuery(){const{selectState:b,isTokenEditable:R,size:z}=this.props,{filterQuery:w,isDisabled:W}=b,{isCurrentlyEditingToken:K,editTokenIndex:Y}=this.state,X=W?void 0:this.onFilterQueryMouseDown,Z=(0,n.A)({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${z}_filter_query--edit`]:R&&K});return t.createElement("span",{className:Z,ref:this.filterQueryRef,onMouseDown:X,key:Y},w)}renderInput(){const{selectState:b,selectDataQa:R,inputRef:z,ariaLabelledBy:w,ariaLabel:W,autoClogProps:K,iconType:Y,isTokenEditable:X}=this.props,{selectId:Z,isDisabled:ie,isExpanded:Ae,isInvalid:ae}=b,V=ie?void 0:0,ve=ie?void 0:this.getAriaActiveDescendant(),be=!ie,Ue=be,Re=ie?void 0:this.onFocus,ge=ie?void 0:this.onBlur,ne=ie?void 0:this.onChange,ee=ie?void 0:this.onPaste,F=ie?void 0:this.onKeyDown,H=ie?void 0:this.onKeyUp,j=ie?void 0:this.onSelectionChange,N=ie?void 0:this.onCut,J=ie?void 0:this.onCompositionStart,le=ie?void 0:this.onCompositionEnd,ce=(0,n.A)({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!Y}),Ee=t.createElement("div",{role:"combobox","aria-disabled":ie,"aria-autocomplete":"list","aria-expanded":Ae,"aria-controls":(0,v.Es)(Z,"listbox"),"aria-activedescendant":ve,"aria-labelledby":w,"aria-label":W,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":ae,id:Z,className:ce,tabIndex:V,contentEditable:be,suppressContentEditableWarning:Ue,"data-qa":R?`${R}-input`:void 0,ref:z,onFocus:Re,onBlur:ge,onInput:ne,onCompositionStart:J,onCompositionEnd:le,onPaste:ee,onKeyDown:F,onKeyUp:H,onSelect:j,onCut:N,"aria-multiline":!1},E(),X&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.createElement(t.Fragment,null,this.renderTokens(),this.renderFilterQuery()),E({contentEditable:!1}));return K?t.createElement(i.A,{autoClogProps:K,actionProps:C,elementType:f.ElementType.INPUT},Ee):Ee}renderLoadingIndicator(){const{isLoading:b,size:R}=this.props;return b?t.createElement(m.A,{className:"c-multi_select_input__spinner",color:"blue",size:R===A.hu.LARGE?A.hu.LARGE:A.hu.MEDIUM}):null}renderPlaceholder(){const{selectState:b,placeholderText:R,iconType:z}=this.props,{filterQuery:w,selectedOptions:W,isDisabled:K}=b;if(this.state.composing||w||W&&W.length>0)return null;const Y=K?void 0:this.onPlaceholderMouseDown,X=(0,n.A)({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!z});return t.createElement("div",{"aria-hidden":"true",className:X,onMouseDown:Y},R)}renderToken(b,R){let{icon:z,svgIcon:w,value:W,label:K,hoverText:Y,isLoading:X,isError:Z,isMemberError:ie,isTeamError:Ae,isUnknown:ae,emailTeam:V}=b;const{forceRealName:ve,size:be,selectState:Ue,customizeTokenProps:Re,disableIdParsing:ge}=this.props,ne=this.getSelectedTokenIndexes(),ee=(ne==null?void 0:ne.indexOf(R))!==-1,{isDisabled:F,restrictedSelectedTokenIndexes:H,disabledSelectedTokenIndexes:j,invalidSelectedTokenIndexes:N}=Ue,J=!!H&&(H==null?void 0:H.indexOf(R))!==-1,le=!!j&&(j==null?void 0:j.indexOf(R))!==-1,ce=!!N&&(N==null?void 0:N.indexOf(R))!==-1,Ee=F||le,ye=Ee?void 0:Ce=>this.onTokenMouseDown(Ce,R),Ie=Ee?void 0:()=>this.renderTokenRemoveIcon(R),he=be;return t.createElement(t.Fragment,null,t.createElement(y.A,P({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},ye?{onMouseDown:ye}:{},{isDisabled:Ee,entityId:W,label:K,hoverText:Y,isLoading:X,isError:Z,isMemberError:ie,isTeamError:Ae,isUnknown:ae},be?{size:he}:{},{isSelected:ee},Ie?{renderIcon:Ie}:{},{forceRealName:ve,icon:z,svgIcon:w,tabIndex:-1,contentEditable:!1},Re,{disableIdParsing:ge},V?{emailTeam:V}:{},{isRestricted:J,isInvalid:ce})),"\xA0")}renderTokenRemoveIcon(b){return t.createElement(i.A,{actionProps:M,elementType:f.ElementType.BUTTON},t.createElement(T.A,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:(0,c.A)(R=>{this.onTokenRemoveMouseDown(R,b)})}))}renderTokens(){const{selectedOptions:b}=this.props.selectState;return b==null?void 0:b.map((R,z)=>t.createElement(t.Fragment,{key:R.key||R.value},this.renderToken(R,z)))}renderEditableTokens(){const{isCurrentlyEditingToken:b,editTokenIndex:R}=this.state,z=this.renderTokens()||[],w=this.renderFilterQuery();return b?z.splice(R,0,w):z==null||z.push(w),z}renderIcon(){const{iconType:b}=this.props;return b?t.createElement(T.A,{type:b,inline:!0}):null}render(){const{maxHeight:b,width:R,selectState:z,classPrefix:w,size:W}=this.props,{isDisabled:K,isInvalid:Y,selectedOptions:X}=z,Z=X==null?void 0:X.length,ie=(0,n.A)("c-multi_select_input",{"c-multi_select_input--disabled":K,"c-multi_select_input--focused":this.state.focused&&!K,"c-multi_select_input--large":W===A.hu.LARGE,"c-multi_select_input--invalid":Y,"c-multi_select_input--initial":!Z,[`${w}__multi_select_input`]:w,[h.E.large]:W===A.hu.LARGE}),Ae=K?void 0:this.onInputContainerMouseDown;return t.createElement("div",{className:ie,style:{width:R,maxHeight:b},onMouseDown:Ae,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(b){super(b),(0,p.v)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var R;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(R=b.ignoreSelectAllTokensAfterMount)!==null&&R!==void 0?R:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,b.measurePopoverEventName&&(this.measurePopoverEvent=new Event(b.measurePopoverEventName));var z;this.forceRenderSelectContainerThrottled=(0,o.A)(this.forceRenderSelectContainer,(z=b.forceRenderSelectContainerThrottleRate)!==null&&z!==void 0?z:S,k),this.filterQueryRef=t.createRef()}},"MultiSelectInput");U.displayName="MultiSelectInput",U.defaultProps={inputRef:t.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:a.A,onKeyUp:a.A,size:A.hu.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:a.A,onFilterQueryChange:a.A,onFilterQueryPaste:a.A,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:a.A,onInputFocused:a.A,forceRealName:void 0,onOptionsListClose:a.A,processOptions:B=>l.S.resolve(B),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:a.A,onBlur:a.A,onOptionsListClosedBlur:a.A,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:S};const L=(0,d.A)((0,_.A)(U))},8274994582:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(6308822),s=e(735940183);const r=new s.Ay("form_inputs"),o=u(a=>{let{count:l,clientTheme:i,spinnerSize:d="large"}=a;return t.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.createElement(n.A,{color:i==="dark"?"white":"blue",size:d,inline:!0})),r.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:l}))},"MultiSelectLoadingText")},320706952:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(8683010724),s=e(735940183);const r=new s.Ay("form_inputs"),o=u(a=>{let{count:l}=a;return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.createElement(n.A,{name:"emoji-missing",variation:"filled",inline:!0})),r.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:l}))},"MultiSelectUnknownText")},581574686:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>C});var t=e(3134334389),n=e(5255740490),s=e(6696292586),r=e(7715417323),c=e(1641606663),o=e(6308822),a=e(3391133100),l=e(2219904496),i=e(5166368300),d=e(7193040700),_=e(8683010724),m=e(4426213732),h=e(735940183),v=e(429204216);function T(){return T=Object.assign||function(M){for(var D=1;D<arguments.length;D++){var E=arguments[D];for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(M[S]=E[S])}return M},T.apply(this,arguments)}u(T,"_extends");const A=new h.Ay("select"),y=1e4,p={ArrowLeft:!0,ArrowRight:!0},f={ArrowUp:!0,ArrowDown:!0},O={Backspace:!0,Delete:!0};let I=u(class extends t.Component{componentDidMount(){const{inputRef:D,focusOnMount:E,expandOnFocus:S}=this.props,k=D&&D.current;E&&(!this.state.hasFocus&&k&&k.focus(),S&&this.showOptionsList())}componentDidUpdate(D,E){const{inputRef:S,selectState:k,focusOnMount:U}=this.props,{selectedOption:L}=k,{selectState:B}=D,{selectedOption:b}=B,R=S&&S.current,{hasFocus:z,focusedViaMouse:w}=this.state;L&&z&&!w&&(L!==b||!E.hasFocus)&&setTimeout(()=>{R==null||R.select()},50),U&&D.focusOnMount!==U&&(this.state.hasFocus||R==null||R.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(D){const{inputRef:E,selectState:S,onClick:k,expandOnClick:U,searchOnClick:L}=this.props,{isDisabled:B,isExpanded:b,selectedOption:R}=S;if(B)return;const z=E&&E.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),z==null||z.focus()),(U||R)&&!b&&this.showOptionsList({searchOnClick:L}),k&&k(D)}onBlur(D){const{onBlur:E}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{E&&E(D)})}onFocus(D){const{onFocus:E}=this.props;this.setState(()=>({hasFocus:!0}),()=>{E&&E(D)})}onInputChanged(D){const{selectState:E,setSelectState:S,expandOnClick:k,retainPreviousSelectionOnDelete:U}=this.props,{isExpanded:L,selectedOption:B}=E;if(this.backspaceOrDeletePressed&&D.length===0&&B){S(()=>({filterQuery:D,displayQuery:D,...U?{}:{selectedOption:null}}));return}L?!k&&!D&&S(()=>({isExpanded:!1})):this.showOptionsList(),S(()=>({filterQuery:D,displayQuery:D}))}onKeyPressedEnter(D){this.props.selectState.isExpanded?D.preventDefault():(this.showOptionsList(),D.stopPropagation())}onKeyPressedEscape(D){const{selectState:E,setSelectState:S,resultsInPopover:k,onEsc:U,onOptionsListClose:L}=this.props;E.isExpanded&&k&&(D.stopPropagation(),U&&U(),L&&L(),S(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:D,onOptionsListClose:E,selectState:S}=this.props;E&&E();const{activeRowIndex:k,initialActiveOption:U}=S;typeof k!="number"&&!U&&D(()=>({isExpanded:!1}))}onUpOrDownPressed(D){D.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),D.stopPropagation())}onWrapperKeyDown(D){const{key:E}=D;if(f[E]){this.onUpOrDownPressed(D);return}if(E==="Enter"){this.onKeyPressedEnter(D);return}if(E==="Escape"){this.onKeyPressedEscape(D);return}E==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(D){const{key:E}=D,S=O[E],k=p[E],U=S||k||(0,v.A)(D);this.setState(()=>({cursorVisible:U})),this.backspaceOrDeletePressed=S}maybeRenderIconOrLoading(){const{showDropdownIcon:D,isLoading:E,size:S,expandOnClick:k}=this.props;return E?t.createElement(o.A,{className:"c-select_input__spinner",color:"blue",size:S===d.hu.LARGE?"large":"medium"}):!D||!k?null:t.createElement("span",{className:"c-select_input__icon"},t.createElement(_.A,{name:"caret-down",size:"20"}))}showOptionsList(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:E}=D;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:E}))}updateOptionsListPosition(){const{selectState:D}=this.props,{isExpanded:E}=D;if(!E&&this.measurePopoverEvent){var S;(S=this.context.windowRef.deref())===null||S===void 0||S.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:D,renderSelectedOption:E,classPrefix:S,selectDataQa:k,hideSelectedOptionOnDropdownOpen:U}=this.props,{isExpanded:L,selectedOption:B}=D;if(this.state.cursorVisible||!B||L&&(U||D.filterQuery))return null;const b=(0,n.A)("c-select_input__content",{[`${S}__select_input_content`]:S});return t.createElement("div",{className:b,"data-qa":k?`${k}-input-content`:null},t.createElement("span",{className:"c-select_input__content_text"},E&&E(B)))}renderTextInput(){const{selectDataQa:D,inputRef:E,classPrefix:S,ariaLabelledBy:k,ariaDescribedBy:U,icon:L,maxCharacterLimit:B,size:b,selectState:R,autoClogProps:z,hideSelectedOptionOnDropdownOpen:w}=this.props,{activeRowIndex:W,filterQuery:K,isDisabled:Y,isExpanded:X,isInvalid:Z,isRequired:ie,selectedOption:Ae,selectId:ae=""}=R;let V;K||!X&&Ae||Ae&&X&&!w?V=null:V=this.props.placeholderText||A.t("Please select an option");const ve=X&&(0,s.A)(W)?(0,a.Es)(ae,`option_${W}`):null,be=!this.state.cursorVisible&&Ae&&!X,Ue=(0,n.A)("c-select_input",{"c-select_input--offscreen":be,"c-select_input--invalid":Z,[`${S}__select_input`]:S}),Re=(0,a.Yk)([U,(0,a.Es)(ae,"initial-focus")]),ne=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible&&w?K||Ae&&Ae.label:K,ee={spellCheck:!1,className:Ue,id:ae,name:ae,"aria-activedescendant":ve,"aria-autocomplete":"list","aria-expanded":X,"aria-owns":(0,a.Es)(ae,"listbox"),"aria-required":ie,"aria-label":this.props["aria-label"],"aria-labelledby":k,"aria-describedby":Re,isInvalid:Z,autoComplete:"off",isDisabled:Y,onChange:this.onInputChanged,placeholder:V,value:ne||"","data-qa":D?`${D}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:z};return L||B?t.createElement(l.A,T({},ee,{icon:L,size:b,maxCharacterLimit:B,showError:!1,type:"text",inputRef:E,isInvalid:Z})):t.createElement(i.A,T({},ee,{ref:E}))}render(){const{icon:D,size:E,selectDataQa:S,width:k,classPrefix:U,showDropdownIcon:L,selectState:B}=this.props,{isInvalid:b}=B,R=(0,n.A)("c-select_input__wrapper",{[`c-select_input--${E}`]:E,"c-select_input--with_icon_right":L,"c-select_input--with_icon_left":!!D,"c-select_input--invalid":b,[`${U}__select_input_wrapper`]:U}),z=(0,n.A)("c-select_input__input_container",{[`${U}__select_input_container`]:U});return t.createElement("div",{role:"presentation",className:R,style:{width:k},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":S?`${S}-wrapper`:null},t.createElement("div",{className:z},this.renderTextInput(),this.renderInputContent()),t.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(D){super(D),(0,m.v)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=t.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},D.measurePopoverEventName&&(this.measurePopoverEvent=new Event(D.measurePopoverEventName))}},"SelectInput");I.displayName="SelectInput",I.defaultProps={autoClogProps:void 0,inputRef:null,onClick:r.A,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,classPrefix:void 0,onFocus:r.A,onBlur:r.A,onEsc:r.A,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:r.A,expandOnClick:!0,searchOnClick:!1,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0},I.contextType=c.Mn;const P={SelectInput:I},C=I},7074822529:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>H,oj:()=>ee});var t=e(3134334389),n=e(5255740490),s=e(45851552),r=e(6696292586),c=e(2003990933),o=e(5404505308),a=e(7715417323),l=e(3478664464),i=e(166097325),d=e(1699044291),_=e(3398586081),m=e(9268023148),h=e(9636077426),v=e(6882609392),T=e(3652828077),A=e(1641606663),y=e(6308822),p=e(3391133100),f=e(7193040700),O=e(1398359918),I=e(8786006583),P=e(8226269261);function C(j){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,O.A)(j,(le,ce)=>{if(le.type==="divider")return{type:"divider"};if(le.options){const{options:Ee,label:ye,...Ie}=le,he=`${le.label.toLowerCase()}${f.Sx}${(0,P.A)()}`,Ce=[{type:"heading",label:le.label,group:he,optionsCount:le.options&&le.options.length||0,extras:Ie}].concat(le.options.map((oe,de)=>{const De={type:"option",option:oe,optgroup:he};return de===0&&(De.isFirstChild=!0),de===le.options.length-1&&(De.isLastChild=!0),De}));if(N){if(j[ce-1]&&j[ce-1].value&&!j[ce-1].options&&Ce.unshift({type:"divider"}),(0,I.A)(j)===le)return Ce;Ce.push({type:"divider"})}return Ce}return{type:"option",option:le}})}u(C,"formatOptions");var M=e(4426213732),D;(function(j){j[j.ELEMENT=1]="ELEMENT",j[j.ATTRIBUTE=2]="ATTRIBUTE",j[j.TEXT=3]="TEXT",j[j.CDATA_SECTION=4]="CDATA_SECTION",j[j.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",j[j.ENTITY=6]="ENTITY",j[j.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",j[j.COMMENT=8]="COMMENT",j[j.DOCUMENT=9]="DOCUMENT",j[j.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",j[j.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",j[j.NOTATION=12]="NOTATION"})(D||(D={}));const E=new Set(["INPUT","TEXTAREA","SELECT"]),S=new Set([...E,"BUTTON"]),k="http://www.w3.org/1999/xhtml",U="http://www.w3.org/2000/svg";function L(j){return(j==null?void 0:j.nodeType)===D.TEXT}u(L,"isTextNode");function B(j){return(j==null?void 0:j.nodeType)===D.ELEMENT}u(B,"isElement");function b(j){return B(j)&&j.namespaceURI===k}u(b,"isHtmlElement");function R(j){return B(j)&&j.namespaceURI===U}u(R,"isSvgElement");function z(j){return b(j)||R(j)}u(z,"isHtmlOrSvgElement");function w(j){return b(j)||R(j)}u(w,"isElementCssInlineStyle");function W(j){return Y(j,"a")}u(W,"isAnchorElement");function K(j){return b(j)&&S.has(j.tagName)}u(K,"isInteractiveElement");function Y(j,N){return b(j)&&j.localName===N}u(Y,"isHtmlElementWithTagName");function X(j){return L(j)?j:null}u(X,"asTextNode");function Z(j){return B(j)?j:null}u(Z,"asElement");function ie(j){return b(j)?j:null}u(ie,"asHtmlElement");function Ae(j,N){const J=j;return J.hasAttribute&&J.hasAttribute(N)}u(Ae,"hasAttribute");function ae(j,N){return Ae(j,`data-${N}`)}u(ae,"hasData");var V=e(735940183),ve=e(8359728598),be=e(8459143513),Ue=e(4757466470);function Re(){return Re=Object.assign||function(j){for(var N=1;N<arguments.length;N++){var J=arguments[N];for(var le in J)Object.prototype.hasOwnProperty.call(J,le)&&(j[le]=J[le])}return j},Re.apply(this,arguments)}u(Re,"_extends");const ge=new V.Ay("select"),ne=u(j=>{var N;return j.type!=="heading"&&j.type!=="divider"&&!(!(j==null||(N=j.option)===null||N===void 0)&&N.nonInteractive)},"isKeyboardNavigableOption"),ee=u(j=>{var N;return!j.isDisabled&&!(!(j==null||(N=j.option)===null||N===void 0)&&N.nonInteractive)},"isSelectableOption");let F=u(class extends be.B{componentDidMount(){this.initKeyCommands();const{focusOnMount:N=!1,selectState:J,setSelectState:le,shouldIncludeActiveOption:ce=!1}=this.props,{selectType:Ee}=J;Ee===f.US.BASIC&&N&&this.onOpen();const ye=this.getInitalActiveRowIndex(),Ie=this.list.current;le(()=>({activeRowIndex:ye,...ce?{activeOption:this.getOptionFromList(ye)}:null})),ye!==-1&&Ie&&Ie.scrollToRow(ye),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:N=!1,preventScroll:J=!1}=this.props,{selectType:le}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),N&&le===f.US.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:J})}componentDidUpdate(N){var J;const{selectState:le,setSelectState:ce,shouldIncludeActiveOption:Ee=!1,dynamicHeight:ye=!1,optionsShallowEqualComparisonDepth:Ie=4,shouldRerenderOnOptionChange:he=!1}=this.props,{filterQuery:Ce,options:oe,initialActiveOption:de}=le,De=!(0,Ue.Ay)(N.selectState.options,oe,Ie),Te=Ce!==N.selectState.filterQuery;if(De||Te){const ke=typeof de<"u"?this.getActiveRowIndex():this.getFirstSelectableRowIndex();ce(()=>({activeRowIndex:ke,...Ee?{activeOption:this.getOptionFromList(ke)}:null}));const Ke=ke||ke===0;this.list.current&&Ke&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(ke))}if(De&&!Te&&he){var pe;(pe=this.list.current)===null||pe===void 0||pe.recomputeRowHeights()}if(ye&&(le==null?void 0:le.options)!==((J=N.selectState)===null||J===void 0?void 0:J.options)){var Me;(Me=this.cellMeasurerCache)===null||Me===void 0||Me.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}getInitalActiveRowIndex(){const{selectState:N,multiSelectMode:J=!1}=this.props,{selectedOption:le,initialActiveOption:ce}=N;return J||!le?this.getFirstSelectableRowIndex():ce?this.getActiveRowIndex():(0,s.A)(this.getOptionsList(),Ee=>{var ye;return ne(Ee)&&(Ee==null||(ye=Ee.option)===null||ye===void 0?void 0:ye.value)===le.value})}getActiveRowIndex(){const{selectState:N}=this.props,{initialActiveOption:J}=N;if(!J)return;const le=(0,s.A)(this.getOptionsList(),ce=>{var Ee;return ne(ce)&&(ce==null||(Ee=ce.option)===null||Ee===void 0?void 0:Ee.value)===J.value});if(le>=0)return le}getCurrentActiveElement(){var N,J;return(J=(N=this.context.windowRef.deref())===null||N===void 0?void 0:N.document.activeElement)!==null&&J!==void 0?J:null}getFirstSelectableRowIndex(){const{selectState:N,multiSelectMode:J=!1,customOptionCompare:le,shouldAlwaysHaveActiveRow:ce=!1}=this.props,{filterQuery:Ee}=N,ye=this.getOptionsList();let Ie;if((Ee||ce)&&ye.length){const he=(0,s.A)(ye,Ce=>ne(Ce)&&!this.isOptionSelected(N,Ce.option,J,le),0);he!==-1&&(Ie=he)}return Ie}getRowHeight(N){var J;const{optionsRowHeight:le=f.bJ,headingRowHeight:ce=null,dividerRowHeight:Ee=f.r3}=this.props;return N.option&&(0,r.A)(N.option.height)?Number(N.option.height):N.type&&N.type==="divider"?Ee:N.type==="heading"&&(0,r.A)((J=N.extras)===null||J===void 0?void 0:J.height)?Number(N.extras.height):N.type&&N.type==="heading"&&ce!==null?ce:le}getClassName(N,J){const{unstyled:le=!1}=this.props;return le&&J?(0,n.A)(J):(0,n.A)(J,N)}getOptionFromList(N){const J=this.getOptionsList();return(0,c.A)(J,`[${N}].option`,null)}getOptionsList(){const{multiSelectMode:N=!1,selectState:J,includeDividers:le=!0}=this.props,{options:ce,isRequired:Ee,selectedOption:ye,filterQuery:Ie,minQueryLength:he}=J;let Ce=[];return he&&he>0&&ye&&!Ie&&(Ce=[ye]),ce&&(!N&&ye&&!Ee?Ce=[f.az,...ce]:Ce=ce),Ce=[...this.formatOptions(Ce,le)],Ce}getDataQaTag(N,J){const{selectDataQa:le=void 0,selectState:ce}=this.props,{isRequired:Ee}=ce,ye=N.value?N.value:N.label;let Ie="";typeof ye=="string"&&(Ie=ye.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const he=Ee?J:J-1;return N.value?`${le}_option_${he}`:`${le}_option_header_${Ie}`}getNextActiveRowIndex(N){const J=this.getOptionsList();if(J&&!J.length)return-1;const le=J.length-1;if(N===le)return-1;const ce=(0,r.A)(N)?N+1:0,Ee=(0,s.A)(J,ne,ce);return Ee!==-1&&J[Ee]?Ee:-1}getPreviousActiveRowIndex(N){if(N===0)return-1;const J=this.getOptionsList();if(J&&!J.length)return-1;const le=J.length-1,ce=(0,r.A)(N)?N-1:le,Ee=(0,o.A)(J,ne,ce);return Ee!==-1&&J[Ee]?Ee:-1}getArialabelForItem(N){var J,le,ce,Ee;const{isFirstChild:ye,isLastChild:Ie,optgroup:he}=N;if(!he)return null;const Ce=ge.t("First item in group {group}, {value}",{group:he&&he.split(f.Sx).slice(0,-1).join("-"),value:typeof((J=N.option)===null||J===void 0?void 0:J.label)=="string"?(le=N.option)===null||le===void 0?void 0:le.label:""}),oe=ge.t("Last item in group {group}, {value}",{group:he&&he.split(f.Sx).slice(0,-1).join("-"),value:typeof((ce=N.option)===null||ce===void 0?void 0:ce.label)=="string"?(Ee=N.option)===null||Ee===void 0?void 0:Ee.label:""});return ye?Ce:Ie?oe:null}getEmptyStateMessage(){const{emptyStateMessage:N,selectState:J}=this.props,{filterQuery:le,minQueryLength:ce}=J;if(N)return N(le);if(ce){if(!le)return ge.t("Type to search\u2026");if(le.length<ce)return ge.t("Keep typing\u2026")}return ge.t("No items")}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle(N){return{padding:N?f.Hy:void 0,boxSizing:"content-box"}}onArrowDown(N){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(N))return;const{isExpanded:J,activeRowIndex:le}=this.props.selectState;J&&N.preventDefault();const ce=this.getNextActiveRowIndex(le);(0,r.A)(ce)&&ce!==-1&&this.moveNext(ce)}onArrowUp(N){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(N))return;const{isExpanded:J,activeRowIndex:le}=this.props.selectState;J&&N.preventDefault();const ce=this.getPreviousActiveRowIndex(le);(0,r.A)(ce)&&ce!==-1&&this.movePrevious(ce)}onEsc(N){const{shouldIncludeActiveOption:J=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent(N))return;N.preventDefault();const{onOptionsListClose:le=a.A}=this.props;le&&le(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:void 0,...J?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onEnter(N){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent(N))return;N.preventDefault();const{activeRowIndex:J,initialActiveOption:le}=this.props.selectState,ce=this.getOptionsList();let Ee;typeof J=="number"&&(Ee=ce[J]&&ce[J].option||ce[J]),Ee=Ee||le,!(Ee&&!ee(Ee))&&(this.onOptionSelected(Ee),this.onClose(N))}onTab(N){const{selectState:J,disableSelectOnTab:le=!1}=this.props;if(le||!this.shouldInterceptKeyEvent(N)||!J.isExpanded)return;const{onKeyPressedTab:ce=a.A}=this.props;if(ce&&ce!==a.A){ce(event);return}const{activeRowIndex:Ee,initialActiveOption:ye}=J,Ie=this.getOptionsList();let he;typeof Ee=="number"&&(he=Ie[Ee]&&Ie[Ee].option||Ie[Ee]),he=he||ye,he&&N.preventDefault(),!(he&&!ee(he))&&this.onOptionSelected(he)}onShiftTab(N){if(!this.shouldInterceptKeyEvent(N))return;const{onKeyPressedShiftTab:J=a.A}=this.props;J&&J!==a.A&&J(N)}onMouseEnteredOption(N){const{shouldIncludeActiveOption:J=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:N,...J?{activeOption:this.getOptionFromList(N)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:N=!1}=this.props;!this.isMouseMoveEnabled||N||this.clearActive()}onOptionClicked(N){this.onOptionSelected(N,!0)}onScroll(N){const{onScroll:J=a.A}=this.props;J&&J(N)}onOptionSelected(N){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:le=a.A,onOptionUnselected:ce=a.A,selectState:Ee,setSelectState:ye,multiSelectMode:Ie=!1,inputRef:he,customOptionCompare:Ce,shouldIncludeActiveOption:oe=!1,shouldOptionBeSelected:de,shouldAllowUnselectInMultiSelectMode:De=!1,shouldAllowUnselectInSingleSelectMode:Te=!0,stayExpandedAfterSelection:pe=!1}=this.props;if(Ee.shouldRefocusInputAfterSelection&&he&&he.current&&he.current.focus(),N&&ee(N)){if(de&&de(N)===!1){ye(()=>({activeRowIndex:void 0,filterQuery:"",isExpanded:!1}),()=>{le(N)});return}if(N.value===f.yk)this.onClearSelectedOption();else if(Ie){const{selectedOptions:Me,shouldRefocusInputAfterSelection:ke}=Ee;if(!this.isOptionSelected(Ee,N,Ie,Ce)&&Me)ye(()=>({selectedOptions:[...Me,N],activeRowIndex:void 0,...oe?{activeOption:null}:null,filterQuery:"",isExpanded:pe}),()=>{le&&le(N)});else if(De){const Ze=(0,l.A)(Me,[N],(Q,se)=>Q.value===se.value);ye(()=>({selectedOptions:Ze,activeRowIndex:void 0,...oe?{activeOption:null}:null,filterQuery:"",isExpanded:pe}),()=>{ce&&ce(N)})}!ke&&!N.fromUnknown&&he&&he.current&&he.current.focus()}else{const Me={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:Te?null:Ee.selectedOption};!(0,i.A)(Ee.selectedOption,N)&&(Me.selectedOption=N),ye(()=>({...Me}),()=>{le&&le(N,J)}),Ee.shouldRefocusInputAfterSelection&&he&&he.current&&he.current.focus()}}}onOpen(){const{focusOnMount:N=!1,selectState:J}=this.props,{selectType:le}=J;!N&&le!==f.US.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}onClose(N){N.key==="Escape"&&this.onEsc(N);const{focusOnMount:J=!1,preventScroll:le=!1}=this.props,{selectType:ce}=this.props.selectState;!J&&ce!==f.US.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:le})}onClearSelectedOption(){const{selectState:N,setSelectState:J,onOptionSelected:le=a.A,multiSelectMode:ce=!1,onMultiSelectClear:Ee=void 0}=this.props,{selectedOption:ye,selectedOptions:Ie}=N;let he=!1;ye?(J(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{le&&le({value:null})}),he=!0):ce&&Ie&&Ie.length&&(J(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{Ee&&Ee()}),he=!0),this.list.current&&he&&this.list.current.forceUpdateGrid()}clearDynamicRowHeight(N){var J;(J=this.cellMeasurerCache)===null||J===void 0||J.clear(N,0),this.list.current&&this.list.current.recomputeRowHeights(N)}clearActive(){const{shouldIncludeActiveOption:N=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:void 0,...N?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}enableMouseMove(){this.isMouseMoveEnabled=!0}focusNode(N){N&&this.getCurrentActiveElement()!==N&&N.focus()}isFirstItemUnselectable(){const N=this.getOptionsList();return!ne(N[0])}initKeyCommands(){var N;if(this.keyCommands)return;const{shouldTokenizeOnComma:J,shouldTokenizeOnSpace:le,keyCommandShortcuts:ce}=this.props,Ee=["enter"];J&&Ee.push("comma"),le&&Ee.push("space");const ye=[{keys:["down"],handler:this.onArrowDown},{keys:Ee,handler:this.onEnter,filter:he=>he.code.toLowerCase()==="comma"&&he.key!==","},{keys:["up"],handler:this.onArrowUp},{keys:["tab"],handler:this.onTab},{keys:["shift+tab"],handler:this.onShiftTab}],Ie=ce?ye.concat(ce):ye;this.keyCommands=new v.A((N=this.context.windowRef.deref())===null||N===void 0?void 0:N.document),this.keyCommands.bindAll(Ie)}isOptionSelected(N,J,le,ce){let{selectedOptions:Ee,selectedOption:ye}=N;return le&&(!Ee||Ee&&!Ee.length)||!le&&!ye?!1:le?!ce&&J?Ee&&Ee.some(Ie=>Ie.value===J.value):Ee&&Ee.some(Ie=>ce({selectedOption:Ie,listOption:J})):ye&&J&&ye.value===J.value}isOptionActive(N,J,le){let{activeRowIndex:ce}=N;if(!ce&&ce!==0)return!1;const ye=J[ce];return(ye&&ye.option?ye.option:ye)===le}moveNext(N){const{setSelectState:J,shouldIncludeActiveOption:le=!1}=this.props,ce=this.getOptionFromList(N);if(!ce)return;const Ee=this.list.current;if(!Ee)return;J(()=>({activeRowIndex:N,...le?{activeOption:ce}:null,displayQuery:ce==null?void 0:ce.value})),this.debouncedEnableMouseMove(),Ee.forceUpdateGrid();const ye=N===1&&this.isFirstItemUnselectable()?0:N;Ee.scrollToRow(ye)}movePrevious(N){const{setSelectState:J,shouldIncludeActiveOption:le=!1}=this.props,ce=this.getOptionFromList(N);if(!ce)return;const Ee=this.list.current;if(!Ee)return;const ye=this.getOptionsList();if(!ye)return;if(J(()=>({activeRowIndex:N,...le?{activeOption:ce}:null,displayQuery:ce==null?void 0:ce.value})),this.debouncedEnableMouseMove(),Ee.forceUpdateGrid(),(ce==null?void 0:ce.height)!==0){Ee.scrollToRow(N);return}const Ie=(0,d.A)(ye.slice(0,N)).findIndex(he=>{var Ce;return(he==null||(Ce=he.option)===null||Ce===void 0?void 0:Ce.height)!==0});Ee.scrollToRow(N-Ie-1)}shouldInterceptKeyEvent(N){return!N.target||!B(N.target)?!1:!!(Ae(N.target,"aria-autocomplete")||Ae(N.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains(N.target))}removeAriaAttrsFromGridNode(){const N=this.listBody.current,J=N&&N.querySelector(".ReactVirtualized__Grid");J&&(J.removeAttribute("aria-label"),J.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:N=!1,width:J,isLoading:le=!1,selectDataQa:ce=void 0,includeWrapper:Ee=!0}=this.props;if(le)return t.createElement(t.Fragment,null);const ye=this.getEmptyStateMessage();if(ye===null)return t.createElement(t.Fragment,null);const Ie=N||!Ee?+J:+J-f.$_;return t.createElement("div",{"data-qa":ce?`${ce}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:Ie}},t.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},ye))}renderList(){const{maxListHeight:N,width:J,includePadding:le,unstyled:ce=!1,useSlackScrollbar:Ee,dynamicHeight:ye=!1,forceMaxHeight:Ie,includeWrapper:he=!0,classPrefix:Ce=void 0}=this.props,oe=this.getOptionsList(),de=N||f.CK,De=oe.map(Ke=>this.getRowHeight(Ke)||0).reduce((Ke,Ze)=>Ke+Ze,0),Te=Ie||De>=de?de:De,pe=ce||!he?+J:+J-f.$_,Me=(0,n.A)("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":Ee,[`${Ce}__virtual_list`]:!!Ce}),ke=ye&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:Ke=>{let{index:Ze}=Ke;return this.getRowHeight(oe[Ze])};return this.cellMeasurerCache?t.createElement(T.O,{className:Me,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(le),height:Te,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:oe?oe.length:0,rowHeight:ke,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:pe}):t.createElement(T.O,{className:Me,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(le),height:Te,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:oe?oe.length:0,rowHeight:ke,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:pe})}renderListBody(){const{enableLoadingState:N=!0,isLoading:J=!1}=this.props;if(J&&N)return this.renderLoadingState();const le=this.getOptionsList();return!le||le&&!le.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:N}=this.props,J=ge.t("Loading results\u2026");return t.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:N}},t.createElement(y.A,{size:"medium",inline:!0}),t.createElement("div",null,J))}renderRow(N){let{index:J,key:le,style:ce,parent:Ee}=N;var ye;const{classPrefix:Ie=void 0,selectState:he,multiSelectMode:Ce=!1,customOptionCompare:oe,unstyled:de=!1,dynamicHeight:De=!1,hideOptionsListCheckbox:Te=!1}=this.props,{selectId:pe}=he,Me=this.getOptionsList();let ke;Me[J].option?ke=Me[J].option:ke=Me[J];const{isPlaceholder:Ke}=ke,{activeRowIndex:Ze}=he,{selectedOption:Q,selectedOptions:se}=he;let He;typeof Ze=="number"&&(He=this.isOptionActive({activeRowIndex:Ze},Me,ke));const Ge=this.isOptionSelected({selectedOptions:se,selectedOption:Q},ke,Ce,oe),Be=ke.value===f.yk,we=Me[J].type==="heading",xe=!!Me[J].optgroup,Oe=Me[J].type==="divider",Xe=!!ke.isDisabled,Ye=!!ke.nonInteractive,dt=Ge&&!we&&!Oe,mt=we||Ye||Oe,it=Me.filter(ne),At=(0,s.A)(it,Dn=>Dn.option===ke,0),Ot=Ie?`${Ie}__option`:"",Kt=(0,n.A)("c-select_options_list__option",Ot,(0,c.A)(ke,"overrides.className",!1),{"c-select_options_list__option--active":He&&(0,c.A)(ke,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":Ke,"c-select_options_list__option--selected":dt,"c-select_options_list__option--disabled":Xe,"c-select_options_list__group_header":we,"c-select_options_list__group_option":xe,"c-select_options_list__divider":Oe,"c-select_options_list__clear_option":Be});let Xt=Be?ke.label:t.createElement("hr",{className:this.getClassName("c-select_options__divider")});!Oe&&!Be&&(Xt=this.props.renderOption(ke,{index:J,isActive:He,isGroupHeader:we,isClearOption:Be,isSelected:Ge&&!we&&!Oe,clearDynamicRowHeight:this.clearDynamicRowHeight}));let vn;if(de||!((ye=ke.overrides)===null||ye===void 0)&&ye.unstyled)vn=Xt;else{var Sn;vn=t.createElement("span",{"data-qa":ke.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(Sn=ke.extras)===null||Sn===void 0?void 0:Sn.forceHeaderWrap})},Xt)}const jt=it.length,hn=At===-1?void 0:At+1,xt=t.createElement("div",Re({"aria-hidden":mt?"true":null,"aria-selected":Ge,"aria-label":we?null:this.getArialabelForItem(Me[J]),className:this.getClassName(Kt,Ot),"data-qa":Oe?void 0:this.getDataQaTag(ke,J),id:(0,p.Es)(pe,`option_${J}`),key:le},ce?{style:ce}:{},{onClick:Xe||Ye?(0,_.A)(()=>this.onOptionSelected(ke)):(0,_.A)(()=>{this.onOptionClicked(ke)}),onMouseEnter:Xe||Ye?a.A:(0,_.A)(()=>{this.onMouseEnteredOption(J)}),onMouseLeave:Xe||Ye?a.A:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":He?"true":void 0,ref:He?this.currentRow:null,optgroup:xe?Me[J].optgroup:void 0,"aria-disabled":Xe||null,"aria-setsize":jt,"aria-posinset":hn}),dt&&!Te&&t.createElement("span",{className:"c-select_options_list__selected","aria-hidden":"true"}),vn);return!De||!this.cellMeasurerCache?xt:t.createElement(h.dl,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:J,key:le,parent:Ee},xt)}render(){const{className:N,ariaLabel:J,classPrefix:le=void 0,multiSelectMode:ce=!1,selectDataQa:Ee=void 0,selectState:ye,dropdownContainer:Ie=void 0,footerBannerContent:he}=this.props,{isExpanded:Ce,activeRowIndex:oe,selectId:de,selectType:De}=ye,Te=(0,n.A)("c-select_options_list",{[`${le}_options_list`]:le}),pe=De===f.US.BASIC&&Ce&&(0,r.A)(oe)?(0,p.Es)(de,`option_${oe}`):void 0,Me=t.createElement("div",{className:Te,ref:this.listBody,"data-qa":Ee?`${Ee}-options-list`:null,id:(0,p.Es)(de,"listbox"),"aria-activedescendant":pe,"aria-label":J,"aria-multiselectable":!!ce,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:ke=!0}=this.props;if(!ke)return Me;const Ke=(0,n.A)("c-select_options_list__wrapper",{[`${N}`]:N,[`${le}_options_list_wrapper`]:le});return t.createElement("div",Re({className:this.getClassName(Ke),"data-qa":Ee?`${Ee}-options-list-wrapper`:"sk-select-options-list-wrapper"},Ie?{ref:Ie}:{}),Me,he&&t.createElement("div",{className:"c-select_options_list__footer_banner"},he))}constructor(N){super(N),this.isMouseMoveEnabled=!1,(0,M.v)(this,["getOptionsList","getOptionFromList","onClearSelectedOption","onArrowDown","onArrowUp","onEnter","onTab","onShiftTab","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=t.createRef(),this.list=t.createRef(),this.currentRow=t.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=(0,ve.A)(C),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=(0,m.A)(this.enableMouseMove,200),this.debouncedOnScroll=(0,m.A)(this.onScroll.bind(this),200),f.az.label=ge.t("Clear selection");const{optionsRowHeight:J=f.bJ,dynamicHeight:le=!1}=N;le&&(this.cellMeasurerCache=new h.jS({defaultHeight:J,fixedWidth:!0}))}},"SelectOptionsList");F.displayName="SelectOptionsList",F.contextType=A.Mn;const H=F},4640201401:(x,g,e)=>{"use strict";e.d(g,{A:()=>O});var t=e(3134334389),n=e(7715417323),s=e(9268023148),r=e(5617110048),c=e(1641606663),o=e(5249175977),a=e(7074822529),l=e(7193040700),i=e(4426213732),d=e(1224315998),_=e(2790183459);function m(){return m=Object.assign||function(I){for(var P=1;P<arguments.length;P++){var C=arguments[P];for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(I[M]=C[M])}return I},m.apply(this,arguments)}u(m,"_extends");const h={onClose:{action:d.UiAction.CLOSE},onOpen:{action:d.UiAction.OPEN}},v=50,T=50,A=12,y=4,p=32;let f=u(class extends t.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(P){return(P==null?void 0:P.type)==="click"}didClickInput(P){const{inputRef:C}=this.props;if(!(C!=null&&C.current)||!this.isMouseEvent(P))return;const M=P.clientX,D=P.clientY,E=C.current.getBoundingClientRect();return M>E.left&&M<E.right&&D>E.top&&D<E.bottom}onClose(P){var C;const{selectState:M,inputRef:D,onOptionsListClose:E,setSelectState:S}=this.props;if(M.isExpanded){if(P instanceof KeyboardEvent){var k;(k=this.optionsListRef.current)===null||k===void 0||k.onClose(P)}D==null||(C=D.current)===null||C===void 0||C.focus(),E==null||E(this.didClickInput(P)),S(()=>({isExpanded:!1,activeRowIndex:void 0,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:P,inputContainerRef:C=null}=this.props,M=C||P;return M&&M.current?M.current.getBoundingClientRect():null}getPopoverPosition(P){let{top:C,bottom:M}=P;var D;const E=C,S=(((D=this.context.windowRef.deref())===null||D===void 0?void 0:D.innerHeight)||0)-M,{selectState:k,maxListHeight:U=l.CK}=this.props,{options:L}=k;let B=0;const b=u(z=>z.map(w=>this.getRowHeight(w)).reduce((w,W)=>w+W,0),"calculateRowHeight");if(L){const z=[];L.forEach(w=>{if(w.options){z.push(w.label),w.options.forEach(W=>z.push(W));return}z.push(w)}),B=b(z)}const R=Math.min(B,U);return S<R&&S<E?"top-left":"bottom-left"}getRowHeight(P){const{optionsRowHeight:C=l.bJ}=this.props;return P.type&&P.type==="divider"?l.r3:C}maybeInstallListener(){var P,C;if(this.listenerInstalled)return;(P=this.context.windowRef.deref())===null||P===void 0||P.addEventListener("resize",this.onResize),(C=this.context.windowRef.deref())===null||C===void 0||C.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:M=null}=this.props;if(M){var D;(D=this.context.windowRef.deref())===null||D===void 0||D.addEventListener(M,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:P=null}=this.props;if(this.listenerInstalled){var C,M;if(this.onResize.cancel(),this.onScroll.cancel(),(C=this.context.windowRef.deref())===null||C===void 0||C.removeEventListener("resize",this.onResize),(M=this.context.windowRef.deref())===null||M===void 0||M.removeEventListener("scroll",this.onScroll),P){var D;(D=this.context.windowRef.deref())===null||D===void 0||D.removeEventListener(P,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var P,C;const{popoverProps:M={},selectState:D,minOptionsListWidth:E=null,onOpen:S=n.A,onScrollablePage:k=!1,autoClogProps:U=void 0,maxListHeight:L=l.CK,shouldAllowUnselectInSingleSelectMode:B,shouldAllowUnselectInMultiSelectMode:b,stayExpandedAfterSelection:R,selectOptionsListRef:z}=this.props,{selectId:w}=D,W=this.state.optionsListBounds||{width:0,bottom:0,left:0},K=this.getPopoverPosition({top:W.top,bottom:W.bottom}),Y=K==="top-left",X=((P=this.context.windowRef.deref())===null||P===void 0?void 0:P.innerWidth)||0;let Z=W.width;E&&W.width<E&&(Z=E);const ie=W.left-A+Z;let Ae=0;E&&ie>X&&(Ae=E-W.width);const V=(Y?W.top:(((C=this.context.windowRef.deref())===null||C===void 0?void 0:C.innerHeight)||0)-W.bottom)-p,ve=Math.min(V,L),be={...this.props,autoClogProps:U,width:Z+A*2,maxListHeight:ve,shouldAllowUnselectInSingleSelectMode:B,shouldAllowUnselectInMultiSelectMode:b,stayExpandedAfterSelection:R},{pageYOffset:Ue}=this.context.windowRef.deref()||{},Re={top:W.top+Ue+y,bottom:W.bottom+Ue-y,left:W.left-(A+Ae),width:Z};let ge;if(k){var ne;ge={height:(ne=this.context.windowRef.deref())===null||ne===void 0?void 0:ne.document.body.scrollHeight}}return t.createElement(r.A,m({elementType:d.ElementType.DROPDOWN,actionProps:h},U?{autoClogProps:U}:{}),t.createElement(o.AM,m({position:K,allowanceX:-A,ref:this.popover},M,{onClose:this.onClose,isOpen:!!D.isExpanded,key:`${w}-popover`,shouldFocusAfterRender:!1,targetBounds:Re,ariaHideApp:!1,onOpen:S},typeof ge<"u"?{overlayStyle:ge}:{},{shouldPropagateOnClose:!0}),t.createElement(a.Ay,m({},be,{ref:(0,_.A)(this.optionsListRef,z)}))))}constructor(P){super(P),this.popover=t.createRef(),this.optionsListRef=t.createRef(),this.state={optionsListBounds:null},(0,i.v)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=(0,s.A)(this.measureOptionsListAndSetState,v,{maxWait:v}),this.onScroll=(0,s.A)(this.measureOptionsListAndSetState,T,{maxWait:T}),this.listenerInstalled=null}},"SelectPopoverOptionsList");f.displayName="SelectPopoverOptionsList",f.contextType=c.Mn,f.defaultProps={includePadding:!0,window};const O=f},9573786552:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(166097325),s=e(3297051565),r=e.n(s);function c(){return c=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},c.apply(this,arguments)}u(c,"_extends");function o(a){const l={showConfirmDialog:r().func,setSelectState:r().func.isRequired,selectedOptions:r().array,selectedOption:r().object},i={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0};let d=u(class extends t.Component{setSelectState(m,h){const v=m();v.selectedOptions&&!(0,n.A)(v.selectedOptions,this.selectedOptions)||v.selectedOption&&!(0,n.A)(v.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({isExpanded:!1})),this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(m,h),this.selectedOptions=v.selectedOptions||this.selectedOptions,this.selectedOption=v.selectedOption||this.selectedOption}})):(this.props.setSelectState(m,h),this.selectedOptions=v.selectedOptions||this.selectedOptions,this.selectedOption=v.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:m}=this.props,h=m?this.setSelectState:this.props.setSelectState;return t.createElement(a,c({},this.props,{setSelectState:h}))}constructor(m){super(m),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=m.selectedOptions,this.selectedOption=m.selectedOption}},"ConfirmSelectWrapper");return d.displayName="ConfirmSelectWrapper",d.propTypes=l,d.defaultProps=i,d}u(o,"withConfirm")},2742076544:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),n=e(166097325),s=e(9113979368),r=e(7715417323),c=e(9268023148),o=e(796111729);function a(){return a=Object.assign||function(d){for(var _=1;_<arguments.length;_++){var m=arguments[_];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(d[h]=m[h])}return d},a.apply(this,arguments)}u(a,"_extends");const l=(0,o.Wo)();function i(d){let _=u(class extends t.Component{componentDidMount(){const{searchOnClick:h,disableSearchOnMount:v,expandOnFocus:T,minQueryLength:A}=this.props,{filterQuery:y}=this.state;if(!h&&!v||T){const p=!A||y&&y.length>=A;y!==void 0&&p&&this.search(y)}}componentDidUpdate(h){const{isInvalid:v,selectedOption:T,selectedOptions:A,isDisabled:y,minQueryLength:p}=this.props,f={};h.isInvalid!==v&&(f.isInvalid=v),h.isDisabled!==y&&(f.isDisabled=y),(0,n.A)(h.selectedOption,T)||(f.selectedOption=T),(0,n.A)(h.selectedOptions,A)||(f.selectedOptions=A),(0,n.A)(h.minQueryLength,p)||(f.minQueryLength=p),(0,s.A)(f)||this.setSelectState(()=>f)}componentWillUnmount(){var h;(h=this.searchAbortController)===null||h===void 0||h.abort()}setSelectState(h,v){const T=h();if(T.filterQuery!==void 0&&T.filterQuery!==this.state.filterQuery||T.searchOnClick){var A;(A=this.searchAbortController)===null||A===void 0||A.abort(),!this.state.minQueryLength||T.filterQuery&&T.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(T.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))}this.setState(()=>T,v)}search(h){const{search:v,onSearch:T=r.A,onSearchError:A=r.A,selectId:y,processOptions:p=u(O=>Promise.resolve(O),"processOptions")}=this.props;T(h),this.searchAbortController=new AbortController;const f=this.searchAbortController.signal;v(h,{abortSignal:f}).then(O=>{f.aborted||p(O,h).then(I=>{this.setSelectState(()=>({options:I})),this.setState(()=>({isLoading:!1}))})}).catch(O=>{f.aborted||(this.setState(()=>({isLoading:!1})),l.error(`Error when searching for select id: ${y}, error: ${O}`),A(O))})}render(){const h=this.props.inputRef||this.inputRef;return t.createElement(d,a({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:h,isLoading:this.state.isLoading}))}constructor(h){super(h),this.inputRef=t.createRef(),this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:h.isExpanded,expandOnFocus:h.expandOnFocus,selectId:h.selectId,selectedOptions:h.selectedOptions||[],selectedOption:h.selectedOption||null,isRequired:h.isRequired,isLoading:!1,isDisabled:h.isDisabled,isInvalid:h.isInvalid,searchOnClick:h.searchOnClick,minQueryLength:h.minQueryLength},this.search=(0,c.A)(this.search,h.debounceWaitPeriod)}},"CustomSearchWrapper");return _.displayName="CustomSearchWrapper",_.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:r.A,onSearchError:r.A,searchOnClick:!1,disableSearchOnMount:!1,processOptions:m=>Promise.resolve(m),shouldAllowUnselectInMultiSelectMode:!1,disableIdParsing:!1,autoClogProps:void 0},_}u(i,"withCustomSearch")},3239909785:(x,g,e)=>{"use strict";e.d(g,{A:()=>Ae});var t=e(9706240641),n=e(3134334389),s=e(7715417323),r=e(166097325),c=e(9113979368),o=e(9524650809),a=e(235108050),l=e(362134992),i=e(2208015175),d=e(8086952004),_=e(4360875129),m=e(2394306156),h=e(9746734072),v=e(2101927269),T=e(8840779375),A=e(9268023148),y=e(5950652755),p=e(3297051565),f=e.n(p),O=e(6422693406),I=e(9349021185),P=e(145735569),C=e(3708320478),M=e(6543729974),D=e(2170574487);function E(ae){return[...ae.filter(V=>!V.isError&&!V.isUnknown),...ae.filter(V=>!V.isError&&V.isUnknown),...ae.filter(V=>V.isError)]}u(E,"sortTokens");var S=e(9236644324),k=e(56548687),U=e(796111729),L=e(735940183),B=e(4327331459),b=e(3707193570),R=e(4862221402),z=e(9868740303),w=e(4342685672),W=e(4757466470),K=e(9391594207),Y=e(8847766420);function X(){return X=Object.assign||function(ae){for(var V=1;V<arguments.length;V++){var ve=arguments[V];for(var be in ve)Object.prototype.hasOwnProperty.call(ve,be)&&(ae[be]=ve[be])}return ae},X.apply(this,arguments)}u(X,"_extends");const Z=(0,U.Wo)(),ie=new L.Ay("form_inputs");function Ae(ae){const V={searcherOptions:f().object.isRequired,selectId:f().string.isRequired,inputRef:f().object,isRequired:f().bool,selectedOptions:f().array,selectedOption:f().object,isExpanded:f().bool,isDisabled:f().bool,isInvalid:f().bool,focusOnMount:f().bool,searchOnPaste:f().bool,expandOnFocus:f().bool,expandOnClick:f().bool,searchBatchSize:f().number,debounceWaitPeriod:f().number,onFilterQueryPaste:f().func,onInputFocused:f().func,onSearch:f().func,onSearchError:f().func,onSearchResolved:f().func,onOptionsListClose:f().func,splitPastedQuery:f().func,processOptions:f().func,processSelectedOptions:f().func,clogger:f().object.isRequired,search:f().func.isRequired,teamId:f().string.isRequired,useSearcherSessions:f().bool,showConfirmDialog:f().func,restrictedSelectedTokenIndexes:f().array,disabledSelectedTokenIndexes:f().array,invalidSelectedTokenIndexes:f().array,useBulkSearch:f().bool,shouldRefocusInputAfterSelection:f().bool},ve={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:s.A,onInputFocused:s.A,onSearch:s.A,onSearchError:s.A,onSearchResolved:s.A,onOptionsListClose:s.A,splitPastedQuery:D.I,processOptions:ge=>O.K.resolve(ge),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],disabledSelectedTokenIndexes:[],invalidSelectedTokenIndexes:[],useBulkSearch:!1,shouldRefocusInputAfterSelection:void 0};let be=u(class extends n.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(ne,ee){const{isDisabled:F,isInvalid:H,selectedOptions:j,selectedOption:N,searchOnPaste:J,expandOnFocus:le,expandOnClick:ce,restrictedSelectedTokenIndexes:Ee,disabledSelectedTokenIndexes:ye,invalidSelectedTokenIndexes:Ie}=this.props,he={};if(ne.isInvalid!==H&&(he.isInvalid=H),ne.isDisabled!==F&&(he.isDisabled=F),(0,r.A)(ne.selectedOptions,j)||(he.selectedOptions=j),(0,r.A)(ne.selectedOption,N)||(he.selectedOption=N),(ne.expandOnFocus&&!le||ne.expandOnClick&&!ce)&&(he.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,ee.selectedOptions)){var oe,de;const Ke=this.getNextUnknownTokenIndex();he.selectedTokenIndexes=[Ke],(oe=this.inputRef)===null||oe===void 0||(de=oe.current)===null||de===void 0||de.focus()}ne.restrictedSelectedTokenIndexes!==Ee&&(he.restrictedSelectedTokenIndexes=Ee),ne.disabledSelectedTokenIndexes!==ye&&(he.disabledSelectedTokenIndexes=ye),ne.invalidSelectedTokenIndexes!==Ie&&(he.invalidSelectedTokenIndexes=Ie);const{isLoading:De,pendingQueries:Te,selectedOptions:pe,pendingEscapeQueries:Me,filterQuery:ke}=this.state;if(J&&!De){if(!(0,c.A)(Te))he.isLoading=!0,he.loadInBackground=!0,this.searchQueryObjects(Te);else if(ee.isLoading){if(this.updateDisabled(!1),Me.length>0&&ke===""){const Ke=(0,L.jd)(Me.map(Ge=>Ge.query),{noConj:!0}).join(""),Ze=Me[0],{options:Q}=Ze,se=u(Ge=>Ge.map(Be=>{const{query:we,options:xe,...Oe}=Be,Xe=xe?{options:se(xe)}:{};return{...Oe,...Xe,query:Ke}}),"getUpdatedOptions"),He={...Ze,options:se(Q),query:Ke};he.pendingEscapeQueries=[],he.options=He.options,he.filterQuery=Ke,he.isExpanded=!0,he.isLoading=!1}if(pe.length){const Ke=pe.filter(Q=>Q.isError||Q.isUnknown).length,Ze=Ke?ie.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:Ke}):ie.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(Ze)}}}(0,c.A)(he)||this.setSelectState(()=>he)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}onFilterQueryPaste(ne){var ee=this;return(0,t.coroutine)(function*(){const{searchOnPaste:F,searcherOptions:H,splitPastedQuery:j,processOptions:N}=ee.props;if(!F||!ne&&!ne.clipboardData)return;ne.preventDefault();const J=ne.clipboardData.getData("text/plain")?"text/plain":"Text",le=(0,S.i_)(ne),ce=le.text,Ee=j(ce,{...H,fromMetadata:le.text!==ne.clipboardData.getData(J)});ee.props.onFilterQueryPaste(Ee);const ye=[],Ie=[];yield O.K.all(Ee.map(he=>{const Ce=ee.getQueryId();return(0,B.A)(he)||(0,R.A)(he)||(0,b.Ay)(he)?N([{key:Ce,pasted:!0,fromMetadata:!0,value:he,label:le.members?le.members[he]:he}]).then(oe=>(oe[0]&&Ie.push(oe[0]),O.K.resolve())):(ye.push({query:he,queryId:Ce,pasted:!0}),Ie.push({label:he,queryId:Ce,isLoading:!0,key:Ce,pasted:!0}),O.K.resolve())})),ee.setSelectState(he=>({pendingQueries:he.pendingQueries.concat(ye),selectedOptions:he.selectedOptions.concat(Ie),filterQuery:""})),ee.updateDisabled(!(0,c.A)(ye)),ee.updateAriaTextThrottled.cancel&&ee.updateAriaTextThrottled.cancel()})()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(ne){const{isLoading:ee,isExpanded:F,filterQuery:H}=this.state;!ee&&F&&H.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(ne)}onTokenSelect(ne){var ee=this;return(0,t.coroutine)(function*(){if(!(ee.props.expandOnClick||ee.shouldExpandOnFocus())){if(ne&&!ne.isUnknown)ee.setState(()=>({isExpanded:!1,options:[]}));else if(ne){const F=yield ee.props.processOptions(ne.resultOptions.map(H=>({...H,fromUnknown:!0})),ne.label);ee.lastShownSearchDetails=ne.searcher,ee.setState(()=>({isExpanded:!0,options:F}))}}})()}getQueryId(){return(0,o.A)("query__")}setSelectState(ne,ee){var F=this;return(0,t.coroutine)(function*(){var H;const{processSelectedOptions:j}=F.props;let N=ne(F.state);const{selectedOption:J,selectedOptions:le,shouldRefocusInputAfterSelection:ce}=F.state;ce&&(N.shouldRefocusInputAfterSelection=!0),N.filterQuery!==void 0&&N.filterQuery!==F.state.filterQuery&&(N.isLoading=!0,N.loadInBackground=!1,F.searchQuery(N.filterQuery));const{searchOnPaste:Ee}=F.props;if(Ee&&N.selectedOptions){const Ie=N.selectedOptions.map(Ce=>{let{key:oe}=Ce;return oe}),he=(0,a.A)((0,l.A)(Ie.filter(Ce=>Ie.indexOf(Ce)!==Ie.lastIndexOf(Ce))));(0,i.A)(he,Ce=>{const oe=(0,d.A)(N.selectedOptions,De=>{let{key:Te,isUnknown:pe}=De;return Te===Ce&&!pe}),de=(0,l.A)(N.selectedOptions.map(De=>De.key===Ce?De.isUnknown?oe:null:De));N.selectedOptions=de})}if(N.selectedOptions!==void 0&&!(0,r.A)(N.selectedOptions,le)){const Ie=N.selectedOptions.filter(Ce=>{let{isLoading:oe,isUnknown:de}=Ce;return!oe&&!de}),[he]=(0,_.A)(Ie,le,"value");he&&F.clogSearcherResults(he)}N.selectedOption!==void 0&&N.selectedOption!==null&&((H=N.selectedOption)===null||H===void 0?void 0:H.value)!==(J==null?void 0:J.value)&&F.clogSearcherResults(N.selectedOption);const ye=!!N.removalInitiator;if(N.selectedOptions&&!ye&&j){if(N=(0,m.A)(N),N.isLoading!==void 0){const Ie=N.isLoading;F.setState(()=>({isLoading:Ie})),delete N.isLoading}N.selectedOptions=yield j(N.selectedOptions)}F.setState(()=>N,ee)})()}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(ne=>ne.isUnknown&&ne.queryId)}wasUnknownTokenResolved(ne,ee){const F=ne.filter(j=>j.isUnknown).length,H=ee.filter(j=>j.isUnknown).length;return F<H}shouldExpandOnFocus(){const{expandOnFocus:ne}=this.props,{selectedOptions:ee}=this.state,F=(0,M.A)(ee);return ne&&!F}clogSearcherResults(ne){if(this.lastShownSearchDetails===null)return;const{clogger:ee,selectId:F,useSearcherSessions:H,teamId:j}=this.props,{query:N,results:J}=this.lastShownSearchDetails,le={source:F,query:N,results:J};ne?(le.selectedItemId=ne.value,H?(0,z.A)({teamId:j,key:F}).clogSearcherAccept({clogger:ee,data:le}):(0,I.DC)({clogger:ee,data:le})):H?(0,z.A)({teamId:j,key:F}).clogSearcherReject({clogger:ee,data:le}):(0,I.Yb)({clogger:ee,data:le})}processSearchResults(ne){const{searchOnPaste:ee,onSearchResolved:F,searcherOptions:H}=this.props,{escapeHatchEnabled:j,escapeHatchKeys:N}=H,J=this.state.selectedOptions.slice(0);ee&&ne.forEach(le=>{let{queryId:ce,options:Ee,searcher:ye}=le;const Ie=J.findIndex(oe=>oe.queryId===ce),he=J[Ie];let Ce=null;if(he){this.lastShownSearchDetails=ye;let oe;Ee.length===1?(oe=Ee[0],j&&ye&&ye.results&&ye.results.length===0&&ye.pasted&&N&&N[oe.key]&&this.setState(De=>({pendingEscapeQueries:[...De.pendingEscapeQueries,{query:ye.query,options:[oe]}]})),this.clogSearcherResults(oe)):Ee.length?oe={isUnknown:!0}:(oe={isError:!0},this.clogSearcherResults()),Ce={...he,...oe,resultOptions:Ee,searcher:ye,isLoading:!1},J[Ie]=Ce}F({result:Ee,selectedOption:Ce})}),this.setState(le=>{if((0,W.Ay)(le.selectedOptions,J,2)){const{options:ce,searcher:Ee}=ne[0];return this.lastShownSearchDetails=Ee,le.loadInBackground?null:{options:ce}}return{selectedOptions:E(J)}})}runBatchedSearch(ne){const ee=ne.slice(0,this.props.searchBatchSize);if(ne.length>1&&this.props.useBulkSearch){const H=ee.some(N=>!!N.pasted),j=ee.some(N=>!!N.initial);return this.runSingleSearch({query:ee,pasted:H,initial:j})}const F=ee.map(H=>{let{query:j,queryId:N,pasted:J,initial:le}=H;return this.runSingleSearch({query:j,queryId:N,pasted:J,initial:le})});return O.K.all(F)}runSingleSearch(ne){let{query:ee,queryId:F,pasted:H,initial:j}=ne;const{onSearch:N,onSearchError:J,processOptions:le,searcherOptions:ce,selectId:Ee,useSearcherSessions:ye,teamId:Ie,useBulkSearch:he}=this.props;let Ce,oe,de=!1;const De=F||this.getQueryId(),Te=new Map;if((0,h.A)(ee)&&he?(Ce=ee.map(ke=>(Te.set(ke.queryId,ke.query),{query:(0,D.t)(ke.query,ce),queryId:ke.queryId})),de=!0):oe=(0,D.t)(ee,ce),oe&&N(ee)===!1)return le([],oe).then(ke=>({queryId:De,options:ke,searcher:this.lastShownSearchDetails}));let pe;ye&&(!H||de)?pe=(0,z.A)({teamId:Ie,key:j?De:Ee}).search({query:de?Ce:oe,options:{...ce,sort:{source:Ee,...ce.sort},returnMetadata:!0}}):pe=this.props.search({query:de?Ce:oe,options:{...ce,sort:{source:Ee,...ce.sort},returnMetadata:!0}});var Me=this;return pe.then(function(){var ke=(0,t.coroutine)(function*(Ke){Me.lastShownSearchDetails={query:de?Ce:oe,results:Ke};const Ze=(Ke||[]).map((He,Ge)=>{var Be;return{key:de?He.queryId:`${De}_${Ge}`,value:He.item.id,label:He.name||((Be=He.item)===null||Be===void 0?void 0:Be.name)||(de?Te.get(He.queryId):ee),entity:He.item,matchData:He.subqueryScoresByMember}}),{selectedOption:Q}=Me.state;oe===""&&Q&&((0,d.A)(Ze,["value",Q.value])||Ze.unshift(Q));const se=yield le(Ze,ee,{pasted:H});return{queryId:De,options:se,searcher:{...Me.lastShownSearchDetails,pasted:H}}});return function(Ke){return ke.apply(this,arguments)}}()).catch(ke=>{Z.error(`Error when searching for select id: ${Ee}, error: ${ke}`),J(ke);const Ke=[];return{queryId:De,options:Ke,searcher:{query:de?Ce:oe,results:Ke,pasted:H,isError:!0}}})}searchQuery(ne){this._isMounted&&this.searchQueryObjects([{query:ne}])}searchQueryObjects(ne){if((0,c.A)(ne))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:F,queryId:H}=ne[0];this.searchPromise=this.runSingleSearch({query:F,queryId:H}).then(j=>{let{options:N}=j;this.setSelectState(()=>({options:N})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(ne).then(F=>{let H=F;this.props.useBulkSearch&&(H=this.generateBulkSearchResultsArray(H)),this.processSearchResults(H);const j=H.map(N=>{let{queryId:J}=N;return J});this.setState(N=>({pendingQueries:N.pendingQueries.filter(le=>{let{queryId:ce}=le;return!j.includes(ce)}),isLoading:!1}))});const ee=ie.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:ne.length});this.updateAriaTextThrottled(ee)}updateAriaText(ne){this.setState(ee=>ee.ariaText===ne?null:{ariaText:ne})}updateDisabled(ne){this.setState(ee=>ee.isDisabled===ne?null:{isDisabled:ne})}generateBulkSearchResultsArray(ne){var ee;if(!(!(ne==null||(ee=ne.options)===null||ee===void 0)&&ee.length))return ne.splice(0);const{options:F,searcher:H}=ne,{pasted:j,query:N,results:J}=H;return N.map(ce=>({options:F.filter(Ee=>Ee.key===ce.queryId),queryId:ce.queryId,searcher:{pasted:j,query:ce.query,results:J.filter(Ee=>Ee.queryId===ce.queryId)}}))}render(){return n.createElement(n.Fragment,null,n.createElement(ae,X({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),n.createElement(C.A,{message:this.state.ariaText}))}constructor(ne){super(ne),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:ee,searchOnPaste:F}=ne,H=(0,v.A)(ee,N=>(0,P.iC)(N));let j=[];F&&(j=(0,l.A)((0,T.A)(H,N=>!N.label||!N.queryId?null:{query:N.label,queryId:N.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:ne.isExpanded,selectId:ne.selectId,selectedOptions:ne.selectedOptions||[],selectedOption:ne.selectedOption||null,isRequired:ne.isRequired,isLoading:!1,isDisabled:ne.isDisabled,isInvalid:ne.isInvalid,pendingQueries:j||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!ne.showConfirmDialog||ne.shouldRefocusInputAfterSelection,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:ne.restrictedSelectedTokenIndexes||[],disabledSelectedTokenIndexes:ne.disabledSelectedTokenIndexes||[],invalidSelectedTokenIndexes:ne.invalidSelectedTokenIndexes||[]},this.searchQuery=(0,A.A)(this.searchQuery,ne.debounceWaitPeriod),this.updateAriaTextThrottled=(0,y.A)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=ne.inputRef||n.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");be.displayName="SearcherSelectWrapper",be.propTypes=V,be.defaultProps=ve;const Ue=u(ge=>({clogger:(0,k.e)({state:ge}),teamId:(0,Y.JY)(ge),useSearcherSessions:(0,w.nK)(ge)}),"mapStateToProps"),Re={search:function(){for(var ge=arguments.length,ne=new Array(ge),ee=0;ee<ge;ee++)ne[ee]=arguments[ee];return(0,I.$P)(...ne)}};return(0,K.N)(Ue,Re)(be)}u(Ae,"withSearcher")},2602118042:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),n=e(5846524816);function s(){return s=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},s.apply(this,arguments)}u(s,"_extends");const r={textSelectLabel:void 0,minOptionsListWidth:null,ariaLabel:""};function c(a){return t.createElement(n.A,s({},a,{textSelect:!0}))}u(c,"TextSelect"),c.displayName="TextSelect",c.defaultProps=r;const o=c},2864323261:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(8003851355);const n=u(function(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;if(!a)return o;const{label:l,options:i}=a,d=new t.A(r,{fuzzyLimit:3,...c});if(!i)isFinite(d.normalizeAndScore(l))&&o.push(a);else{const _=[];i.forEach(m=>{const{label:h}=m;isFinite(d.normalizeAndScore(h))&&_.push(m)}),_.length&&o.push({label:a.label,options:_})}return o},"findMatches");function s(r,c){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c?r.reduce((a,l)=>n(c,o,a,l),[]):r}u(s,"defaultFilter")},6543729974:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(9113979368),n=e(1703559452),s=e(145735569);function r(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,t.A)(c)?!1:(0,n.A)(c,o=>(0,s.hH)(o))}u(r,"__WEBPACK_DEFAULT_EXPORT__")},3650946343:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(9113979368),n=e(2101927269),s=e(4724591729),r=e(796111729);function c(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if((0,t.A)(o))return!1;const a=(0,n.A)(o,l=>(l&&!l.message&&(0,s.Cu)()&&(0,r.Wo)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${l.id}, message: ${l.message}}`),l&&!!l.message));return!(0,t.A)(a)}u(c,"__WEBPACK_DEFAULT_EXPORT__")},2170574487:(x,g,e)=>{"use strict";e.d(g,{I:()=>a,t:()=>l});var t=e(3044566667);const n=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],s=new RegExp(`[${n}]`),r=new RegExp(`<(${t.gy})>`,"i"),c=new RegExp(`\\((${t.gy})\\)`,"i"),o=/(?=\s+[@\uFF20])/g;function a(i){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=[];return d.entities&&d.entities.members&&d.entities.members.matchEmailField&&(r.test(i)||c.test(i))?_=i.match(new RegExp(t.tN.CONTAINS_EMAIL,"gi")):s.test(i)?_=i.split(s):d.fromMetadata?_=i.split(/\s+/):d.entities&&d.entities.members&&o.test(i)&&(_=i.split(o)),(!_||!_.length)&&(_=i.split(/\s+/)),_.map(m=>m.trim()).filter(m=>Boolean(m))}u(a,"defaultSplitQuery");function l(i){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=i;return d.entities&&d.entities.members&&d.entities.members.matchEmailField&&t.tN.CONTAINS_EMAIL.test(i)&&(_=i.match(t.tN.CONTAINS_EMAIL)[0]),_}u(l,"parseQueryForSearch")},7772530643:(x,g,e)=>{"use strict";e.d(g,{k:()=>n});var t=e(2864323261);const n=u(function(r,c){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c.filterQuery===void 0?c:{...c,options:(0,t.A)(r,c.filterQuery,o)}},"defaultFilter"),s=u((r,c)=>r.reduce((o,a)=>a(o),c),"applyTransforms")},1959847761:(x,g,e)=>{"use strict";e.d(g,{A:()=>s,e:()=>n.ex});var t=e(1211063534),n=e(5139334449);const s=t.A},1211063534:(x,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),n=e(5255740490),s=e(5950652755),r=e(7715417323),c=e(1641606663),o=e(8245211418),a=e(5139334449),l=e(6900724603);function i(){return i=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(f[P]=I[P])}return f},i.apply(this,arguments)}u(i,"_extends");const d=1,_=10,m=10,h=2,v=12,T=50;let A=u(class extends t.PureComponent{componentDidMount(){if(this.state.isOpen){var O;(O=this.context.windowRef.deref())===null||O===void 0||O.document.addEventListener("mousemove",this.onMouseMove)}}static getDerivedStateFromProps(O,I){return O.isOpen!==I.passedIsOpen?{isOpen:O.isOpen,passedIsOpen:O.isOpen}:null}componentDidUpdate(O){if(O.isOpen!==this.props.isOpen)if(this.state.isOpen){var I;this.forceUpdate(),(I=this.context.windowRef.deref())===null||I===void 0||I.document.addEventListener("mousemove",this.onMouseMove)}else{var P;(P=this.context.windowRef.deref())===null||P===void 0||P.document.removeEventListener("mousemove",this.onMouseMove)}this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){var O;(O=this.context.windowRef.deref())===null||O===void 0||O.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(O){const I={x:O.clientX,y:O.clientY},P=this.mouseProgressingTowardsSubmenu(I);P!==this.state.mouseProgressingTowardsSubmenu&&(P?this.props.preventHighlightChange():this.state.highlightChangePrevented||this.props.allowHighlightChange()),this.setState(()=>({mouseCoordinates:I,mouseProgressingTowardsSubmenu:P}))}onSubmenuItemSelected(O,I){this.props.menuCallback(this.props.menuCallbackId,I)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const O=this.getContentBounds(),I=this.getTriggerBounds(),P={...this.props.submenuStyle},C=this.context.windowRef.deref();if((O==null?void 0:O.width)===void 0||(I==null?void 0:I.left)===void 0||!C)return P;const M=I.right+O.width>C.innerWidth,D=I.left>O.width,E=this.props.forceLeft||M&&D;M&&!D?P.left=C.innerWidth-O.width-_:E?P.left=I.left-O.width+h:P.left=I.right-h;const k=I.top-v,U=k+O.height>C.innerHeight-m;return P.top=U?C.innerHeight-m-O.height:k,P}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(O){this.submenuContainer=O}setTriggerRef(O){this.trigger=O}allowHighlightChange(){this.setState(O=>({...O,highlightChangePrevented:!1}))}closeSubmenu(){this.props.returnKBNav(),this.setState(()=>({isOpen:!1}),()=>{var O;(O=this.context.windowRef.deref())===null||O===void 0||O.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(O){const{mouseCoordinates:I}=this.state,P=this.getContentBounds();if(P){const{left:C,right:M,top:D,bottom:E}=P;if(O.x>=C&&O.x<=M&&O.y>=D&&O.y<=E)return!0;if(I){const k=Math.abs(M-I.x)>Math.abs(C-I.x),U={x:k?C:M,y:D-d},L={x:k?C:M,y:E+d},B={x:k?I.x-d:I.x+d,y:I.y};return(0,l._i)(O,B,U,L)}}return!1}preventHighlightChange(){this.setState(O=>({...O,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const O=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),I=this.getSubmenuContainerStyle(),P=(0,n.A)("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return t.createElement("div",{role:"presentation",className:P,ref:this.setSubmenuRef,style:I,"data-qa":"submenu_container"},O)}render(){const{menuCallback:O,menuCallbackId:I,...P}=this.props;return t.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},t.createElement(o.A,i({},P,{withSubmenu:!0})),this.renderSubmenu())}constructor(O){super(O),this.state={isOpen:!1,passedIsOpen:!1,mouseCoordinates:void 0,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},this.closeSubmenu=this.closeSubmenu.bind(this),this.setSubmenuRef=this.setSubmenuRef.bind(this),this.setTriggerRef=this.setTriggerRef.bind(this),this.onMouseMove=(0,s.A)(this.onMouseMove.bind(this),T),this.onSubmenuItemSelected=this.onSubmenuItemSelected.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this)}},"Submenu");A.displayName="Submenu",A.defaultProps={isOpen:!1,menuCallback:r.A,menuCallbackId:null,kbNavActive:!1,returnKBNav:r.A,preventHighlightChange:r.A,allowHighlightChange:r.A,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,showFullCarat:!1,icon:null},A.contextType=c.Mn;const y={Submenu:A,SUBMENU_OVERLAP:h,MENU_VERTICAL_MARGIN:v,ALLOWANCE_X:_,ALLOWANCE_Y:m},p=(0,a.Ay)(A)},5139334449:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>d,ex:()=>i});var t=e(2208015175),n=e(3297051565),s=e.n(n),r=e(101973425),c=e(4724591729),o=e(796111729);const a="_isSlackSubmenuItem",l={...r.LN,kbNavActive:s().bool,stealKBNav:s().func,returnKBNav:s().func,preventHighlightChange:s().func,allowHighlightChange:s().func};function i(_){return!!_[a]}u(i,"isSubmenu");function d(_){if((0,c.Cu)()){const m=_.propTypes||{};let h;Object.defineProperty(_,"propTypes",{get:()=>h,set:v=>{const T=_.displayName||_.name||"Component";(0,t.A)(l,(A,y)=>{const p=v[y];p&&p!==A&&p!==A.isRequired&&(0,o.Wo)().warn(`${T}'s ${y} prop type doesn't match submenu`)}),h={...l,...v}}}),_.propTypes=m}return _[a]=!0,_[r.KJ]=!0,_}u(d,"wrapSubmenu")},4525741652:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),n=e(5255740490);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o[i]=l[i])}return o},s.apply(this,arguments)}u(s,"_extends");const c=(0,t.forwardRef)((o,a)=>{let{tabContent:l,fullHeight:i,className:d,role:_="tabpanel",...m}=o;const h=(0,n.A)(d,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":i});return t.createElement("div",s({role:_,className:h,"data-qa":"tabs_content_container",ref:a},m),l)})},6130762911:(x,g,e)=>{"use strict";e.d(g,{T:()=>s});var t=e(3134334389);const n={isSelected:!1,hasMouseHover:!1,hasKeyboardFocus:!1,isUserAttentionOnTab:!1},s=(0,t.createContext)(n)},4986936311:(x,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3134334389),n=e(5255740490),s=e(8628145494),r=e(9268023148),c=e(4980558152),o=e(9508636131),a=e(5914783706),l=e(3749524846),i=e(9332393661),d=e(6084388622),_=e(1610251172),m=e(8683010724),h=e(6130762911),v=e(7239742441),T=e(698347924);function A(M){return/\.(jpe?g|png|gif|bmp)$/i.test(M)}u(A,"hasImageExtention");const y=A;function p(){return p=Object.assign||function(M){for(var D=1;D<arguments.length;D++){var E=arguments[D];for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(M[S]=E[S])}return M},p.apply(this,arguments)}u(p,"_extends");const f=u(M=>{let{icon:D,svgIcon:E,customIcon:S,className:k}=M;return t.createElement("div",{className:k,"data-qa":"tabs_item_render_icon"},!S&&D&&!E&&t.createElement(_.A,{type:D,size:"inherit",inline:!0}),!S&&E&&!D&&t.createElement(m.A,p({},E)),S&&S)},"TabsItemIcon");f.displayName="TabsItemIcon";const O=u(M=>M>=1e4?(0,v.$k)(M,{precision:4,decimal_places:0,lowercase:!0}):(0,T.Ay)(M),"formatNumber"),I=u(M=>{let{shouldFormatCount:D,titleCount:E,maxTitleCount:S}=M;if(!E)return E;const k=S&&E>S;let U=k?S:E;return D&&(U=O(U)),k?`${U}+`:U},"formatCount"),P=(0,t.forwardRef)((M,D)=>{let{label:E,onClick:S,title:k,isSelected:U,isFocused:L,focusOnMount:B,fullWidth:b,titleCount:R,maxTitleCount:z,icon:w,svgIcon:W,customIcon:K,formatCount:Y,isLoading:X,isCountLoading:Z,isDisabled:ie,iconPosition:Ae="right",className:ae="",contextMenuAriaLabel:V,contextMenuTemplate:ve,ariaRole:be="tab",ariaHaspopup:Ue=!1,...Re}=M;const ge=(0,o.A)(D),[ne,ee]=(0,t.useState)(!1),F=(0,t.useContext)(l.A),H=(0,n.A)(ae,"c-tabs__tab","js-tab",{"c-tabs__tab--active":U,"c-tabs__tab--full_width":b}),j=E||k,N=typeof j=="string"&&y(j)?t.createElement(i.A,{classes:"c-tabs__tab_image",image:j,ariaHidden:!0}):j,J=Re.id,le=(0,t.useCallback)(Me=>{S&&S(J,Me)},[J,S]),ce=I({shouldFormatCount:Y,titleCount:R,maxTitleCount:z}),Ee=(0,s.A)(L)?U:L,ye=(0,a.A)(Ee);(0,t.useEffect)(()=>{if(!Ee)return;const Me=(0,s.A)(ye);if(Me&&B||!Me&&!ye){var ke;(ke=ge.current)===null||ke===void 0||ke.focus()}},[Ee,ye,B,ge]);const Ie=(0,t.useCallback)(()=>ve,[ve]),he=(0,r.A)(()=>ee(!0),25),Ce=(0,r.A)(()=>ee(!1),25),oe=(0,t.useCallback)(()=>{Ce.cancel(),he()},[he,Ce]),de=(0,t.useCallback)(()=>{he.cancel(),Ce()},[he,Ce]),De=F&&(L??!1),Te=(0,t.useMemo)(()=>({isSelected:U??!1,hasMouseHover:ne,hasKeyboardFocus:De,isUserAttentionOnTab:U||ne||De}),[De,ne,U]);let pe=t.createElement(d.Nm,p({},Re,{onClick:le,onMouseOver:oe,onMouseOut:de,role:be,className:H,"aria-selected":U,"aria-haspopup":Ue,tabIndex:Ee?0:-1,disabled:ie,ref:ge}),X?t.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.createElement(t.Fragment,null,(!!w||!!W||!!K)&&Ae==="left"&&t.createElement(f,{icon:w,svgIcon:W,customIcon:K,className:"c-tabs__tab_icon--left"}),t.createElement("span",{className:"c-tabs__tab_content"},N),Number.isFinite(R)&&t.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},ce),Z&&t.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!w||!!W||!!K)&&Ae==="right"&&t.createElement(f,{icon:w,svgIcon:W,customIcon:K,className:"c-tabs__tab_icon--right"})));return ve&&(pe=t.createElement(c.A,{getTemplate:Ie,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",menuAriaLabel:V},pe)),t.createElement(h.T.Provider,{value:Te},pe)});P.displayName="TabsItem";const C=P},2293211408:(x,g,e)=>{"use strict";e.d(g,{A:()=>ie});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3514831633),c=e(8773153312),o=e(8683010724),a=e(4986936311),l=e(2312625946);const i={name:"ellipsis-horizontal",variation:"filled"},_=(0,t.forwardRef)((Ae,ae)=>{let{renderMenu:V,position:ve,label:be,id:Ue,isSelected:Re,isFocused:ge}=Ae;return t.createElement(r.cQ,{renderMenu:V,position:ve||"bottom-left"},t.createElement(l.Ay,{tip:be,position:"top",offsetY:6},t.createElement(a.A,{id:Ue,"aria-label":be,isSelected:Re,isFocused:ge,className:"c-tabs__tab_overflow",svgIcon:i,ref:ae})))});var m=e(5238395322);const h=53,v=27;function T(Ae){const ae=Ae.ownerDocument.defaultView;if(!ae)return Ae.offsetWidth;const V=ae.getComputedStyle(Ae),ve=parseFloat(V.getPropertyValue("margin-left"))+parseFloat(V.getPropertyValue("margin-right"));return Ae.offsetWidth+ve}u(T,"getWidth");function A(Ae){const ae=Ae.ownerDocument.defaultView;if(!ae)return Ae.offsetHeight;const V=ae.getComputedStyle(Ae),ve=parseFloat(V.getPropertyValue("margin-top"))+parseFloat(V.getPropertyValue("margin-bottom"));return Ae.offsetHeight+ve}u(A,"getHeight");const y=u((Ae,ae)=>{let{outerElement:V,innerElement:ve,threshold:be,totalTabsLength:Ue,childElements:Re,containerSize:ge,isHorizontal:ne}=Ae;if(!V||!ve||!Re||Ue===0)return;const ee=ge-be,F=ne?T:A,H=Array.from(Re).map(ce=>F(ce));if((0,m.A)(H)<ee&&H.length===Ue){ae(Ue);return}let N=ne?h:v,J=ee,le=1;H.forEach(ce=>{N+=ce,N<ee&&ce<=J&&(le+=1),J-=ce}),ae(le)},"recalculateVisibleTabs");var p=e(4525741652),f=e(8226269261),O=e(8214116048),I=e(3078252698);const C=u(Ae=>(0,I.A)(Ae),"isReactNodeAString");var M=e(4426213732),D=e(1224315998),E=e(2790183459),S=e(4724591729),k=e(8017095033),U=e(796111729),L=e(5124217244),B=e(735940183);function b(){return b=Object.assign||function(Ae){for(var ae=1;ae<arguments.length;ae++){var V=arguments[ae];for(var ve in V)Object.prototype.hasOwnProperty.call(V,ve)&&(Ae[ve]=V[ve])}return Ae},b.apply(this,arguments)}u(b,"_extends");const R=new B.Ay("slack-kit"),z=85,w=52,W=["ArrowLeft"],K=["ArrowRight"],Y=W.concat("ArrowUp"),X=K.concat("ArrowDown");let Z=u(class extends t.PureComponent{setVisibleTabs(ae){this.setState(()=>({numOfVisibleTabsShown:ae}))}onResize(){var ae,V,ve,be,Ue,Re,ge,ne,ee,F;const H=this.props.orientation===O.t4.Horizontal,j=H?(ae=this.tabsContainerRef)===null||ae===void 0||(V=ae.current)===null||V===void 0?void 0:V.clientWidth:(ve=this.tabsContainerRef)===null||ve===void 0||(be=ve.current)===null||be===void 0?void 0:be.clientHeight;if(!j)return;const N=H?z:w,J={outerElement:(Ue=this.tabsContainerRef)===null||Ue===void 0||(Re=Ue.current)===null||Re===void 0?void 0:Re.getBoundingClientRect(),innerElement:(ge=this.lastVisibleTabRef)===null||ge===void 0||(ne=ge.current)===null||ne===void 0?void 0:ne.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(ee=this.tabsContainerRef)===null||ee===void 0||(F=ee.current)===null||F===void 0?void 0:F.children};y({...J,threshold:N,containerSize:j,isHorizontal:H},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}),()=>{var le,ce;return(ce=(le=this.props).onTabsResized)===null||ce===void 0?void 0:ce.call(le)})}componentDidMount(){this._isMounted=!0;const{maxSize:ae}=this.props;if(ae&&!this.resizeListener){var V;this.resizeListener=(0,L.A)(this.onResize),this.resizeListener.observe((V=this.tabsContainerRef)===null||V===void 0?void 0:V.current)}}componentDidUpdate(ae,V){var ve;const{defaultTabId:be,tabs:Ue,manualTabActivation:Re}=this.props;var ge;((ge=(ve=ae.tabs)===null||ve===void 0?void 0:ve.length)!==null&&ge!==void 0?ge:0)!==Ue.length&&this.updateSelectedTab(),be!==ae.defaultTabId&&be&&this.selectTab(be,void 0);const ne=V.numOfVisibleTabsShown!==this.state.numOfVisibleTabsShown,ee=V.selectedTabId!==this.state.selectedTabId&&!Re;(ne||ee)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var ae;(ae=this.resizeListener)===null||ae===void 0||ae.disconnect(),this.resizeListener=null}}onFocus(ae){const{focusedTabIndex:V}=this.state,ve=this.getTabIndexById(ae.target.id);ve!==V&&this.focusTab(ve);const{onFocus:be}=this.props;be==null||be(ae)}onBlur(ae){const{onBlur:V}=this.props;V==null||V(ae)}onKeyDown(ae){const V=ae.key;if(ae.shiftKey||ae.metaKey||ae.ctrlKey||ae.altKey)return;const be=this.props.orientation==="vertical",Ue=be?X:K,Re=be?Y:W;if(!["Home","End"].concat(Ue,Re).includes(V))return;const ne=Ue.includes(V),ee=Re.includes(V);ae.preventDefault(),ne&&this.onNextArrow(ae),ee&&this.onPreviousArrow(ae),V==="Home"&&this.onHome(ae),V==="End"&&this.onEnd(ae)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:ae}=this.props,{numOfVisibleTabsShown:V}=this.state;return ae.slice(V,ae.length)}getVisibleTabs(){var ae,V;const{tabs:ve,maxSize:be}=this.props;if(!!!be)return ve;const Re=((ae=this)===null||ae===void 0||(V=ae.state)===null||V===void 0?void 0:V.numOfVisibleTabsShown)||ve.length;return ve.length===Re?ve:ve.slice(0,Re).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(ae=>{let{id:V}=ae;return V})}getTabById(ae){var V;return(V=this.props.tabs)===null||V===void 0?void 0:V.find(ve=>ve.id===ae)}getTabIndexById(ae){return this.getVisibleTabIds().indexOf(ae)}onHome(ae){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:V,manualTabActivation:ve,onTabChange:be}=this.props,Ue=this.getVisibleTabIds(),Re=0;if(this.focusTab(Re),ve)return;const ge=Ue[Re];ge!==this.overflowTabId&&(V==null?void 0:V(ge))!==!1&&this.setState(()=>({selectedTabId:ge}),()=>{be==null||be(ge,ae)})}onEnd(ae){const V=this.getVisibleTabIds(),ve=V.length-1;if(this.state.focusedTabIndex===ve)return;const{onTabWillChange:be,manualTabActivation:Ue,onTabChange:Re}=this.props;if(this.focusTab(ve),Ue)return;const ge=V[ve];ge!==this.overflowTabId&&(be==null?void 0:be(ge))!==!1&&this.setState(()=>({selectedTabId:ge}),()=>Re==null?void 0:Re(ge,ae))}onNextArrow(ae){const{onTabWillChange:V,manualTabActivation:ve,onTabChange:be}=this.props,Ue=this.getVisibleTabIds(),Re=this.getTabIndexById(ae.target.id),ge=Re>=Ue.length-1?0:Re+1;if(this.focusTab(ge),ve)return;const ne=Ue[ge];ne!==this.overflowTabId&&(V==null?void 0:V(ne))!==!1&&this.setState(()=>({selectedTabId:ne}),()=>be==null?void 0:be(ne,ae))}onPreviousArrow(ae){const{onTabWillChange:V,manualTabActivation:ve,onTabChange:be}=this.props,Ue=this.getVisibleTabIds(),Re=this.getTabIndexById(ae.target.id),ge=Re===0?Ue.length-1:Re-1;if(this.focusTab(ge),ve)return;const ne=Ue[ge];ne!==this.overflowTabId&&(V==null?void 0:V(ne))!==!1&&this.setState(()=>({selectedTabId:ne}),()=>be==null?void 0:be(ne,ae))}getNextTabId(){const{defaultTabId:ae,tabs:V,currentTabId:ve}=this.props,be=ae?this.getTabIndexById(ae):void 0,Ue=ve?this.getTabIndexById(ve):void 0;return ve&&Ue?ve:ae&&be?ae:V[0].id}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const ae=this.getNextTabId();ae!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:ae}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:ae}=this.focusedTabRef;if(ae)return ae.focus(),!0;const V=this.props.currentTabId||this.state.selectedTabId,ve=this.getTabIndexById(V)||0;return this.focusTab(ve),!0}focusTab(ae){this.setState(()=>({focusedTabIndex:ae}))}selectTab(ae,V){const{onTabWillChange:ve,onTabChange:be}=this.props,Ue=this.getTabById(ae);if(!Ue)return null;if((ve==null?void 0:ve(ae))!==!1){if(Ue.isExternalLink){var Re;return(Re=Ue.onClick)===null||Re===void 0?void 0:Re.call(Ue,ae,V)}return this.setState(()=>({selectedTabId:ae}),()=>{if(be==null||be(ae,V),this.props.focusOnFirstFocusableChildOnChange){const ge=this.panelRef&&this.panelRef.current,ne=(0,k.Fp)(ge);ne==null||ne.focus()}}),null}}updateFocusedTabIndex(){const ae=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(ae)}))}onTabClick(ae,V){var ve;const be=this.getTabById(ae);be&&(be.isExternalLink||this.selectTab(be.id,V),be==null||(ve=be.onClick)===null||ve===void 0||ve.call(be,be.id,V))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabLabel(ae){const V=R.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return V;const ve=this.getTabById(ae);if(!ve)return V;const be=ve["aria-label"]||ve.label||ve.title;return!be||!C(be)?V:R.t("More: {selectedTabLabel}",{selectedTabLabel:be,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(ae,V){const{tabs:ve,fullWidthMenu:be,orientation:Ue,iconPosition:Re,focusOnMount:ge}=this.props,ne=this.state.focusedTabIndex===V,ee=ne?this.focusedTabRef:void 0,F=ae.autoClogProps?{...this.autoClogProps,...ae.autoClogProps,elementType:D.ElementType.TAB}:this.autoClogProps,H=V===ve.length-1?this.lastVisibleTabRef:void 0,j=H?(0,E.A)(ee,H):ee,N=this.props.currentTabId||this.state.selectedTabId,J=N===ae.id;return ae.id===this.overflowTabId?t.createElement(_,{renderMenu:this.renderOverflowMenu,position:"bottom-left",label:this.renderOverflowTabLabel(N),isSelected:!this.isSelectedTabVisible(),isFocused:ne,ref:j,id:ae.id,key:ae.id}):t.createElement(a.A,{key:ae.id,id:ae.id,icon:ae.icon,svgIcon:ae.svgIcon,customIcon:ae.customIcon,label:ae.label||ae.title,onClick:this.onTabClick,autoClogProps:F,isSelected:J,isFocused:ne,focusOnMount:ge,isDisabled:ae.isDisabled,fullWidth:be||Ue==="vertical",titleCount:ae.titleCount,maxTitleCount:ae.maxTitleCount,"aria-label":ae["aria-label"],"aria-describedby":ae["aria-describedby"],"data-qa":ae["data-qa"]||"tabs_item","aria-haspopup":ae["aria-haspopup"],ref:j,formatCount:this.props.formatCount,isLoading:ae.isLoading,isCountLoading:ae.isCountLoading,iconPosition:Re,className:ae.className,contextMenuAriaLabel:ae.contextMenuAriaLabel,contextMenuTemplate:ae.contextMenuTemplate})}renderTabsItems(){return this.getVisibleTabs().map((V,ve)=>{typeof V.label!="string"&&!t.isValidElement(V.label)&&typeof V.title!="string"&&!t.isValidElement(V.title)&&!V["aria-label"]&&((0,S.Cu)()||(0,S.b3)())&&(0,U.Wo)().error("Tabs requires either a label of type string, or an aria-label.");const be=this.renderTabsItem(V,ve);return V.renderWrapper?t.createElement(t.Fragment,{key:V.id},V.renderWrapper(be)):be})}renderOverflowMenu(ae){var V;const{selectedTabId:ve}=this.state,be=(V=this.getHiddenTabs())===null||V===void 0?void 0:V.map(Ue=>({label:Ue.label||Ue.title,id:Ue.id,click:Re=>this.onTabClick(Ue.id,Re),key:Ue.id,type:c.A.radio,checked:Ue.id===ve,icon:Ue.svgIcon?t.createElement(o.A,b({size:"18"},Ue.svgIcon)):null,className:"c-tabs__tab_overflow_menu_item"}));return t.createElement(r.a,b({width:"200px"},ae,{template:be}))}renderTabPanelLabel(ae){const V=this.getTabById(ae);if(!V)return;const ve=V["aria-label"]||V.label||V.title;if(C(ve))return ve}render(){var ae;const{fullHeight:V,fullWidthMenu:ve,className:be,orientation:Ue,tabMenuClassnames:Re,tabPanelClassnames:ge,ariaLabel:ne,currentTabId:ee,maxSize:F}=this.props,H=ee||this.state.selectedTabId;var j;const N=(j=(ae=this.getTabById(H))===null||ae===void 0?void 0:ae.content)!==null&&j!==void 0?j:"",J=(0,n.A)(be,{"c-tabs__tab_container--full_height":V,"c-tabs__tab_container--vertical":Ue==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!F}),le=(0,n.A)(Re,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":ve,"c-tabs__tab_menu--vertical":Ue==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),ce=(0,n.A)(ge,{"c-tabs__tab_panel--vertical":Ue==="vertical"});return t.createElement("div",{className:J,"data-qa":"tabs_full_height_class"},t.createElement("div",{role:"tablist",className:le,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,"aria-orientation":Ue,"aria-label":ne,ref:this.tabsContainerRef},this.renderTabsItems()),N&&t.createElement(p.A,{tabContent:N,fullHeight:V,ref:this.panelRef,className:ce,"aria-label":this.renderTabPanelLabel(H)}))}constructor(ae){var V;super(ae),(0,M.v)(this,["onKeyDown","onFocus","onBlur","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.focusedTabRef=t.createRef(),this.panelRef=t.createRef(),this.tabsContainerRef=t.createRef(),this.lastVisibleTabRef=t.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,ae.autoClogProps&&(this.autoClogProps={...ae.autoClogProps,elementType:D.ElementType.TAB});const ve=ae.currentTabId||ae.defaultTabId||((V=ae.tabs[0])===null||V===void 0?void 0:V.id),be=this.getTabIndexById(ve);this.state={selectedTabId:ve,focusedTabIndex:be!==-1?be:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${(0,f.A)()}`}},"Tabs");Z.displayName="Tabs",Z.defaultProps={onTabChange:s.A,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,focusOnFirstFocusableChildOnChange:!0};const ie=Z},4275787242:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),n=e(3708320478),s=e(5733135148);const r=u(c=>{let{children:o,duration:a,svgIconProps:l,toastClasses:i,position:d,offsetX:_,offsetY:m,showCloseButton:h,onCloseComplete:v,shouldAutoFade:T,shouldSkipToastDismissal:A,closeButtonClasses:y,svgIconClassName:p,announceContentAsAssertive:f}=c;return t.createElement(s.Ay,{fadeDelay:a,svgIconClassName:p,svgIconProps:l,toastClasses:i,offsetX:_,offsetY:m,position:d,showCloseButton:h,onCloseComplete:v,shouldAutoFade:T,shouldSkipToastDismissal:A,closeButtonClasses:y},t.createElement(n.z,{assertive:f},o))},"Toast");r.displayName="Toast",r.defaultProps={duration:6e3}},2855755676:(x,g,e)=>{"use strict";e.d(g,{F:()=>t,n:()=>n});const t={small:"small",medium:"medium",large:"large"},n={small:22,medium:26,large:32}},561151542:(x,g,e)=>{"use strict";e.d(g,{A:()=>w,L:()=>R});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(126225536),c=e(1030162945),o=e(7969928607),a=e(1407713935),l=e(4559887502),i=e(8798294025),d=e(6839188756),_=e(6850680508),m=e(6216960938),h=e(2704661e3),v=e(2966224896),T=e(5409659566),A=e(6308822),y=e(1610251172),p=e(7193040700),f=e(7506258436),O=e(8683010724),I=e(2312625946),P=e(82287009),C=e(8040098042),M=e(6112179660),D=e(4327331459),E=e(3707193570),S=e(4862221402),k=e(9391594207),U=e(2235302340),L=e(9101533895),B=e(3677514771);function b(){return b=Object.assign||function(W){for(var K=1;K<arguments.length;K++){var Y=arguments[K];for(var X in Y)Object.prototype.hasOwnProperty.call(Y,X)&&(W[X]=Y[X])}return W},b.apply(this,arguments)}u(b,"_extends");let R=u(class extends t.Component{renderChannelToken(K){const{channel:Y,showMemberCounts:X,isSelected:Z,channelHasNonUniqueName:ie}=this.props;let Ae;return(0,a.LI)(Y)?Ae=t.createElement(m.Ay,{id:(0,i.e)(Y),className:"c-token_channel"}):(0,a.yz)(Y)?Ae=t.createElement(h.A,{mpim:Y,className:"c-token_channel",isActive:Z}):Ae=t.createElement(_.A,{channel:Y,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:X,showTeamForLocalChannel:ie}),t.createElement("span",{className:K,"data-qa":"token_channel"},Ae)}renderContent(){const{isLoading:K,isUnknown:Y,isError:X,isMemberError:Z,isTeamError:ie,isInvalid:Ae,channel:ae,memberId:V,teamName:ve,userGroupId:be,channelSection:Ue,contentInnerClassName:Re,emailTeam:ge}=this.props;let ne=(0,n.A)("c-token_content__inner",Re);return K&&!Ae?(ne+=" c-token_content__inner--loading",this.renderLoadingToken(ne)):Y?(ne+=" c-token_content__inner--unknown",this.renderUnknownToken(ne)):X?(ne+=" c-token_content__inner--error",this.renderErrorToken(ne)):ge?(ne+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(ne)):V&&Z?(ne+=" c-token_content__inner--error",this.renderMemberErrorToken(ne)):V?(ne+=" c-token_content__inner--member",this.renderMemberToken()):ae?this.renderChannelToken(ne):ve&&ie?(ne+=" c-token_content__inner--error",this.renderTeamErrorToken(ne)):ve?(ne+=" c-token_content__inner--team",this.renderTeamToken(ne)):Ue?(ne+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(ne)):be?(ne+=" c-token_content__inner--usergroup",this.renderUserGroupToken(ne)):this.renderPlainToken(ne)}renderErrorToken(K){const{label:Y}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__error_icon_container"},t.createElement(O.A,{size:"18",name:"warning","data-qa":"token_error_icon"})),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_error"},t.createElement(o.A,{text:Y,inputIsEscaped:!0,emojiSize:c.lw.MEDIUM})))}renderLoadingToken(K){const{size:Y,label:X}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__loading_icon_container"},t.createElement(A.A,b({},Y?{size:Y}:{},{"data-qa":"token_loading_icon"}))),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_loading"},X))}renderMemberToken(){const{forceRealName:K,isDisabled:Y,memberId:X,size:Z,hasNoAccess:ie,forceAvatarPresenceIndicator:Ae}=this.props;return t.createElement(m.Ay,{id:X,isDeactivated:Y,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:K,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:Z,hasNoAccess:ie,forceAvatarPresenceIndicator:Ae})}renderMemberErrorToken(K){const{forceRealName:Y,isDisabled:X,memberId:Z,size:ie}=this.props;return t.createElement(m.Ay,{id:Z,isDeactivated:X,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:Y,showStatus:!1,className:(0,n.A)(K,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:ie})}renderIcon(){const{icon:K,svgIcon:Y}=this.props;return Y?t.createElement("span",{className:"c-token_content__icon"},t.createElement(O.A,b({"data-qa":"token_plain_icon",inline:!0,size:"inherit"},Y))):K?t.createElement(y.A,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:K,inline:!0}):null}renderPlainToken(K){const{label:Y}=this.props;return t.createElement("span",{className:K},this.renderIcon(),t.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.createElement(o.A,{text:Y,inputIsEscaped:!0,emojiSize:c.lw.MEDIUM})))}renderEmailTokenWithTeamIcon(K){const{icon:Y,label:X,emailTeam:Z}=this.props;return t.createElement("span",{className:K},Y&&t.createElement(y.A,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:Y,inline:!0}),t.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.createElement(o.A,{text:X,inputIsEscaped:!0,emojiSize:c.lw.MEDIUM})),Z&&t.createElement("span",{className:"c-member__secondary_content"},t.createElement(T.A,{team:Z,"data-qa":"token_email_with_team_icon",size:m.Cg,className:"c-member__team_icon"})))}renderTeamToken(K){const{teamId:Y,teamName:X}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(T.A,{id:Y,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_team_name"},X))}renderTeamErrorToken(K){const{teamId:Y,teamName:X}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(T.A,{id:Y,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_team_name_error"},X))}renderChannelSectionToken(K){const{channelSection:Y}=this.props;return Y?t.createElement("span",{className:(0,n.A)(K,"c-token_content__label")},t.createElement(r.A,{channelSection:Y})):null}renderUnknownToken(K){const{label:Y}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__unknown_icon_container"},t.createElement(O.A,{size:"18",name:"emoji-missing",variation:"filled","data-qa":"token_unknown_icon"})),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_unknown"},Y))}renderUserGroupToken(K){const{userGroupId:Y}=this.props;return t.createElement(v.A,{id:Y,showDescription:!1,className:(0,n.A)(K,"c-token_content__label")})}render(){const{isDisabled:K,isInvalid:Y,isError:X,memberId:Z,isMemberError:ie,isTeamError:Ae,isUnknown:ae,isLoading:V,isSelected:ve,size:be,hoverText:Ue,tabIndex:Re,contentEditable:ge,className:ne,onMouseDown:ee,enableProfileHoverCard:F,customizeProfileHoverCardProps:H,isRestricted:j}=this.props,N=(0,n.A)("c-token",ne,`c-token--${be}`,{"c-token--selected":ve,"c-token--disabled":K,"c-token--invalid":Y,"c-token--restricted":j,"c-token--error":X||ie||Ae,"c-token--unknown":ae,"c-token--loading":V}),J=this.renderContent();let le=J;Ue&&J?le=t.createElement(I.Ay,{tip:Ue},J):Z&&F&&(le=(0,P.yN)({...H||{},memberId:Z,children:J}));const ce=this.props.renderIcon(this.props);return t.createElement("span",{className:N,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:Re,contentEditable:ge,onMouseDown:ee},t.createElement("span",{className:"c-token__content","data-qa":"token_content"},le),ce)}},"Token");R.displayName="Token",R.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:p.hu.MEDIUM,renderIcon:s.A,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1};const z=u((W,K)=>{const{entityId:Y,disableIdParsing:X}=K;let Z;(0,D.A)(Y)&&!X&&(Z=Y);let ie,Ae;if(((0,E.Ay)(Y)||(0,E.JV)(Y))&&!X){const Re=(0,B._J)(W,Y);Re&&(ie=Y,Ae=(0,d.F1)(Re))}let ae;(0,M.A)(Y)&&!X&&(ae=(0,U.xe)(W,Y));let V;(0,S.A)(Y)&&!X&&(V=Y);const ve=(0,L.OL)(W,Y),be=(0,L.MS)(W);let Ue;return(0,C.A)(Y)&&ve&&(Ue=(0,l.i)(be,ve)),{channel:ve,memberId:Z,teamName:Ae,teamId:ie,userGroupId:V,channelSection:ae,channelHasNonUniqueName:Ue}},"mapStateToProps"),w=(0,f.nM)((0,k.N)(z,null)(R))},2312625946:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>S,Jo:()=>_.A,PK:()=>y,Ws:()=>C,YU:()=>_.Y,n1:()=>p});var t=e(3134334389),n=e(862210999),s=e(4332857818),r=e(8646591923),c=e(9887985562),o=e(1641606663),a=e(7331519201),l=e(8157829725),i=e(8427910566),d=e(5249175977),_=e(1926356522),m=e(8226269261),h=e(8214116048),v=e(5751973043),T=e(4954329752);function A(){return A=Object.assign||function(U){for(var L=1;L<arguments.length;L++){var B=arguments[L];for(var b in B)Object.prototype.hasOwnProperty.call(B,b)&&(U[b]=B[b])}return U},A.apply(this,arguments)}u(A,"_extends");const y=300,p=60,f=3,O=3;let I=u(class{track(L){this.instance&&L!==this.instance&&this.instance.hide(),this.instance=L}stopTracking(L){L===this.instance&&(this.instance=void 0)}hideActive(){this.instance&&(this.instance.hide(),this.instance=void 0)}},"TooltipManager");const P=new I;function C(){P.hideActive()}u(C,"hideVisibleTooltip");function M(U){const L=u(B=>((B==null?void 0:B.offsetWidth)||0)<((B==null?void 0:B.scrollWidth)||0)||((B==null?void 0:B.offsetHeight)||0)<((B==null?void 0:B.scrollHeight)||0),"retIsTruncated");if(U!=null&&U.querySelector){const B=U.querySelector(".c-truncate");if(B)return L(B)}return L(U)}u(M,"isElementTruncated");function D(U,L){return U.width.toFixed(2)===(L==null?void 0:L.width.toFixed(2))&&U.height.toFixed(2)===(L==null?void 0:L.height.toFixed(2))&&U.left.toFixed(2)===(L==null?void 0:L.left.toFixed(2))&&U.right.toFixed(2)===(L==null?void 0:L.right.toFixed(2))&&U.top.toFixed(2)===(L==null?void 0:L.top.toFixed(2))&&U.bottom.toFixed(2)===(L==null?void 0:L.bottom.toFixed(2))}u(D,"areBoundsEqual");const E=t.forwardRef((U,L)=>{let{children:B,position:b=h.yX.Top,delay:R=150,shouldFade:z=!0,tip:w,tipClassName:W,tipArrowOffset:K,"data-qa":Y,status:X=_.Y.Info,offsetX:Z=0,offsetY:ie=0,zIndex:Ae="menu",shouldForceVisible:ae=!1,shouldOnlyShowWhenTruncated:V=!1,onShow:ve,onHide:be,onClick:Ue,maxWidth:Re,hideFromScreenReader:ge=!1,automaticallyPositionTip:ne=!0,tipAnchorRef:ee,shouldTrackOffsetChange:F=!1,...H}=U;const j=t.Children.only(B),{windowRef:N}=(0,t.useContext)(o.Mn),J=(0,t.useRef)(),le=(0,t.useRef)(null),ce=(0,t.useRef)(),Ee=(0,t.useRef)(!1),[ye,Ie]=(0,t.useState)(!1),[he,Ce]=(0,t.useState)(!1),[oe,de]=(0,t.useState)(!1),[De,Te]=(0,t.useState)(),pe=(0,t.useContext)(i.A),Me=M(ce.current),ke=Me||!V,Ke=ae||ye||he,Ze=!!De&&ke,Q=(0,t.useMemo)(()=>(0,T.P)(le,L),[L]),se=(0,t.useCallback)((xt,Dn)=>ne?{top:xt,left:Dn}:void 0,[ne]),He=(0,t.useMemo)(()=>`sk-tooltip-${(0,m.A)()}`,[]),Ge=(0,t.useCallback)(()=>{de(!0)},[]),[Be,we]=(0,a.i)(Ge),xe=(0,t.useMemo)(()=>({id:He,hide:()=>{we(),Ee.current&&de(!1),be==null||be()}}),[He,we,be]),Oe=(0,t.useCallback)(()=>{we(),P.stopTracking(xe)},[xe,we]),Xe=(0,t.useCallback)(()=>{ae||pe?de(!0):Be(R),ve==null||ve({isTruncated:Me}),P.track(xe)},[ae,pe,ve,Me,xe,Be,R]),Ye=(0,t.useCallback)(()=>{Oe(),oe&&(de(!1),be==null||be())},[Oe,oe,be]),dt=(0,t.useCallback)(xt=>{j.props.onKeyDown&&j.props.onKeyDown(xt),xt.which===r._f&&oe&&pe&&(xt.nativeEvent.stopImmediatePropagation(),xt.stopPropagation(),de(!1))},[de,oe,pe,j.props]),mt=(0,t.useCallback)(xt=>{j.props.onMouseEnter&&j.props.onMouseEnter(xt),Ie(!0),oe||(J.current=xt)},[j.props,oe]),it=(0,t.useCallback)(xt=>{j.props.onFocus&&j.props.onFocus(xt),pe&&Ce(!0)},[j.props,pe]),At=(0,t.useCallback)(xt=>{j.props.onMouseLeave&&j.props.onMouseLeave(xt),Ie(!1),J.current=void 0},[j.props]),Ot=(0,t.useCallback)(xt=>{j.props.onBlur&&j.props.onBlur(xt),Ce(!1)},[j.props]);(0,t.useEffect)(u(function(){ce.current||(ce.current=(0,s.findDOMNode)(le.current))},"syncChildDOMNodeRef")),(0,t.useEffect)(()=>{const xt=N.deref(),Dn=u(St=>{St.which===r._f&&Ye()},"hoverEscHide");if(xt)return ye?(xt.addEventListener("keydown",Dn),()=>{xt.removeEventListener("keydown",Dn)}):()=>{xt.removeEventListener("keydown",Dn)}},[ye,N,Ye]),(0,t.useEffect)(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),(0,l.A)(u(function(){let Dn=ce.current;if(ee!=null&&ee.current&&(Dn=(0,s.findDOMNode)(ee.current)),Ke&&Dn){const St=De,dn=Dn.getClientRects();let fn=dn[0];if(J.current){const An=J.current,yn=Array.from(dn).find(sn=>An.clientY>=sn.top&&An.clientY<=sn.bottom&&An.clientX>=sn.left&&An.clientX<=sn.right);yn&&(fn=yn)}if(!fn)return;const un=N.deref(),_n=un?un.scrollX||un.pageXOffset:0,tn=un?un.scrollY||un.pageYOffset:0,nn={height:fn.height,width:fn.width,left:fn.left+_n,right:fn.right+_n,top:fn.top+tn,bottom:fn.bottom+tn};D(nn,St)||Te(nn)}},"maybeCalculateContentBounds"),[Ke,ee]),(0,l.A)(u(function(){Ze&&Ke?Xe():Ye()},"showOrHideTooltip"),[Ze,Ke]);const Kt=j.props["aria-label"],Xt=(0,t.useMemo)(()=>Kt===w||ge?v.t0:{"aria-describedby":oe?He:void 0},[Kt,ge,oe,w,He]),vn=(0,t.useMemo)(()=>t.cloneElement(j,{...H,...j.props,...Xt,onClick:Ue||j.props.onClick,onFocus:it,onBlur:Ot,onKeyDown:dt,onMouseEnter:mt,onMouseLeave:At,"data-sk":"tooltip_parent"}),[Xt,j,Ot,Ue,it,dt,mt,At,H]),Sn=(0,t.useMemo)(()=>{if(K)return K;if(De)return De.width/2},[De,K]),jt=(0,t.useMemo)(()=>({position:b,arrowOffset:Sn,status:X,className:W,"data-qa":Y,maxWidth:Re}),[Y,Re,b,X,W,Sn]),hn=(0,t.useMemo)(()=>oe?t.createElement(d.AM,{isOpen:oe,position:b,targetBounds:De,overlayClassName:"c-popover c-popover--no-pointer",offsetX:Z,offsetY:ie,allowanceX:f,allowanceY:O,key:"tooltip-popover",zIndex:Ae,shouldFocusAfterRender:!1,shouldFade:z,ariaHideApp:!1,tryOppositePosition:!0,id:He,ariaRole:"tooltip",dataAttributes:{qa:"tooltip-popover"},disableOverlaysContextProvider:!0,shouldTrackOffsetChange:F},xt=>{let{position:Dn,top:St,left:dn,targetBounds:fn}=xt;const un=(0,n.A)(w)?w({hasKeyboardFocus:pe}):w;return t.createElement(_.A,A({},jt,{position:Dn,tipBounds:se(St,dn),targetBounds:fn}),un)}):null,[oe,De,b,Z,ie,Ae,z,w,pe,jt,se,He,F]);return t.createElement(t.Fragment,null,t.createElement(c.V,{ref:Q},vn),hn)});E.displayName="Tooltip";const S=E;Object.defineProperty({isElementTruncated:M,areBoundsEqual:D},"isElementTruncated",{get:()=>M,set:U=>{M=U}})},5184226701:(x,g,e)=>{"use strict";e.d(g,{BD:()=>t,Cz:()=>r,LH:()=>c,LX:()=>o,T0:()=>n,UC:()=>s});const t={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},n={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},s={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},r={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class c{constructor(l){this.ok=l.ok,this.invitee=l.email,this.inviteeType=n.Email,this.accessType=l.inviteType||t.Member,this.error=l.error}}u(c,"InviteResult");function o(a){return a===t.Member||a===t.MultiChannelGuest||a===t.SingleChannelGuest}u(o,"isBaseInviteType")},9536443280:(x,g,e)=>{"use strict";e.d(g,{D:()=>t});var t;(function(n){n[n.available=0]="available",n[n.processing=1]="processing",n[n.none=2]="none"})(t||(t={}))},8178126019:(x,g,e)=>{"use strict";e.d(g,{Ao:()=>o.k,FQ:()=>c.q,IU:()=>l,Jg:()=>s.G,RW:()=>n.jB,YB:()=>d,fe:()=>t.T,iV:()=>i,mF:()=>r.I,on:()=>a,qU:()=>n.Sv});var t=e(1614054140),n=e(4349526263),s=e(5216556985),r=e(8485081141),c=e(6515569951),o=e(2164700852);const a={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function l(_){return!!_&&!!_.channel}u(l,"isSharedChannelInvite");function i(_){return!!_&&!l(_)&&!d(_)}u(i,"isDirectMessageInvite");function d(_){return!!_&&!!_.shared_workspace}u(d,"isSharedWorkspaceInvite")},266169032:(x,g,e)=>{"use strict";e.d(g,{M:()=>t});const t={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal",workflowBuilderFreemiumTrialOfferModal:"unlimited_workflows_trial_offer_modal"}},1305633231:(x,g,e)=>{"use strict";e.d(g,{A:()=>ee});var t=e(6696292586),n=e(498506970),s=e(1835177371),r=e(8276911661),c=e(9101533895),o=e(8847766420),a=e(3037015781),l=e(9884588328),i=e(6495946979),d=e(9262712126),_=e(1407713935),m=e(5577180258),h=e(4282439381),v=e(6188550180),T=e(8389327410),A=e(8193414630),y=e(2756015265),p=e(972463850),f=e(4695291896),O=e(6345573615),I=e(8525228540);function P(F){if(F<=0)return"";let H="",j=F;for(;j>0;)j-=1,H=String.fromCharCode("a".charCodeAt(0)+j%26)+H,j=Math.floor(j/26);return H}u(P,"convertNumberToLetterIncrement");const C=["","c","cc","ccc","cd","d","dc","dcc","dccc","cm","","x","xx","xxx","xl","l","lx","lxx","lxxx","xc","","i","ii","iii","iv","v","vi","vii","viii","ix"];function M(F){if(F<=0)return"";const H=F.toString().split("");let j="";for(let le=2;le>=0;le--){const ce=parseInt(H.pop()||"0",10);j=(C[ce+le*10]||"")+j}const N=H.join("")||"0",J=parseInt(N,10)+1;return Array(J).join("m")+j}u(M,"convertNumberToRomanNumeral");var D=e(735940183),E=e(5597384299),S=e(8983164438),k=e(6795568989),U=e(3695531806),L=e(2647703359),B=e(937317117),b=e(3574134525);const R=new D.Ay("channel_token"),z=new D.Ay("emoji"),w=u((F,H)=>H.text||"","textToText"),W=u((F,H)=>`@${H.range}`,"broadcastToText"),K=u((F,H)=>H.value||"","colorToText"),Y=u((F,H,j)=>{let{linkFormat:N}=j;const{text:J="",url:le=""}=H;if(!J&&!le)return"";if(!J)return le;switch(N){case"default":return J;case"prefer_url":return le;case"bracket":return`[ ${J}: ${le} ]`;default:(0,A.Kh)(N)}},"linkToText"),X=u((F,H)=>{const j=(0,r.nv)(F,H.user_id);return`@${(0,d.Gt)(j)||H.user_id}`},"userToText"),Z=u((F,H)=>{const j=(0,s.lJ)(F,H.usergroup_id);if(j===!1)return(0,f.A)({userGroupHandle:"",isUnknown:!0,isNonExistent:!0});const N=(0,a.lv)(j);var J;return(0,f.A)({userGroupHandle:N?"":(J=j.handle)!==null&&J!==void 0?J:"",isUnknown:(0,a.mX)(j),isNonExistent:(0,a.lv)(j)})},"userGroupToText"),ie=u((F,H)=>{const j=(0,c.OL)(F,H.channel_id);var N;const J=(N=(0,l.SB)(F,j,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}))!==null&&N!==void 0?N:"",le=(0,a.mX)(j),ce=(0,a.lv)(j),Ee=(0,_.Zp)(j),ye=(0,i.bl)(j);return ce||Ee&&!ye?`#${R.t("private-channel")}`:(0,O.A)({channelName:J,isUnknown:le,isNonExistent:ce})},"channelToText"),Ae=u((F,H,j)=>{let{convertEmoji:N}=j;const J=(0,v.A)(H,{state:F,localize:!1}),le=(0,I.bR)({state:F,locale:(0,D.Yp)(),name:J});return N==="phrase"?(0,y.A)(le||"",{state:F})||"":N==="unicode"&&(H!=null&&H.unicode)&&(0,k.d)(H.unicode)?(0,U.z)({codePointLikeString:H.unicode})||"":N==="unicode"&&!(H!=null&&H.unicode)?(0,p.A)(F,{messageText:J,teamId:(0,o.ZT)(F)}):le??""},"emojiToText"),ae=u((F,H)=>{const j=(0,B.Lp)(F,H.file_id);return(0,L.SB)(j)||H.file_id},"fileToText"),V=u((F,H,j)=>{let{convertEmoji:N}=j;const J=(0,v.A)({...H,type:T.Lv.EMOJI},{state:F,localize:!1}),le=(0,I.bR)({state:F,locale:(0,D.Yp)(),name:J});if(N==="phrase"){var ce;return(ce=(0,y.U)(le||"",H.size||0,{state:F}))!==null&&ce!==void 0?ce:""}var Ee;const ye=(Ee=N==="unicode"?(0,p.A)(F,{messageText:J,teamId:(0,o.ZT)(F)}):le)!==null&&Ee!==void 0?Ee:"";return(0,h.x)(F)?z.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:ye,size:H.size}):`${H.size} ${ye} emojis`},"emojiGroupToText"),ve=u((F,H)=>!H.timestamp&&H.fallback?H.fallback:(0,E.Yq)(H.timestamp,H.format,{...H.fallback&&{fallbackString:H.fallback}}),"dateToText"),be=u((F,H)=>{const j=F.workflowBuilder.workflowEditor.variables.list,N=(0,b.x)(j,H.id);return N?`@${N.label}`:H.id},"workflowTokenToText"),Ue={[T.Lv.TEXT]:w,[T.Lv.USER]:X,[T.Lv.USERGROUP]:Z,[T.Lv.CHANNEL]:ie,[T.Lv.BROADCAST]:W,[T.Lv.DATE]:ve,[T.Lv.COLOR]:K,[T.Lv.LINK]:Y,[T.Lv.EMOJI]:Ae,[T.Lv.FILE]:ae,[T.Lv.CANVAS]:ae,[T.Lv._EMOJI_GROUP]:V,[T.Lv.WORKFLOWTOKEN]:be};function Re(F){let{indent:H}=F;return!(0,t.A)(H)||H%3===0?"\u2022":H%3===1?"\u25E6":H%3===2?"\u25A0":"\u2022"}u(Re,"getUnorderedListCharacter");function ge(F){let{indent:H,incr:j}=F;return!(0,t.A)(H)||H%3===0?j:H%3===1?P(j):H%3===2?M(j):j}u(ge,"getOrderedListCharacter");function ne(F,H){return(0,h.x)(F)?(0,m.A)((0,n.A)(H)):H}u(ne,"maybeGroupEmojies");function ee(F,H){let{convertEmoji:j="text",linkFormat:N="default"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!H||!H.length)return"";const J=u(Ee=>{if(!Ee||!Ee.elements)return"";const ye=[];return Ee.elements.forEach(Ie=>{if(!Ie||!Ie.type)return;const he=Ue[Ie.type];var Ce;const oe=(Ce=he==null?void 0:he(F,Ie,{convertEmoji:j,linkFormat:N}))!==null&&Ce!==void 0?Ce:"";ye.push(oe)}),ye.join("")},"convertSection"),le=[];return ne(F,H[0].elements).forEach(Ee=>{if(!(!Ee||!Ee.type))if((0,S.C)(Ee)){const ye=Ee.offset||0,Ie=Ee.indent||0;let he=1+ye;Ee.elements.forEach(Ce=>{const oe=J(Ce);if(Ee.style==="ordered"){const de=ge({indent:Ie,incr:he});le.push(`${de}. ${oe}.`),he+=1}else{const de=Re({indent:Ie});le.push(`${de} ${oe}.`)}})}else le.push(J(Ee))}),le.join(`
`)}u(ee,"convertRichTextToPlainText")},6188550180:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(8389327410),n=e(8525228540),s=e(735940183),r=e(3829348308),c=e(6795568989);function o(a,l){let{state:i,localize:d}=l;if(!a||a.type!==t.Lv.EMOJI)return"";const _=a.skinTone||a.skin_tone,m=a.unicode;let h;return!m&&_?h=`:${a.name}::skin-tone-${_}:`:!_&&!m?h=`:${a.name}:`:m&&(0,c.d)(m)&&(h=`:${(0,r.qJ)(i,m)}:`),d?(0,n.bR)({state:i,locale:(0,s.Yp)(),name:h})||"":h}u(o,"getEmojiElementAsText")},411655882:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(362134992),n=e(9671714094),s=e(8933111773);function r(){return(0,t.A)(Object.entries(n.N).filter(c=>{let[o,a]=c;return a.is_enabled_by_default}).map(c=>{let[o,a]=c;return(0,s.A)(o)}))}u(r,"getAllBroadcastKeywords")},2229186:(x,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(362134992),n=e(9101533895),s=e(6113051341),r=e(1407713935),c=e(2350349607),o=e(9884588328),a=e(641827819),l=e(324756633),i=e(8933111773),d=e(2233365467),_=e(1190344069),m=e(9548888903),h=e(9280052135),v=e(3339229351);function T(A,y){const p=(0,n.OL)(A,y),f=(0,h.l)(A);if(!p)return[];const O=[];if((0,a.W)(A,y)&&O.push((0,i.A)("BKeveryone")),((0,c.V)(p)||(0,r.yz)(p))&&(!(0,s.N)(p)||(0,a.W)(A,y))&&(0,l.S)(A,y)&&(O.push((0,i.A)("BKchannel")),O.push((0,i.A)("BKhere"))),(0,_.hm)(A)&&(0,r.U_)(p))switch((0,d.dM)(p)){case m.hM.Account:O.push((0,i.A)("BKsf:accountteam",(0,o.SB)(A,p),!0));break;case m.hM.Opportunity:O.push((0,i.A)("BKsf:dealteam",(0,o.SB)(A,p),!0));break;default:break}if(f){const I=(0,n.Pu)(A,v.Q$);(p==null?void 0:p.id)===(I==null?void 0:I.id)&&O.push((0,i.A)("BKassistant:einstein",null,!1,!0))}return(0,t.A)(O)}u(T,"getBroadcastKeywordsForUser")},3342113153:(x,g,e)=>{"use strict";e.d(g,{Kx:()=>h,Zo:()=>T,_E:()=>A,cv:()=>v,e3:()=>m,gi:()=>i,zU:()=>d});var t=e(735940183),n=e(9101533895),s=e(1835177371),r=e(8276911661),c=e(4761125736),o=e(5605150493);const a=new t.Ay("channel_modal"),l=new t.Ay("ui_validation"),i={hasNameRequiredWarning:!1,hasMaxLengthWarning:!1,hasSpecialsWarning:!1,hasPunctuationWarning:!1,hasNameTakenWarning:!1,hasUnknownWarning:!1,hasRestriction:!1};function d(){return 80}u(d,"getMaxLength");const _=/[ .,;'`~!@#$%^&*+=)(\\/:"<>?|\u2018\u2019{}[\]]/;function m(y){return y?_.test(y.trim()):!1}u(m,"hasSpecialCharacters");function h(y){return y?y.replace(new RegExp(_,"g"),""):""}u(h,"replaceSpecialCharacters");function v(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:80,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const P=!p.trim(),C=(0,o.A)(p)>O,M=m(p),D=/^[-|_]+$/.test(p),E=/[A-Z]/.test(p);let S=!1;return p!==f&&y&&!I&&(S=!!((0,n.Os)(y,p)||(0,r.MV)(y,p)||(0,s.xw)(y,p))),{hasNameRequiredWarning:P,hasMaxLengthWarning:C,hasSpecialsWarning:M,hasPunctuationWarning:D,hasLowercaseWarning:E,hasNameTakenWarning:S}}u(v,"channelNameValidation");function T(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{maxChannelNameLength:f,workspaceName:O,experimentFriendlyChannelNamesGroupOn:I}=p;if(y){if(y.hasNameRequiredWarning)return a.t("Give your channel a name to continue. You can always change the name later.");if(y.hasMaxLengthWarning)return l.t("Channel names can\u2019t be longer than {maxLength} characters.",{maxLength:f});if(y.hasSpecialsWarning)return I?a.t("Channel names can\u2019t contain the punctuation you included."):a.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(y.hasPunctuationWarning)return a.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(y.hasNameTakenWarning)return O?l.t("That name is already taken by a channel, username, or user group in {workspaceName}.",{workspaceName:O}):a.t("That name is already taken by a channel, username, or user group in this workspace.");if(y.hasRestriction)return a.t("Your organization\u2019s settings have changed and may limit who can create channels. Contact an Admin or channel Owner to add people.");if(y.hasUnknownWarning)return a.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}}u(T,"getErrorStringFromChannelNameErrors");const A=u(y=>(0,c._Z)(y,"friendly_channel_names")==="on","isFriendlyChannelNamesEnabled")},755982243:(x,g,e)=>{"use strict";e.d(g,{w:()=>s});var t=e(3193155968);function n(r){var c;return(c=r.ownerDocument)===null||c===void 0?void 0:c.defaultView}u(n,"getWindowForElement");function s(r){return!t.TQ.includes(r)}u(s,"shouldViewNavigateInContext")},1236965385:(x,g,e)=>{"use strict";e.d(g,{$A:()=>o,ce:()=>c,hO:()=>s});var t=e(3134334389),n=e(1224315998);const s=u(a=>({action:n.UiAction.IMPRESSION,uiPage:window.location.href,...a}),"getAuthImpressionTrackParams"),r=u(a=>({action:n.UiAction.CLICK,uiPage:window.location.href,...a}),"getAuthClickTrackParams"),c=u(a=>({uiPage:window.location.href,...a}),"getAuthTrackParams");function o(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const l=(0,t.useRef)(null),i=(0,t.useCallback)(m=>h=>{if(l.current={track:h},a){var v;l==null||(v=l.current)===null||v===void 0||v.track(s(m))}},[l,a]),d=(0,t.useCallback)(m=>()=>{var h;l==null||(h=l.current)===null||h===void 0||h.track(r(m))},[l]),_=(0,t.useCallback)(m=>()=>{var h;l==null||(h=l.current)===null||h===void 0||h.track(c(m))},[l]);return{trackClog:l,trackClogAuthRef:i,clogAuthLoginClick:d,clogAuthLoginAction:_}}u(o,"useAuthClogger")},6089229811:(x,g,e)=>{"use strict";e.d(g,{LC:()=>n,av:()=>s,ev:()=>t});const t={NONE:"none",OPTIONAL_ID_ONLY:"optional_id_only",EXTENSIVE:"extensive",OPTIONAL_AND_REGIONAL_IDS:"optional_and_regional_ids"},n={AE_TRN:"ae_trn",AU_ABN:"au_abn",CA_BN:"ca_bn",CA_GST_HST:"ca_gst_hst",CA_QST:"ca_qst",CH_VAT:"ch_vat",CL_TIN:"cl_tin",ES_CIF:"es_cif",EU_VAT:"eu_vat",GE_VAT:"ge_vat",HK_BR:"hk_br",ID_NPWP:"id_npwp",IN_GST:"in_gst",JP_CN:"jp_cn",KR_BRN:"kr_brn",MX_RFC:"mx_rfc",MY_ITN:"my_itn",MY_SST:"my_sst",NO_VAT:"no_vat",NZ_GST:"nz_gst",RU_INN:"ru_inn",SA_VAT:"sa_vat",SG_GST:"sg_gst",SG_UEN:"sg_uen",TH_VAT:"th_vat",TR_TIN:"tr_tin",TW_VAT:"tw_vat",UNKNOWN:"unknown",ZA_VAT:"za_vat",UA_VAT:"ua_vat",KE_PIN:"ke_pin",EG_TIN:"eg_tin"},s=20},3246555800:(x,g,e)=>{"use strict";e.d(g,{FL:()=>a,HC:()=>v,Je:()=>m,KV:()=>T,L$:()=>i,P7:()=>_,RL:()=>d,Y3:()=>c,b6:()=>l,jM:()=>A,zb:()=>o});var t=e(6089229811),n=e(8086952004);function s(y,p,f,O){if(f&&O){var I,P;return y==null||(I=y[p])===null||I===void 0||(P=I.regional_overrides)===null||P===void 0?void 0:P[f]}return y==null?void 0:y[p]}u(s,"getTaxConfig");function r(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=s(y,p,f,O);var P;return(P=I==null?void 0:I.tax_id_form_variant)!==null&&P!==void 0?P:t.ev.NONE}u(r,"getTaxUiFormType");function c(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return r(y,p,f,O)===t.ev.EXTENSIVE}u(c,"shouldShowMultipartTaxUI");function o(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=r(y,p,f,O);return I===t.ev.EXTENSIVE||I===t.ev.OPTIONAL_ID_ONLY||I===t.ev.OPTIONAL_AND_REGIONAL_IDS}u(o,"shouldShowTaxIdInputField");function a(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return r(y,p,f,O)===t.ev.OPTIONAL_AND_REGIONAL_IDS}u(a,"shouldCollectRegionalTaxId");function l(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=r(y,p,f,O);return I===t.ev.OPTIONAL_ID_ONLY||I===t.ev.OPTIONAL_AND_REGIONAL_IDS}u(l,"isTaxIdOptional");function i(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=s(y,p,f,O);var P;return(P=I==null?void 0:I.stripe_tax_id_type)!==null&&P!==void 0?P:null}u(i,"getTaxIdType");function d(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=s(y,p,f,O);return I==null?void 0:I.tax_name}u(d,"getTaxName");function _(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=s(y,p,f,O);var P;const C=(P=I==null?void 0:I.tax_id_max_length)!==null&&P!==void 0?P:0;return Number.isInteger(C)&&C>0?C:t.av}u(_,"getTaxIdMaxLength");function m(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=s(y,p,f,O);var P;const C=(P=I==null?void 0:I.tax_id_examples)!==null&&P!==void 0?P:[];var M;return(M=C[0])!==null&&M!==void 0?M:""}u(m,"getTaxIdExample");function h(y,p,f,O){var I;const P=s(y,p,f,O),C=P==null||(I=P.tax_id_validation_regex)===null||I===void 0?void 0:I.replace(/\//g,"");return C?new RegExp(C,"i"):null}u(h,"getTaxIdValidator");function v(y,p,f,O){let I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const P=h(y,p,f,I);return!P||!O&&l(y,p,f,I)?!0:O&&P?P.test(O):!1}u(v,"isTaxIdValid");function T(y,p,f){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=s(y,p,f,O);return!!(I!=null&&I.should_ask_is_vat_registered)}u(T,"shouldAskIsVatRegistered");function A(y,p){return(0,n.A)(y,f=>f.iso_code===p)}u(A,"getCountryByCode")},3044566667:(x,g,e)=>{"use strict";e.d(g,{gy:()=>n,tN:()=>s,zQ:()=>t});const t={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},n="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",s={EMAIL:new RegExp(`^${n}$`,"i"),CONTAINS_EMAIL:new RegExp(`${n}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},2756015265:(x,g,e)=>{"use strict";e.d(g,{A:()=>i,U:()=>l});var t=e(735940183),n=e(5799716058),s=e(8525228540),r=e(9907843289),c=e(4282439381);const o=new t.Ay("emoji");function a(d,_){const m=(0,t.Yp)();return(0,s.WX)({state:d,locale:m,text:_})}u(a,"getLocalizedEmojiName");function l(d,_,m){let{state:h}=m;const v=a(h,d),T=(0,c.x)(h),A=v&&(0,n.Y)(v,_,T);return v?(0,r.DU)()?A:` ${A} `:T?o.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:d,size:_}):`${_} ${d} emojis`}u(l,"convertEmojiGroupNameToPhrase");function i(d,_){let{state:m}=_;const h=a(m,d),v=h&&(0,n.A)(h);return h?(0,r.DU)()?v:` ${v} `:d}u(i,"convertEmojiNameToPhrase")},6818330210:(x,g,e)=>{"use strict";e.d(g,{H:()=>s});var t=e(9113979368),n=e(9936232041);function s(r,c){if(!c||(0,t.A)(c))return{name:r};const o=(0,n.A)(r);if(!o)return{name:r};const{name:a,skinTone:l}=o,i=c[a];if(!i||(0,t.A)(i))return{name:r};const d=i.display_alias,_=d??a,m=l?`:${_}::skin-tone-${l}:`:`:${_}:`,h=i.display_url;return{name:m,url:h}}u(s,"getEmojiDisplayInfoFromMap")},2354051480:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3339229351);let n;const s=u(()=>{if(n)return n;const r=Object.keys(t.dq).map(c=>c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return n=new RegExp(`(^|\\s)(${r.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),n},"__WEBPACK_DEFAULT_EXPORT__")},7854655276:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3078252698),n=e(735940183);const s=new n.Ay("emoji");function r(c){const o=(0,t.A)(c)?c:c.toString(),a={1:()=>s.t("No skin tone"),2:()=>s.t("light skin tone"),3:()=>s.t("medium-light skin tone"),4:()=>s.t("medium skin tone"),5:()=>s.t("medium-dark skin tone"),6:()=>s.t("dark skin tone")},l={"2-3":()=>s.t("left light skin tone and right medium-light skin tone"),"2-4":()=>s.t("left light skin tone and right medium skin tone"),"2-5":()=>s.t("left light skin tone and right medium-dark skin tone"),"2-6":()=>s.t("left light skin tone and right dark skin tone"),"3-2":()=>s.t("left medium-light skin tone and right light skin tone"),"3-4":()=>s.t("left medium-light skin tone and right medium skin tone"),"3-5":()=>s.t("left medium-light skin tone and right medium-dark skin tone"),"3-6":()=>s.t("left medium-light skin tone and right dark skin tone"),"4-2":()=>s.t("left medium skin tone and right light skin tone"),"4-3":()=>s.t("left medium skin tone and right medium-light skin tone"),"4-5":()=>s.t("left medium skin tone and right medium-dark skin tone"),"4-6":()=>s.t("left medium skin tone and right dark skin tone"),"5-2":()=>s.t("left medium-dark skin tone and right light skin tone"),"5-3":()=>s.t("left medium-dark skin tone and right medium-light skin tone"),"5-4":()=>s.t("left medium-dark skin tone and right medium skin tone"),"5-6":()=>s.t("left medium-dark skin tone and right dark skin tone"),"6-2":()=>s.t("left dark skin tone and right light skin tone"),"6-3":()=>s.t("left dark skin tone and right medium-light skin tone"),"6-4":()=>s.t("left dark skin tone and right medium skin tone"),"6-5":()=>s.t("left dark skin tone and right medium-dark skin tone")},i=l[o]?l[o]():null;return i||a[o]&&a[o]()}u(r,"__WEBPACK_DEFAULT_EXPORT__")},5799716058:(x,g,e)=>{"use strict";e.d(g,{A:()=>a,Y:()=>o});var t=e(735940183),n=e(9936232041),s=e(7854655276);const r=/_|-/g,c=new t.Ay("emoji"),o=u(function(l,i){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!l||!i)return null;const{name:_,skinTone:m}=(0,n.A)(l)||{};if(!_)return d?c.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:l,size:i}):`${i} ${l} emojis`;const h=_.replace(r," "),v=d?c.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:h,size:i}):`${i} ${h} emojis`;if(!m)return v;const T=(0,s.A)(m);return T===""?v:d?c.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}} with {skinToneDescription}",{emojiName:h,size:i,skinToneDescription:T}):`${i} ${h} emojis with ${T}`},"makePhraseForEmojiGroup");function a(l){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!l)return l;const{name:d,skinTone:_}=(0,n.A)(l)||{};if(!d)return l;const m=d.replace(r," "),h=c.t("{emojiPhrase} emoji",{emojiPhrase:m});if(!_)return h===""?m:h;const v=(0,s.A)(_);return v===""?h===""?m:h:i?c.t("React with {emojiPhrase} emoji {skinToneDescription}",{emojiPhrase:m,skinToneDescription:v}):c.t("{emojiPhrase} emoji with {skinToneDescription}",{emojiPhrase:m,skinToneDescription:v})}u(a,"__WEBPACK_DEFAULT_EXPORT__")},3259512346:(x,g,e)=>{"use strict";e.d(g,{s:()=>s});var t=e(6089972488),n=e(571104883);function s(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.process&&window.process.versions&&window.process.versions.electron,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window.navigator.userAgent;if(!(0,n.y3)(o)||!c)return!1;const a=(0,t.P)(r),l=(0,t.P)(c);return(0,t.Z)(l,a)>=0}u(s,"isElectronAndAtLeastVersion")},1033764764:(x,g,e)=>{"use strict";e.d(g,{UK:()=>l,Z$:()=>r,hZ:()=>o});const t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],n=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],s=u(function(d,_,m){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(d===0)return 0;if(_===m)return parseFloat(d.toFixed(h));const T=v?1024:1e3,A=v?t:n,y=A.findIndex(f=>f.toLowerCase()===_.toLowerCase()),p=A.findIndex(f=>f.toLowerCase()===m.toLowerCase());if(y===-1)throw new Error(`Unknown currentType '${_}' passed to convertToSize`);if(p===-1)throw new Error(`Unknown desiredType '${m}' passed to convertToSize`);return y<p?parseFloat((d/T**(p-y)).toFixed(h)):parseFloat((d*T**(y-p)).toFixed(h))},"convertToSize"),r=u(function(d){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(d===0)return{size:0,type:"B"};const v=h?1024:1e3,T=h?t:n;let A=Math.log(d)/Math.log(v);A<1&&(A=-Math.floor(Math.log(Math.abs(A))/Math.log(10)+1));const y=T.findIndex(f=>f.toLowerCase()===_.toLowerCase()),p=Math.max(Math.min(y+Math.floor(A),T.length-1),0);if(y===-1)throw new Error(`Unknown currentType '${_}' passed to convertToSize`);return{size:s(d,_,T[p],m,h),type:T[p]}},"convertToOptimumSize"),c=u(function(d){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(d,"B","KB",_,!1)},"convertBytesToKilobytes"),o=u(function(d){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(d,"B","MB",_,!1)},"convertBytesToMegabytes"),a=u(function(d){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(d,"B","GB",_,!1)},"convertBytesToGigabytes"),l=u(function(d){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(d,"KB","MB",_,!1)},"convertKilobytesToMegabytes"),i=u(function(d){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(d,"KB","GB",_,!1)},"convertKilobytesToGigabytes")},6333950786:(x,g,e)=>{"use strict";e.d(g,{A:()=>b});var t=e(6249041335),n=e(5342516244),s=e(1842363787),r=e(8847766420),c=e(6533394955),o=e(2047021170),a=e(6866036454),l=e(1317368584),i=e(3829348308),d=e(735940183),_=e(9846149684),m=e(8207536819),h=e(4862221402),v=e(8040098042),T=e(2414816894),A=e(1707481146),y=e(6106767915);function p(R,z,w){const W=[];return{text:R.replace(_.Y,(Y,X,Z)=>{let ie;if((0,T.A)(X)?ie=`<!${(0,y.A)(X)}>`:(0,A.A)(X)?ie=z?(0,m.A)(Z):Z:(0,h.A)(X)?ie=`<!subteam^${X}|${Z}>`:(0,v.A)(X)?ie=w?`<#${X}|${Z.substr(1)}>`:void 0:ie=`<@${X}>`,!ie)return Y;const ae=`mention-${W.length+1}-${Date.now()}`;return W.push({mention:ie,placeholder:ae}),ae}),mentions:W}}u(p,"replaceFormatMentions");const f=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function O(R){const z=[];let w=0;return{text:R.replace(f,K=>{w+=1;const Y=`quoted-text-placeholder-${Date.now()}-${w}`;return z.push({match:K,placeholder:Y}),Y}),quotedSections:z}}u(O,"replaceQuotedText");var I=e(2354051480),P=e(3339229351);const C=/[-[\]{}()*+?.,\\^$|#\s]/g,M=/\n?(6\)|7\))/,D=u(R=>{let z=0;const w=[];let W=R.replace((0,I.A)(),(K,Y,X,Z)=>{const ie=z;z=Z+K.length;const Ae=X.indexOf("(")!==-1,ae=X.indexOf(")")!==-1;if((Ae||ae)&&w.indexOf(X)===-1&&w.push(X),ae&&!Ae){const V=R.substring(ie,Z);if(V.indexOf("(")!==-1&&V.indexOf(")")===-1)return K}if(K===`
8)`){const V=R.substring(0,Z);if(M.test(V))return K}return P.dq[X]?`${Y}:${P.dq[X]}:`:K});if(w.length){const K=w.map(X=>X.replace(C,"\\$&")),Y=new RegExp(`(\\(.+)(${K.join("|")})(.+\\))`,"g");W=W.replace(Y,(X,Z,ie,Ae)=>P.dq[ie]?`${Z}:${P.dq[ie]}:${Ae}`:X)}return W},"replace_emoticons_with_colons");var E=e(8525228540),S=e(9421999304),k=e(4797500022),U=e(9599231336);const L=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,B=/(^|\S)( +)(\n|$)/gm;function b(R,z){let{isInternalMessage:w}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!R||!z)return"";const W=!w,K=(0,l.A)(R),Y=(0,o.ty)(R,"convert_emoticons"),X=(0,a.A)(R),Z=(0,U.P)(R),ie=!0;let Ae=z,ae=[];Ae=(0,n.A)(Ae),Ae=(0,s.kW)(ae,Ae,{replace_pre:!0,replace_code:!0});const V=p(Ae,W,ie);if(Ae=V.text,Ae=Ae.replace(B,"$1$3"),Y&&!Z){const be=O(Ae);Ae=be.text,Ae=D(Ae),be.quotedSections.forEach(Ue=>{Ae=Ae.replace(Ue.placeholder,()=>Ue.match)})}if(W&&(Ae=(0,s.wx)(Ae,"CLEAN",{jumbomoji:K,allow_intra_word_formatting:!0})),V.mentions.forEach(be=>{Ae=Ae.replace(be.placeholder,()=>be.mention)}),!d.EZ){const be=(0,r.ZT)(R);Ae=(0,c.dispatchForTeamId)(be,(0,E.Z_)({text:Ae,locale:(0,S.JK)()}))}const ve=(0,i.CK)(R);return ae=ae.map(be=>{const Ue={...be},Re=(0,_.A)(Ue.str,{highlightWords:X,shouldRenderEmojiAsText:Z,emojiNames:ve,locale:(0,d.Yp)(),useChannelTagging:ie});return Ue.str=(0,k.A)(Re),W&&(Ue.str=(0,s.wx)(Ue.str,"CLEAN",{jumbomoji:K,allow_intra_word_formatting:!0})),Ue}),Ae=(0,s.Ki)(ae,Ae),(0,t.A)(Ae)}u(b,"clean_message_text_with_state")},972463850:(x,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3297051565),n=e.n(t),s=e(8509961938),r=e(3829348308);const c=u(function(a){let{messageText:l,teamId:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!l||!i)return"";const d=(0,s.A)();return l.replace(d,_=>{const m=(0,r.Zc)(a,{text:_,teamId:i});return m||_})},"replaceTextEmojiWithNative"),o=c;c.propTypes={messageText:n().string,teamId:n().string}},5342516244:(x,g,e)=>{"use strict";e.d(g,{A:()=>t});const t=u(n=>n?n.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):"","__WEBPACK_DEFAULT_EXPORT__")},3802883493:(x,g,e)=>{"use strict";e.d(g,{TU:()=>s});const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=10;function s(d,_){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(d!==null&&i(d,m,h),_!==null&&i(_,m,h),d!==null&&_!==null&&d>=_)throw new Error(`${d} >= ${_}`);if(d===null){if(_===null){const I=5*10**(h-1);return a(I,h)}const O=o(_,h);return O.toString()<_&&_.slice(h+1)!==""?a(O,h):a(O-1,h)}if(_===null){const O=o(d,h);return a(O+1,h)}const v=o(d,h),T=o(_,h),A=d.slice(h+1),y=_.slice(h+1);if(v===T){const O=c(A,y,m);return`${a(v,h)}.${O}`}const p=v+1;if(p<T)return a(p,h);const f=c(A,null,m);return`${a(v,h)}.${f}`}u(s,"generateKeyBetween");function r(d,_,m){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:n;if(m===0)return[];if(m===1)return[s(d,_,h,v)];if(_===null){let y=s(d,_,h,v);const p=[y];for(let f=0;f<m-1;f++)y=s(y,_,h,v),p.push(y);return p}if(d===null){let y=s(d,_,h,v);const p=[y];for(let f=0;f<m-1;f++)y=s(d,y,h,v),p.push(y);return p.reverse(),p}const T=Math.floor(m/2),A=s(d,_,h,v);return[...r(d,A,T,h,v),A,...r(A,_,m-T-1,h,v)]}u(r,"generateNKeysBetween");function c(d,_,m){const h=m[0];if(_!==null&&d>=_)throw new Error(`${d} >= ${_}`);if(d.slice(-1)===h||_&&_.slice(-1)===h)throw new Error("trailing zero");if(_){let A=0;for(;(d[A]||h)===_[A];)A+=1;if(A>0)return _.slice(0,A)+c(d.slice(A),_.slice(A),m)}const v=d?m.indexOf(d[0]):0,T=_!==null?m.indexOf(_[0]):m.length;if(T-v>1){const A=Math.round(.5*(v+T));return m[A]}return _&&_.length>1?_.slice(0,1):m[v]+c(d.slice(1),null,m)}u(c,"midpoint");function o(d,_){const m=d.slice(0,_);return Number(m)}u(o,"getIntegerPart");function a(d,_){if(d>=10**_)throw new Error(`Integer overflow at ${d} for fixed length ${_}`);if(d<0)throw new Error(`Integer underflow at ${d} for fixed length ${_}`);return d.toString().padStart(_,"0")}u(a,"formatInteger");function l(d,_){const m=d.length;if(m<_)throw new Error("Invalid integer portion, length too short");if(m===_){const h=d.indexOf(".");if(h>=0)throw new Error(`Unexpected . at position ${h} in string of exact length ${_}`);const v=Number(d);if(isNaN(v))throw new Error(`Invalid integer portion - not a valid integer ${d}`)}else if(d[_]!==".")throw new Error(`Expected . after int_fixed length ${_} and got ${d[_]}`)}u(l,"validateIntegerLength");function i(d,_,m){if(l(d,m),m!==d.length&&d.slice(m).endsWith(_[0]))throw new Error(`Fractional portion must not end with ${_[0]}`)}u(i,"validateOrderKey")},6900724603:(x,g,e)=>{"use strict";e.d(g,{_i:()=>r});function t(o,a,l,i){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const _=[i.x-a.x,i.y-a.y],m=[l.x-a.x,l.y-a.y],h=[o.x-a.x,o.y-a.y],v=_[0]*_[0]+_[1]*_[1],T=_[0]*m[0]+_[1]*m[1],A=_[0]*h[0]+_[1]*h[1],y=m[0]*m[0]+m[1]*m[1],p=m[0]*h[0]+m[1]*h[1],f=1/(v*y-T*T),O=(y*A-T*p)*f,I=(v*p-T*A)*f;return O>=-d&&I>=-d&&O+I<1+d}u(t,"isPointInTriangle");function n(o,a,l){const i=(l.x-a.x)**2+(l.y-a.y)**2,d=((o.x-a.x)*(l.x-a.x)+(o.y-a.y)*(l.y-a.y))/i;return d<0?(o.x-a.x)**2+(o.y-a.y)**2:d<=1?(a.x-o.x)**2+(a.y-o.y)**2-d**2*i:(o.x-l.x)**2+(o.y-l.y)**2}u(n,"distanceSquarePointToSegment");function s(o,a,l,i){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const _=Math.min(a.x,Math.min(l.x,i.x))-d,m=Math.max(a.x,Math.max(l.x,i.x))+d,h=Math.min(a.y,Math.min(l.y,i.y))-d,v=Math.max(a.y,Math.max(l.y,i.y))+d;return o.x>_&&o.x<m&&o.y>h&&o.y<v}u(s,"pointInTriangleBoundingBox");function r(o,a,l,i){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!s(o,a,l,i,d))return!1;const _=d**2;return t(o,a,l,i,0)||n(o,a,l)<=_||n(o,l,i)<=_||n(o,i,a)<=_}u(r,"accurateIsPointInTriangle");const c={accurateIsPointInTriangle:r,isPointInTriangle:t}},8556787853:(x,g,e)=>{"use strict";e.d(g,{Ac:()=>h,Ay:()=>_,lF:()=>m});var t=e(9706240641),n=e.n(t),s=e(7174777686),r=e(2047021170),c=e(2364576462),o=e(3339229351),a=e(6839188756),l=e(3677514771),i=e(1631977342);const d=u((v,T,A)=>{const y=A?v*2:v,p=A?T*2:T,O=y>o.QI||p>o.Jo?Math.min(o.QI/y,o.Jo/p):1,I=Math.floor(y*O),P=Math.floor(p*O);return{width:I,height:P}},"getConstrainedMediaDimensions");function _(v){let{url:T,width:A,height:y,rotate:p,renderSvg:f,stopAnimations:O,sizeForRetina:I,convertIco:P,isEmoji:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!T)return null;const M=(0,a.Uz)((0,l.H7)(v));if(!M||T.indexOf(M)===0||T.indexOf("/img/")===0)return T;if(T.indexOf("https://")===0&&!C){const L=(0,c.yz)(T,!0),B=(0,i.QL)();if((0,s.A)(B,L)){if(O&&L==="slack-imgs.com"){const b=new URL(T),R=b.searchParams.has("o1")?`${b.searchParams.get("o1")}.gu`:"gu";return b.searchParams.set("o1",R),b.href}return T}}const D=new URL(M);D.searchParams.set("c",o.lW);const{width:E,height:S}=A&&y?d(A,y,I):{},k=[];return E&&S&&(k.push(`wi${E}`),k.push(`he${S}`),k.push("si")),p&&k.push("ro"),f&&k.push("sv2"),(O||!(0,r.ty)(v,"a11y_animations"))&&k.push("gu"),P&&k.push("ip"),k.length&&D.searchParams.set("o1",k.join(".")),D.searchParams.set("url",T),D.href}u(_,"getImgProxyUrl");const m=function(){var v=(0,t.coroutine)(function*(T){const A=new URL(T);try{return!!(yield fetch(`https://${A.hostname}/?url=${A.searchParams.get("url")}`,{method:"HEAD",mode:"cors"})).headers.get("x-slack-animated")}catch(y){if(y)return!1}return!1});return u(function(A){return v.apply(this,arguments)},"isImageAnimated")}(),h=u(v=>v.replace(".gu",""),"getAnimatedImgUrl")},6415587347:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>ft});var t=e(4063699741),n=e.n(t),s=e(7129884748),r=e.n(s),c=e(4840951141),o=e.n(c),a=e(9241168512),l=e.n(a),i=e(9602720019),d=e.n(i),_=e(9777215928),m=e.n(_),h=e(9833689275),v=e.n(h),T=e(2981982679),A=e.n(T),y=e(9267813754),p=e.n(y),f=e(3963460214),O=e.n(f),I=e(9948433110),P=e.n(I),C=e(2295488157),M=e.n(C),D=e(5908867676),E=e.n(D),S=e(4948097913),k=e.n(S),U=e(5156772208),L=e.n(U),B=e(3333214639),b=e.n(B),R=e(9825918216),z=e.n(R),w=e(1302153452),W=e.n(w),K=e(474239361),Y=e.n(K),X=e(350135845),Z=e.n(X),ie=e(7428983508),Ae=e.n(ie),ae=e(1001408479),V=e.n(ae),ve=e(7331486018),be=e.n(ve),Ue=e(669259003),Re=e.n(Ue),ge=e(1889110914),ne=e.n(ge),ee=e(7183565897),F=e.n(ee),H=e(4814900690),j=e.n(H),N=e(3710970638),J=e.n(N),le=e(1023719767),ce=e.n(le),Ee=e(4165874747),ye=e.n(Ee),Ie=e(3431559584),he=e.n(Ie),Ce=e(2261459203),oe=e.n(Ce),de=e(7272988726),De=e.n(de),Te=e(2200759559),pe=e.n(Te),Me=e(451984622),ke=e.n(Me),Ke=e(77360885),Ze=e.n(Ke),Q=e(7523979550),se=e.n(Q),He=e(4245237474),Ge=e.n(He),Be=e(1957386787),we=e.n(Be),xe=e(8390767423),Oe=e.n(xe),Xe=e(983107878),Ye=e.n(Xe),dt=e(3224273568),mt=e.n(dt),it=e(2979422297),At=e.n(it),Ot=e(4923972147),Kt=e.n(Ot),Xt=e(1060768686),vn=e.n(Xt),Sn=e(5098468056),jt=e.n(Sn),hn=e(6906793909),xt=e.n(hn),Dn=e(3708998647),St=e.n(Dn),dn=e(2256285620),fn=e.n(dn),un=e(2316786074),_n=e.n(un),tn=e(3783723764),nn=e(8840779375),An=e(2604971659),yn=e(4103274853),sn=e(2208015175),Nn=e(3339229351),Ve=e(397660785),$e=e(6363331542);function Et(yt){return(0,tn.A)((0,nn.A)((0,An.A)(yt),bt=>parseInt(bt,10)),null,"desc")}u(Et,"makeOrderedIconSizes");function It(yt){return(0,yn.A)(yt,bt=>Et(bt))}u(It,"makeOrderedNamedIconSizes");const Tt={24:_n(),32:St(),36:jt(),72:Kt(),192:mt()},Ct={24:fn(),32:xt(),36:vn(),72:At(),192:Ye()},Wt={fancy:{20:Oe(),24:we(),32:Ge(),36:se(),48:Ze(),72:ke(),192:pe(),360:De(),512:oe(),1024:he()},frowny:{20:ye(),24:ce(),32:J(),36:j(),48:F(),72:ne(),192:Re(),360:be(),512:V(),1024:Ae()},neutral:{20:Z(),24:Y(),32:W(),36:z(),48:b(),72:L(),192:k(),360:E(),512:M(),1024:P()},sad_surprise:{20:O(),24:p(),32:A(),36:v(),48:m(),72:d(),192:l(),360:o(),512:r(),1024:n()}},Gt=24,wt=Et(Ct),qt=It(Wt),Yt="image_";function In(yt){const bt=[];return(0,sn.A)(yt,(Ht,ln)=>{if(ln.indexOf(Yt)!==0)return;const rn=ln.slice(Yt.length);bt.unshift(parseInt(rn,10))}),bt}u(In,"getSizeOptionsFromProfile");function ft(yt){let{size:bt,teamOrEnterpriseId:Ht,memberId:ln,avatarHash:rn,emoji:Zt,isBot:Mn=!1,botImages:es=!1,slackbotFeels:jn=null,isUserHidden:Kn=!1}=yt,Yn,wn,Rt=!1;if(!bt||!Mn&&!Kn&&(!Ht||!ln||!rn)&&!Zt)return{};if(Zt)return{emoji:Zt,isDefault:!1};if(Kn){const je=(0,$e.A)(bt,wt),qe=(0,$e.A)(bt*2,wt);Yn=Tt[je||Gt],wn=Tt[qe||Gt],Rt=!0}else if(ln===Nn.Q$&&jn&&Wt[jn]){const je=(0,$e.A)(bt,qt[jn]),qe=(0,$e.A)(bt*2,qt[jn]);Yn=Wt[jn][je||Gt],wn=Wt[jn][qe||Gt]}else if(!Mn||Ht&&ln&&rn){const je=(0,$e.A)(bt),qe=(0,$e.A)(bt*2),st=(0,Ve.Z)(Ht);Yn=`${st}${Ht}-${ln}-${rn}-${je}`,wn=`${st}${Ht}-${ln}-${rn}-${qe}`}else if(es){const je=In(es),qe=(0,$e.A)(bt,je),st=(0,$e.A)(bt*2,je);Yn=es[Yt+qe],wn=es[Yt+st]}if(Mn&&!Yn&&!wn&&!Zt){const je=(0,$e.A)(bt,wt),qe=(0,$e.A)(bt*2,wt);Yn=Ct[je||Gt],wn=Ct[qe||Gt],Rt=!0}return{imageUrl:Yn,imageUrl2x:wn,emoji:Zt,isDefault:Rt}}u(ft,"getMemberProfileImage")},92812954:(x,g,e)=>{"use strict";e.d(g,{d:()=>r});var t=e(8276911661),n=e(3792998666),s=e(5096647761);function r(c,o){if(!o)return"member";const a=(0,t.nv)(c,o);let l="member";return(0,s.g)(a)?l="external":(0,n.Ez)(a)&&!(0,n.Yd)(a)?l="ra":(0,n.Yd)(a)&&(l="ura"),l}u(r,"getMemberType")},5124217244:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(5950652755),n=e(6061527706);function s(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const o=u(a=>{!Array.isArray(a)||!a.length||requestAnimationFrame(()=>r(a))},"observer");return new n.A((0,t.A)(o,c))}u(s,"getResizeObserver")},3695531806:(x,g,e)=>{"use strict";e.d(g,{z:()=>n});var t=e(6795568989);const n=u(s=>{let{codePointLikeString:r}=s;if(!(0,t.d)(r))return;const c=16;return r.split("-").map(o=>String.fromCodePoint(parseInt(o,c))).join("")},"getUnicodeFromCodePointLikeString")},5770715593:(x,g,e)=>{"use strict";e.d(g,{C9:()=>a,Gl:()=>c,VQ:()=>o,XU:()=>n,dL:()=>s,rU:()=>r,x_:()=>l});var t=e(4761125736);const n=u(i=>{var d;return(d=(0,t._Z)(i,"help_shareables_tm")==="on")!==null&&d!==void 0?d:!1},"isHelpShareablesTmExperimentOn"),s=u(i=>{var d;return(d=(0,t._Z)(i,"help_articles_in_search")==="treatment")!==null&&d!==void 0?d:!1},"isHelpArticlesInSearchExperimentTreatment"),r=u(i=>{var d;return(d=(0,t._Z)(i,"help_smarticles")==="on")!==null&&d!==void 0?d:!1},"isHelpSmarticlesExperimentOn"),c=u(i=>{var d;return(d=(0,t._Z)(i,"help_navigation")==="on")!==null&&d!==void 0?d:!1},"isHelpNavigationExperimentOn"),o=u(i=>{var d;return(d=(0,t._Z)(i,"help_tour")==="treatment")!==null&&d!==void 0?d:!1},"isHelpTourExperimentTreatment"),a=u(i=>{var d;return(d=(0,t._Z)(i,"help_tips")==="on")!==null&&d!==void 0?d:!1},"isHelpTipsExperimentOn"),l=u(i=>{var d;return(d=(0,t._Z)(i,"help_slider_a11y_translations")==="on")!==null&&d!==void 0?d:!1},"isHelpSliderA11yTranslationsExperimentOn")},1251564078:(x,g,e)=>{"use strict";e.d(g,{v:()=>n});var t=e(9907843289);function n(s){const r=(0,t.Yp)().toLowerCase();return r==="en-us"?s:`/intl/${r}${s}`}u(n,"getLocalizedPath")},4240442510:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3193155968),n=e(735940183);const s=new n.Ay("view");function r(c){let{tab:o,experimentUnifiedFilesExplorerGroupOn:a,experimentAskSlackViewGroupOn:l}=c,i;switch(o){case t.k6.Home:i=s.t("Home");break;case t.k6.DMs:i=s.t("DMs");break;case t.k6.Activity:i=s.t("Activity");break;case t.k6.Later:i=s.t("Later");break;case t.k6.SalesHome:i=s.t("Sales");break;case t.k6.Search:i=s.t("Search");break;case t.k6.Canvases:i=s.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case t.k6.Files:i=s.t("Files",{ns:"search"});break;case t.k6.UnifiedFiles:i=a?s.t("Docs"):"Docs";break;case t.k6.Channels:i=s.t("Channels",{ns:"search"});break;case t.k6.People:i=s.t("People",{ns:"search"});break;case t.k6.Platform:i=s.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case t.k6.ExternalConnections:i=s.t("External");break;case t.k6.Huddles:i=s.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33x`",fallbackHashNs:"search"});break;case t.k6.Assistant:i=l?s.t("Ask Slack"):"Ask Slack";break;case t.k6.Browse:i=s.t("More");break;case t.k6.Lists:i=s.t("Lists");break;case t.k6.Todos:i="To-dos";break;case t.k6.Solutions:i=s.t("Templates");break;case t.k6.Agents:i="Agentforce";break;case t.k6.SlackKitPlayground:i="Slack Kit Playground";break;case t.k6.BBM:i="";break;case t.k6.Admin:i=s.t("Admin",{fallbackHash:"4e7afebcfbae000b22c7c85e5560f89a2a0280b4",fallbackHashNs:"enterprise_dashboard"});break;default:i="";break}return i}u(r,"getTabLabel")},6910192640:(x,g,e)=>{"use strict";e.d(g,{A:()=>M,o:()=>P});var t=e(8956161330),n=e(2384831516),s=e(3193155968),r=e(1552255081),c=e(6642124196),o=e(920478515),a=e(1340402138),l=e(6470070112),i=e(2584999337),d=e(7244076749),_=e(4626613428),m=e(5332875232),h=e(5624319675),v=e(853570700),T=e(8180302442),A=e(537208959),y=e(7105906370),p=e(6839188756),f=e(3677514771),O=e(3347503334);const I={[s.k6.Home]:D=>!(0,a.R)(D),[s.k6.Search]:D=>(0,v.fn)(D),[s.k6.Activity]:D=>(0,_.Ty)(D)&&!(0,A.Dj)(D),[s.k6.DMs]:D=>(0,_.Ty)(D),[s.k6.UnifiedFiles]:D=>(0,i.a)(D)&&(0,_.Ty)(D),[s.k6.SlackKitPlayground]:D=>(0,d.b)()&&(0,_.Ty)(D),[s.k6.Solutions]:D=>(0,T.g)(D),[s.k6.Agents]:D=>(0,h.mr)(D)&&(0,_.Ty)(D)&&(0,O.mK)(D).length>=1,[s.k6.Later]:D=>(0,o.Bp)(D),[s.k6.Assistant]:D=>(0,y.We)(D)&&(0,_.Ty)(D),[s.k6.Canvases]:D=>(0,r.F)(D)&&!(0,a.R)(D)&&!(0,i.a)(D),[s.k6.Files]:D=>!(0,a.R)(D)&&(0,_.Ty)(D),[s.k6.Channels]:D=>!(0,a.R)(D)&&(0,_.Ty)(D),[s.k6.Platform]:()=>!0,[s.k6.People]:D=>!(0,a.R)(D)&&(0,_.Ty)(D),[s.k6.Huddles]:D=>(0,l.Wd)(D)&&!(0,m.LS)(D)&&!(0,a.R)(D),[s.k6.SalesHome]:D=>(0,t.hx)(D),[s.k6.Lists]:D=>((0,p.tc)((0,f.H7)(D))&&(0,c.isListsEnableFreemiumAccessEnabled)(D)||(0,c.teamHasFullListsAccess)(D))&&!(0,a.R)(D)&&!(0,i.a)(D),[s.k6.Todos]:D=>(0,c.isTodosEnabled)(D),[s.k6.ExternalConnections]:()=>!0},P=u(D=>(0,n.Mz)(E=>I[D](E)),"makeSelectVisibleTab"),M=u((D,E)=>P(E)(D),"getTabVisibility")},505908973:(x,g,e)=>{"use strict";e.d(g,{A:()=>b});var t=e(6644049054),n=e(352142497),s=e(5657872960),r=e(6642124196),c=e(3559837422),o=e(6839188756),a=e(3677514771),l=e(8956161330),i=e(1552255081),d=e(7274827479),_=e(4761125736),m=e(418103123),h=e(1190344069),v=e(9889493721),T=e(7069714209),A=e(2584999337),y=e(9280052135),p=e(7244076749),f=e(5332875232),O=e(2052624953),I=e(9132066222),P=e(8646192222),C=e(3875705815),M=e(6695353875),D=e(8180302442),E=e(3937186022),S=e(5144644376),k=e(5624319675),U=e(7105906370);const L={[n.D.KeyboardShortcuts]:()=>!0,[n.D.WhatsNew]:()=>!0,[n.D.RecentCanvases]:()=>!1,[n.D.CanvasesSharedWithYou]:R=>(0,_._Z)(R,"canvas_collection_prototype")==="on"&&(0,i.F)(R),[n.D.CanvasesCreatedByYou]:R=>(0,_._Z)(R,"canvas_collection_prototype")==="on"&&(0,i.F)(R),[n.D.BrowseCanvases]:R=>(0,i.F)(R),[n.D.FileFolder]:R=>(0,_._Z)(R,"file_folders_hardcoded")==="on"&&(0,i.F)(R),[n.D.RecentFiles]:()=>!0,[n.D.FilesCreatedByYou]:()=>!0,[n.D.FilesSharedWithYou]:()=>!0,[n.D.BrowseExternalWorkspace]:T.U,[n.D.BrowseChannels]:()=>!0,[n.D.BrowsePeople]:()=>!0,[n.D.ExternalOrganizations]:()=>!0,[n.D.ExternalOrganization]:()=>!0,[n.D.ExternalPeople]:()=>!1,[n.D.SlackConnectChannels]:()=>!1,[n.D.SlackConnectInvitations]:()=>!0,[n.D.BrowseUserGroups]:R=>!(0,c.sV)(R)&&(0,o.qR)((0,a.H7)(R)),[n.D.SlackConnect]:R=>(0,t.A)(R),[n.D.Channel]:()=>!0,[n.D.AppSpace]:()=>!0,[n.D.RecentPlatform]:R=>(0,v.MA)(R),[n.D.BrowseWorkflowsManagedByYou]:R=>(0,v.EH)(R),[n.D.BrowseYourWorkflowTemplates]:R=>(0,v.M7)(R),[n.D.BrowseShortcuts]:R=>(0,v.S0)(R),[n.D.BrowseWorkflowTemplates]:R=>(0,v.fh)(R),[n.D.BrowseApps]:R=>(0,v.pr)(R),[n.D.OrgDirectory]:()=>!0,[n.D.Page]:()=>!0,[n.D.Threads]:()=>!0,[n.D.Thread]:()=>!0,[n.D.Profile]:()=>!0,[n.D.FileDetails]:()=>!0,[n.D.Help]:()=>!0,[n.D.UserGroup]:()=>!0,[n.D.Feedback]:()=>!0,[n.D.List]:R=>(0,r.isListsEnabled)(R),[n.D.ListRecord]:R=>(0,r.isListsEnabled)(R),[n.D.ListRecordDetails]:R=>(0,r.isListsEnabled)(R),[n.D.ListRecordThread]:R=>(0,r.isListsEnabled)(R),[n.D.ListRecordHistory]:R=>(0,r.isListsEnabled)(R),[n.D.ListHistory]:R=>(0,r.isListsHistoryEnabled)(R),[n.D.DeletedLists]:R=>(0,r.isListsEnabled)(R),[n.D.Tasks]:R=>(0,r.isTodosEnabled)(R),[n.D.AssignedTasks]:R=>(0,r.isTodosEnabled)(R),[n.D.Reminders]:R=>(0,r.isTodosEnabled)(R),[n.D.Saved]:R=>(0,r.isTodosEnabled)(R),[n.D.ComposeList]:()=>!0,[n.D.Compose]:()=>!0,[n.D.QuipCommentThread]:()=>!0,[n.D.QuipCommentStream]:()=>!0,[n.D.QuipActivityHistory]:()=>!0,[n.D.QuipAutomationsOverview]:()=>!0,[n.D.Quip]:()=>!0,[n.D.Canvas]:()=>!0,[n.D.ChannelCanvas]:()=>!0,[n.D.CanvasBrowser]:R=>(0,i.F)(R),[n.D.DeletedCanvases]:R=>(0,i.F)(R),[n.D.PaidBenefits]:()=>!0,[n.D.Setup]:()=>!0,[n.D.SearchEmpty]:()=>!0,[n.D.AboutWorkspace]:()=>!1,[n.D.Unknown]:()=>!0,[n.D.MorePeopleSidebar]:()=>!0,[n.D.MoreCanvasesSidebar]:()=>!0,[n.D.MoreSolutionsSidebar]:R=>(0,D.g)(R),[n.D.AppPopout]:()=>!0,[n.D.ChannelList]:()=>!0,[n.D.BrowseFiles]:()=>!0,[n.D.BrowseUnifiedFiles]:R=>(0,A.a)(R),[n.D.BrowseUnifiedFilesCanvases]:R=>(0,A.a)(R),[n.D.BrowseUnifiedFilesLists]:R=>(0,A.a)(R),[n.D.DeletedUnifiedFiles]:R=>(0,A.a)(R),[n.D.SlackKitPlayground]:()=>(0,p.b)(),[n.D.Solutions]:R=>(0,D.g)(R),[n.D.Admin]:()=>!1,[n.D.Agents]:R=>(0,k.mr)(R),[n.D.PendingAgents]:R=>(0,k.mr)(R),[n.D.AgentConversation]:R=>(0,k.mr)(R),[n.D.MoreAgentsSidebar]:R=>(0,k.mr)(R),[n.D.SolutionsFiltered]:R=>(0,D.g)(R),[n.D.BrowseYourSolutions]:R=>(0,S.n)(R),[n.D.BrowseYourCompanySolutions]:R=>(0,S.n)(R),[n.D.BrowseLists]:R=>(0,r.teamHasFullListsAccess)(R),[n.D.DmsList]:()=>!0,[n.D.BrowseList]:()=>!0,[n.D.ActivityList]:()=>!0,[n.D.LaterList]:R=>(0,s.c)(R),[n.D.Search]:()=>!0,[n.D.MoreFilesSidebar]:()=>!0,[n.D.MoreListsSidebar]:()=>!0,[n.D.MoreTodosSidebar]:()=>!0,[n.D.UnifiedFilesSidebar]:R=>(0,A.a)(R),[n.D.MoreChannelsSidebar]:()=>!1,[n.D.Inbox]:()=>!1,[n.D.MorePlatformSidebar]:()=>!0,[n.D.MoreHuddlesSidebar]:()=>!0,[n.D.MoreExternalConnectionsSidebar]:()=>!0,[n.D.HelpBrowser]:()=>!0,[n.D.Huddle]:()=>!0,[n.D.BrowseHuddles]:R=>(0,f.LS)(R),[n.D.KeyboardShortcutsBrowser]:()=>!0,[n.D.WhatsNewBrowser]:()=>!0,[n.D.FeedbackBrowser]:()=>!0,[n.D.ExternalWorkspaceAllowedOrgPane]:()=>!1,[n.D.ExternalWorkspaceSidebar]:()=>!1,[n.D.ExternalWorkspacePeopleBrowser]:()=>!1,[n.D.ExternalWorkspaceChannelBrowser]:()=>!1,[n.D.PostEvent]:()=>!1,[n.D.AiSummaryDetails]:R=>(0,d._z)(R),[n.D.DailyDigest]:R=>(0,d.sS)(R),[n.D.MoreAiSummarySidebar]:R=>(0,d.M1)(R),[n.D.SearchSummary]:R=>(0,d.lQ)(R),[n.D.AssistantList]:R=>(0,y.l)(R),[n.D.Today]:R=>(0,m._)(R),[n.D.WorkObject]:R=>(0,E.HZ)(R),[n.D.TableauDetails]:R=>(0,E.HZ)(R),[n.D.Record]:R=>(0,h.hm)(R),[n.D.RecordChannelCreate]:R=>(0,h.hm)(R),[n.D.RecordChannelRelatedList]:()=>!0,[n.D.SalesAdministration]:()=>!0,[n.D.SalesBulkGrid]:()=>!0,[n.D.SalesHome]:R=>(0,l.hx)(R),[n.D.SalesLogActivity]:()=>!0,[n.D.SalesCreateRecord]:()=>!0,[n.D.SalesListViewBrowser]:()=>!0,[n.D.SalesSidebar]:()=>!0,[n.D.SalesNotifications]:()=>!0,[n.D.AssistantThread]:()=>!0,[n.D.ChannelFiles]:R=>(0,_._Z)(R,"channel_canvas_in_bbar")==="on",[n.D.AiApp]:R=>(0,O.wP)(R),[n.D.AboutAiApp]:R=>(0,O.wP)(R),[n.D.WorkflowDetails]:R=>(0,_._Z)(R,"workflow_progress_fe")==="on",[n.D.WorkflowEditor]:R=>(0,_._Z)(R,"wfb_in_client")==="on",[n.D.BookmarksFolder]:R=>(0,I.U6)(R),[n.D.ActionItems]:R=>(0,d.FV)(R),[n.D.BBMMain]:R=>(0,P.mL)(R)&&(0,C.V)(R),[n.D.BBMWorkspaceSwitcher]:R=>(0,P.mL)(R)&&(0,C.V)(R),[n.D.SearchInChannel]:R=>(0,M.k8)(R),[n.D.HuddleTranscriptDetails]:R=>(0,f.Bd)(R),[n.D.HuddlePageCanvas]:()=>!0,[n.D.BBMMore]:R=>(0,P.mL)(R)&&(0,C.V)(R),[n.D.AssistantHome]:R=>(0,U.We)(R)},b=u((R,z)=>L[z](R),"getViewTypeVisibility")},4900557724:(x,g,e)=>{"use strict";e.d(g,{BB:()=>l,GP:()=>i,Uf:()=>d});var t=e(9706240641),n=e.n(t),s=e(3398586081),r=e(7715417323),c=e(6422693406);const o={didTimeout:!0,timeRemaining:()=>0},a=(0,s.A)(()=>!!(window.requestIdleCallback&&window.cancelIdleCallback));function l(m,h){return a()?window.requestIdleCallback(m,h):window.setTimeout(()=>m(o))}u(l,"requestIdleCallback");function i(m){return a()?window.cancelIdleCallback(m):window.clearTimeout(m)}u(i,"cancelIdleCallback");function d(m){return new c.S(function(h,v){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.A;const A=l(function(){var y=(0,t.coroutine)(function*(p){try{const f=yield c.S.resolve(m(p));h(f)}catch(f){v(f)}});return function(p){return y.apply(this,arguments)}}());T(()=>{i(A)})})}u(d,"awaitIdleCallback");const _={IDLE_DEADLINE_FALLBACK:o}},5731054235:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(9636997165);let n=null;function s(){if(n===null){var r,c;n=(document==null||(r=document.documentElement)===null||r===void 0||(c=r.dataset)===null||c===void 0?void 0:c.app)===t.u.APP_POPOUTS}return n}u(s,"isAppPopouts")},8800777280:(x,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(n,s){return!n||!s?!1:s(n)?!0:t(n.parentElement||void 0,s)}u(t,"isContainedBy")},6045540917:(x,g,e)=>{"use strict";e.d(g,{h:()=>r});var t=e(8276911661),n=e(8170643398),s=e(3986753718);function r(c,o){if(!o)return!1;const a=(0,t.nv)(c,o);return!(0,n.zU)(a)&&!!o&&!!(0,s.t6)(c,o)}u(r,"isDnd")},6605261507:(x,g,e)=>{"use strict";e.d(g,{Dl:()=>r,Mk:()=>n,qF:()=>s});var t=e(1269024372);const n=["about","canvas"],s=["app","about","settings","chat"];function r(c){return n.indexOf(c)!==-1||s.indexOf(c)!==-1||Object.keys(t.e).indexOf(c)!==-1}u(r,"isValidTabRoute")},5587260451:(x,g,e)=>{"use strict";e.d(g,{L:()=>t,c:()=>n});const t=["invitations","contacts"];function n(s){return t.includes(s)}u(n,"isValidViewName")},2249017398:(x,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(9636997165);let n=null;function s(){if(n===null){var r,c;n=(document==null||(r=document.documentElement)===null||r===void 0||(c=r.dataset)===null||c===void 0?void 0:c.app)===t.u.WORKFLOW_BUILDER}return n}u(s,"isWorkflowBuilder")},1466694191:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});const t=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function n(s){return s?t.test(s):!1}u(n,"looksLikeQuipHistoryId")},8305125093:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});const t=/^Wt[A-Z0-9]{7,}$/;function n(s){return t.test(s)}u(n,"looksLikeWorkflowTemplateId")},1269024372:(x,g,e)=>{"use strict";e.d(g,{e:()=>n,k:()=>s});var t=e(352142497);const n={recent:t.D.RecentPlatform,"workflows-managed-by-you":t.D.BrowseWorkflowsManagedByYou,workflows:t.D.BrowseShortcuts,"all-workflows":t.D.BrowseShortcuts,templates:t.D.BrowseWorkflowTemplates,apps:t.D.BrowseApps};function s(r){return n[r]}u(s,"maybeGetAutomationsTab")},264208541:(x,g,e)=>{"use strict";e.d(g,{Ey:()=>o,Hn:()=>a,gs:()=>l,mw:()=>d,nS:()=>i});var t=e(8665296019),n=e(1033764764),s;let r=!!(!(window==null||(s=window.performance)===null||s===void 0)&&s.memory);function c(){return r?window.performance.memory.jsHeapSizeLimit:null}u(c,"getMemoryLimit");function o(){return r?window.performance.memory.totalJSHeapSize:null}u(o,"getMemoryTotal");function a(){return r?window.performance.memory.usedJSHeapSize:null}u(a,"getMemoryUsed");function l(){return r}u(l,"supportsMemoryMeasurement");function i(m){const h=m/1e3/1e3;return`${h<100?h.toPrecision(3):Math.round(h)} MB`}u(i,"humanizeBytes");function d(m,h){const v=(0,t.A)(m,T=>{let{memory:A}=T;return A[h]||0});return Math.ceil((0,n.UK)(v))}u(d,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>r,set:m=>{r=m}}})},5737576046:(x,g,e)=>{"use strict";e.d(g,{Pw:()=>d,bC:()=>a,wn:()=>i,zC:()=>l});var t=e(1703559452),n=e(1022424641),s=e(796111729),r=e(168261570),c=e(8800777280);const o={};function a(_){let{channelId:m,functions:h,getInputInstance:v,threadTs:T,viewContext:A}=_;if(!v)throw new Error('Missing required "getInputInstance" param');const y=`${A}-${m}-${T}`;return o[y]&&(0,s.Ay)().warn(`Registering duplicate input (key: "${y}")`),o[y]={clear:()=>{var p,f;(p=v())===null||p===void 0||(f=p.clear)===null||f===void 0||f.call(p)},clearHistory:()=>{var p,f;(p=v())===null||p===void 0||(f=p.clearHistory)===null||f===void 0||f.call(p)},focus:()=>{var p,f;(p=v())===null||p===void 0||(f=p.focus)===null||f===void 0||f.call(p)},getContents:()=>{var p,f;return(p=v())===null||p===void 0||(f=p.getContents)===null||f===void 0?void 0:f.call(p)},getDisplayValue:()=>{var p,f;return(p=v())===null||p===void 0||(f=p.displayValue)===null||f===void 0?void 0:f.call(p)},getLength:()=>{var p,f;return(p=v())===null||p===void 0||(f=p.getLength)===null||f===void 0?void 0:f.call(p)},getSelection:()=>{var p,f;return(p=v())===null||p===void 0||(f=p.getSelection)===null||f===void 0?void 0:f.call(p)},getText:()=>{var p,f;return(p=v())===null||p===void 0||(f=p.value)===null||f===void 0?void 0:f.call(p)},hasFocus:()=>{var p,f;return(p=v())===null||p===void 0||(f=p.hasFocus)===null||f===void 0?void 0:f.call(p)},insertContentsAtCursor:function(){for(var p=arguments.length,f=new Array(p),O=0;O<p;O++)f[O]=arguments[O];var I,P;(I=v())===null||I===void 0||(P=I.insertContentsAtCursor)===null||P===void 0||P.call(I,...f)},isEmpty:()=>{var p,f;return!!(!((p=v())===null||p===void 0||(f=p.isEmpty)===null||f===void 0)&&f.call(p))},isEnabled:()=>{var p,f;return!!(!((p=v())===null||p===void 0||(f=p.isEnabled)===null||f===void 0)&&f.call(p))},prependContents:p=>{var f,O;(f=v())===null||f===void 0||(O=f.prependContents)===null||O===void 0||O.call(f,p)},setContents:function(){for(var p=arguments.length,f=new Array(p),O=0;O<p;O++)f[O]=arguments[O];var I,P;(I=v())===null||I===void 0||(P=I.setContents)===null||P===void 0||P.call(I,...f)},setCursor:function(){for(var p=arguments.length,f=new Array(p),O=0;O<p;O++)f[O]=arguments[O];var I,P;(I=v())===null||I===void 0||(P=I.setCursor)===null||P===void 0||P.call(I,...f)},setCursorAtEnd:()=>{var p,f;(p=v())===null||p===void 0||(f=p.setCursorAtEnd)===null||f===void 0||f.call(p)},setPlaceholder:p=>{var f,O;(f=v())===null||f===void 0||(O=f.setPlaceholder)===null||O===void 0||O.call(f,p)},setText:function(){for(var p=arguments.length,f=new Array(p),O=0;O<p;O++)f[O]=arguments[O];var I,P;(I=v())===null||I===void 0||(P=I.value)===null||P===void 0||P.call(I,...f)},...h},()=>{delete o[y]}}u(a,"registerInputAuto");function l(_){let{viewContext:m,channelId:h,threadTs:v}=_;return o[`${m}-${h}-${v||void 0}`]}u(l,"getInputProxy");function i(_){if(!_||!(0,r.A)(_))return null;let m,h,v;return(0,c.A)(_,A=>A.getAttribute("data-message-input")?(m=A.getAttribute("data-channel-id"),h=A.getAttribute("data-thread-ts"),v=A.getAttribute("data-view-context"),!0):!1)?l({viewContext:v,channelId:m,threadTs:h}):null}u(i,"getProxyForElement");function d(){let{channelId:_,threadTs:m}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const h=`${_}-${m}`,v=Object.keys(o);return(0,t.A)(v,T=>(0,n.A)(T,h))}u(d,"isInputRegistered")},662226046:(x,g,e)=>{"use strict";e.d(g,{R2:()=>T,bP:()=>A,ec:()=>I,fU:()=>O,p6:()=>M,qe:()=>P,x2:()=>E,yj:()=>D});var t=e(6858020025),n=e(3783303734),s=e(796111729),r=e(571104883),c=e(5795074931),o=e(8847766420),a=e(2872463257),l=e(3855029223);const i="notification:sent",d="notification:received",_="notification:opened",m="notification:quick_reply",h="notification:read_in_app",v=100;function T(S){try{return JSON.stringify(S)}catch(k){return(0,s.Wo)().warn("encodeNotificationTracePassthrough json stringify error",k),""}}u(T,"encodeNotificationTracePassthrough");function A(S){try{const{traceId:k,parentSpanId:U}=JSON.parse(S);return{traceId:k,parentSpanId:U}}catch(k){return(0,s.Wo)().warn("decodeNotificationTracePassthrough json parse error",k),{traceId:"",parentSpanId:""}}}u(A,"decodeNotificationTracePassthrough");function y(S){let{tracer:k,name:U,parentSpanId:L,traceId:B}=S;return k.createSpan({name:U,samplingOptions:{sampleType:a.nl.ALWAYS},options:{parentSpanId:L,traceId:B}})}u(y,"createSpan");function p(S){let{tracer:k,name:U,parentSpanId:L,traceId:B}=S;const b=y({tracer:k,name:U,parentSpanId:L,traceId:B});return b.close(),b}u(p,"createAndCloseSpan");function f(S,k){let{tracer:U,message:L}=k;const B=p({tracer:U,name:i}),b=(0,r.y3)()?"desktop":"browser",R=(0,c.WR)(S),z=(0,o.ZT)(S),w=(0,t.A)(L==null?void 0:L.ts,".",""),W=L==null?void 0:L.channel,K=`${R}-${W}-${w}`;return B.addTags({platform:b,encoded_user_id:R,encoded_team_id:z,encoded_channel_id:W,message_ts:w,notification_id:K}),B}u(f,"createAndCloseNotificationSentSpan");function O(S,k){let{message:U}=k;if(!U||!(U!=null&&U.ts)||!(U!=null&&U.channel))return;const L=(0,l.E)({state:S});let B,b;const R=[];if((U==null?void 0:U.type)==="desktop_notification"&&(U!=null&&U.trace_ctx))B=U.trace_ctx["x-b3-traceid"],b=U.trace_ctx["x-b3-spanid"];else{const w=f(S,{tracer:L,message:U});R.push(w),b=w.getId(),B=w.getTraceId()}const z=p({name:d,tracer:L,traceId:B,parentSpanId:b});return R.push(z),L.reportSpans(R),{traceId:B,parentSpanId:b}}u(O,"traceNotificationSentAndReceived");function I(S,k){let{notificationTracePassthroughData:U}=k;if(!U)return;const{traceId:L,parentSpanId:B}=U,b=(0,l.E)({state:S}),R=p({tracer:b,traceId:L,parentSpanId:B,name:_});b.reportSpans([R])}u(I,"traceNotificationOpened");function P(S,k){let{notificationTracePassthroughData:U,clientMsgId:L}=k;if(!U||!L)return;const{traceId:B,parentSpanId:b}=U,R=(0,l.E)({state:S}),z=p({tracer:R,traceId:B,parentSpanId:b,name:m});z.addTags({reply_message_client_message_id:L}),R.reportSpans([z])}u(P,"traceNotificationQuickReply");let C={};function M(S){return!!C[S]}u(M,"messageHasPendingNotificationTrace");function D(S,k){let{timestamp:U,notificationTracePassthroughData:L}=k;if(!L)return;(0,n.A)(C)>v&&((0,s.Ay)({state:S}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),C={});const{traceId:B,parentSpanId:b}=L,R=(0,l.E)({state:S}),z=y({tracer:R,traceId:B,parentSpanId:b,name:h});C[U]=z}u(D,"openNotificationReadSpan");function E(S,k){let{timestamp:U}=k;if(!U)return;const L=C[U];if(!L)return;const B=(0,l.E)({state:S});L.close(),B.reportSpans([L]),delete C[U]}u(E,"closeAndReportNotificationReadSpan")},1369898444:(x,g,e)=>{"use strict";e.d(g,{M:()=>c,W:()=>r});var t=e(2371143272),n=e(7002741921),s=e(4724591729);function r(o,a){const l={resources:[],frames:[],stacks:[],samples:[]},i=new Map,d=new Map,_=new Map;function m(y){if(_.has(y))return _.get(y);const p=l.resources.length;return l.resources.push(o.resources[y]),_.set(y,p),p}u(m,"mapResource");function h(y){if(d.has(y))return d.get(y);const p=o.frames[y],f=l.frames.length;return p.resourceId!=null?l.frames.push({...p,resourceId:m(p.resourceId)}):l.frames.push(p),d.set(y,f),f}u(h,"mapFrame");function v(y){if(i.has(y))return i.get(y);const p=o.stacks[y],f=p.parentId?v(p.parentId):void 0,O=h(p.frameId),I=l.stacks.length;return l.stacks.push(f!=null?{parentId:f,frameId:O}:{frameId:O}),i.set(y,I),I}u(v,"mapStack");function T(y){y.stackId==null?l.samples.push(y):l.samples.push({timestamp:y.timestamp,stackId:v(y.stackId)})}u(T,"addSample");let A=0;for(const{start:y,end:p}of a){for(;A<o.samples.length&&o.samples[A].timestamp<y;)A+=1;for(;A<o.samples.length&&o.samples[A].timestamp<=p;)T(o.samples[A]),A+=1}return l}u(r,"filterTrace");function c(){return!(0,s.b3)()&&(0,n.A)("self_profiling","enabled")&&!(0,t.b)()}u(c,"isProfilingEnabled")},8459143513:(x,g,e)=>{"use strict";e.d(g,{B:()=>s,I:()=>r.A});var t=e(3134334389),n=e(4757466470);let s=u(class extends t.Component{shouldComponentUpdate(o,a){return!(0,n.Ay)(o,this.props,2)||!(0,n.Ay)(a,this.state,2)}},"PureComponentDepth2");var r=e(1665466574)},7948868735:(x,g,e)=>{"use strict";e.d(g,{F:()=>s});var t=e(6422693406),n=e(4615579178);class s extends n.l{fetchData(){return t.S.resolve()}onCacheData(c){super.onCacheData(c);const o=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*o)}getStaleWhileRevalidate(c){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?c:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}u(s,"AutocompleteCache")},4256321479:(x,g,e)=>{"use strict";e.d(g,{E:()=>a});var t=e(5276466411),n=e(7948868735),s=e(6533394955),r=e(474652310);class c extends n.F{handleFileDeletion(i){if(this.cachedData&&this.cachedData.length>0){const d=this.cachedData.filter(_=>!(i!=null&&i.includes(_.id)));this.cachedData=d}}fetchData(){return(0,s.dispatchForTeamId)(this.teamId,(0,t.z)({reason:"fetch-search-autocomplete-top-engaged-files"})).then(i=>((0,s.dispatchForTeamId)(this.teamId,(0,r.b)({files:i.files})),i.files))}constructor(i,d){super(),this.teamId=i,this.timeoutMs=d}}u(c,"AutocompleteTopEngagedFilesCache");const o={};function a(l){let{teamId:i}=l;const d=i||"_default",_=36e5;return o[d]||(o[d]=new c(i,_)),o[d]}u(a,"getAutocompleteTopEngagedFilesCache")},1948374838:(x,g,e)=>{"use strict";e.d(g,{X:()=>c});var t=e(2223860501),n=e(8847766420);let s=u(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(a){const l=this.queryCache.has(a);return this.clearIfStale(),l}containsPrefixOf(a){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(a)}add(a){return this.clearIfStale(),this.queryCache.add(a)}addAsPrefix(a){return this.clearPrefixIfStale(),this.prefixQueryCache.add(a)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.A,this.prefixQueryCache=new t.A,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const r={};function c(o){const a=(0,n.ZT)(o),i=(0,n.jV)(o)||a||"";return r[i]||(r[i]=new s),r[i]}u(c,"getWorkflowTriggersAutocompleteQueryCache")},8003851355:(x,g,e)=>{"use strict";e.d(g,{u:()=>s,A:()=>r});var t=e(7923609541),n=e(6312133237);const s=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let r=u(class Ws{normalizeAndScore(o){const a=(0,n.B)(o);return a===this.normalizedQuery?0:this.score(a)}score(o){if(!o||this.queryNoSeparators.length>o.replace(s,"").length||!Ws.containsAllLetters(o,this.queryNode)||!this.queryNode)return 1/0;const l=Ws.lettersToGraph(o,this.options);if(!l)return 1/0;const i=Ws.searchWordBoundariesOnly(l,this.queryNode,this.options);if(!i)return 1/0;const d=Ws.countResult(i);return d>this.fuzzyLimit?1/0:d}static scoreOnce(o,a,l){const i=(0,n.B)(a),d=(0,n.B)(o);return new Ws(i,l).score(d)}static lettersToGraph(o,a){const l=o.split(""),i=l.shift();return Ws.lettersToGraphWorker(i,null,l,[],0,a)}static lettersToGraphWorker(o,a,l,i,d){let _=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!o)return null;const m=(0,t.A)(o),h=Ws.makeLetterNode(o,a,i,d,m);if(Ws.shouldAddJump(a,h,_)){const T=_.fuzzyJumpLimit||5;i.length<T&&i.push(h)}const v=Ws.lettersToGraphWorker(l.shift(),h,l,i,d+1,_);return v&&(h.next=v),h}static shouldAddJump(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a.ignored?!1:!!(!o||o.ignored&&!a.ignored||l.fuzzyCJK&&(o.isCJK!==a.isCJK||a.isCJK))}static makeLetterNode(o,a,l,i,d){return{letter:o,ignored:o.match(s),next:null,prev:a,jumps:l,visited:!1,index:i,isCJK:d}}static queryToLinkedList(o){if(!o)return null;let a=o.split("");return a.length>1024&&(a=a.slice(0,1024)),Ws.queryToLinkedListWorker(a,0)}static queryToLinkedListWorker(o,a){if(a>=o.length)return null;const l=o[a],i=!!(l.match(s)&&(a!==0||o.length>1));return{letter:l,isSeparator:i,isSpace:l===" ",next:Ws.queryToLinkedListWorker(o,a+1),index:a}}static searchWordBoundariesOnly(o,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ws.searchWordBoundariesOnlyWorker(o,a,0,l);return i||(i=o.jumps.reduce((d,_)=>d||_===o?d:Ws.searchWordBoundariesOnlyWorker(_,a,1,l),null)),i}static searchWordBoundariesOnlyWorker(o,a,l){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!o||!a)return null;let d;if(!o.visited&&(o.letter===a.letter||o.ignored&&a.isSeparator)&&(d={node:o,count:l}),!d)return null;if(!a.next)return d;o.visited=!0;let _=Ws.searchWordBoundariesOnlyWorker(o.next,a.next,0,i),m=a.next;for(;m.isSeparator&&m.next;)m=m.next;return _||(_=o.jumps.reduce((h,v)=>h||v.visited||v===o||(i.searchForwardOnly||i.substringsOnly)&&v.index<o.index||i.substringsOnly&&v.index>o.index+2?h:Ws.searchWordBoundariesOnlyWorker(v,m,1,i),null)),o.visited=!1,_?(d.next=_,d):null}static countResult(o){return o?o.count+Ws.countResult(o.next):0}static containsAllLetters(o,a){let l=a;for(;l;){if(!(l.isSeparator||o.includes(l.letter)))return!1;l=l.next}return!0}constructor(o,a={}){this.normalizedQuery=(0,n.B)(o),this.queryNode=Ws.queryToLinkedList(this.normalizedQuery),this.options=a;var l;this.fuzzyLimit=(l=this.options.fuzzyLimit)!==null&&l!==void 0?l:1/0,this.queryNoSeparators=this.normalizedQuery.replace(s,"")}},"FuzzyMatcher")},8170659516:(x,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(9884588328),n=e(8921478798),s=e(8701485242),r=e(5795074931);function c(o){let{state:a,mpim:l,matchData:i}=o;const d=(0,r.WR)(a);let _=[];if((0,t.Ug)(l)&&(_=(0,t.Ug)(l).filter(A=>d!==A)),!i)return _;const m=!1,h=!1,v=[];i.forEach(A=>{A.map(p=>({name:(0,n.I)(a,p.id,m,h),...p})).sort((p,f)=>p.score<f.score?1:p.score>f.score?-1:(0,s.Ay)(p.name,f.name)).filter(p=>isFinite(p.score)).forEach(p=>{_.includes(p.id)&&(v.push(p.id),_.splice(_.indexOf(p.id),1))})});const T=_.map(A=>({id:A,name:(0,n.I)(a,A,m,h)})).sort((A,y)=>(0,s.Ay)(A.name,y.name)).map(A=>A.id);return[...v,...T]}u(c,"getMemberDisplayOrderForSearcherMPIM")},220244708:(x,g,e)=>{"use strict";e.d(g,{B:()=>r});var t=e(6495946979),n=e(8170643398),s=e(3730613858);function r(c,o,a){if((0,n.fy)(o))return(0,t.bl)(a);const l=(0,s.Ql)(c,a.id,o.id);return!!(l.isKnown&&l.isMember)}u(r,"isUserKnownToBeMemberOfChannel")},1072784641:(x,g,e)=>{"use strict";e.d(g,{A:()=>be});var t=e(7715417323),n=e(5729325965),s=e(1703559452),r=e(4249070636),c=e(5238395322),o=e(8086952004),a=e(2003990933),l=e(4874502712),i=e(3037015781),d=e(8496310524),_=e(7111365413),m=e(9884588328),h=e(1407713935),v=e(8798294025),T=e(395285811),A=e(3890290905);const y=u(Ue=>Ue&&(Ue.displayName||Ue.display_name||(0,A.Y)(Ue)),"getEmojiDisplayName"),p=u(Ue=>Ue?(Ue.aliases?[Ue,...Ue.aliases]:[Ue]).map(ge=>({name:(0,A.Y)(ge),displayName:y(ge)})):null,"getAllEmojiNameObjects");var f=e(2647703359),O=e(102566929),I=e(5455782105),P=e(8170643398),C=e(9262712126),M=e(6120301420),D=e(3212336858),E=e(6839188756),S=e(2023092677),k=e(1033870301),U=e(796111729),L=e(8088280230);const B={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"]};var b=e(1917953477),R=e(8003851355),z=e(9422011462),w=e(8518663094),W=e(2332798892);const K=u(Ue=>(Ue||"").split(/\s+/)[0],"getFirstWord"),Y=u(Ue=>["/","\uFF0F"].includes((Ue||"").charAt(0))?Ue:`/${Ue}`,"prependSlashToStr"),X=u(Ue=>((Ue||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace");var Z=e(8847766420),ie=e(2762206868),Ae=e(9101533895),ae=e(4761125736),V=e(8276911661),ve=e(3677514771);let be=u(class{filterMembers(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if((0,P.Zx)(F)||this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery){const J={item:F,score:0,id:F.id};return this.selfFirst&&(0,P.fy)(F)&&(J.isSelf=!0),ee.push(J),ee}const{score:H,scoreDetails:j}=this.scoreMember(F),N={item:F,score:H,scoreDetails:j,id:F.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(N.isExactMatch=this.isMemberExactMatch(F),N.exactMatchDetails=this.getMemberExactMatchDetails(F)),this.selfFirst&&(0,P.fy)(F)&&(N.isSelf=!0),H<=this.fuzzyLimit&&ee.push(N),ee},[])}scoreMember(Re){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const ne=1/0,ee={};if(this.queryIsMaybeSelf&&(0,P.fy)(Re))ee.self_score=0;else{const N=(0,C.j_)(Re),J=(0,C.sJ)(Re);ee.real_name=N?ge.score(N):ne,ee.display_name=J?ge.score(J):ne}if(this.shouldMatchEmail){const N=(0,C.ZL)(Re);ee.email=N?this.forwardOnlyMatcher.score(N):1/0}var F;const H=(F=(0,n.A)(Object.values(ee)))!==null&&F!==void 0?F:ne,j=Object.entries(ee).reduce((N,J)=>{let[le,ce]=J;return isFinite(ce)&&(N[le]=ce),N},{});return{score:H,scoreDetails:j}}filterChannels(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if((0,h.PC)(F)||(0,h.Zx)(F)||(0,T.jT)(F)||this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=(0,z.B)((0,m.SB)(Re,F,{publicChannelIncludeHashSign:!1})),j=this.matcher.score(H),N={item:F,score:j,id:F.id};this.preferExactMatch&&(N.isExactMatch=this.isChannelExactMatchPreNormalized(H));const J=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,le=F.previous_names&&F.previous_names.length;let ce=!1;if(J&&le){var Ee;const ye=F==null||(Ee=F.previous_names)===null||Ee===void 0?void 0:Ee.map(Ce=>({score:this.matcher.normalizeAndScore(Ce),name:Ce}));N.previousNameScores=ye,ce=(0,s.A)(ye,Ce=>Ce.score<=this.fuzzyLimit);const Ie=ce&&j>this.fuzzyLimit;let he;if(Ie){const Ce=(0,r.A)(ye,"score");he=Ce&&Ce.name}N.bestPreviousNameMatch=he}return j<=this.fuzzyLimit||ce?ee.push(N):this.rawQuery===F.id&&ee.push({item:F,score:0,id:F.id}),ee},[])}filterTeams(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if((0,E.Zx)(F)||this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=this.matcher.normalizeAndScore((0,E.F1)(F)),j={item:F,score:H,id:F.id};return this.preferExactMatch&&(j.isExactMatch=this.isTeamExactMatch(F)),H<=this.fuzzyLimit&&ee.push(j),ee},[])}filterUserGroups(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if((0,S.Zx)(F)||this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=this.scoreUserGroupName(F),j={item:F,score:H,id:F.id};return this.preferExactMatch&&(j.isExactMatch=this.isUsergroupExactMatch(F)),H<=this.fuzzyLimit&&ee.push(j),ee},[])}scoreUserGroupName(Re){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,ne=1/0,ee=1/0;const F=(0,S.TZ)(Re)||(0,S.ue)(Re).toLocaleLowerCase(),H=(0,S.x_)(Re,{includeAtSign:!1});return ne=ge.normalizeAndScore(F),H&&(ee=ge.normalizeAndScore(H)),Math.min(ne,ee)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(ge=>!!ge).map(ge=>{const ne=ge.charAt(0)==="@"?ge.substring(1):ge;return new R.A(ne,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if(this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=(0,m.Ug)(F);if(!H)return ee;const j=H.map(he=>(0,V.nv)(Re,he)).filter(he=>!(0,P.fy)(he)&&!(0,P.Zx)(he)),N={},J={},le=[];let ce=0;const Ee=this.getSubQueryMatchers();for(const he of Ee){const Ce=[];let oe=1/0;for(const de of j){const{score:De,scoreDetails:Te}=this.scoreMember(de,he),pe=N==null?void 0:N[de.id];De<(pe!==void 0?pe:1/0)&&(N[de.id]=De,J[de.id]={score_details:Te}),Ce.push({id:de.id,score:De}),De<oe&&(oe=De)}le.push(Ce),ce+=oe}let ye;isFinite(ce)?ye=(0,c.A)(Object.values(N).filter(isFinite)):ye=ce;const Ie={id:F.id,item:F,score:ye,scoreDetailsByMember:J,subqueryScoresByMember:le};return ye<=this.fuzzyLimit?ee.push(Ie):this.rawQuery===F.id&&ee.push({item:F,score:0,id:F.id}),ee},[])}filterIms(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if(this.shouldFilterItem(F,ne))return ee;const H=(0,v.e)(F);if(!H)return ee;const j=(0,V.nv)(Re,H);if((0,P.Zx)(j))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const{score:N,scoreDetails:J}=this.scoreMember(j),le={item:F,score:N,scoreDetails:J,id:F.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(le.isExactMatch=this.isMemberExactMatch(j),le.exactMatchDetails=this.getMemberExactMatchDetails(j)),N<=this.fuzzyLimit?ee.push(le):this.rawQuery===F.id&&ee.push({item:F,score:0,id:F.id}),ee},[])}filterViews(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if(this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=this.matcher.normalizeAndScore(F.name),j={item:F,score:H,id:F.id};return this.preferExactMatch&&(j.isExactMatch=this.isViewOrModalExact(F)),H<=this.fuzzyLimit&&ee.push(j),ee},[])}filterModals(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if(this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=this.matcher.normalizeAndScore(F.name),j={item:F,score:H,id:F.id};return this.preferExactMatch&&(j.isExactMatch=this.isViewOrModalExact(F)),H<=this.fuzzyLimit&&ee.push(j),ee},[])}filterAppActions(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if((0,i.GU)(F)||this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=(0,d.u)(F),j=(0,ie.sO)(Re,F.app_id),N=!(0,i.GU)(j)&&(0,_.fj)(j),J=N?[`${H} ${N}`,`${N} ${H}`]:[H],le=J.map(ye=>this.matcher.normalizeAndScore(ye)),ce=Math.min(...le),Ee={item:F,score:ce,id:F.id};return this.preferExactMatch&&(Ee.isExactMatch=!!(this.query&&J.map(z.B).includes(this.query))),ce<=this.fuzzyLimit&&ee.push(Ee),ee},[])}filterApps(Re,ge,ne,ee){let F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.A;const H={};return ge!=null&&ge.length&&ge.forEach(j=>{const N=j.app_id;N&&!H[N]&&(H[N]={id:N,name:j.appName})}),ne!=null&&ne.length&&ne.forEach(j=>{const N=j==null?void 0:j.appId;N&&!H[N]&&(H[N]={id:N,name:j==null?void 0:j.appName})}),ee!=null&&ee.length&&ee.forEach(j=>{const N=j.appId;N&&!H[N]&&(H[N]={id:N,name:j.appName})}),this.filterShortcuts(Re,Object.values(H),!1,F)}filterShortcuts(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.A;return ge.reduce((F,H)=>{if((0,i.GU)(H)||this.shouldFilterItem(H,ee))return F;if(!this.query&&this.allowEmptyQuery)return F.push({item:H,score:0,id:H.id}),F;const{score:j,scoreDetails:N,bestNameMatch:J,bestNameIsExactMatch:le}=this.scoreShortcut(H,ne),ce={item:H,id:H.id,score:j};if(ne){ce.firstWordOfRawQuery=K(this.query);const Ee=(0,W.A)(H,Y(ce.firstWordOfRawQuery),{allowPartialMatches:!1});ce.commandMatch=Ee&&this.isOpenedWithSlash,ce.isExactMatch=ce.commandMatch}return ce.scoreDetails=N,ce.bestNameMatch=J,ce.bestNameIsExactMatch=le,ce.isExactMatch=ce.isExactMatch||le,(j<=this.fuzzyLimit||ce.commandMatch)&&F.push(ce),F},[])}scoreShortcut(Re){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const ee=this.isQueryExactlySlash?[]:Re.aliases||[];let F=(0,z.B)((0,D.fK)(Re));const H={name:ne.score(F),label:ne.normalizeAndScore(Re.label),desc:ne.normalizeAndScore((0,D.Hv)(Re)),app_name:ne.normalizeAndScore((0,D.qA)(Re))};ge&&H.name!==void 0&&H.name>0&&(H.name-=1);let j,N,J;ee.forEach(ye=>{let Ie=(0,z.B)(ye);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(Ie=(0,b.O)(Ie));const he=ne.score(Ie);Ie=(0,b.O)(Ie),!J&&(j===void 0||he<j)&&(j=he,N=Ie),this.normalizedQuery===Ie&&(J=!0,N=Ie)}),j!==void 0&&isFinite(j)&&(H.aliases=j);var le;const ce=(le=(0,n.A)(Object.values(H)))!==null&&le!==void 0?le:1/0;F=(0,b.O)(F),!J&&isFinite(H.name)&&(j===void 0||H.name<j)&&(N=F),this.normalizedQuery===F&&(J=!0,N=F);const Ee=Object.entries(H).reduce((ye,Ie)=>{let[he,Ce]=Ie;return isFinite(Ce)&&(ye[he]=Ce),ye},{});return{score:ce,scoreDetails:Ee,bestNameMatch:N,bestNameIsExactMatch:J}}filterWorkflowTriggers(Re,ge){const ne=(0,l.yq)(Re);return ge.reduce((ee,F)=>{if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=this.scoreWorkflowTrigger(F,this.matcher,ne),j={item:F,score:H,id:F.id};return this.preferExactMatch&&(j.isExactMatch=this.isTriggerExactMatch(F)),H<=this.fuzzyLimit&&ee.push(j),ee},[])}scoreWorkflowTrigger(Re){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var ee;const F={name:ge.normalizeAndScore(Re.name),description:ge.normalizeAndScore(Re.description),appName:ge.normalizeAndScore((ee=Re.workflow.app)===null||ee===void 0?void 0:ee.name),...ne?{shareUrl:ge.normalizeAndScore(Re.share_url)}:{}};var H;return(H=(0,n.A)(Object.values(F)))!==null&&H!==void 0?H:1/0}filterBroadcastKeywords(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if(this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=this.scoreBroadcastKeyword(F),j={item:F,score:H,id:F.id};return this.preferExactMatch&&(j.isExactMatch=this.isBroadcastKeywordExactMatch(F)),H<=this.fuzzyLimit&&ee.push(j),ee},[])}scoreBroadcastKeyword(Re){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,ne=1/0,ee=1/0;const F=ge.normalizeAndScore(Re.name);return Re.id==="BKchannel"&&(ne=ge.normalizeAndScore("group")),Re.ms_name!==Re.name&&(ee=ge.normalizeAndScore(Re.ms_name)),Math.min(F,ee,ne)}filterEmoji(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const ee=[];return ge.forEach(F=>{if(this.shouldFilterItem(F,ne))return;if(!this.query&&this.allowEmptyQuery){var H;ee.push({item:F,emojiScore:0,emojiMatchIndices:[],score:0,id:(H=F.id)!==null&&H!==void 0?H:F.name});return}var j;const N=(j=p(F))!==null&&j!==void 0?j:[];let J=1/0,le,ce,Ee,ye,Ie,he;N.forEach(pe=>{let{name:Me,displayName:ke}=pe;if(Me){const Ke=(0,z.B)(Me),Ze=this.scoreEmojiName(Ke);(Ze.score<J||J===1/0)&&(J=Ze.score,le=Ze.matchIndices,ce=Me,Ee=Me,Ie=Ze.queryLengthRatio,he=Ze.totalComboBreaks,ye=this.query===Ke||Me==="ok_hand"&&this.query==="ok")}if(ke&&ke!==Me){const Ke=(0,z.B)(ke),Ze=this.scoreEmojiName(Ke);(Ze.score<J||J===1/0)&&(J=Ze.score,le=Ze.matchIndices,ce=ke,Ee=Me,Ie=Ze.queryLengthRatio,he=Ze.totalComboBreaks,ye=this.query===Ke)}});const Ce=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,oe=F.keywords,de=!!(oe&&oe.length&&Array.isArray(oe));oe&&oe.length&&!Array.isArray(oe)&&(0,U.Ay)({state:Re}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${F.name} is not an array - ${F.keywords}`);let De=!1;if(J===1/0&&Ce&&de&&(De=F.keywords.some(pe=>this.matcher.normalizeAndScore(pe)<1/0),De&&(ce=F&&(F.displayName||F.name))),J!==1/0||De){const pe=(0,o.A)(N,Ke=>{let{name:Ze}=Ke;return Ze===Ee}),Me=pe&&pe.displayName;var Te;const ke={item:F,score:J,emojiScore:J,emojiBestNameMatch:ce,emojiBestNameMatchCanonical:Ee,emojiBestNameMatchLocalized:Me,emojiMatchIndices:le,emojiQueryLengthRatio:Ie,emojiTotalComboBreaks:he,id:(Te=F.id)!==null&&Te!==void 0?Te:F.name};this.preferExactMatch&&(ke.isExactMatch=ye,ke.isEmojiExactMatch=ye),ee.push(ke)}}),ee}scoreEmojiName(Re){const ge={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!Re)return ge;if(Re==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};if(B[this.query]&&B[this.query].indexOf(Re)!==-1)return ge;const ne=this.query.length,ee=[];let F=2,H=5;ne<3?(F=0,H=0):ne===3?(F=1,H=1):ne===4&&(F=1);let j=1/0,N=0,J=null,le=Re.indexOf(this.query);if(le===-1&&(le=Re.indexOf(this.query[0])),le!==-1){const ce=/\s+/g,Ee=/[-]+/g,ye=this.query.replace(ce,"").replace(Ee,"_"),Ie=Re.replace(Ee,"_"),he=ye.split("");J=0;let Ce=0,oe=0,de=!0;for(let De=le;De<Ie.length;De++){if(Ie[De]===he[0]){if(de=!0,ee.push(De),he.shift(),oe>Ce&&(Ce=oe),oe=0,he.length===0)break}else de&&(J+=1),de=!1,oe+=1;if(J>F)return{score:j,matchIndices:ee,queryLengthRatio:N,totalComboBreaks:J};if(oe>H)return{score:j,matchIndices:ee,queryLengthRatio:N,totalComboBreaks:J}}if(he.length>0)return ge;N=ye.length/Ie.length,j=1-N,J>0&&(j+=J)}return{score:j,matchIndices:ee,queryLengthRatio:N,totalComboBreaks:J}}filterFiles(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const ee=(0,M.hq)(Re),F=(0,Z.Kc)(Re),H=(0,ve._J)(Re,F),j=(0,I.k)(Re),N=H&&(0,E.qR)(H),J=!j&&!N,le=(0,ae._Z)(Re,"native_dlp_canvas")==="on";return ge.reduce((ce,Ee)=>{var ye,Ie;if((0,i.GU)(Ee)||(0,f.sR)(Ee))return ce;const he=(ye=this.options)===null||ye===void 0||(Ie=ye.entities)===null||Ie===void 0?void 0:Ie.files,Ce=!!(he!=null&&he.includeChannelCanvases)||!!(he!=null&&he.onlyChannelCanvases);if(Ee&&(0,f.aD)(Ee)&&!Ce)return ce;const oe=Ee&&(0,f.CA)(Ee),de=Ee==null?void 0:Ee.user_team,De=de?(0,ve._J)(Re,de):null;var Te;const Me=((Te=(0,E.Ss)(De??void 0))!==null&&Te!==void 0?Te:de)!==F;if(oe&&(Me||J)||le&&(0,f.Sp)(Ee)||Ee&&ee&&(he!=null&&he.onlyChannelCanvases||J)&&(0,f.wL)(Ee)||this.shouldFilterItem(Ee,ne))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const ke=this.scoreFile(Re,Ee),Ke={item:Ee,score:ke,id:Ee.id};return this.preferExactMatch&&(Ke.isExactMatch=this.isFileExactMatch(Ee)),ke<=this.fuzzyLimit&&ce.push(Ke),ce},[])}scoreFile(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const ee=ge.name?ne.normalizeAndScore(ge.name):1/0,F=ge.title&&ge.name!==ge.title?ne.normalizeAndScore(ge.title):1/0,H=(0,L.A)({input:this.query}).length>0,j=ge.external_url&&H?ne.normalizeAndScore(ge.external_url):1/0,N=ge.permalink&&H?ne.normalizeAndScore(ge.permalink):1/0;let J=1/0;if((0,f.aD)(ge)){const le=(0,O.Iz)(ge),ce=(0,Ae.OL)(Re,le);if(ce){const Ee=(0,z.B)((0,m.SB)(Re,ce,{publicChannelIncludeHashSign:!1}));J=this.matcher.score(Ee)}}return Math.min(ee,F,j,N,J)}filterLists(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if(this.shouldFilterItem(F,ne))return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=this.scoreList(F),j={item:F,score:H,id:F.id};return this.preferExactMatch&&(j.isExactMatch=this.isListExactMatch(F)),H<=this.fuzzyLimit&&ee.push(j),ee},[])}scoreList(Re){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(Re.title)}filterListRecords(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if(this.shouldFilterItem(F,ne)||!F.name||!F.listTitle)return ee;if(!this.query&&this.allowEmptyQuery)return ee.push({item:F,score:0,id:F.id}),ee;const H=this.scoreListRecord(F),j={item:F,score:H,id:F.id};return this.preferExactMatch&&(j.isExactMatch=this.isListRecordExactMatch(F)),H<=this.fuzzyLimit&&ee.push(j),ee},[])}scoreListRecord(Re){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(Re.name)}filterChannelSections(Re,ge){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return ge.reduce((ee,F)=>{if(this.shouldFilterItem(F,ne))return ee;const H=(0,k.v2)(Re,F),j=this.matcher.normalizeAndScore(H),N={item:F,score:j,id:F.id};return!this.query&&this.allowEmptyQuery?(ee.push(N),ee):(j<=this.fuzzyLimit&&ee.push(N),ee)},[])}shouldFilterItem(Re,ge){return ge(Re)===!1||this.filter(Re)===!1}getMemberExactMatchDetails(Re){const ge={},ne=(0,C.j_)(Re),ee=(0,C.sJ)(Re);return ge.real_name=ne===this.query,ge.display_name=ee===this.query,this.shouldMatchEmail&&(ge.email=(0,C.ZL)(Re)===this.query),ge}isMemberExactMatch(Re){return!this.query||!this.query.length?!1:(0,s.A)(this.getMemberExactMatchDetails(Re),Boolean)}isChannelExactMatchPreNormalized(Re){return!this.query||!this.query.length?!1:Re===this.query}isFileExactMatch(Re){if(!this.query||!this.query.length)return!1;var ge,ne;return(0,z.B)(Re.name)===this.query||(0,z.B)(Re.title)===this.query||(0,z.B)((ge=Re.external_url)!==null&&ge!==void 0?ge:void 0)===this.query||(0,z.B)((ne=Re.permalink)!==null&&ne!==void 0?ne:void 0)===this.query}isListExactMatch(Re){return!this.query||!this.query.length?!1:(0,z.B)(Re.title)===this.query}isListRecordExactMatch(Re){return!this.query||!this.query.length?!1:(0,z.B)(Re.name)===this.query}isTeamExactMatch(Re){return!this.query||!this.query.length?!1:(0,z.B)((0,E.F1)(Re))===this.query}isUsergroupExactMatch(Re){return!this.query||!this.query.length?!1:(0,z.B)((0,S.x_)(Re))===this.query||(0,z.B)((0,S.ue)(Re))===this.query}isTriggerExactMatch(Re){return!this.query||!this.query.length?!1:(0,z.B)(Re.name)===this.query}isBroadcastKeywordExactMatch(Re){return!this.query||!this.query.length?!1:(0,z.B)(Re.name)===this.query||(0,z.B)(Re.ms_name)===this.query}isViewOrModalExact(Re){return!this.query||!this.query.length?!1:(0,z.B)(Re.name)===this.query}filterHelpArticles(Re,ge){const ee=ge.reduce((F,H)=>{const j=(0,z.B)(H.title),N=this.substringMatcher.normalizeAndScore(H.title);return N>this.fuzzyLimit?F:F.concat({item:{...H,id:String(H.id)},score:N,isExactMatch:j===this.query,id:String(H.id)})},[]).sort((F,H)=>F.score-H.score);return ee.slice(0,Math.min(5,ee.length))}filterSalesListViews(Re,ge){return ge.reduce((ee,F)=>{const H=F.label;if(!H)return ee;const j=(0,z.B)(H),N=this.substringMatcher.normalizeAndScore(j);if(N>this.fuzzyLimit)return ee;const J=F.id;return ee.concat({item:{...F,id:J,name:H},score:N,isExactMatch:j===this.query,id:J})},[])}constructor({query:Re="",options:ge={entities:{}}}){var ne,ee,F,H,j,N,J,le,ce,Ee,ye,Ie,he;this.options=ge,this.rawQuery=Re,this.query=(0,z.B)(Re);var Ce;this.fuzzyLimit=(Ce=this.options.fuzzyLimit)!==null&&Ce!==void 0?Ce:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((ne=this.options)===null||ne===void 0||(ee=ne.sort)===null||ee===void 0)&&ee.avoidExactMatchForMembers),this.selfFirst=!!(!((F=this.options)===null||F===void 0||(H=F.sort)===null||H===void 0)&&H.selfFirst),this.filter=this.options.filter||t.A,this.shouldMatchEmail=(0,a.A)(this.options,"entities.members.matchEmailField")||(0,a.A)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=(0,w.t)(Re),this.normalizedQuery=this.query,!((j=this.options)===null||j===void 0||(N=j.entities)===null||N===void 0||(J=N.shortcuts)===null||J===void 0)&&J.queryStartsWithSlash&&(this.query=Y(this.query)),this.matcher=new R.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.forwardOnlyMatcher=new R.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new R.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!((le=this.options)===null||le===void 0||(ce=le.entities)===null||ce===void 0||(Ee=ce.shortcuts)===null||Ee===void 0)&&Ee.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((ye=this.options)===null||ye===void 0||(Ie=ye.entities)===null||Ie===void 0||(he=Ie.shortcuts)===null||he===void 0)&&he.isQueryExactlySlash)}},"SearcherMatcher")},6897117289:(x,g,e)=>{"use strict";e.d(g,{A:()=>P});var t=e(3367239067),n=e(1703559452),s=e(7264301376),r=e(129753175),c=e(9884588328),o=e(1407713935),a=e(6007206761),l=e(6495946979),i=e(8170643398),d=e(3534324375),_=e(6839188756),m=e(9190452268),h=e(8701485242),v=e(181849556),T=e(220244708);class A{preprocessText(M,D){if(typeof M!="string")throw new TypeError("Input text must be a string.");let E=M.replace(/\s+?/g,"").toLowerCase();return D&&(E=E.replace(/[-_]/g,"")),Array.from(E)}extractNGrams(M){if(!Array.isArray(M)||M.some(U=>typeof U!="string"))throw new TypeError("textChars must be an array of strings.");const D=new Map,E=M.length,[S,k]=this.ngramRange;for(let U=S;U<=k;U++)for(let L=0;L<=E-U;L++){const B=M.slice(L,L+U).join(""),b=L+1,R=D.get(B)||[];R.push(b),D.set(B,R)}return D}computeTermFrequencies(M){if(!(M instanceof Map))throw new TypeError("ngrams must be a Map.");const D=new Map;return M.forEach((E,S)=>{if(!Array.isArray(E)||E.some(U=>typeof U!="number"))throw new TypeError("Positions must be arrays of numbers.");const k=E.reduce((U,L)=>U+1/L,0);D.set(S,k)}),D}cosineSimilarity(M,D){if(!(M instanceof Map)||!(D instanceof Map))throw new TypeError("tfQuery and tfCandidate must be Map instances.");const E=new Set([...M.keys(),...D.keys()]);let S=0,k=0,U=0;return E.forEach(B=>{const b=M.get(B)||0,R=D.get(B)||0;S+=b*R,k+=b*b,U+=R*R}),k===0||U===0?0:S/(Math.sqrt(k)*Math.sqrt(U))}computeSimilarity(M,D){if(typeof M!="string"||typeof D!="string")return 0;const S=/[-_]/.test(M),k=this.preprocessText(M,!1),U=this.preprocessText(D,!S),L=this.extractNGrams(k),B=this.extractNGrams(U),b=this.computeTermFrequencies(L),R=this.computeTermFrequencies(B);return this.cosineSimilarity(b,R)}constructor(M=[2,3]){if(!Array.isArray(M)||M.length!==2||typeof M[0]!="number"||typeof M[1]!="number"||M[0]>M[1]||M[0]<1)throw new Error("ngramRange must be an array of two numbers where minN >= 1 and minN <= maxN.");this.ngramRange=M}}u(A,"PositionAwareFuzzyMatcher");var y=e(5795074931),p=e(9101533895),f=e(4761125736),O=e(8276911661);const I={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let P=u(class{sort(M,D){var E;const S=(0,m.Cy)({state:M});S.mark("modern-searcher-sorting-mark");const{members:k,channels:U,mpims:L,ims:B,teams:b,userGroups:R,emoji:z,broadcastKeywords:w,views:W,modals:K,appActions:Y,channelSections:X,emails:Z,files:ie,lists:Ae,listRecords:ae,slashCommands:V,slackGlobalActions:ve,quipShortcutCommands:be,canvasAiSuggestions:Ue,channelActions:Re,fakeGlobalActions:ge,callActions:ne,apps:ee,helpArticles:F,workflowTriggers:H,salesListViews:j}=D,N={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};U&&U.reduce((Ie,he)=>(0,a.F)(he.item)?(Ie.archivedChannels.push(he),Ie):((0,l.bl)(he.item)?Ie.memberChannels.push(he):Ie.nonmemberChannels.push(he),Ie),N);let J=[...k||[],...N.memberChannels,...L||[],...B||[],...z||[],...R||[],...w||[],...W||[],...K||[],...Y||[],...X||[],...Z||[],...ie||[],...Ae||[],...ae||[],...ne||[],...Re||[],...ge||[],...ee||[],...F||[],...H||[],...j||[]],le=[...N.nonmemberChannels,...b||[],...V||[],...ve||[],...be||[],...Ue||[]],ce=N.archivedChannels;const Ee=this.getSortFuzzyFunction(M,{localeAware:!0});this.options.flat||(J=this.precomputeMatchNames(M,J).sort(Ee),le=this.precomputeMatchNames(M,le).sort(Ee),ce=this.precomputeMatchNames(M,ce).sort(Ee));let ye=[...J,...le,...ce];return this.options.flat&&ye.sort(Ee),this.options.preferExactMatch&&(ye=[...(0,t.A)(ye,he=>he.isExactMatch),...ye]),this.options.frecency&&(this.options.normalize=!0,S.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?ye=(0,v.jW)(M,{query:this.query,list:ye,bonusPoints:this.getFrecencyBonusPointsFunction(M)}):ye=(0,v.Zh)(M,{query:this.query,list:ye,bonusPoints:this.getFrecencyBonusPointsFunction(M)}),S.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((E=ye[0])===null||E===void 0)&&E.isSelf)&&(ye=[...(0,t.A)(ye,he=>he.isSelf),...ye]),S.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),ye}precomputeMatchNames(M,D){return D.map(E=>({...E,name:this.getNameForComparison(M,E)}))}getSortFuzzyFunction(M,D){let{localeAware:E}=D;return(S,k)=>{if((0,o.yz)(S.item)&&!(0,o.yz)(k.item))return 1;if((0,o.yz)(k.item)&&!(0,o.yz)(S.item)||(0,o.LI)(S.item)&&!(0,o.LI)(k.item))return-1;if((0,o.LI)(k.item)&&!(0,o.LI)(S.item))return 1;if(!(0,o.yz)(S.item)&&!(0,o.yz)(k.item)){const w=S.score-k.score;if(w!==0)return w}if((0,o.yz)(S.item)&&(0,o.yz)(k.item)){const w=S.score-k.score;if(w!==0)return w;var U,L;const W=((U=(0,c.N4)(S.item))!==null&&U!==void 0?U:0)-((L=(0,c.N4)(k.item))!==null&&L!==void 0?L:0);if(W!==0)return W}var B;const b=(B=S.name)!==null&&B!==void 0?B:"";var R;const z=(R=k.name)!==null&&R!==void 0?R:"";return E?(0,h.Ay)(b,z):b>z?1:z>b?-1:0}}getFrecencyBonusPointsFunction(M){return D=>{var E,S;const{item:k}=D,U=(0,f._Z)(M,"position_aware_fuzzy_match")==="treatment",L={};if((0,o.yz)(k)){if(L.isMpim=0,this.options.preferMpimsWithActiveMembers){const B=(0,c.Ug)(k);if(!B)return L;const b=B.map(R=>(0,O.nv)(M,R));(0,n.A)(b,R=>(0,i.oy)(R)||(0,i.eJ)(R))&&(L.isMpimWithDeactivatedMember=I.mpimWithDeactivatedMember)}return L}if(D.isExactMatch?(L.isExactMatch=I.exactMatch,D.isEmojiExactMatch&&(L.isEmojiExactMatch=I.exactMatch)):D.emojiScore?U?L.emojiScoreBonus=this.calculateContinuousFuzzyBonusPoints(D,I.emojiMatch):L.emojiScoreBonus=this.calculateNormalizedFuzzyBonusPoints(D,"emojiScore",I.emojiMatch):(0,a.F)(k)||(0,i.oy)(k)||(0,i.eJ)(k)||(U?L.fuzzyScoreBonus=this.calculateContinuousFuzzyBonusPoints(D,I.fuzzyMatch):L.fuzzyScoreBonus=this.calculateNormalizedFuzzyBonusPoints(D,"score",I.fuzzyMatch)),D.bestPreviousNameMatch&&(L.onlyMatchesPreviousName=I.matchesPreviousName),this.options.preferChannelMembers&&k.presence&&this.options.currentChannel&&(0,T.B)(M,k,this.options.currentChannel)&&(L.isMemberOfThisChannel=I.memberOfThisChannel),(0,o.jq)(k)&&(0,c.m2)(M,k)&&(L.isStarred=I.starredChannel),(0,i.NB)(k)){const B=(0,p.Pu)(M,k.id);B&&(0,c.m2)(M,B)&&(L.isStarred=I.starredChannel)}return k.is_emoji&&(k.name==="thumbsup"||k.name==="point_up")&&(L.isPopularEmojiVariant=I.popularEmoji),this.options.selfFirst&&(0,i.fy)(k)&&(L.isSelf=I.isSelf),this.options.preferChannelWorkflows&&k.type==="channel_action"&&k.channelId===((E=this.options)===null||E===void 0||(S=E.currentChannel)===null||S===void 0?void 0:S.id)&&(L.isWorkflowAssociatedWithChannel=I.workflowAssociatedWithChannel),((0,o.rW)(k)||(0,o.Zp)(k))&&((0,a.F)(k)&&(L.isArchived=I.archivedChannel),(0,o.rW)(k)&&this.options.preferChannelsUserBelongsTo&&!(0,a.F)(k)&&!(0,l.bl)(k)&&(L.isNotChannelMember=I.notInChannel),(0,y.u8)(M)&&(0,c.lo)(k)&&(L.isChannelFromAnotherTeam=I.channelFromAnotherTeam)),(0,i.NB)(k)&&((0,i.oy)(k)||(0,i.eJ)(k))&&(L.isDeactivatedMember=I.deactivatedMember),(k.is_usergroup||k.is_broadcast_keyword)&&(L.isUserGroupOrKeyword=I.userGroupOrKeyword),L}}calculateNormalizedFuzzyBonusPoints(M,D,E){const S=M[D];if(!(0,s.A)(S))return 0;const k=.5**S;return Math.round(E*k)}calculateContinuousFuzzyBonusPoints(M,D){return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,M.item.name)*D}getNameForComparison(M,D){let E;const S=D.item;return(0,o.yz)(S)?E=S.name_normalized:(0,o.mz)(S)?E=(0,r.A)((0,c.SB)(M,S,{publicChannelIncludeHashSign:!1})):(0,i.NB)(S)?E=(0,d.sE)(M,S):S.is_usergroup?E=S.handle||S.name:S.team_name?E=(0,r.A)((0,_.F1)(S)):S.isEmail?E=(0,r.A)(S.value):S.title?E=S.title:E=S.name,E}constructor({query:M,options:D={}}){this.options=D,this.query=M,this.positionAwareFuzzyMatcher=new A([2,3])}},"SearcherSorter")},9868740303:(x,g,e)=>{"use strict";e.d(g,{A:()=>ye});var t=e(8571983633),n=e(9746734072),s=e(9113979368),r=e(897091071),c=e(7715417323),o=e(1703559452),a=e(2141441167),l=e(5503876160),i=e(6422693406),d=e(2664504268),_=e(7599421656),m=e(9349021185),h=e(9552526132),v=e(4423055085),T=e(5613323535),A=e(1197508738),y=e(5455782105),p=e(3212336858),f=e(9931116838),O=e(411655882),I=e(2229186),P=e(1224315998),C=e(5751973043),M=e(82287009),D=e(9190452268),E=e(5770715593),S=e(6617433054),k=e(4096483543),U=e(6471801899),L=e(1917953477),B=e(1072784641),b=e(6897117289),R=e(8956261571),z=e(8847766420),w=e(7260478587),W=e(4119164726),K=e(6533394955),Y=e(6451390137),X=e(2854654447),Z=e(9107158149),ie=e(7688940281),Ae=e(2235302340),ae=e(9101533895),V=e(6728717861),ve=e(7600673124),be=e(3829348308),Ue=e(4761125736),Re=e(937317117),ge=e(761034736),ne=e(4224126550),ee=e(9706240641),F=e(6304789565),H=e(9174292896);const j=(0,F.Ay)("Fetch list records for lists mentions",function(){var Ie=(0,ee.coroutine)(function*(he,Ce,oe){let{query:de}=oe;const De=(0,U.V3)(de);if(!De)return;const{listTitle:Te}=De,pe=(0,ne.Mr)(Ce()),Me=(0,U.xL)(pe,Te);if(!Me)return;const ke=Me.id;yield he((0,H.D)({listId:ke}))});return function(he,Ce,oe){return Ie.apply(this,arguments)}}());j.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var N=e(4525672255),J=e(8276911661),le=e(1835177371);class ce{search(he){let{query:Ce,options:oe}=he;var de;if(this.maybeStartSession(Ce),((0,t.A)(Ce)||!Ce.length)&&!oe.allowEmptyQuery)return i.S.resolve(C.Ml);if((0,n.A)(Ce))return this.bulkSearch({queryRecords:Ce,options:oe});const De=(0,K.getStateByTeamId)(this.teamId),Te=(0,D.Cy)({state:De}),pe=(0,d.A)();Te.mark(`modern-searcher-search-mark-${pe}`);const Me=(0,L.O)(Ce??"");T.LI.start({label:T.gC.Searcher,id:pe,options:{teamId:(0,z.ZT)(De),tags:this.getTraceTags({query:Me,options:oe})}});const ke=(de=T.LI.get({label:T.gC.Searcher,id:pe}))===null||de===void 0?void 0:de.createChildSpan({name:"searcher:search"}),Ke=(0,m.aw)(oe,m.lp,Ce);if((0,s.A)(Ke))return i.S.resolve(C.Ml);if((0,A.x)(De)!==V.M9.ONLINE||!(oe!=null&&oe.allowEmptyQueryRemoteSearch)&&!Me.length&&(0,k.A)()&&(0,Ue._Z)(De,"searcher_local_empty_string")==="treatment"&&!oe.entities.lists)return i.S.resolve(this.searchLocal({query:Me,options:Ke,autoTraceId:pe,parentSpanId:ke==null?void 0:ke.getId()}));const Ze=this.fetchRemote({query:Me,options:Ke,autoTraceId:pe,parentSpanId:ke==null?void 0:ke.getId()}).then(Q=>this.processFetchedEntities({query:Me,data:Q,options:Ke,autoTraceId:pe,parentSpanId:ke==null?void 0:ke.getId()}));if(Ke.tiered){const Q=this.searchLocal({query:Me,options:Ke,autoTraceId:pe,parentSpanId:ke==null?void 0:ke.getId()});return Q.promise=Ze.finally(()=>{ke==null||ke.close(),T.LI.stop({label:T.gC.Searcher,id:pe})}),i.S.resolve(Q).finally(()=>{Te.measureAndClear(`modern-searcher-search-mark-${pe}`,"modern-searcher-search-tiered")})}return Ze.finally(()=>{Te.measureAndClear(`modern-searcher-search-mark-${pe}`,"modern-searcher-search"),ke==null||ke.close(),T.LI.stop({label:T.gC.Searcher,id:pe})})}flattenResultsWithQueryId(he){let{returnedResults:Ce,queryIds:oe}=he;const de=Ce;for(let De=0;De<Ce.length;De++)for(let Te=0;Te<Ce[De].length;Te++)de[De][Te].queryId=oe[De];return(0,r.A)(de)}bulkSearch(he){let{queryRecords:Ce,options:oe}=he;const de=(0,K.getStateByTeamId)(this.teamId),De=(0,D.Cy)({state:de}),Te=(0,d.A)();De.mark(`modern-searcher-search-mark-${Te}`);const pe=(0,m.aw)(oe,m.lp,"");if((0,s.A)(pe))return i.S.resolve(C.Ml);const Me=Ce.map(He=>He.query),ke=Ce.map(He=>He.queryId),Ke=Me.map(He=>(0,L.O)(He));let Ze,Q;if((0,A.x)(de)!==V.M9.ONLINE)return Q=Ke.map(He=>this.searchLocal({query:He,options:pe})),Ze=this.flattenResultsWithQueryId({returnedResults:Q,queryIds:ke}),i.S.resolve(Ze);const se=this.fetchRemote({query:Ke,options:pe}).then(He=>(Q=He.map((Ge,Be)=>this.processFetchedEntities({query:Ke[Be],data:Ge,options:pe})),this.flattenResultsWithQueryId({returnedResults:Q,queryIds:ke})));return pe.tiered?(Q=Ke.map(He=>this.searchLocal({query:He,options:pe})),Ze=this.flattenResultsWithQueryId({returnedResults:Q,queryIds:ke}),Ze.promise=se,i.S.resolve(Ze).finally(()=>{De.measureAndClear(`modern-searcher-search-mark-${Te}`,"modern-searcher-search-tiered")})):se.finally(()=>{De.measureAndClear(`modern-searcher-search-mark-${Te}`,"modern-searcher-search")})}searchLocal(he){let{query:Ce,options:oe,autoTraceId:de,parentSpanId:De}=he;var Te;const pe=(0,K.getStateByTeamId)(this.teamId);let Me=de;Me||(Me=(0,d.A)(),T.LI.start({label:T.gC.Searcher,id:Me,options:{teamId:(0,z.ZT)(pe),tags:this.getTraceTags({query:Ce,options:oe})}}));const ke=(Te=T.LI.get({label:T.gC.Searcher,id:Me}))===null||Te===void 0?void 0:Te.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:De}});if(!Ce.length&&!oe.allowEmptyQuery)return[];const Ke=(0,m.aw)(oe,m.lp,Ce);if((0,s.A)(Ke))return[];const Ze=(0,L.O)(Ce),Q=this.fetchLocal({query:Ce,options:Ke}),se=this.processFetchedEntities({query:Ze,data:Q,options:Ke,autoTraceId:Me,parentSpanId:ke==null?void 0:ke.getId()});return ke==null||ke.close(),se}fetchRemote(he){let{query:Ce,options:oe,autoTraceId:de,parentSpanId:De}=he;var Te;const pe=(0,K.getStateByTeamId)(this.teamId),Me=(Te=T.LI.get({label:T.gC.Searcher,id:de}))===null||Te===void 0?void 0:Te.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:De}});this.pendingRequests.forEach(Xe=>Xe.cancel()),this.pendingRequests=[];const ke=[],Ke=[],{channels:Ze,emoji:Q,files:se,lists:He,members:Ge,teams:Be,userGroups:we,appActions:xe,workflowTriggers:Oe}=oe.entities;if(Ge){let Xe;(0,n.A)(Ce)?Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.U7)({queries:Ce,options:oe})):Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.QH)({query:Ce,options:oe})),this.pendingRequests.push(Xe),Ge.runaway?Ke.push(Xe):ke.push(Xe)}if(Ze&&!(0,n.A)(Ce)){const Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.J6)({query:Ce,options:oe}));this.pendingRequests.push(Xe),Ze.runaway?Ke.push(Xe):ke.push(Xe)}if(Q&&!(0,n.A)(Ce)){const Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.LR)({query:Ce,options:oe}));this.pendingRequests.push(Xe),Q.runaway?Ke.push(Xe):ke.push(Xe)}if(se&&!(0,n.A)(Ce)&&((0,S.A)(Ce)||Ce.length>3)){const Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.cD)({query:Ce,options:oe}));this.pendingRequests.push(Xe),se.runaway?Ke.push(Xe):ke.push(Xe)}if(He&&!(0,n.A)(Ce)){const Xe=i.S.resolve((0,K.dispatchForTeamId)(this.teamId,Ce.indexOf(">")<0?(0,N.E)({query:Ce}):j({query:Ce})));this.pendingRequests.push(Xe),He.runaway?Ke.push(Xe):ke.push(Xe)}if(we){let Xe;(0,n.A)(Ce)?Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.eR)({queries:Ce,options:oe})):Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.UC)({query:Ce,options:oe})),this.pendingRequests.push(Xe),we.runaway?Ke.push(Xe):ke.push(Xe)}if(Be&&((0,y.k)(pe)||Be.onlyExternal||Be.includeExternal)&&!(0,n.A)(Ce)){const Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.DF)({query:Ce,options:oe}));this.pendingRequests.push(Xe),Be.runaway?Ke.push(Xe):ke.push(Xe)}if((0,f.e)(pe)&&xe){const Xe=i.S.resolve((0,K.dispatchForTeamId)(this.teamId,(0,X.G)())).timeout(2e3).catch(c.A);this.pendingRequests.push(Xe),xe.runaway?Ke.push(Xe):ke.push(Xe)}if(Oe&&!(0,n.A)(Ce)){const Xe=(0,K.dispatchForTeamId)(this.teamId,(0,m.fx)({query:Ce}));Oe.runaway?Ke.push(Xe):ke.push(Xe)}return i.S.all(ke).then(Xe=>{let Ye;if((0,n.A)(Ce))Ye=Ce.map(At=>this.fetchLocal({query:At,options:oe})).map(At=>{const Ot={...At};return Ot.remoteIds=(0,m.jl)(Xe),Ot});else{if(Ye=this.fetchLocal({query:Ce,options:oe}),Ye.remoteIds=(0,m.jl)(Xe),Ge&&Ge.onlyFromExternalWorkspaceId){var dt,mt;Ye.members=(mt=(dt=Xe.find(At=>!!At.members))===null||dt===void 0?void 0:dt.members)!==null&&mt!==void 0?mt:C.Ml}const it=(0,o.A)((0,a.A)(Ye),"length");if(Ke.length&&!it)return i.S.all(Ke).then(()=>this.fetchLocal({query:Ce,options:oe}))}return Me==null||Me.close(),Ye}).finally(()=>{this.pendingRequests=[]})}fetchLocal(he){let{query:Ce,options:oe}=he;const de=(0,K.getStateByTeamId)(this.teamId);(0,m.ZD)(oe);const De={},{members:Te,channels:pe,teams:Me,userGroups:ke,appActions:Ke,views:Ze,broadcastKeywords:Q,emoji:se,files:He,lists:Ge,channelSections:Be,emails:we,modals:xe,shortcuts:Oe,workflowTriggers:Xe,helpArticles:Ye,canvasAiSuggestions:dt}=oe.entities;if(pe&&(pe.includePublic||pe.includePrivate)&&(De.channels=(0,m.AC)(de,oe)),pe&&pe.includeMpims&&(De.mpims=(0,ae.FS)(de)),pe&&pe.includeIms&&(De.ims=(0,ae._B)(de)),Te&&(De.members=Te.onlyFromExternalWorkspaceId?C.Ml:(0,J.I_)(de).filter(At=>(0,Z.zP)(de,At.id)&&!(0,ve.y)(de,At.id))),Me&&(De.teams=(0,m.mi)(de,oe)),ke&&(De.userGroups=(0,le.jJ)(de)),Ke&&(De.appActions=(0,_.B)(de)?(0,Y.PL)(de):(0,m.g2)(de,Ke.channel)),He&&(De.files=(0,Re.Gn)(de)),Ge&&(Ce.indexOf(">")<0?De.lists=(0,ne.C0)(de):De.listRecords=(0,ne.vD)(de,Ce)),Ze&&(De.views=(0,m.mK)(de)),xe&&(De.modals=(0,m.A$)(de)),Q){var mt;const At=Q.currentChannel?Q.currentChannel.id:null;De.broadcastKeywords=!((mt=oe.entities.broadcastKeywords)===null||mt===void 0)&&mt.includeAll||!At?(0,O.A)():(0,I.A)(de,At)}if(se&&(De.emoji=(0,be.Gt)(de)),Be&&(De.channelSections=(0,a.A)((0,Ae.jV)(de))),(Oe!=null&&Oe.slashCommands||Oe!=null&&Oe.fakeGlobalActions)&&!(Oe!=null&&Oe.isAnnounceOnly)&&(De.slashCommands=(0,_.B)(de)?(0,M.A_)(de,Oe.channel,!!Oe.threadTs,!0).map(At=>({...At,id:(0,p.Bs)(At),isSlashCommand:!0})):(0,m.lS)(de,Oe.channel,Oe.threadTs)),Oe!=null&&Oe.slackGlobalActions&&(De.slackGlobalActions=(0,M.Yk)(de,Oe.channel,Oe.threadTs)),Oe!=null&&Oe.quipShortcutCommands&&(De.quipShortcutCommands=(0,W.Aw)(de,!!Ce)),Oe!=null&&Oe.channelActions&&(De.channelActions=(0,ie.fo)(de,Oe.channel)),Oe!=null&&Oe.fakeGlobalActions&&(De.fakeGlobalActions=(0,M.JL)(de,Oe.channel,Oe.threadTs)),Oe!=null&&Oe.callActions&&(De.callActions=(0,M.Uw)(de,Oe.channel,Oe.threadTs,Oe.isAnnounceOnly)),Xe){const At=(0,M.NJ)(de);Xe.includeAutomated?De.workflowTriggers=At:De.workflowTriggers=At.filter(Ot=>Ot.type===h.M.Shortcut)}we&&(De.emails=(0,m.FF)(Ce));const it=(0,E.dL)(de);return Ye&&it&&(De.helpArticles=(0,ge.Fb)(de,"searcher/fetch_all_articles")),dt&&(De.canvasAiSuggestions=(0,w.rW)(de,oe)),(0,m.S)(),De}processFetchedEntities(he){let{query:Ce,data:oe,options:de,autoTraceId:De,parentSpanId:Te}=he;var pe,Me,ke;const Ke=(0,K.getStateByTeamId)(this.teamId),Ze=(pe=T.LI.get({label:T.gC.Searcher,id:De}))===null||pe===void 0?void 0:pe.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Te}});(0,m.ZD)(de);const Q={},se=new B.A({query:Ce,options:de}),He=(0,D.Cy)({state:Ke});He.mark("modern-searcher-matching-mark");const Ge=(Me=T.LI.get({label:T.gC.Searcher,id:De}))===null||Me===void 0?void 0:Me.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Ze==null?void 0:Ze.getId()}});if(oe.channels&&(Q.channels=se.filterChannels(Ke,oe.channels,(0,m.sr)(Ke,de.entities.channels))),oe.members&&(Q.members=se.filterMembers(Ke,oe.members,(0,m.bE)(Ke,de.entities.members))),oe.emails&&oe.members&&!(!(Q==null||(ke=Q.members)===null||ke===void 0)&&ke.length)&&(Q.emails=oe.emails),oe.mpims&&(Q.mpims=se.filterMpims(Ke,oe.mpims,(0,m.AQ)(Ke,de.entities.channels))),oe.ims&&(Q.ims=se.filterIms(Ke,oe.ims,(0,m.EM)(Ke,de.entities.channels))),oe.userGroups&&(Q.userGroups=se.filterUserGroups(Ke,oe.userGroups,(0,m.H9)(Ke,de.entities.userGroups))),oe.teams&&(Q.teams=se.filterTeams(Ke,oe.teams,(0,m.A1)(Ke,de.entities.teams))),oe.views&&(Q.views=se.filterViews(Ke,oe.views)),oe.modals&&(Q.modals=se.filterModals(Ke,oe.modals)),oe.appActions&&(Q.appActions=se.filterAppActions(Ke,oe.appActions)),oe.slashCommands&&(Q.slashCommands=se.filterShortcuts(Ke,oe.slashCommands,!0)),oe.slackGlobalActions&&(Q.slackGlobalActions=se.filterShortcuts(Ke,oe.slackGlobalActions)),oe.quipShortcutCommands&&(Q.quipShortcutCommands=se.filterShortcuts(Ke,oe.quipShortcutCommands)),oe.canvasAiSuggestions&&(Q.canvasAiSuggestions=se.filterShortcuts(Ke,oe.canvasAiSuggestions)),oe.channelActions&&(Q.channelActions=se.filterShortcuts(Ke,oe.channelActions)),oe.fakeGlobalActions&&(Q.fakeGlobalActions=se.filterShortcuts(Ke,oe.fakeGlobalActions)),oe.callActions&&(Q.callActions=se.filterShortcuts(Ke,oe.callActions)),oe.workflowTriggers&&(Q.workflowTriggers=se.filterWorkflowTriggers(Ke,oe.workflowTriggers)),oe.broadcastKeywords&&(Q.broadcastKeywords=se.filterBroadcastKeywords(Ke,oe.broadcastKeywords)),oe.emoji&&(Q.emoji=se.filterEmoji(Ke,oe.emoji)),oe.channelSections&&(Q.channelSections=se.filterChannelSections(Ke,oe.channelSections,At=>{var Ot,Kt;return!!(!((Ot=de.entities.channelSections)===null||Ot===void 0||(Kt=Ot.includeTypes)===null||Kt===void 0)&&Kt[At.type])})),oe.files&&(Q.files=se.filterFiles(Ke,oe.files,(0,m.Do)(Ke,de.entities.files))),oe.lists&&(Q.lists=se.filterLists(Ke,oe.lists)),oe.listRecords){var Be;const{recordQuery:At}=(Be=(0,U.V3)(Ce))!==null&&Be!==void 0?Be:{},Ot=new B.A({query:At,options:de});Q.listRecords=Ot.filterListRecords(Ke,oe.listRecords)}oe.helpArticles&&(Q.helpArticles=se.filterHelpArticles(Ke,oe.helpArticles)),He.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),Ge==null||Ge.close();const we=(0,m.SI)(Q,oe.remoteIds||{});let xe=(0,r.A)(Object.values(we));const Oe=500,Xe=3;var Ye;const dt=Math.min(((Ye=de==null?void 0:de.limit)!==null&&Ye!==void 0?Ye:1)*Xe,Oe);if(de.sort&&!de.sort.bypassSorting){var mt;let At=!1;xe.length<dt&&(At=!0);const Ot=new b.A({query:Ce,options:{modelOnly:At,...de.sort}}),Kt=(mt=T.LI.get({label:T.gC.Searcher,id:De}))===null||mt===void 0?void 0:mt.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Ze==null?void 0:Ze.getId()}});xe=Ot.sort(Ke,we),Kt==null||Kt.close()}if(de.sort&&de.sort.frecency&&!de.sort.bypassSorting){var it;const At=(it=T.LI.get({label:T.gC.Searcher,id:De}))===null||it===void 0?void 0:it.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Ze==null?void 0:Ze.getId()}});xe=new R.A({query:Ce,options:de.sort,teamId:(0,z.ZT)(Ke),enterpriseId:(0,y.k)(Ke)&&(0,z.jV)(Ke)?(0,z.jV)(Ke):void 0}).sort(Ke,xe.slice(0,dt)),At==null||At.close()}return de.limit&&(xe=(0,l.A)(xe,de.limit)),de.returnMetadata||(xe=xe.map(At=>At.item)),(0,m.S)(),xe||[]}clogSearcherAccept(he){let{clogger:Ce,data:oe}=he;const{source:de,query:De,results:Te,selectedItemId:pe,displayedItemIds:Me}=oe,ke=15;if(!pe)return;const Ke=Me?Me.length:Te.length,Ze=Me?Me.indexOf(pe):Te.findIndex(dt=>dt.item.id===pe);if(Ze<0)return;const Q=Te.find(dt=>dt.item.id===pe);if(!Q)return;const se=Q.type||"other",He=(0,n.A)(De)?De.map(dt=>(0,L.O)(dt)):(0,L.O)(De),Ge=Q.source||"local";let Be;Q.type==="mpim"?Be=Q.scoreDetailsByMember:Q.type==="member"?Be={[pe]:{is_exact_match:Q.isExactMatch,exact_match_details:Q.exactMatchDetails,score_details:Q.scoreDetails}}:Q.type==="emoji"?Be={[pe]:{is_exact_match:Q.isExactMatch}}:Q.type==="canvasAiSuggestions"&&(Be=Q.item.category);let we=[];Te.some(dt=>dt.featureVectorRaw)&&(Me?we=Me.map(dt=>{const mt=Te.find(it=>it.item.id===dt);return mt&&mt.featureVectorRaw.serialize()||""}):we=Te.map(dt=>{var mt,it;return dt==null||(mt=dt.featureVectorRaw)===null||mt===void 0||(it=mt.serialize)===null||it===void 0?void 0:it.call(mt)}));let Oe;(0,n.A)(He)?Oe=He.reduce((dt,mt)=>dt+(0,m.Cs)((0,L.O)(mt)),0):Oe=(0,m.Cs)(He);var Xe;const Ye={source:de,query_length:He.length?He.length:0,query_terms_length:Oe,results_length:Ke,selected_position:Ze,selected_type:se,selected_item_id:pe,selected_source:Ge,selected_match_details:Be,feature_vector_list:we.slice(0,ke),session_length:Date.now()-((Xe=this.sessionTs)!==null&&Xe!==void 0?Xe:0)};Ce.track(P.EventId.SEARCHER_ACCEPT,Ye),this.endSession()}clogSearcherReject(he){let{clogger:Ce,data:oe}=he;const{source:de,query:De,results:Te,displayedItemIds:pe}=oe,Me=pe!==void 0?pe.length:Te.length,ke=(0,n.A)(De)?De.map(se=>(0,L.O)(se)):(0,L.O)(De);let Ke;(0,n.A)(ke)?Ke=ke.reduce((se,He)=>se+(0,m.Cs)((0,L.O)(He)),0):Ke=(0,m.Cs)(ke);var Ze;const Q={source:de,query_length:ke.length?ke.length:0,query_terms_length:Ke,results_length:Me,session_length:Date.now()-((Ze=this.sessionTs)!==null&&Ze!==void 0?Ze:0)};Ce.track(P.EventId.SEARCHER_REJECT,Q),this.endSession()}maybeStartSession(he){!this.sessionId&&he!==void 0&&he.length&&(this.sessionTs=Date.now(),this.sessionId=(0,d.A)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(he){let{query:Ce,options:oe}=he;var de;const De=oe.entities;return{source:(oe==null?void 0:oe.searchViewContext)||((de=oe.sort)===null||de===void 0?void 0:de.source),tiered:oe.tiered,is_searcher_sessions:!0,entities:Object.keys(De).filter(Te=>!!De[Te]).sort().toString(),query_length:Ce.length}}constructor(he){this.teamId=he,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}u(ce,"Searcher");const Ee={};function ye(Ie){let{teamId:he,key:Ce}=Ie;if(!he)throw new Error("Searcher must be instantiated with a team id");return Ee[he]&&!Ee[he][Ce]&&(Ee[he][Ce]=new ce(he)),Ee[he]||(Ee[he]={},Ee[he][Ce]=new ce(he)),Ee[he][Ce]}u(ye,"getSearcher"),(0,v.ul)("searcherObj",{search:(Ie,he)=>new ce(Ie).search(he),searchLocal:(Ie,he)=>{new ce(Ie).searchLocal(he)}})},4342685672:(x,g,e)=>{"use strict";e.d(g,{In:()=>s,KV:()=>n,nK:()=>r});var t=e(4761125736);const n="autocompleteFallback";function s(){return n}u(s,"getModelForSorter");function r(c){return(0,t._Z)(c,"searcher_sessions_phase_1")==="treatment"}u(r,"shouldUseSearcherSessions")},8956261571:(x,g,e)=>{"use strict";e.d(g,{A:()=>Cs});var t=e(3367239067),n=e(9087248458),s=e(7174777686),r=e(3783303734),c=e(1703559452),o=e(9816084745),a=e(5141066605),l=e(3037015781),i=e(9884588328),d=e(1407713935),_=e(6007206761),m=e(6495946979);function h(G){var ue;const Fe=(ue=G.actions)===null||ue===void 0?void 0:ue[0];if(!Fe)return 0;const pt=parseFloat(Fe.ts);return isNaN(pt)?0:pt}u(h,"getLatestActionTs");var v=e(8170643398),T=e(9262712126),A=e(5096647761),y=e(6536982570),p=e(9190452268),f=e(3879245650),O=e(735940183),I=e(4096483543),P=e(8040098042),C=e(4496040127),M=e(6422693406),D=e(1520110262),E=e(3707193570),S=e(7948868735),k=e(6533394955);const U=.014,L=.094,B=.148,b=.132,R=.179;class z extends S.F{fetchData(){return(0,E.Am)(this.teamId)?(0,k.dispatchForTeamId)(this.teamId,(0,D.yp)()).catch(ue=>({exception:ue})).then(ue=>new w({topEmojis:ue.top_emojis,topMpims:ue.top_mpims,topChannels:ue.top_channels,topUsers:ue.top_users,emojiFeatures:ue.emoji_features,mpimFeatures:ue.mpim_features,channelFeatures:ue.channel_features,userFeatures:ue.user_features,mpimCtr:ue.mpim_ctr,channelCtr:ue.channel_ctr,userCtr:ue.user_ctr,emojiCtr:ue.emoji_ctr,otherCtr:ue.other_ctr,defaultFeatureNames:ue.default_features,topAppActions:ue.top_app_actions,topGlobalActions:ue.top_global_actions,topSlashCommands:ue.top_slash_commands,topWorkflowTriggers:ue.top_workflow_triggers,topChannelActions:ue.top_channel_actions,appActionCtr:ue.app_action_ctr,globalActionCtr:ue.global_action_ctr,slashCommandCtr:ue.slash_command_ctr,workflowTriggerCtr:ue.workflow_trigger_ctr,channelActionCtr:ue.channel_action_ctr,usersHasDmed:ue.users_has_dmed})):M.S.resolve(new w)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new w)}constructor(ue){super(),this.teamId=ue}}u(z,"AutocompleteFeaturesCache");class w{getFeatures(ue,Fe){const pt=this.topEntities[Fe],Cn=this.featureNames[Fe]||this.featureNames.default,On=this.defaultEntityFeatures[Fe],Wn=pt&&pt[ue];if(Wn&&Cn){const En={};for(let ls=0;ls<Cn.length;ls++)En[Cn[ls]]=Wn[ls];const fs={team_ctr_90dd:On.team_ctr_90dd,user_ctr_30dd:On.user_ctr_30dd};for(const ls of Object.keys(On))fs[ls]=En[ls]||On[ls];return fs}return On}getEntityCtr(ue){return this.entityCtr[ue]||this.otherEntityCtr}getUserDmChannelMetadata(ue){return this.usersHasDmed?this.usersHasDmed[ue]:null}constructor({topEmojis:ue,topMpims:Fe,topChannels:pt,topUsers:Cn,emojiFeatures:On,mpimFeatures:Wn,channelFeatures:En,userFeatures:fs,mpimCtr:ls,channelCtr:ps,userCtr:Ms,emojiCtr:Fs,otherCtr:Rs,defaultFeatureNames:Os,topAppActions:Tn,topGlobalActions:as,topSlashCommands:_t,topWorkflowTriggers:tt,topChannelActions:Nt,appActionCtr:Lt,globalActionCtr:at,slashCommandCtr:vt,workflowTriggerCtr:Dt,channelActionCtr:Ut,usersHasDmed:Vt}={}){this.topEntities={emoji:ue,mpim:Fe,channel:pt,member:Cn,appAction:Tn,globalAction:as,slashCommand:_t,workflowTrigger:tt,channelAction:Nt},this.featureNames={emoji:On,mpim:Wn,channel:En,member:fs,default:Os},this.otherEntityCtr=Rs??R,this.entityCtr={mpim:ls??U,channel:ps??B,member:Ms??b,emoji:Fs??L,appAction:Lt??this.otherEntityCtr,globalAction:at??this.otherEntityCtr,slashCommand:vt??this.otherEntityCtr,workflowTrigger:Dt??this.otherEntityCtr,channelAction:Ut??this.otherEntityCtr},this.defaultEntityFeatures={};for(const cn of Object.keys(this.entityCtr))this.defaultEntityFeatures[cn]={team_ctr_90dd:this.getEntityCtr(cn),user_ctr_30dd:this.getEntityCtr(cn)};this.usersHasDmed=Vt}}u(w,"AutocompleteFeatures");const W={};function K(G){let{teamId:ue,enterpriseId:Fe}=G;const pt=Fe||ue||"_default";return W[pt]||(W[pt]=new z(ue)),W[pt]}u(K,"getAutocompleteFeaturesCache");var Y=e(1041273904),X=e(5238395322),Z=e(8571983633),ie=e(2774532222),Ae=e(7110454183),ae=e(1022424641),V=e(8274921051),ve=e(4630136761),be=e(4562579337),Ue=e(796111729),Re=e(3051657319),ge=e(7715417323);class ne{writeNumericalFeature(ue,Fe){!ue||!isFinite(ue)||(this.writeIdAndType(Fe,V.c.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,ue),this.offset+=4)}writeBinaryFeature(ue,Fe){ue&&this.writeIdAndType(Fe,V.c.BINARY)}writeTextFeature(ue,Fe){if(!ue)return;this.writeIdAndType(Fe,V.c.TEXT);const pt=unescape(encodeURIComponent(ue));this.ensureCapacity(2+pt.length),this.view.setUint16(this.offset,pt.length),this.offset+=2,(0,Re.A)(pt.length).forEach(Cn=>{this.view.setUint8(this.offset,pt.charCodeAt(Cn)),this.offset+=1})}writeNullFeature(){(0,ge.A)()}writeIdAndType(ue,Fe){this.ensureCapacity(2),this.view.setUint16(this.offset,ue<<3|Fe),this.offset+=2}ensureCapacity(ue){this.offset+ue>this.buffer.byteLength&&this.resize(this.offset+ue)}resize(ue){if(this.buffer.byteLength>=ue)return;const Fe=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(Fe).set(new Uint8Array(this.buffer)),this.buffer=Fe,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}u(ne,"BinaryFeatureVectorSerializer");var ee=e(3395271606);const F=(0,ee.A)(V.Q);function H(G){return F[G]}u(H,"getFeatureNameFromId");var j=e(9150404500);const N={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT","MEMBER_OF_SEARCHER_DEFAULT_TEAM","HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER","NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};var J=e(9422011462);function le(G,ue){return tn.fromSuggestion(G,ue)}u(le,"featureVectorForSuggestion");function ce(){return(0,Ue.Wo)({label:"SORTER-RANKING"})}u(ce,"getLogger");function Ee(G){return Number.isInteger(G)}u(Ee,"isIntegerWithType");const ye=60*60,Ie=24*ye;var he,Ce,oe,de,De,Te,pe,Me,ke,Ke,Ze,Q,se,He,Ge,Be,we,xe,Oe,Xe,Ye,dt,mt,it,At,Ot,Kt,Xt,vn,Sn,jt,hn,xt,Dn,St,dn,fn,un;const _n={FRECENCY:G=>Ve({id:V.Q.FRECENCY,value:Et(G)}),TYPE_NAVIGATION_CHANNEL:(G,ue)=>{let{itemIsChannel:Fe}=ue;return Ve({id:V.Q.TYPE_NAVIGATION_CHANNEL,value:Fe})},TYPE_NAVIGATION_FILE:G=>Ve({id:V.Q.TYPE_NAVIGATION_FILE,value:G.suggestionType===j.fd.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:G=>Ve({id:V.Q.TYPE_NAVIGATION_LINK,value:G.suggestionType===j.fd.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:G=>Ve({id:V.Q.TYPE_NAVIGATION_MODAL,value:G.suggestionType===j.fd.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:G=>Ve({id:V.Q.TYPE_NAVIGATION_MPIM,value:!!(0,d.yz)(G.item)}),TYPE_NAVIGATION_USER:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.TYPE_NAVIGATION_USER,value:Fe})},TYPE_QUERY:G=>Ve({id:V.Q.TYPE_QUERY,value:G.suggestionType===j.fd.QUERY}),TYPE_QUERY_HISTORY:G=>Ve({id:V.Q.TYPE_QUERY_HISTORY,value:G.suggestionType===j.fd.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_IN,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_FROM,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_TO,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_BEFORE,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_DURING,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_ON,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_AFTER,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_HAS,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_IS,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:G=>Ve({id:V.Q.ACTIVE_TOKEN_FILTER_WITH,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:G=>Ve({id:V.Q.ACTIVE_TOKEN_MEMBER,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.MEMBER}),ACTIVE_TOKEN_STRING:G=>Ve({id:V.Q.ACTIVE_TOKEN_STRING,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.STRING}),ACTIVE_TOKEN_PHRASE:G=>Ve({id:V.Q.ACTIVE_TOKEN_PHRASE,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.PHRASE}),STRING_EXACT_MATCH:G=>$e({id:V.Q.STRING_EXACT_MATCH,suggestion:G,extractionFunction:ln}),STRING_EXACT_PREFIX_MATCH:G=>$e({id:V.Q.STRING_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:rn}),STRING_NORMAL_MATCH:G=>$e({id:V.Q.STRING_NORMAL_MATCH,suggestion:G,extractionFunction:Zt}),STRING_NORMAL_PREFIX_MATCH:G=>$e({id:V.Q.STRING_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Mn}),STRING_SAME_NUMBER_WORDS:G=>$e({id:V.Q.STRING_SAME_NUMBER_WORDS,suggestion:G,extractionFunction:es}),EXCESS_STRING_LENGTH:G=>$e({id:V.Q.EXCESS_STRING_LENGTH,suggestion:G,extractionFunction:jn}),ID:G=>Ve({id:V.Q.ID,value:G.logId||G.id}),FILE_SUGGESTION_SCORE:G=>Ve({id:V.Q.FILE_SUGGESTION_SCORE,value:Tt(G)}),ACTIVE_TOKEN_QUERY_SUGGESTION:G=>Ve({id:V.Q.ACTIVE_TOKEN_QUERY_SUGGESTION,value:G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.API}),QUERY_SUGGESTION_SCORE_V2:G=>Ve({id:V.Q.QUERY_SUGGESTION_SCORE_V2,value:It(G)}),TYPE_NAVIGATION_TEAM:G=>Ve({id:V.Q.TYPE_NAVIGATION_TEAM,value:G&&G.suggestionType===j.fd.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:G=>Ve({id:V.Q.TYPE_NAVIGATION_VIEW,value:G&&G.suggestionType===j.fd.VIEW_NAVIGATION}),TYPE_USER_QUERY:G=>Ve({id:V.Q.TYPE_USER_QUERY,value:G&&G.suggestionType===j.fd.QUERY_USER}),NAV_EXACT_MATCH:G=>$e({id:V.Q.NAV_EXACT_MATCH,suggestion:G,extractionFunction:ln,text:Gt(G)}),NAV_EXACT_PREFIX_MATCH:G=>$e({id:V.Q.NAV_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:rn,text:Gt(G)}),NAV_NORMAL_MATCH:G=>$e({id:V.Q.NAV_NORMAL_MATCH,suggestion:G,extractionFunction:Zt,text:Gt(G)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(G,ue)=>{let{itemIsChannel:Fe}=ue;var pt,Cn;return $e({id:V.Q.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:G,extractionFunction:On=>{let{text:Wn,query:En}=On;return Wn?(0,c.A)(Wn.split(",").map(fs=>ln({text:fs,query:En}))):!1},text:Fe?(pt=G.item)===null||pt===void 0||(Cn=pt.previous_names)===null||Cn===void 0?void 0:Cn.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(G,ue)=>{let{itemIsChannel:Fe}=ue;var pt,Cn;return $e({id:V.Q.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:G,extractionFunction:On=>{let{text:Wn,query:En}=On;return Wn?(0,c.A)(Wn.split(",").map(fs=>rn({text:fs,query:En}))):!1},text:Fe?G==null||(pt=G.item)===null||pt===void 0||(Cn=pt.previous_names)===null||Cn===void 0?void 0:Cn.join(","):null})},CHANNEL_IS_ARCHIVED:(G,ue)=>{let{itemIsChannel:Fe}=ue;return Ve({id:V.Q.CHANNEL_IS_ARCHIVED,value:Fe&&(0,_.F)(G.item)})},CHANNEL_IS_MEMBER:(G,ue)=>{let{itemIsChannel:Fe}=ue;return Ve({id:V.Q.CHANNEL_IS_MEMBER,value:Fe&&(0,m.bl)(G.item)})},CHANNEL_IS_STARRED:(G,ue)=>{let{itemIsChannel:Fe}=ue;return Ve({id:V.Q.CHANNEL_IS_STARRED,value:Fe&&G.isStarred})},MPIM_IS_STARRED:G=>Ve({id:V.Q.MPIM_IS_STARRED,value:(0,d.yz)(G.item)&&G.isStarred}),CHANNEL_IS_UNREAD:(G,ue)=>{let{itemIsChannel:Fe}=ue;return Ve({id:V.Q.CHANNEL_IS_UNREAD,value:Fe&&(0,i.KJ)(G.item)})},MPIM_IS_UNREAD:G=>Ve({id:V.Q.MPIM_IS_UNREAD,value:(0,d.yz)(G.item)&&(0,i.KJ)(G.item)}),CHANNEL_IS_OTHER_TEAM:(G,ue)=>{let{itemIsChannel:Fe}=ue;return Ve({id:V.Q.CHANNEL_IS_OTHER_TEAM,value:Fe&&(0,i.lo)(G.item)})},USER_IS_ACTIVE:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_IS_ACTIVE,value:Fe&&(0,v.ls)(G.item)})},USER_IS_EXTERNAL:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_IS_EXTERNAL,value:Fe&&(0,A.g)(G.item)})},USER_IS_BOT:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_IS_BOT,value:Fe&&(0,be.A)(G.item)})},USER_SAME_TEAM:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_SAME_TEAM,value:Fe&&!!G.sameTeam})},USER_IS_CURRENT_USER:(G,ue)=>{let{isCurrentUser:Fe}=ue;return Ve({id:V.Q.USER_IS_CURRENT_USER,value:Fe})},USER_DM_IS_STARRED:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_DM_IS_STARRED,value:Fe&&G.im&&G.imIsStarred})},USER_DM_IS_UNREAD:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_DM_IS_UNREAD,value:Fe&&G.im&&(0,i.KJ)(G.im)})},CHANNEL_PRIORITY:(G,ue)=>{let{itemIsChannel:Fe}=ue;return Ve({id:V.Q.CHANNEL_PRIORITY,value:Fe&&(G==null?void 0:G.priority)})},CHANNEL_READ_AGE_DECAY_7D:(G,ue)=>{let{itemIsChannel:Fe,now:pt}=ue;return Ve({id:V.Q.CHANNEL_READ_AGE_DECAY_7D,value:Fe&&je(pt,parseFloat((he=G.lastReadTs)!==null&&he!==void 0?he:""),7*Ie)||0})},CHANNEL_READ_AGE_DECAY_2H:(G,ue)=>{let{itemIsChannel:Fe,now:pt}=ue;return Ve({id:V.Q.CHANNEL_READ_AGE_DECAY_2H,value:Fe&&je(pt,parseFloat((Ce=G.lastReadTs)!==null&&Ce!==void 0?Ce:""),2*ye)||0})},MPIM_READ_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_READ_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&je(Fe,parseFloat((oe=G.lastReadTs)!==null&&oe!==void 0?oe:""),2*ye)||0})},MPIM_READ_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_READ_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&je(Fe,parseFloat((de=G.lastReadTs)!==null&&de!==void 0?de:""),7*Ie)||0})},USER_DM_READ_AGE_DECAY_7D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_AGE_DECAY_7D,value:Fe&&G.im&&je(pt,parseFloat((De=G.lastReadTs)!==null&&De!==void 0?De:""),7*Ie)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_AGE_DECAY_7D_V2,value:Fe&&G.im&&je(pt,parseFloat((Te=G.lastReadImTs)!==null&&Te!==void 0?Te:""),7*Ie)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_AGE_DECAY_7D_V3,value:Fe&&je(pt,parseFloat((pe=Ht(G))!==null&&pe!==void 0?pe:""),7*Ie)||0})},USER_DM_READ_AGE_DECAY_2H:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_AGE_DECAY_2H,value:Fe&&G.im&&je(pt,parseFloat((Me=G.lastReadTs)!==null&&Me!==void 0?Me:""),2*ye)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_AGE_DECAY_2H_V2,value:Fe&&G.im&&je(pt,parseFloat((ke=G.lastReadImTs)!==null&&ke!==void 0?ke:""),2*ye)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_AGE_DECAY_2H_V3,value:Fe&&je(pt,parseFloat((Ke=Ht(G))!==null&&Ke!==void 0?Ke:""),2*ye)||0})},USER_DM_NULL:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_DM_NULL,value:Fe&&!G.im})},USER_DM_EMPTY:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_DM_EMPTY,value:Fe&&G.im&&!parseFloat((Ze=G.latestTs)!==null&&Ze!==void 0?Ze:"")})},USER_DM_EMPTY_V2:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_DM_EMPTY_V2,value:Fe&&G.im&&!parseFloat((Q=G.latestImTs)!==null&&Q!==void 0?Q:"")})},USER_HAS_DMED:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_HAS_DMED,value:Fe&&!!parseFloat((se=Ht(G))!==null&&se!==void 0?se:"")})},USER_DM_NOT_OPEN:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_DM_NOT_OPEN,value:Fe&&G.im&&!(0,i.nT)(G.im)})},USER_DM_OPEN:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_DM_OPEN,value:Fe&&G.im&&(0,i.nT)(G.im)})},USER_DM_LATEST_OLDER_30D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_LATEST_OLDER_30D,value:Fe&&st(pt,parseFloat((He=G.latestTs)!==null&&He!==void 0?He:""),30*Ie)})},USER_DM_LATEST_OLDER_30D_V2:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_LATEST_OLDER_30D_V2,value:Fe&&st(pt,parseFloat((Ge=G.latestImTs)!==null&&Ge!==void 0?Ge:""),30*Ie)})},USER_DM_LATEST_OLDER_90D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_LATEST_OLDER_90D,value:Fe&&st(pt,parseFloat((Be=G.latestTs)!==null&&Be!==void 0?Be:""),90*Ie)})},USER_DM_LATEST_OLDER_90D_V2:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_LATEST_OLDER_90D_V2,value:Fe&&st(pt,parseFloat((we=G.latestImTs)!==null&&we!==void 0?we:""),90*Ie)})},USER_DM_READ_OLDER_7D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_OLDER_7D,value:Fe&&st(pt,parseFloat((xe=Ht(G))!==null&&xe!==void 0?xe:""),7*Ie)})},USER_DM_READ_OLDER_30D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_OLDER_30D,value:Fe&&st(pt,parseFloat((Oe=Ht(G))!==null&&Oe!==void 0?Oe:""),30*Ie)})},USER_DM_READ_OLDER_90D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_READ_OLDER_90D,value:Fe&&st(pt,parseFloat((Xe=Ht(G))!==null&&Xe!==void 0?Xe:""),90*Ie)})},USER_MPIM_READ_AGE_DECAY_7D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_MPIM_READ_AGE_DECAY_7D,value:Fe&&G.mpimFeatures&&je(pt,G.mpimFeatures.lastReadTs,7*Ie)||0})},USER_MPIM_READ_AGE_DECAY_2H:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_MPIM_READ_AGE_DECAY_2H,value:Fe&&G.mpimFeatures&&je(pt,G.mpimFeatures.lastReadTs,2*ye)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:Fe&&G.mpimFeatures&&je(pt,G.mpimFeatures.latestMsgTs,7*Ie)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:Fe&&G.mpimFeatures&&je(pt,G.mpimFeatures.latestMsgTs,2*ye)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(G,ue)=>{let{itemIsMember:Fe}=ue;var pt;return Ve({id:V.Q.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:Fe&&((pt=G.mpimFeatures)===null||pt===void 0?void 0:pt.itemCount)&&Math.log1p(G.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(G,ue)=>{let{itemIsMember:Fe}=ue;var pt;return Ve({id:V.Q.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:Fe&&((pt=G.mpimFeatures)===null||pt===void 0?void 0:pt.hitCount)&&Math.log1p(G.mpimFeatures.hitCount)||0})},QUERY_LENGTH:G=>$e({id:V.Q.QUERY_LENGTH,suggestion:G,extractionFunction:wn}),NAV_QUERY_LENGTH:G=>$e({id:V.Q.NAV_QUERY_LENGTH,suggestion:G,extractionFunction:wn,text:Gt(G)}),SUGGESTION_TEXT_LENGTH:G=>$e({id:V.Q.SUGGESTION_TEXT_LENGTH,suggestion:G,extractionFunction:Rt}),NAV_TEXT_LENGTH:G=>$e({id:V.Q.NAV_TEXT_LENGTH,suggestion:G,extractionFunction:Rt,text:Gt(G)}),RAW_FRECENCY:G=>Ve({id:V.Q.RAW_FRECENCY,value:G.rawFrecencyScore}),MPIM_PRIORITY:G=>Ve({id:V.Q.MPIM_PRIORITY,value:(0,d.yz)(G.item)&&(G==null?void 0:G.priority)}),QUERY_RATIO_LENGTH_STRING:G=>$e({id:V.Q.QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Kn}),NAV_QUERY_RATIO_LENGTH_STRING:G=>$e({id:V.Q.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Kn,text:Gt(G)}),USER_QUERY_RATIO_LENGTH_STRING:G=>$e({id:V.Q.USER_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Kn,text:wt(G,j.fd.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:G=>$e({id:V.Q.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Kn,text:wt(G,j.fd.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:G=>$e({id:V.Q.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:G,extractionFunction:Kn,text:wt(G,j.fd.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:G=>Ve({id:V.Q.MPIM_WITH_DEACTIVATED_USER,value:(0,d.yz)(G.item)&&G.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:G=>$e({id:V.Q.NAV_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Mn,text:Gt(G)}),FRECENCY_BONUS:G=>Ve({id:V.Q.FRECENCY_BONUS,value:(0,X.A)(Object.values(G.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(G,ue)=>{let{itemIsMember:Fe}=ue;return $e({id:V.Q.USER_FIRST_NAME_EXACT_MATCH,suggestion:G,extractionFunction:ln,text:Fe&&(0,v.XS)(G.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(G,ue)=>{let{itemIsMember:Fe}=ue;return $e({id:V.Q.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:rn,text:Fe&&(0,v.XS)(G.item)})},USER_FIRST_NAME_NORMAL_MATCH:(G,ue)=>{let{itemIsMember:Fe}=ue;return $e({id:V.Q.USER_FIRST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:Zt,text:Fe&&(0,v.XS)(G.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(G,ue)=>{let{itemIsMember:Fe}=ue;return $e({id:V.Q.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Mn,text:Fe&&(0,v.XS)(G.item)})},USER_LAST_NAME_EXACT_MATCH:(G,ue)=>{let{itemIsMember:Fe}=ue;return $e({id:V.Q.USER_LAST_NAME_EXACT_MATCH,suggestion:G,extractionFunction:ln,text:Fe&&(0,v.lQ)(G.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(G,ue)=>{let{itemIsMember:Fe}=ue;return $e({id:V.Q.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:G,extractionFunction:rn,text:Fe&&(0,v.lQ)(G.item)})},USER_LAST_NAME_NORMAL_MATCH:(G,ue)=>{let{itemIsMember:Fe}=ue;return $e({id:V.Q.USER_LAST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:Zt,text:Fe&&(0,v.lQ)(G.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(G,ue)=>{let{itemIsMember:Fe}=ue;return $e({id:V.Q.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Mn,text:Fe&&(0,v.lQ)(G.item)})},USER_EMAIL_MATCH:G=>{var ue,Fe;return Ve({id:V.Q.USER_EMAIL_MATCH,value:((ue=G.scoreDetails)===null||ue===void 0?void 0:ue.email)!==void 0?((Fe=G.scoreDetails)===null||Fe===void 0?void 0:Fe.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:G=>{var ue,Fe;return Ve({id:V.Q.USER_EMAIL_ONLY_MATCH,value:((ue=G.scoreDetails)===null||ue===void 0?void 0:ue.email)!==void 0&&((Fe=G.scoreDetails)===null||Fe===void 0?void 0:Fe.email)>=0&&Object.keys((Ye=G.scoreDetails)!==null&&Ye!==void 0?Ye:{}).length===1})},USER_PRIORITY:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_PRIORITY,value:Fe&&G.im&&(G==null?void 0:G.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:G=>Ve({id:V.Q.ONLY_MATCHES_PREVIOUS_NAME,value:G.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:G=>Ve({id:V.Q.FRECENCY_WEIGHT_HIT_VISITS,value:G.weightHitVisits}),FRECENCY_HIT_VISITS_4H:G=>Ve({id:V.Q.FRECENCY_HIT_VISITS_4H,value:G.hitVisits4h}),FRECENCY_HIT_VISITS_1D:G=>Ve({id:V.Q.FRECENCY_HIT_VISITS_1D,value:G.hitVisits1d}),FRECENCY_HIT_VISITS_3D:G=>Ve({id:V.Q.FRECENCY_HIT_VISITS_3D,value:G.hitVisits3d}),FRECENCY_HIT_VISITS_1W:G=>Ve({id:V.Q.FRECENCY_HIT_VISITS_1W,value:G.hitVisits1w}),FRECENCY_HIT_VISITS_1M:G=>Ve({id:V.Q.FRECENCY_HIT_VISITS_1M,value:G.hitVisits1m}),FRECENCY_HIT_VISITS_90D:G=>Ve({id:V.Q.FRECENCY_HIT_VISITS_90D,value:G.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:G=>Ve({id:V.Q.FRECENCY_ITEM_VISITS_4H,value:G.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:G=>Ve({id:V.Q.FRECENCY_ITEM_VISITS_1D,value:G.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:G=>Ve({id:V.Q.FRECENCY_ITEM_VISITS_3D,value:G.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:G=>Ve({id:V.Q.FRECENCY_ITEM_VISITS_1W,value:G.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:G=>Ve({id:V.Q.FRECENCY_ITEM_VISITS_1M,value:G.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:G=>Ve({id:V.Q.FRECENCY_ITEM_VISITS_90D,value:G.itemVisits90d}),FRECENCY_HIT_COUNT:G=>Ve({id:V.Q.FRECENCY_HIT_COUNT,value:G.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:G=>Ve({id:V.Q.FRECENCY_WEIGHT_ITEM_VISITS,value:G.weightItemVisits}),FRECENCY_ITEM_COUNT:G=>Ve({id:V.Q.FRECENCY_ITEM_COUNT,value:G.itemCount}),NAV_NORMAL_MATCH_USER:G=>$e({id:V.Q.NAV_NORMAL_MATCH_USER,suggestion:G,extractionFunction:ue=>{let{text:Fe,normalizedQuery:pt}=ue;return Zt({text:Fe,normalizedQuery:pt})&&!Mn({text:(0,v.XS)(G.item),normalizedQuery:pt})},text:wt(G,j.fd.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:G=>$e({id:V.Q.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:G,extractionFunction:ue=>{let{text:Fe,normalizedQuery:pt}=ue;return Mn({text:Fe,normalizedQuery:pt})&&!Mn({text:(0,v.XS)(G.item),normalizedQuery:pt})},text:wt(G,j.fd.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:G=>$e({id:V.Q.NAV_NORMAL_MATCH_NO_USER,suggestion:G,extractionFunction:Zt,text:qt(G)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:G=>$e({id:V.Q.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:G,extractionFunction:Mn,text:qt(G)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(G,ue)=>{let{itemIsChannel:Fe,now:pt}=ue;return Ve({id:V.Q.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:Fe&&je(pt,parseFloat((dt=G.latestTs)!==null&&dt!==void 0?dt:""),7*Ie)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(G,ue)=>{let{itemIsChannel:Fe,now:pt}=ue;return Ve({id:V.Q.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:Fe&&je(pt,parseFloat((mt=G.latestTs)!==null&&mt!==void 0?mt:""),2*ye)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&je(Fe,parseFloat((it=G.latestTs)!==null&&it!==void 0?it:""),2*ye)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&je(Fe,G.maxLatestMsgTsOfAllMembers,2*ye)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&je(Fe,G.maxLatestMsgTsOfAllMembers,7*Ie)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&je(Fe,G.avgLatestMsgTsOfAllMembers,2*ye)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&je(Fe,G.avgLatestMsgTsOfAllMembers,7*Ie)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&je(Fe,G.maxLastReadTsOfAllMembers,2*ye)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&je(Fe,G.maxLastReadTsOfAllMembers,7*Ie)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:(0,d.yz)(G.item)&&je(Fe,G.avgLastReadTsOfAllMembers,2*ye)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&je(Fe,G.avgLastReadTsOfAllMembers,7*Ie)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:G=>Ve({id:V.Q.MPIM_USERS_PCT_NON_EMPTY_DMS,value:(0,d.yz)(G.item)&&G.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:G=>Ve({id:V.Q.MPIM_USERS_PCT_NON_NULL_DMS,value:(0,d.yz)(G.item)&&G.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:G=>Ve({id:V.Q.MPIM_USERS_ALL_INTERNAL,value:(0,d.yz)(G.item)&&G.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.MPIM_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(G.item)&&je(Fe,parseFloat((At=G.latestTs)!==null&&At!==void 0?At:""),7*Ie)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:Fe&&G.im&&je(pt,parseFloat((Ot=G.latestTs)!==null&&Ot!==void 0?Ot:""),7*Ie)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:Fe&&G.im&&je(pt,parseFloat((Kt=G.latestImTs)!==null&&Kt!==void 0?Kt:""),7*Ie)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:Fe&&G.im&&je(pt,parseFloat((Xt=G.latestTs)!==null&&Xt!==void 0?Xt:""),2*ye)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(G,ue)=>{let{itemIsMember:Fe,now:pt}=ue;return Ve({id:V.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:Fe&&G.im&&je(pt,parseFloat((vn=G.latestImTs)!==null&&vn!==void 0?vn:""),2*ye)||0})},FRECENCY_LOG_HIT_COUNT:G=>Ve({id:V.Q.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((Sn=G.hitCount)!==null&&Sn!==void 0?Sn:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:G=>Ve({id:V.Q.FRECENCY_LOG_HIT_COUNT_SCALED,value:G.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:G=>Ve({id:V.Q.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((jt=G.itemCount)!==null&&jt!==void 0?jt:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:G=>Ve({id:V.Q.FRECENCY_LOG_ITEM_COUNT_SCALED,value:G.logItemCountScaled}),QUERY_FRECENCY_RAW:G=>Ve({id:V.Q.QUERY_FRECENCY_RAW,value:(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER)&&G.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:G=>Ve({id:V.Q.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER)&&G.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:G=>Ve({id:V.Q.QUERY_FRECENCY_HIT_COUNT,value:(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER)&&G.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:G=>Ve({id:V.Q.QUERY_LOG_HIT_COUNT,value:(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER)&&q(G.scoringContext.frecencyHitCount)||G.suggestionType===j.fd.QUERY_HISTORY&&q((hn=G.count)!==null&&hn!==void 0?hn:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:G=>Ve({id:V.Q.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER)&&G.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:G=>Ve({id:V.Q.QUERY_FRECENCY_ITEM_COUNT,value:(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER)&&G.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:G=>Ve({id:V.Q.QUERY_FUZZY_SCORE,value:(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER)&&G.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:G=>{var ue;return Ve({id:V.Q.QUERY_FRECENCY_BONUS,value:(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER)&&(0,X.A)(Object.values(((ue=G.scoringContext)===null||ue===void 0?void 0:ue.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:G=>Ve({id:V.Q.QUERY_HISTORY_LOG_INDEX,value:G.suggestionType===j.fd.QUERY_HISTORY&&q(G.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.QUERY_HISTORY_AGE_DECAY_30D,value:G.suggestionType===j.fd.QUERY_HISTORY&&je(Fe,G.lastUpdateTs,30*Ie)||0})},FUZZY_SCORE:G=>Ve({id:V.Q.FUZZY_SCORE,value:G.score}),FUZZY_SCORE_SCALED_EXP:G=>Ve({id:V.Q.FUZZY_SCORE_SCALED_EXP,value:Ee(G.score)&&.5**Math.min(G.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:G=>Ve({id:V.Q.FUZZY_SCORE_SCALED_FLIPPED,value:Ee(G.score)&&10-Math.min(G.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:G=>Ve({id:V.Q.FUZZY_SCORE_SCALED_SUBTRACT,value:Ee(G.score)&&Math.min(G.score,10)-1}),FUZZY_SCORE_50:G=>Ve({id:V.Q.FUZZY_SCORE_50,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:G=>Ve({id:V.Q.FUZZY_SCORE_25,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:G=>Ve({id:V.Q.FUZZY_SCORE_ALL,value:G.bonusPointMap&&G.bonusPointMap.fuzzyScoreBonus&&G.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:G=>Ve({id:V.Q.FILTER_USER_IS_ACTIVE,value:G.lastSuggestionToken&&G.lastTokenMemberOrNull&&(0,v.ls)(G.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:G=>Ve({id:V.Q.FILTER_USER_IS_CURRENT_USER,value:G.lastSuggestionToken&&G.lastTokenMemberOrNull&&(0,v.fy)(G.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:G=>Ve({id:V.Q.FILTER_USER_DM_IS_STARRED,value:G.lastTokenIm&&G.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:G=>Ve({id:V.Q.FILTER_USER_DM_IS_UNREAD,value:G.lastTokenIm&&(0,i.KJ)(G.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILTER_USER_DM_READ_AGE_DECAY_7D,value:G.lastTokenIm&&je(Fe,G.lastTokenImLastRead,7*Ie)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILTER_USER_DM_READ_AGE_DECAY_2H,value:G.lastTokenIm&&je(Fe,G.lastTokenImLastRead,2*ye)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:G.lastTokenIm&&je(Fe,parseFloat((xt=G.lastTokenImLatest)!==null&&xt!==void 0?xt:""),7*Ie)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:G.lastTokenIm&&je(Fe,parseFloat((Dn=G.lastTokenImLatest)!==null&&Dn!==void 0?Dn:""),2*ye)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:G=>$e({id:V.Q.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:Zt,text:ft(G)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:G=>$e({id:V.Q.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Mn,text:ft(G)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:G=>$e({id:V.Q.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:G,extractionFunction:Zt,text:yt(G)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:G=>$e({id:V.Q.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Mn,text:yt(G)}),FILTER_USER_PRIORITY:G=>Ve({id:V.Q.FILTER_USER_PRIORITY,value:G.lastTokenIm&&(G==null?void 0:G.priority)}),HERE_KEYWORD:G=>Ve({id:V.Q.HERE_KEYWORD,value:G.name==="here"}),HERE_KEYWORD_EXACT_MATCH:G=>Ve({id:V.Q.HERE_KEYWORD_EXACT_MATCH,value:G.name==="here"&&G.query==="here"}),IS_BROADCAST_KEYWORD:G=>Ve({id:V.Q.IS_BROADCAST_KEYWORD,value:!!(G.type&&G.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:G=>Ve({id:V.Q.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(G.type&&G.type==="broadcastKeyword"&&Zt({text:(St=G.name)!==null&&St!==void 0?St:"",normalizedQuery:G.normalizedQuery}))}),EMOJI_EXACT_MATCH:G=>Ve({id:V.Q.EMOJI_EXACT_MATCH,value:G.bonusPointMap&&G.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:G=>$e({id:V.Q.QUERY_TOKEN_NORMAL_MATCH,suggestion:G,extractionFunction:Zt,text:bt(G)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:G=>$e({id:V.Q.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:G,extractionFunction:Mn,text:bt(G)}),FILTER_CHANNEL_IS_ARCHIVED:G=>Ve({id:V.Q.FILTER_CHANNEL_IS_ARCHIVED,value:(0,_.F)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:G=>Ve({id:V.Q.FILTER_CHANNEL_IS_MEMBER,value:(0,m.bl)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:G=>Ve({id:V.Q.FILTER_CHANNEL_IS_STARRED,value:G.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:G=>Ve({id:V.Q.FILTER_CHANNEL_IS_UNREAD,value:(0,i.KJ)(G.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:je(Fe,G.lastTokenChannelLastRead,7*Ie)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:je(Fe,G.lastTokenChannelLastRead,2*ye)})},FILTER_CHANNEL_PRIORITY:G=>Ve({id:V.Q.FILTER_CHANNEL_PRIORITY,value:G==null?void 0:G.priority}),CHANNEL_IS_FROZEN:(G,ue)=>{let{itemIsChannel:Fe}=ue;return Ve({id:V.Q.CHANNEL_IS_FROZEN,value:Fe&&(0,ve.Zz)(G.item)})},USER_DM_IS_FROZEN:(G,ue)=>{let{itemIsMember:Fe}=ue;return Ve({id:V.Q.USER_DM_IS_FROZEN,value:Fe&&G.im&&(0,ve.Zz)(G.im)})},CHANNEL_HAS_DRAFT:G=>Ve({id:V.Q.CHANNEL_HAS_DRAFT,value:G.hasDraft}),USER_DM_HAS_DRAFT:G=>Ve({id:V.Q.USER_DM_HAS_DRAFT,value:G.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:G=>Ve({id:V.Q.EMOJI_QUERY_LENGTH_RATIO,value:G.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:G=>Ve({id:V.Q.EMOJI_TOTAL_COMBO_BREAKS,value:G.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:G=>Ve({id:V.Q.EMOJI_COMBO_BREAK_0,value:G.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:G=>Ve({id:V.Q.EMOJI_COMBO_BREAK_1,value:G.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:G=>Ve({id:V.Q.EMOJI_COMBO_BREAK_2,value:G.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:G=>Ve({id:V.Q.EMOJI_COMBO_BREAK_3,value:G.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:G=>Ve({id:V.Q.TYPE_APP_ACTION,value:G.suggestionType===j.fd.APP_ACTION}),OS_APP_ACTION:(G,ue)=>{let{source:Fe}=ue;return Ve({id:V.Q.OS_APP_ACTION,value:(Fe==null?void 0:Fe.startsWith("omniswitcher"))&&G.suggestionType===j.fd.APP_ACTION})},TYPE_APP:G=>Ve({id:V.Q.TYPE_APP,value:G.suggestionType===j.fd.APP}),TYPE_SLASH_COMMAND:G=>Ve({id:V.Q.TYPE_SLASH_COMMAND,value:G.suggestionType===j.fd.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:G=>Ve({id:V.Q.TYPE_GLOBAL_ACTION,value:G.suggestionType===j.fd.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:G=>Ve({id:V.Q.IS_INVITE_WORKSPACE,value:G.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:G=>Ve({id:V.Q.TYPE_CHANNEL_ACTION,value:G.suggestionType===j.fd.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:G=>Ve({id:V.Q.TYPE_WORKFLOW_TRIGGER,value:G.suggestionType===j.fd.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:G=>Ve({id:V.Q.TYPE_NAVIGATION_MESSAGE,value:G.suggestionType===j.fd.MESSAGE_NAVIGATION}),TYPE_EMOJI:G=>Ve({id:V.Q.TYPE_EMOJI,value:G.suggestionType===j.fd.EMOJI}),HAS_CHANNEL_ASSOCIATION:G=>Ve({id:V.Q.HAS_CHANNEL_ASSOCIATION,value:G.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:G=>Ve({id:V.Q.MEMBER_OF_CURRENT_CHANNEL,value:G.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:G=>$e({id:V.Q.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:G,extractionFunction:Yn,text:wt(G,j.fd.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FRECENCY_HIT_VISIT_DECAY_2H,value:je(Fe,G.latestHitVisit,2*ye)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FRECENCY_HIT_VISIT_DECAY_7D,value:je(Fe,G.latestHitVisit,7*Ie)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FRECENCY_ITEM_VISIT_DECAY_2H,value:je(Fe,G.latestItemVisit,2*ye)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FRECENCY_ITEM_VISIT_DECAY_7D,value:je(Fe,G.latestItemVisit,7*Ie)||0})},MPIM_MEMBERS:G=>Ve({id:V.Q.MPIM_MEMBERS,value:G.item.members.length}),MPIM_MEMBER_NAME_MATCHES:G=>Ve({id:V.Q.MPIM_MEMBER_NAME_MATCHES,value:G.scoreDetailsByMember&&Object.values(G.scoreDetailsByMember).filter(ue=>((dn=ue.score_details.real_name)!==null&&dn!==void 0?dn:-1/0)>=0||((fn=ue.score_details.display_name)!==null&&fn!==void 0?fn:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:G=>Ve({id:V.Q.MPIM_MEMBER_ALL_MATCHES,value:G.scoreDetailsByMember&&Object.keys(G.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:G=>Ve({id:V.Q.MPIM_MATCHER_SCORE,value:G.score}),MPIM_MATCHER_SCORE_0:G=>Ve({id:V.Q.MPIM_MATCHER_SCORE_0,value:G.score===0}),MPIM_MATCHER_SCORE_1:G=>Ve({id:V.Q.MPIM_MATCHER_SCORE_1,value:G.score===1}),MPIM_MATCHER_SCORE_2:G=>Ve({id:V.Q.MPIM_MATCHER_SCORE_2,value:G.score===2}),MPIM_MATCHER_SCORE_3:G=>Ve({id:V.Q.MPIM_MATCHER_SCORE_3,value:G.score===3}),EMOJI_TEAM_CTR_90DD:G=>{var ue;return Ve({id:V.Q.EMOJI_TEAM_CTR_90DD,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},EMOJI_USER_CTR_30DD:G=>{var ue;return Ve({id:V.Q.EMOJI_USER_CTR_30DD,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:G=>{var ue;return Ve({id:V.Q.MPIM_TEAM_CTR_90DD,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},MPIM_USER_CTR_30DD:G=>{var ue;return Ve({id:V.Q.MPIM_USER_CTR_30DD,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:G=>{var ue;return Ve({id:V.Q.CHANNEL_TEAM_CTR_90DD,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:G=>{var ue;return Ve({id:V.Q.CHANNEL_USER_CTR_30DD,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:G=>Ve({id:V.Q.USER_ENTITY_TYPE_CTR_30DD,value:G.entityTypeCtr}),NUM_RESULTS:G=>Ve({id:V.Q.NUM_RESULTS,value:G.numResults}),QUERY_IS_SELF:G=>{var ue;return Ve({id:V.Q.QUERY_IS_SELF,value:((ue=G.scoreDetails)===null||ue===void 0?void 0:ue.self_score)===0})},CURRENT_USER_TEXTY:(G,ue)=>{let{isCurrentUser:Fe,source:pt}=ue;return Ve({id:V.Q.CURRENT_USER_TEXTY,value:pt==="texty-autocomplete"&&Fe})},FILE_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_AGE_DECAY_7D,value:G.item&&je(Fe,G.item.created,7*Ie)})},FILE_AGE_DECAY_28D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_AGE_DECAY_28D,value:G.item&&je(Fe,G.item.created,28*Ie)})},FILE_AGE_DECAY_90D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_AGE_DECAY_90D,value:G.item&&je(Fe,G.item.created,90*Ie)})},FILE_FROM_CURRENT_USER:G=>Ve({id:V.Q.FILE_FROM_CURRENT_USER,value:G.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:G=>$e({id:V.Q.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:G,extractionFunction:Zt,text:wt(G,j.fd.CHANNEL_NAVIGATION),multiplier:q(G.numResults)}),FILE_LOG_PUBLIC_SHARES:G=>{var ue,Fe;return Ve({id:V.Q.FILE_LOG_PUBLIC_SHARES,value:((ue=G.item)===null||ue===void 0||(Fe=ue.shares)===null||Fe===void 0?void 0:Fe.public)&&q(Object.keys(G.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:G=>{var ue,Fe;return Ve({id:V.Q.FILE_LOG_PRIVATE_SHARES,value:((ue=G.item)===null||ue===void 0||(Fe=ue.shares)===null||Fe===void 0?void 0:Fe.private)&&q(Object.keys(G.item.shares.private).length)})},FILE_LOG_ACTIONS:G=>{var ue;return Ve({id:V.Q.FILE_LOG_ACTIONS,value:((ue=G.item)===null||ue===void 0?void 0:ue.actions)&&q(G.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_LATEST_ACTION_AGE_DECAY_2H,value:je(Fe,G.latestActionTs,2*ye)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_LATEST_ACTION_AGE_DECAY_7D,value:je(Fe,G.latestActionTs,7*Ie)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_LATEST_ACTION_AGE_DECAY_90D,value:je(Fe,G.latestActionTs,90*Ie)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_LATEST_SHARE_AGE_DECAY_2H,value:je(Fe,G.latestShareTs,2*ye)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_LATEST_SHARE_AGE_DECAY_7D,value:je(Fe,G.latestShareTs,7*Ie)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_LATEST_SHARE_AGE_DECAY_90D,value:je(Fe,G.latestShareTs,90*Ie)})},FILE_CHANNEL_CTR:G=>Ve({id:V.Q.FILE_CHANNEL_CTR,value:G.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:G=>Ve({id:V.Q.FILE_SUGGESTIONS_SEARCHER,value:G.fileSuggestionsFromSearcher}),FILE_USER_CTR:G=>Ve({id:V.Q.FILE_USER_CTR,value:G.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:G=>$e({id:V.Q.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:G,extractionFunction:me,text:wt(G,j.fd.FILE_NAVIGATION)}),FILE_IS_CANVAS:G=>Ve({id:V.Q.FILE_IS_CANVAS,value:Yt(G,"quip")}),FILE_HAS_DMS_WITH_CREATOR:G=>Ve({id:V.Q.FILE_HAS_DMS_WITH_CREATOR,value:G.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:G=>Ve({id:V.Q.FILE_HAS_DMS_WITH_CREATOR_V2,value:G.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:st(Fe,parseFloat((un=G.lastReadTs)!==null&&un!==void 0?un:"")/1e3,90*Ie)})},APP_NAME_PREFIX_MATCH:G=>{var ue;return $e({id:V.Q.APP_NAME_PREFIX_MATCH,suggestion:G,extractionFunction:Mn,text:(ue=G.item)===null||ue===void 0?void 0:ue.appName})},BEST_NAME_MATCH_LOG_RESULTS:G=>Ve({id:V.Q.BEST_NAME_MATCH_LOG_RESULTS,value:G.bestNameIsExactMatch&&q(G.numResults)}),SLASH_COMMAND_USER_CTR:G=>{var ue;return Ve({id:V.Q.SLASH_COMMAND_USER_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:G=>{var ue;return Ve({id:V.Q.WORKFLOW_TRIGGER_USER_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:G=>{var ue;return Ve({id:V.Q.GLOBAL_ACTION_USER_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:G=>{var ue;return Ve({id:V.Q.CHANNEL_ACTION_USER_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},APP_ACTION_USER_CTR:G=>{var ue;return Ve({id:V.Q.APP_ACTION_USER_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:G=>{var ue;return Ve({id:V.Q.SLASH_COMMAND_TEAM_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:G=>{var ue;return Ve({id:V.Q.WORKFLOW_TRIGGER_TEAM_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:G=>{var ue;return Ve({id:V.Q.GLOBAL_ACTION_TEAM_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:G=>{var ue;return Ve({id:V.Q.CHANNEL_ACTION_TEAM_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},APP_ACTION_TEAM_CTR:G=>{var ue;return Ve({id:V.Q.APP_ACTION_TEAM_CTR,value:(ue=G.offlineFeatures)===null||ue===void 0?void 0:ue.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:G=>Ve({id:V.Q.SHORTCUT_ENTITY_TYPE_CTR,value:G.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:G=>Ve({id:V.Q.EXACT_MATCH_LOG_RESULTS,value:(G.isExactMatch?1:0)*q(G.numResults)}),HISTORY_AGE_DECAY_2H:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.HISTORY_AGE_DECAY_2H,value:je(Fe,G.historyTs,2*ye)})},HISTORY_AGE_DECAY_7D:(G,ue)=>{let{now:Fe}=ue;return Ve({id:V.Q.HISTORY_AGE_DECAY_7D,value:je(Fe,G.historyTs,7*Ie)})},HISTORY_POSITION:G=>Ve({id:V.Q.HISTORY_POSITION,value:G.historyPosition}),MEMBER_OF_SEARCHER_DEFAULT_TEAM:G=>Ve({id:V.Q.MEMBER_OF_SEARCHER_DEFAULT_TEAM,value:G.isMemberOfSearcherDefaultTeam}),HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER:G=>Ve({id:V.Q.HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER,value:(G.numWorkspacesIntersectingWithSearcher||0)>0}),NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER:G=>Ve({id:V.Q.NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER,value:G.numWorkspacesIntersectingWithSearcher||0})};class tn{serialize(){const ue=new ne;this.featureList.forEach(pt=>Nn({feature:pt,serializer:ue}));const Fe=ue.serialize();return`${this.featuresVersion}:${Fe}`}valueForFeature(ue){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ue==null)return ce().error(`Invalid feature id: ${ue}`),null;const pt=this.featureList.find(Cn=>Cn.id===ue);if(!(0,Z.A)(pt))return Fe?sn(pt)||"":yn(pt)||0}static fromSuggestion(ue,Fe){const pt=Date.now()/1e3,Cn=!!(0,v.NB)(ue.item),On=!!((0,d.rW)(ue.item)||(0,d.Zp)(ue.item)),Wn=Cn&&(0,v.fy)(ue.item),En={itemIsChannel:On,itemIsMember:Cn,now:pt,isCurrentUser:Wn,source:Fe};return new this(nn(ue,Fe).map(fs=>_n[fs]&&_n[fs](ue,En)||null))}constructor(ue){this.featureList=ue,this.featuresVersion="v8"}}u(tn,"SuggestionFeatureVector");function nn(G,ue){return ue==="slash-command-menu"?[...N.globalFeatures]:G.suggestionType===j.fd.USER_NAVIGATION?[...N.globalFeatures,...N.userFeatures]:G.suggestionType===j.fd.CHANNEL_NAVIGATION?[...N.globalFeatures,...N.channelFeatures]:G.suggestionType===j.fd.MPIM_NAVIGATION?[...N.globalFeatures,...N.mpimFeatures]:G.suggestionType===j.fd.VIEW_NAVIGATION?[...N.globalFeatures,...N.viewFeatures]:G.suggestionType===j.fd.FILE_NAVIGATION?[...N.globalFeatures,...N.fileFeatures,...N.queryFeatures]:G.suggestionType===j.fd.LINK_NAVIGATION?[...N.globalFeatures,...N.linkFeatures]:G.suggestionType===j.fd.MODAL_NAVIGATION?[...N.globalFeatures,...N.modalFeatures]:G.suggestionType===j.fd.TEAM_NAVIGATION?[...N.globalFeatures,...N.teamFeatures]:G.type==="emoji"?[...N.globalFeatures,...N.emojiFeatures]:G.type==="broadcastKeyword"?[...N.globalFeatures,...N.broadcastKeywordFeatures]:G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER?[...N.globalFeatures,...N.queryFeatures]:G.suggestionType===j.fd.APP_ACTION?[...N.globalFeatures,...N.shortcutFeatures,...N.appActionFeatures]:G.suggestionType===j.fd.SLASH_COMMAND?[...N.globalFeatures,...N.shortcutFeatures,...N.slashCommandFeatures]:G.suggestionType===j.fd.GLOBAL_ACTION?[...N.globalFeatures,...N.shortcutFeatures,...N.globalActionFeatures]:G.suggestionType===j.fd.CHANNEL_ACTION?[...N.globalFeatures,...N.shortcutFeatures,...N.channelActionFeatures]:G.suggestionType===j.fd.WORKFLOW_TRIGGER?[...N.globalFeatures,...N.shortcutFeatures,...N.workflowTriggerFeatures]:G.suggestionType===j.fd.APP?[...N.globalFeatures,...N.appFeatures]:G.suggestionType===j.fd.MESSAGE_NAVIGATION?[...N.globalFeatures,...N.messageFeatures]:G.suggestionType===j.fd.QUERY_HISTORY?[...N.globalFeatures,...N.queryFeatures]:N.globalFeatures}u(nn,"getFeaturesForExtraction");class An{constructor({id:ue,value:Fe}){ue==null&&ce().error(`Invalid feature id: ${ue}`);const pt=H(ue);pt||ce().error(`Missing feature name for id: ${ue}`),this.id=ue,this.name=pt,this.valueOrNull=Fe}}u(An,"Feature");function yn(G){return typeof G.valueOrNull=="number"&&isFinite(G.valueOrNull)?G.valueOrNull:typeof G.valueOrNull=="boolean"&&G.valueOrNull?1:0}u(yn,"getNumericValueForFeature");function sn(G){return G.valueOrNull===null||G.valueOrNull===void 0?"":G.valueOrNull.toString()}u(sn,"getStringValueForFeature");function Nn(G){let{feature:ue,serializer:Fe}=G;ue.valueOrNull===null&&Fe.writeNullFeature(),typeof ue.valueOrNull=="number"&&Fe.writeNumericalFeature(ue.valueOrNull,ue.id),typeof ue.valueOrNull=="boolean"&&Fe.writeBinaryFeature(ue.valueOrNull,ue.id),typeof ue.valueOrNull=="string"&&Fe.writeTextFeature(ue.valueOrNull,ue.id)}u(Nn,"serializeFeature");function Ve(G){let{id:ue,value:Fe}=G;const pt=(0,Z.A)(Fe)?null:Fe;return new An({id:ue,value:pt})}u(Ve,"makeFeature");function $e(G){let{id:ue,suggestion:Fe,extractionFunction:pt,text:Cn=Wt(Fe),multiplier:On=1}=G;if(!Cn)return Ve({id:ue,value:null});const Wn=pt({text:Cn,query:Fe.query||"",normalizedQuery:Fe.normalizedQuery||""}),En=Wn===!0?1:Wn===!1?0:Wn;return Ve({id:ue,value:(En??0)*On})}u($e,"makeTextFeature");function Et(G){let ue=null;return(G.suggestionType===j.fd.QUERY||G.suggestionType===j.fd.QUERY_USER||G.suggestionType===j.fd.CHANNEL_NAVIGATION||G.suggestionType===j.fd.MPIM_NAVIGATION||G.suggestionType===j.fd.USER_NAVIGATION||G.suggestionType===j.fd.TEAM_NAVIGATION||G.suggestionType===j.fd.VIEW_NAVIGATION||G.suggestionType===j.fd.FILE_NAVIGATION)&&(ue=G.frecencyScore),ue}u(Et,"getFrecencyScoreForSuggestion");function It(G){let ue=null;return G.suggestionType===j.fd.QUERY&&G.lastSuggestionToken&&G.lastSuggestionToken.type===j.S6.API&&(ue=G.lastSuggestionToken.querySuggestionScore),ue}u(It,"getQuerySuggestionScoreV2");function Tt(G){let ue=null;return G.suggestionType===j.fd.FILE_NAVIGATION&&(ue=G.rawScore),ue}u(Tt,"getFileSuggestionScore");function Ct(G){return G&&G.lastSuggestionToken?G.lastSuggestionToken.toString():""}u(Ct,"getLastSuggestionTokenString");function Wt(G){return In(G)?Ct(G):G.suggestionType===j.fd.FILE_NAVIGATION?G.name:null}u(Wt,"getTextOrNullFromQuerySuggestion");function Gt(G){return G.isNavigational||G.isAction||G.isApp?G.name:null}u(Gt,"getTextOrNullFromNavigationalSuggestion");function wt(G,ue){return G.suggestionType===ue?G.name:null}u(wt,"getTextOrNullFromSuggestionWithType");function qt(G){return G.suggestionType===j.fd.USER_NAVIGATION||(0,Z.A)(G.name)?null:G.name}u(qt,"getTextOrNullFromSuggestionNotUser");function Yt(G,ue){return G.suggestionType!==j.fd.FILE_NAVIGATION?!1:G.fileType===ue}u(Yt,"isFileTypeMatch");function In(G){return G.lastSuggestionToken?G.lastSuggestionToken.type===j.S6.STRING||G.lastSuggestionToken.type===j.S6.PHRASE||G.lastSuggestionToken.type===j.S6.API:!1}u(In,"isActiveTokenStringLike");function ft(G){return G.lastTokenMemberOrNull&&G.lastTokenMemberOrNull.profile&&G.lastTokenMemberOrNull.profile.first_name}u(ft,"getLastTokenUserFirstName");function yt(G){return G.lastTokenMemberOrNull&&G.lastTokenMemberOrNull.profile&&G.lastTokenMemberOrNull.profile.last_name}u(yt,"getLastTokenUserLastName");function bt(G){return G.lastTokenMemberName||G.lastTokenChannelName||null}u(bt,"lastTokenName");function Ht(G){return G?G.im&&G.lastReadImTs?G.lastReadImTs:G.remoteImMetadata&&G.lastReadRemoteImMetadataTs?(G.lastReadRemoteImMetadataTs/1e6).toString():null:null}u(Ht,"lastReadFromLocalClientElseCachedRemote");function ln(G){let{text:ue,query:Fe}=G;return ue===Fe}u(ln,"isExactMatch");function rn(G){let{text:ue,query:Fe}=G;return!!(Fe&&ue&&(0,ie.A)(ue,Fe))}u(rn,"isPrefixMatch");function Zt(G){let{text:ue,normalizedQuery:Fe}=G;return(0,J.B)(ue).replace(/^[@#]/g,"")===Fe}u(Zt,"isNormalizedExactMatch");function Mn(G){let{text:ue,normalizedQuery:Fe}=G;const pt=(0,J.B)(ue).replace(/^[@#]/g,"");return!!(pt&&Fe&&(0,ie.A)(pt,Fe))}u(Mn,"isNormalizedPrefixMatch");function es(G){let{text:ue,query:Fe}=G;return(0,Ae.A)(ue).length+((0,ae.A)(ue," ")?1:0)===(0,Ae.A)(Fe).length}u(es,"stringSameNumberWordsValueFromSuggestion");function jn(G){let{text:ue,query:Fe}=G;return Math.max(0,ue.length-Fe.length)}u(jn,"excessStringLengthValueFromSuggestion");function Kn(G){let{text:ue,query:Fe}=G;return ue.length>0?Fe.length/ue.length:0}u(Kn,"queryRatioLengthValueFromSuggestion");function Yn(G){let{text:ue,normalizedQuery:Fe}=G;return Zt({text:ue,normalizedQuery:Fe})&&Fe.length>1?2**-Fe.length:null}u(Yn,"queryLengthDecayNormalMatch");function wn(G){let{normalizedQuery:ue}=G;return ue.length}u(wn,"queryLength");function Rt(G){let{text:ue}=G;return ue.length}u(Rt,"suggestionTextLength");function je(G,ue,Fe){if(ue){var pt;return Math.min(1,Math.exp(Math.log(.5)/Fe*((pt=qe(G,ue))!==null&&pt!==void 0?pt:0)))}return 0}u(je,"expAgeDecay");function qe(G,ue){return ue?Math.max(0,G-ue):null}u(qe,"age");function st(G,ue,Fe){if(!ue)return!0;const pt=qe(G,ue);return!pt||pt>Fe}u(st,"ageLatestOlderOrMissing");function q(G){return G>0?Math.log1p(G):0}u(q,"log1pSafe");function me(G){let{text:ue,normalizedQuery:Fe}=G;const pt=(0,J.B)(ue).replace(/^[@#]/g,"");return pt&&Fe&&pt.includes(Fe)}u(me,"stringContainsQueryNormalized");class Le{score(ue){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pt=0;const Cn=ue.featureList.length;for(let On=0;On<Cn;On++)pt+=this._weightForFeature(ue.featureList[On],Fe.source||null)*(yn(ue.featureList[On])||0);return pt}explain(ue){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const pt=Fe.source||null,Cn=ue.featureList.map(En=>({id:En.id,name:En.name,value:En.valueOrNull,weight:this._weightForFeature(En,pt),globalWeight:this._globalWeightForFeature(En),score:this._weightForFeature(En,pt)*yn(En)})),On=Cn.filter(En=>En.score).sort((En,fs)=>fs.score-En.score),Wn=Cn.filter(En=>En.value&&!En.score&&En.name!=="ID");return{score:this.score(ue,Fe),features:[...On,...Wn],remoteModel:this.isRemote}}_globalWeightForFeature(ue){return this.weights[ue.name]||0}_weightForFeature(ue){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,pt=0;ue.name==="USER_IS_EXTERNAL"&&(pt=-1);const Cn=this.weights[ue.name]||0,Wn=Fe&&(Fe==="composer_page__destination"||Fe.startsWith("share"))?"WRITE":"READ",En=this.weights[`${Wn}_${ue.name}`]||0;return Cn+En+pt}constructor(ue,Fe=!1){this.isRemote=Fe,this.weights=ue}}u(Le,"LinearModel");class We extends S.F{fetchData(){return(0,k.dispatchForTeamId)(this.teamId,(0,D.ej)({reason:"AutocompleteModelCache"})).catch(ue=>({model:null,exception:ue})).then(ue=>{const Fe={model:null};if(ue.model){const pt=(0,Y.A)(Object.entries(ue.model).map(Cn=>{let[On,Wn]=Cn;return[On.toUpperCase(),Wn]}));Fe.model=new Le(pt,!0)}else return null;return Fe})}constructor(ue){super(),this.teamId=ue}}u(We,"AutocompleteModelCache");let ze=null;function ht(G){return ze||(ze=new We(G)),ze}u(ht,"getAutocompleteModelCache");var Mt=e(1917953477),on=e(220244708);const zn=new Le({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),Qn=new Le({FRECENCY_LOG_ITEM_COUNT:1}),lt=new Le({FRECENCY:1}),$=new Le({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),te=new Le({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),fe=new Le({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),Pe=new Le({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),ut={testing:fe,testing_2:Pe,frecency:lt,autocompleteFallback:zn,shortcuts1:$,shortcuts3:te,emojiFrequentlyUsed:Qn};var et=e(8847766420),Ft=e(5795074931),$t=e(5267557974),Pn=e(9101533895),Bn=e(4761125736),os=e(8719147933),Zn=e(8276911661),qn=e(6562711329);const an=new O.Ay("search"),hs="autocompleteFallback";let Cs=u(class{sort(ue,Fe){var pt;const Cn=(0,p.Cy)({state:ue});Cn.mark("sorter-sort-mark");const On=this.prepSuggestions(ue,Fe);this.extractFeatures(ue,On);const Wn=this.scoreItems(ue,On),En=((pt=this.options)===null||pt===void 0?void 0:pt.dryRun)===!0?Wn:this.sortByScore(Wn);Cn.measureAndClear("sorter-sort-mark","sorter-sort");const fs=2,ls=this.boostExactMatches(En,fs);return this.forceMatches(ls)}boostExactMatches(ue,Fe){const pt=ue.slice(0,Fe),Cn=[],On=[];for(let Wn=Fe;Wn<ue.length;Wn++){const En=ue[Wn];En.isExactMatch||En.bestNameIsExactMatch?Cn.push(En):On.push(En)}return[...pt,...Cn,...On]}forceMatches(ue){var Fe,pt;return!((Fe=this.options)===null||Fe===void 0)&&Fe.selfFirst&&!(!((pt=ue[0])===null||pt===void 0)&&pt.isSelf)?[...(0,t.A)(ue,On=>On.isSelf),...ue]:ue}getModel(ue,Fe){let pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const Cn={model:ut[ue]};if(!pt&&Fe){const Wn=ht(Fe).getStaleWhileRevalidate(Cn);return Wn===null||Wn.model===null||Wn.model===void 0?Cn:Wn}return Cn}getHistoryChannels(ue){if((0,Bn._Z)(ue,"sq_sorter_history")!=="treatment")return{};if(!(0,I.A)())return{};var Fe;const pt=[...(Fe=(0,os.t)((0,k.getStateForClientStore)()))!==null&&Fe!==void 0?Fe:[]];if(!pt)return{};for(let On=0;On<pt.length;On++)pt[On].position=On+1;const Cn={};return pt.filter(On=>!(0,C.VA)()&&On.teamId!==this.teamId||!On.primaryView?!1:(0,P.A)(On.primaryView)).forEach(On=>{if(On.primaryView&&!(On.primaryView in Cn)){var Wn;Cn[On.primaryView]={ts:On.ts/1e3,position:(Wn=On==null?void 0:On.position)!==null&&Wn!==void 0?Wn:-1}}}),Cn}prepSuggestions(ue,Fe){var pt,Cn,On;const Wn=(0,J.B)((0,Mt.O)(this.query));if(!((pt=this.options)===null||pt===void 0)&&pt.currentChannel&&Wn.length<=1&&!(0,d.yz)((Cn=this.options)===null||Cn===void 0?void 0:Cn.currentChannel)&&!(0,d.LI)((On=this.options)===null||On===void 0?void 0:On.currentChannel)){const Tn=Fe.filter(as=>as.type==="member"||(0,v.NB)(as.item)).map(as=>(as.item||as).id);(0,k.dispatchForTeamId)(this.teamId,(0,qn.z)({channelId:this.options.currentChannel.id,userIds:Tn}))}let En=null;if((0,Bn._Z)(ue,"snd_autocomplete_features_cache")==="treatment"&&this.teamId){var fs;En=K({teamId:this.teamId,enterpriseId:(fs=this.enterpriseId)!==null&&fs!==void 0?fs:void 0}).getStaleWhileRevalidate()}const ls=Fe.length,ps=(0,Ft.WR)(ue),Ms=(0,Zn.cA)(ue),Fs=(0,y.dQ)(Ms),Rs=this.getHistoryChannels(ue),Os={};return Fe.forEach(Tn=>{const as=Tn.item;(Tn.type==="mpim"||(0,d.yz)(Tn.item))&&((0,i.Ug)(as)||[]).forEach(tt=>{if(tt!==ps){const Nt=Os[tt]||{itemCount:0,hitCount:0},Lt=(0,i._V)(ue,as),at=Lt?parseFloat(Lt):void 0,vt=(0,$t.b)(ue,as.id),Dt=vt?parseFloat(vt):void 0;at&&(Nt.lastReadTs?Nt.lastReadTs=Math.max(Nt.lastReadTs,at):Nt.lastReadTs=at),Dt&&(Nt.latestMsgTs?Nt.latestMsgTs=Math.max(Nt.latestMsgTs,Dt):Nt.latestMsgTs=Dt),Nt.hitCount+=(Tn==null?void 0:Tn.hitCount)||0,Nt.itemCount+=(Tn==null?void 0:Tn.itemCount)||0,Os[tt]=Nt}})}),Fe.map(Tn=>{const as=Tn.item||Tn,_t={...Tn,query:this.query,normalizedQuery:Wn,id:as.id,suggestionType:j.fd.UNKNOWN,numResults:ls};if(Tn.type==="member"||(0,v.NB)(Tn.item)){var tt,Nt,Lt,at;const Rn=as.id&&(0,Pn.Pu)(ue,as.id),$n=as.id&&En&&En.getUserDmChannelMetadata(as.id);if(_t.remoteImMetadata=$n,_t.im=Rn,_t.latestImTs=Rn&&(0,$t.b)(ue,Rn.id),_t.imHasDraft=Rn&&(0,i.yc)(ue,Rn.id),_t.imIsStarred=Rn&&(0,i.m2)(ue,Rn),_t.name=(0,T.Gt)(Tn.item),_t.lastReadImTs=(0,i._V)(ue,Rn),_t.lastReadRemoteImMetadataTs=$n==null?void 0:$n.last_read_abs,this.enterpriseId&&this.enterpriseId===((tt=Tn.item)===null||tt===void 0?void 0:tt.enterprise_id)){const ds=(0,et.kN)(ue)||[],us=(0,et.E$)(ue),Gn=Tn.item.enterprise_user.teams||[],gs=(0,n.A)(ds,Gn);_t.isMemberOfSearcherDefaultTeam=(0,s.A)(gs,us),_t.numWorkspacesIntersectingWithSearcher=(0,r.A)(gs)}(0,y.dQ)(Tn.item)===Fs&&(_t.sameTeam=!0);let _s;if(!((Nt=this.options)===null||Nt===void 0)&&Nt.currentChannel&&(_s=this.options.currentChannel),_s)if((0,d.yz)(_s)){var vt,Dt;_t.isMemberOfCurrentChannel=(Dt=_s==null||(vt=_s.members)===null||vt===void 0?void 0:vt.includes(Tn.item.id))!==null&&Dt!==void 0?Dt:!1}else(0,d.LI)(_s)||(_t.isMemberOfCurrentChannel=(0,on.B)(ue,as,_s));_t.priority=(0,i.dh)(ue,Rn),_t.suggestionType=j.fd.USER_NAVIGATION,_t.isNavigational=!0,_t.historyTs=Rn&&((Lt=Rs[Rn.id])===null||Lt===void 0?void 0:Lt.ts),_t.historyPosition=Rn&&((at=Rs[Rn.id])===null||at===void 0?void 0:at.position);const ss=Os[as.id];ss&&(_t.mpimFeatures=ss)}else _t.name=as.name||as.string;if(Tn.type==="channel"||(0,d.jq)(Tn.item)){var Ut,Vt;_t.suggestionType=j.fd.CHANNEL_NAVIGATION,_t.isNavigational=!0,_t.isChannelMember=(0,d.rW)(as)&&!(0,_.F)(as)&&(0,m.bl)(as),_t.hasDraft=(0,i.yc)(ue,as.id),_t.offlineFeatures=En&&En.getFeatures(Tn.item.id,"channel"),_t.historyTs=(Ut=Rs[as.id])===null||Ut===void 0?void 0:Ut.ts,_t.historyPosition=(Vt=Rs[as.id])===null||Vt===void 0?void 0:Vt.position,_t.latestTs=(0,$t.b)(ue,as.id),_t.lastReadTs=(0,i._V)(ue,as),_t.priority=(0,i.dh)(ue,as),_t.isStarred=(0,i.m2)(ue,as)}if(Tn.type==="mpim"||(0,d.yz)(Tn.item)){var cn,kn;_t.suggestionType=j.fd.MPIM_NAVIGATION,_t.isNavigational=!0;const $n=((0,i.Ug)(as)||[]).map(Gn=>(0,Zn.nv)(ue,Gn));_t.isMpimWithDeactivatedMember=(0,c.A)($n,Gn=>(0,v.oy)(Gn)||(0,v.eJ)(Gn)),_t.isMpimWithOnlyInternalMembers=(0,o.A)($n,Gn=>!(0,A.g)(Gn)),_t.hasDraft=(0,i.yc)(ue,as.id),_t.name=(0,i.Oi)(ue,Tn.item),_t.offlineFeatures=En&&En.getFeatures(Tn.item.id,"mpim"),_t.historyTs=(cn=Rs[as.id])===null||cn===void 0?void 0:cn.ts,_t.historyPosition=(kn=Rs[as.id])===null||kn===void 0?void 0:kn.position,_t.priority=(0,i.dh)(ue,as),_t.maxLastReadTsOfAllMembers=null,_t.maxLatestMsgTsOfAllMembers=null;let Vn=0,_s=0,ss=0,ds=0,us=0;$n.forEach(Gn=>{if(Gn.id!==ps){const Es=Gn.id?(0,Pn.Pu)(ue,Gn.id):void 0,As=Es&&(0,i._V)(ue,Es),Bs=Gn.id&&En&&En.getUserDmChannelMetadata(Gn.id),Ks=Bs&&Bs.last_read_abs/1e6,Ls=Es||Bs,xs=As?parseFloat(As):Ks;if(Ls){if(us+=1,xs){ss+=1;var gs;_t.maxLastReadTsOfAllMembers=Math.max((gs=_t.maxLastReadTsOfAllMembers)!==null&&gs!==void 0?gs:-1/0,xs),Vn+=xs}const bs=(0,$t.b)(ue,Es==null?void 0:Es.id),zs=Es&&bs?parseFloat(bs):void 0;if(zs){ds+=1;var Ps;_t.maxLatestMsgTsOfAllMembers=Math.max((Ps=_t.maxLatestMsgTsOfAllMembers)!==null&&Ps!==void 0?Ps:-1/0,zs),_s+=zs}}}}),_t.avgLastReadTsOfAllMembers=Vn===0?null:Vn/ss,_t.avgLatestMsgTsOfAllMembers=_s===0?null:_s/ds,_t.pctNonEmptyDmsForAllMembers=ss/($n.length-1)*100,_t.pctNonNullDmsForAllMembers=us/($n.length-1)*100}if(Tn.type==="team"&&(_t.suggestionType=j.fd.TEAM_NAVIGATION,_t.isNavigational=!0),Tn.type==="view"&&(_t.suggestionType=j.fd.VIEW_NAVIGATION,_t.isNavigational=!0),Tn.type==="appAction"&&(_t.suggestionType=j.fd.APP_ACTION,_t.isAction=!0,_t.offlineFeatures=En&&En.getFeatures(Tn.item.id,"appAction")),Tn.type==="app"&&(_t.suggestionType=j.fd.APP,_t.isApp=!0),Tn.type==="emoji"&&(_t.name=_t.emojiBestNameMatch,_t.suggestionType=j.fd.EMOJI,_t.isNavigational=!0,_t.offlineFeatures=En&&En.getFeatures(Tn.item.id,"emoji")),Tn.type==="slashCommand"){var pn;_t.suggestionType=j.fd.SLASH_COMMAND,_t.isApp=!0,_t.name=(pn=_t.name)===null||pn===void 0?void 0:pn.substring(1),_t.firstWordOfRawQuery&&(_t.query=_t.firstWordOfRawQuery,_t.normalizedQuery=_t.firstWordOfRawQuery),_t.offlineFeatures=En&&En.getFeatures(Tn.item.id,"slashCommand")}if(Tn.type==="globalAction"&&(_t.suggestionType=j.fd.GLOBAL_ACTION,_t.isApp=!0,_t.offlineFeatures=En&&En.getFeatures(Tn.item.id,"globalAction")),Tn.type==="quipShortcutCommand"&&(_t.suggestionType=j.fd.QUIP_SHORTCUT),Tn.type==="canvasAiSuggestion"&&(_t.suggestionType=j.fd.CANVAS_AI_SUGGESTION),Tn.type==="channelAction"&&(_t.suggestionType=j.fd.CHANNEL_ACTION,_t.isApp=!0,_t.offlineFeatures=En&&En.getFeatures(Tn.item.id,"channelAction")),Tn.type==="workflowTrigger"&&(_t.suggestionType=j.fd.WORKFLOW_TRIGGER,_t.isApp=!0,_t.offlineFeatures=En&&En.getFeatures(Tn.item.id,"workflowTrigger")),Tn.type==="file"){_t.suggestionType=j.fd.FILE_NAVIGATION,_t.isNavigational=!0,_t.fileSuggestionsFromSearcher=!0;const Rn=_t.item;_t.id=Rn.id,_t.fileId=Rn.id,_t.logId=Rn.id,_t.fileType=Rn.highlight_type||Rn.filetype,_t.name=Rn.title,_t.fileTypeDescription=Rn.is_external?(0,a.A)(Rn,ue):Rn.pretty_type,_t.fileTypeDescription==="Arugula"&&(_t.fileTypeDescription=an.t("Post")),_t.fromCurrentUser=Rn.user===ps;const $n=Rn.user&&(0,Pn.Pu)(ue,Rn.user),Vn=Rn.user&&En&&En.getUserDmChannelMetadata(Rn.user);if(_t.hasNonNullDmsWithCreator=$n!==null,_t.hasNonNullLocalOrRemoteDmsWithCreator=$n!==null||Vn!==null,_t.lastReadTs=Rn.last_read,Rn.shares){const ss=Rn.shares.public&&Math.max(...Object.values(Rn.shares.public).flatMap(us=>us.map(Gn=>Gn.ts?parseFloat(Gn.ts):-1/0))),ds=Rn.shares.private&&Math.max(...Object.values(Rn.shares.private).flatMap(us=>us.map(Gn=>Gn.ts?parseFloat(Gn.ts):-1/0)));ss&&ds?_t.latestShareTs=ss>ds?ss:ds:_t.latestShareTs=ss||ds}const _s=h(Rn);if(_s&&(_t.latestActionTs=_s),En){const ss=Rn.channels&&Array.isArray(Rn.channels)&&Rn.channels.length&&Math.max(...Rn.channels.map(us=>En.getFeatures(us,"channel").user_ctr_30dd)),ds=Rn.groups&&Array.isArray(Rn.groups)&&Rn.groups.length&&Math.max(...Rn.groups.map(us=>En.getFeatures(us,"mpim").user_ctr_30dd));ss>0&&ds>0?_t.fileChannelCtr=Math.max(ss,ds):ss>0?_t.fileChannelCtr=ss:ds>0&&(_t.fileChannelCtr=ds),Rn.user?_t.fileUserCtr=En.getFeatures(Rn.user,"member").user_ctr_30dd:_t.fileUserCtr=En.getEntityCtr("member")}}if(Tn.type==="link"&&(_t.suggestionType=j.fd.LINK_NAVIGATION,_t.isNavigational=!0,_t.name=Tn.item.title||Tn.item.url),Tn.type==="modal"&&(_t.suggestionType=j.fd.MODAL_NAVIGATION,_t.name=Tn.item.name),Tn.type==="queryHistory"&&(_t.suggestionType=j.fd.QUERY_HISTORY,_t.is_type_query_history=!0,_t.id=(0,f.B)(Tn.id||Tn.name||Tn.string),_t.logId=_t.id,_t.exact_string=Tn.string),Tn.type==="query"||Tn.type==="queryUser"||Tn.type==="queryHistory"){var zt,gn,Hn;_t.is_type_query_completion=!0,_t.lastSuggestionToken=!_t.suggestionTokenList||_t.suggestionTokenList.length<1?null:_t.suggestionTokenList[_t.suggestionTokenList.length-1],_t.frecencyScore=_t.lastSuggestionToken&&_t.lastSuggestionToken._frecencyScore,_t.scoringContext=((zt=_t.lastSuggestionToken)===null||zt===void 0?void 0:zt._scoringContext)||{},_t.lastTokenMemberOrNull=null,_t.lastTokenChannelOrNull=null;const Rn=_t.lastSuggestionToken&&(_t.lastSuggestionToken.type===j.S6.FILTER_FROM||_t.lastSuggestionToken.type===j.S6.FILTER_TO||_t.lastSuggestionToken.type===j.S6.FILTER_WITH),$n=_t.lastSuggestionToken&&_t.lastSuggestionToken.type===j.S6.FILTER_IN;if(!((gn=_t.lastSuggestionToken)===null||gn===void 0)&&gn._id&&(_t.lastTokenMemberOrNull=Rn&&(0,Zn.nv)(ue,_t.lastSuggestionToken._id),_t.lastTokenChannelOrNull=$n&&((0,Pn.OL)(ue,_t.lastSuggestionToken._id)||(0,Pn.Pu)(ue,_t.lastSuggestionToken._id)),_t.priority=_t.lastTokenChannelOrNull?(0,i.dh)(ue,_t.lastTokenChannelOrNull):void 0),_t.lastSuggestionToken&&_t.lastSuggestionToken._name&&(_t.lastTokenMemberOrNull||(_t.lastTokenMemberOrNull=Rn&&(0,Zn.H6)(ue,_t.lastSuggestionToken._name)),_t.lastTokenChannelOrNull||(_t.lastTokenChannelOrNull=$n&&(0,Pn.Os)(ue,_t.lastSuggestionToken._name))),(0,l.GU)(_t.lastTokenMemberOrNull)&&(_t.lastTokenMemberOrNull=null),_t.lastTokenMemberName=(0,T.Gt)(_t.lastTokenMemberOrNull)||void 0,(0,l.GU)(_t.lastTokenChannelOrNull))_t.lastTokenChannelOrNull=null;else{const _s=(0,i._V)(ue,_t.lastTokenChannelOrNull);_t.lastTokenChannelLastRead=_s?parseFloat(_s):void 0,_t.lastTokenChannelIsStarred=(0,i.m2)(ue,_t.lastTokenChannelOrNull)}_t.lastTokenChannelName=(0,i.SB)(ue,_t.lastTokenChannelOrNull)||null,_t.lastTokenIm=_t.lastTokenMemberOrNull&&_t.lastTokenMemberOrNull.id?(0,Pn.Pu)(ue,_t.lastTokenMemberOrNull.id):void 0,_t.lastTokenImLatest=(0,$t.b)(ue,(Hn=_t.lastTokenIm)===null||Hn===void 0?void 0:Hn.id);const Vn=(0,i._V)(ue,_t.lastTokenIm);Vn&&(_t.lastTokenImLastRead=Vn?parseFloat(Vn):void 0),_t.lastTokenIm&&(_t.priority=(0,i.dh)(ue,_t.lastTokenIm)),_t.lastTokenImIsStarred=(0,i.m2)(ue,_t.lastTokenIm)}if(Tn.type==="query"&&(_t.suggestionType=j.fd.QUERY),Tn.type==="queryUser"&&(_t.suggestionType=j.fd.QUERY_USER),Tn.type==="queryHistory"&&(_t.suggestionType=j.fd.QUERY_HISTORY),Tn.type==="querySalesforce"&&(_t.suggestionType=j.fd.QUERY_SALESFORCE),Tn.type==="query"||Tn.type==="queryUser"||Tn.type==="queryHistory"||Tn.type==="querySalesforce"){var xn;_t.normalizedQuery=(0,J.B)((0,Mt.O)(_t.query)),_t.logId=((xn=_t.lastSuggestionToken)===null||xn===void 0?void 0:xn.logId)||"";var en;_t.name=((en=_t.suggestionTokenList)!==null&&en!==void 0?en:[]).map(Rn=>Rn.toString()).join(" ")}return Tn.type==="quickMessage"&&(_t.isNavigational=!0,_t.suggestionType=j.fd.MESSAGE_NAVIGATION),_t.entityTypeCtr=En?En.getEntityCtr(Tn.type):void 0,_t})}extractFeatures(ue,Fe){Fe.forEach(pt=>{var Cn;const On=le(pt,(Cn=this.options)===null||Cn===void 0?void 0:Cn.source);this.featureVectors[pt.id]=On})}selectModelForScoring(){return this.model}scoreItems(ue,Fe){var pt;const Cn={source:(pt=this.options)===null||pt===void 0?void 0:pt.source},On=this.selectModelForScoring();return Fe.map(Wn=>{var En;const fs=this.featureVectors[Wn.id],ls=On.score(fs,Cn);let ps;return!((En=this.options)===null||En===void 0)&&En.explain&&(ps=On.explain(fs,Cn)),{...Wn,modelScore:ls,featureVectorRaw:fs,explain:ps}})}sortByScore(ue){var Fe,pt;return ue.sort((Cn,On)=>((Fe=On==null?void 0:On.modelScore)!==null&&Fe!==void 0?Fe:0)-((pt=Cn==null?void 0:Cn.modelScore)!==null&&pt!==void 0?pt:0))}constructor({query:ue,options:Fe={},teamId:pt=null,enterpriseId:Cn=null}){this.query=ue,this.options=Fe;let On=Fe.model;On===void 0&&(On=hs);var Wn;const En=this.getModel(On,pt||Cn,(Wn=this.options.modelLocal)!==null&&Wn!==void 0?Wn:!1);this.model=En.model,this.teamId=pt,this.enterpriseId=Cn,this.featureVectors={}}},"Sorter")},2332798892:(x,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(1703559452),n=e(7174777686),s=e(735940183);const r=["`","\xB4","\u02C6","\xA8","\u02DC"],c=new RegExp(`[${r.join("")}]$`);function o(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(c,"")}u(o,"trim_trailing_composition_char");const a={COMPOSITION_CHARS:r};var l=e(3212336858);function i(d,_){let{allowPartialMatches:m=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!_||!d)return!1;let h=_.toLowerCase().replace(/^\uFF0F/,"/");h=(0,s.dV)(h),h=o(h);const v=[(0,l.fK)(d),(0,l.Bs)(d),...(0,l.qc)(d)||[]];return(0,t.A)(v,T=>{const A=(0,s.dV)(T);return m?(0,n.A)(A,h):A===h})}u(i,"is_match_for_command")},8664881451:(x,g,e)=>{"use strict";e.d(g,{Dd:()=>A,Rj:()=>p,TQ:()=>y,ZH:()=>h,ds:()=>T,qG:()=>_});var t=e(9706240641),n=e.n(t),s=e(796111729),r=e(6673728906),c=e(571104883);const o={},a={},l={},i=(0,s.Wo)({label:"SOUND-PLAYBACK"});function d(f){return`${f}-repeat`}u(d,"createRepeatKey");const _=u(f=>{f&&y(f)},"addSoundToInMemoryCache"),m=function(){var f=(0,t.coroutine)(function*(O){try{if(!O||!("setSinkId"in O)||(0,c.gm)())return;const I=(0,r._o)();yield O.setSinkId(I)}catch(I){i.warn(`Failed to set sink id with reason: ${I}`)}});return u(function(I){return f.apply(this,arguments)},"maybeSetAudioSinkId")}(),h=function(){var f=(0,t.coroutine)(function*(O){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!O)return null;const P=A(O)||y(O);P.loop=!!I.loop,P.currentTime=0;var C;P.volume=(C=I.volume)!==null&&C!==void 0?C:1,yield m(P);try{yield P.play()}catch(M){i.warn(`Failed to play sound: ${O} with reason: ${M}`)}});return u(function(I){return f.apply(this,arguments)},"play")}(),v=function(){var f=(0,t.coroutine)(function*(O){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!O)return null;const P=d(O),C=u(()=>{a[P]-=1,a[P]>0&&(i.info(`lounge music looping: ${O}`),I.pause?l[P]=setTimeout(()=>{h(P)},I.pause):h(P))},"ended");I.repeat&&(a[P]=I.repeat);const M=A(P)||y(O,{ended:C,customCacheKey:P});M.currentTime=0,yield m(M);try{yield M.play()}catch(D){i.warn(`Failed to play repeated sound: ${O} with reason: ${D}`)}});return u(function(I){return f.apply(this,arguments)},"playRepeat")}();function T(f){let{logFailure:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const I=A(f),P=d(f),C=A(P);if(!I&&!C){O&&i.warn(`Tried to stop sound, but no sound was playing matching url: ${f}. Available cached element urls are ${Object.keys(o).join(", ")}`);return}if(C){C.pause(),clearTimeout(l[P]),a[P]=0;const M=C.src;C.src="",C.src=M}if(I){I.pause();const M=I.src;I.src="",I.src=M}}u(T,"stop");function A(f){return o[f]}u(A,"getAudioElement");function y(f){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const I=new Audio(f);O.ended&&I.addEventListener("ended",O.ended);const P=O.customCacheKey||f;return o[P]=I,I}u(y,"createAudioElement");function p(f,O,I){if(!f||!O||!I)return;const P=A(f);P&&P.removeEventListener(O,I)}u(p,"removeAudioElementListener")},6106767915:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(2414816894);function n(s){return(0,t.A)(s)?s.replace(/^BK/,""):""}u(n,"getBroadcastKeyword")},2414816894:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(4897863105);function n(s){return(0,t.c)().indexOf(s)!==-1}u(n,"mentionIdIsKeyword")},1707481146:(x,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(n){return n==="UNVERIFIED"}u(t,"mentionIdIsUnverified")},6764196364:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(6968387112);function n(){return`https://${(0,t.Xk)()}`}u(n,"getSlackRootUrl")},4252064756:(x,g,e)=>{"use strict";e.d(g,{A:()=>s,D:()=>r});var t=e(8234448831),n=e(6968387112);function s(c){return r((0,t.Ay)(c))}u(s,"isGantryUrl");function r(c){if(c.pathname==="/ssb/signin")return!1;const o=c.hostname,[a]=o.split(".");return a==="app"&&(0,n.Ed)(c)}u(r,"isGantryUrlFromUrlObject")},7216810781:(x,g,e)=>{"use strict";e.d(g,{z:()=>_});var t=e(3134334389),n=e(5255740490),s=e(4173072539),r=e(3694049677),c=e(2408732225),o=e(9874616273),a=e(5743225531),l=e(735940183),i=e(2786906754);const d=new l.Ay("shared_channel_invites"),_=u(m=>{let{invite:h,bottomMargin:v}=m;if(!h)return null;const{inviting_team:T,inviting_user:A,shared_workspace:y}=h,p=!!(0,i.qN)(window.location.search).is_link,f=t.createElement(c.n,{team:T,user:A,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0,allowTeamInitials:!0,isInteractive:!1,className:"margin_right_75",hideUserIcon:p}),O=t.createElement(r.A,{invitingUser:A}),I=t.createElement(s.A,{invitingTeam:T}),P=t.createElement(a.A,{id:y.id,team:y,bold:!0});return t.createElement("div",{className:(0,n.A)("p-accept_slack_connect_workspace_invite_header__header_container",{margin_bottom_200:v})},t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header__header_subcontainer"},t.createElement(o.A,{width:160,height:40,className:"margin_bottom_125"}),t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header padding_0"},f,t.createElement("span",null,p?d.rt("You were invited by {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:I,sharedWorkspaceName:P}):d.rt("You were invited by <strong>{invitingUserName}</strong> from {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:I,invitingUserName:O,sharedWorkspaceName:P})))))},"AcceptSlackConnectWorkspaceHeader");_.displayName="AcceptSlackConnectWorkspaceHeader"},1073393277:(x,g,e)=>{"use strict";e.d(g,{Sp:()=>T,a5:()=>A});var t=e(1764426410),n=e(4509434386),s=e(9733150292),r=e(3245843483),c=e(4923013394),o=e(252204565),a=e(5829624088);const l=".p-client_container_placeholder",i=".p-client_container_placeholder__nav",d=260,_=60,m=70;function h(p){let{name:f,hex:O,iaTheming:I,customTheme:P}=p;const C=(0,t.zK)({hex:O,name:f}),M=(I==null?void 0:I.mode)||"light",D=(I==null?void 0:I.brightness)||n.GK,E=(0,n.XW)({mode:(0,a.Gk)(I,I==null?void 0:I.mode),primary:I==null?void 0:I.primary,highlight1:I==null?void 0:I.highlight1,brightness:D,useCustomHex:P&&(I==null?void 0:I.useCustomHex)});let S;f.includes("Primary")?S=E.primary.shade:S=E.highlight1.shade;const k=n.sC.indexOf(S);return{shade:S,value:M==="light"?C.light[k].value:C.dark[k].value}}u(h,"generateCustomHEXChromeColors");function v(p){let{iaTheming:f,customTheme:O}=p;return!f.primary.custom||!t.$V.test(f.primary.custom)?null:h({name:"bootPrimary",hex:f.primary.custom.startsWith("#")?f.primary.custom:`#${f.primary.custom}`,iaTheming:f,customTheme:O})}u(v,"getBootPrimary");function T(p){let{teamId:f}=p;const O=(0,s._z)(f,"channelSidebarBackground"),I=parseInt((0,s.W6)("viewLayoutLastSidebarWidth"),10)||d,P=(0,s._z)(f,"textColor"),C=(0,s._z)(f,"topNavBackground")||O,M=(0,s._z)(f,"topNavTextColor")||P,D=document.querySelector(l),E=(0,s._z)(f,"iaTheming"),S=(0,s._z)(f,"customTheme"),k=(0,s._z)(f,"windowGradient"),U=(0,s._z)(f,"isCreatorInSetupFlow"),L=(0,s.W6)("viewLayoutIsWorkspaceSwitcherVisible"),B=L?_:0;if(!D)return;const b=D.querySelector(i);if(!O||U){A();return}if(b&&P&&O){const w=document.createElement("div");w.classList.add("p-ia4_client_container_placeholder--sidebar"),w.style.width=`${I}px`;const W=document.createElement("div");W.classList.add("p-ia4_client_container_placeholder--tab_rail");const K=document.createElement("div");if(K.classList.add("p-ia4_client_container_placeholder--content"),K.style.left=`${B+m+I}px`,D.appendChild(w),L&&(D.appendChild(W),w.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),E!=null&&E.sidebarInverted&&(w.style.boxShadow="-1px 0px 0px 0px rgba(255, 255, 255, 0.15)"),K.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),D.appendChild(K),D.classList.add("p-ia4_client_container_placeholder--theme-background"),E){let Y="#ffffffB3";const X="#1012148c";if(E.mode==="light"&&E.sidebarInverted&&(Y="#ffffff1A"),E.mode==="dark"){var R,z;Y=X,(z=(R=window.document)===null||R===void 0?void 0:R.querySelector("body"))===null||z===void 0||z.classList.add(n.RD)}if(w.style.backgroundColor=Y,S&&E.useCustomHex){if(E.primary.custom){const Z="bootPrimary",ie=v({iaTheming:E,customTheme:S});ie&&D.style.setProperty(`--dt_color-plt-${Z}-${ie.shade}`,ie.value)}if(E.highlight1.custom){const Z="bootHighlight1",ie=h({name:"bootHighlight1",hex:E.highlight1.custom.startsWith("#")?E.highlight1.custom:`#${E.highlight1.custom}`,iaTheming:E,customTheme:S});D.style.setProperty(`--dt_color-plt-${Z}-${ie.shade}`,ie.value)}}if(k){const Z=(0,n.Lp)({mode:(0,a.Gk)(E,E.mode),primary:E.primary,highlight1:E.highlight1,brightness:E.brightness,useCustomHex:S&&E.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");D.style.background=Z}else{const Z="bootPrimary",ie=v({iaTheming:E,customTheme:!!S}),Ae=(0,a.Gk)(E,E.mode),ae=(0,n.VS)({mode:Ae,role:Ae==="light-inverted-sidebar"?"highlight1":"primary",brightness:(E==null?void 0:E.brightness)||n.GK});D.style.backgroundColor=S&&E.useCustomHex&&ie?`rgb(var(--dt_color-plt-${Z}-${ie.shade}))`:`rgb(var(--dt_color-plt-${E.primary.palette}-${ae}))`}}else if(w.style.backgroundColor=O,C){const Y=C,X=(0,o.fl)(C,25);D.style.background=`radial-gradient(
						circle at 50% 50%,
						${Y} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${X} 0%,
            ${Y} 25%,
            ${X} 50%,
            ${Y} 75%,
            ${X} 100%
          )`}b.classList.add("p-ia4_client_container_placeholder--top-nav"),(0,c.ve)()&&C&&r.ea3.isAvailable()&&(0,r.ea3)((0,r.Xgz)(),{color:C,symbolColor:M})}D.style.opacity="1"}u(T,"renderBootPlaceholder");function A(){const p=document.querySelector(l);p&&p.remove()}u(A,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:A},"removeBootPlaceholder",{get:()=>A,set:p=>{A=p}})},322730488:(x,g,e)=>{"use strict";var t=e(9706240641),n=e(8223354444),s=e(7031360717),r=e(1535672935),c=e(6533394955);function o(ot,ct){var gt,Bt,Qt,Ln,bn,Xn;const is=(0,c.getClientStoreInstance)();if(is.dispatch((0,r.setWorkspaceFailedToBoot)(ot)),!(ct==null||(gt=ct.data)===null||gt===void 0)&&gt.active_migration){var ms,js;is.dispatch((0,r.setWorkspaceIsMigrating)({teamId:ot,migrationId:ct==null||(ms=ct.data)===null||ms===void 0?void 0:ms.migration_id,canViewMigrationStatus:ct==null||(js=ct.data)===null||js===void 0?void 0:js.can_view_migration_status})),(0,s.R8)("BOOT",`(${ot}) Workspace boot failed due to active migration`)}if((ct==null||(Bt=ct.data)===null||Bt===void 0?void 0:Bt.error)==="accesslimited"&&is.dispatch((0,r.setWorkspaceIsAccessLimited)(ot)),(ct==null||(Qt=ct.data)===null||Qt===void 0?void 0:Qt.error)==="two_factor_setup_required"&&is.dispatch((0,r.setWorkspaceNeeds2FASetup)(ot)),(ct==null||(Ln=ct.data)===null||Ln===void 0?void 0:Ln.error)==="user_in_no_workspaces"&&is.dispatch((0,r.setUserNotMemberOfAnyWorkspaceInOrg)(ot)),(ct==null||(bn=ct.data)===null||bn===void 0?void 0:bn.error)==="mobile_login_required"&&is.dispatch((0,r.setUserRequiresMobileLogin)(ot)),(ct==null||(Xn=ct.data)===null||Xn===void 0?void 0:Xn.error)==="user_needs_to_accept_custom_tos"){var Qs;is.dispatch((0,r.setWorkspaceNeedsToAcceptCustomTOS)({teamId:ot,url:ct==null||(Qs=ct.data)===null||Qs===void 0?void 0:Qs.url}))}}u(o,"markTeamBootFailed");var a=e(6188550760),l=e(6329712420),i=e(9012396182);function d(ot){const ct=(0,c.getClientStoreInstance)();var gt;const Bt=(gt=(0,i.getNavigateToUnbootedWorkspace)(ct.getState()))!==null&&gt!==void 0?gt:{},{bootingTeamId:Qt,navigateToRouteProps:Ln}=Bt;return Qt===ot?((0,a._U)((Ln==null?void 0:Ln.routeName)||l.o,{teamId:ot,...(Ln==null?void 0:Ln.params)||{}},{reason:"delayed-unbooted-team-switch",...(Ln==null?void 0:Ln.options)||{}}),ct.dispatch((0,r.setNavigateToUnbootedWorkspace)({})),!0):!1}u(d,"maybeNavigateToUnbootedWorkspace");function _(ot,ct){if(!ot)throw new Error("Missing team id, cannot thin boot team.");o(ot,ct),d(ot)}u(_,"thinBootTeam");var m=e(1073393277),h=e(2212859256),v=e(1044468604),T=e(3945243579);const A={[v.F9.API]:y,[v.F9.BOOT_APP]:p,[v.F9.BOOT_TEAM]:f,[v.F9.DEFAULT]:O};function y(ot,ct,gt){var Bt;const Qt=gt==null?void 0:gt.teamId;if(window.isReloading){(0,s.pq)("BOOT",`(${Qt}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}v.XB[v.F9.API](ot,ct,{...gt,shouldDisplayErrorView:!1,shouldBeaconError:(ot==null||(Bt=ot.data)===null||Bt===void 0?void 0:Bt.error)!=="user_needs_to_accept_custom_tos"}),_(Qt,ot),ct!=null&&ct.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,5966158966)).then(Ln=>{let{renderClient:bn}=Ln;(0,m.a5)(),(0,T.A)(),bn()})}u(y,"handleApiError");function p(ot,ct,gt){(0,m.a5)(),v.XB[v.F9.BOOT_APP](ot,ct,gt)}u(p,"handleBootAppError");function f(ot,ct,gt){if(gt){const{teamId:Bt}=gt;(0,h.y)(Bt)}(0,m.a5)(),v.XB[v.F9.BOOT_TEAM](ot,ct,gt)}u(f,"handleBootTeamError");function O(ot,ct,gt){(0,m.a5)(),v.XB[v.F9.DEFAULT](ot,ct,gt)}u(O,"handleDefaultError");const I={handleApiError:y,handleBootAppError:p,handleBootTeamError:f,handleDefaultError:O};var P=e(9113979368),C=e(1197598850),M=e(1092614768),D=e(2325478352),E=e(7530010356),S=e(796111729),k=e(2250002584),U=e(2872463257);const L="cse-api",B="cse-boot-api";function b(ot){return R.apply(this,arguments)}u(b,"fetchBootData");function R(){return R=(0,t.coroutine)(function*(ot){const{teamId:ct,userId:gt,isBootingWarm:Bt}=ot,Qt=yield Bt,Ln=Qt?"deferred-data":"initial-data";let bn=null;((0,D.EZ)()||(0,E.MA)())&&Qt&&(bn=yield(0,M.z6)({teamId:ct,userId:gt}));const Xn=C.V$.bind(null,{...ot,reason:Ln,minChannelUpdated:bn});return z(Xn,{teamId:ct,userId:gt,reason:Ln})}),R.apply(this,arguments)}u(R,"_fetchBootData");function z(ot){let ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const gt=(0,k.F)(),Bt=gt.createTrace({traceName:L,tags:ct,samplingOptions:{sampleType:U.nl.ALWAYS}});if(!(Bt!=null&&Bt.traceFn))return(0,S.Wo)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.userBoot data fetch."),ot();const Qt=u((bn,Xn)=>{if((0,P.A)(Xn)){const is={state:U.$m.SUCCESS,message:"client_userBoot_empty"};bn==null||bn.addTags(is),bn==null||bn.close(),gt.reportTrace(Bt)}else gt.clearTrace(Bt)},"onResolve"),Ln=u((bn,Xn)=>{var is;const ms={state:U.$m.ERROR};Xn!=null&&Xn.status&&(ms.status=Xn.status),Xn!=null&&Xn.message&&(ms.message=Xn.message),!(Xn==null||(is=Xn.data)===null||is===void 0)&&is.error&&(ms.reason=Xn.data.error),bn==null||bn.addTags(ms),bn==null||bn.close(),gt.reportTrace(Bt)},"onError");return Bt.traceFn({name:B,onError:Ln,onResolve:Qt},ot)}u(z,"maybeTraceClientUserBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:L,CLIENT_BOOT_SPAN_LABEL:B},"fetchBootData",{get:()=>b,set:ot=>{b=ot}});var W=e(229828696);function K(ot){return Y.apply(this,arguments)}u(K,"fetchChannelsData");function Y(){return Y=(0,t.coroutine)(function*(ot){if(!(0,W.X)())return;const{teamId:ct,userId:gt,isBootingWarm:Bt}=ot,Qt=yield Bt,Ln=Qt?"deferred-data":"initial-data";let bn=null;return((0,D.EZ)()||(0,E.MA)())&&Qt&&(bn=yield(0,M.z6)({teamId:ct,userId:gt})),(0,C.ee)({...ot,reason:Ln,minChannelUpdated:bn})}),Y.apply(this,arguments)}u(Y,"_fetchChannelsData");var X=e(3398586081),Z=e(9733150292),ie=e(4808464886);const Ae=(0,X.A)(ve,ot=>ot.enterpriseId);function ae(ot){return V.apply(this,arguments)}u(ae,"maybeFetchEnterpriseData");function V(){return V=(0,t.coroutine)(function*(ot){return ot.enterpriseId?Ae(ot):{}}),V.apply(this,arguments)}u(V,"_maybeFetchEnterpriseData");function ve(ot){return be.apply(this,arguments)}u(ve,"fetchAllEnterpriseData");function be(){return be=(0,t.coroutine)(function*(ot){const{teamId:ct,enterpriseId:gt}=ot;var Bt;let Qt=(Bt=(0,Z._z)(ct??"","enterprise_api_token"))!==null&&Bt!==void 0?Bt:"";if(ct&&(0,ie.ZN)(ct)&&!Qt){var Ln;Qt=(Ln=(0,Z._z)(ct,"token"))!==null&&Ln!==void 0?Ln:""}const[bn,Xn]=yield Promise.all([(0,C.YH)(ot),(0,C.O5)({...ot,token:Qt})]),is={enterprise_id:gt,page_needs_enterprise:!0,enterprise_api_token:Qt};return{enterpriseData:bn==null?void 0:bn.enterprise,enterprisePrefsData:Xn,enterpriseBootData:is}}),be.apply(this,arguments)}u(be,"_fetchAllEnterpriseData");const Ue={resetMemoizedFetchEnterpriseDataCache:()=>{Ae.cache.clear()}};var Re=e(3914849812),ge=e(4892637646),ne=e(6998663753),ee=e(9706702639),F=e(5313493085);function H(ot){let{params:ct,routeName:gt}=ot;const Bt=ct.teamId||ct.teamOrEnterpriseId,{dispatch:Qt}=(0,c.getStoreInstanceByTeamId)(Bt);Qt((0,F.M)({routeName:gt,routeParams:ct}))}u(H,"channelCanvasListener");var j=e(9268451279),N=e(2805462396),J=e(4386248732),le=e(7765212398),ce=e(9460580631);function Ee(ot){let{params:ct,prevRouteInfo:gt,prevTeamId:Bt}=ot;const Qt=gt==null?void 0:gt.params;if(!Qt||Qt.entityId!=="composer"||!Qt.draftId||Qt.draftId===(ct==null?void 0:ct.draftId))return!0;const{dispatch:Ln,getState:bn}=(0,c.getStoreInstanceByTeamId)(Bt),Xn=bn(),is=(0,J.di)(Qt.draftId);if(!is)return!0;const ms=(0,le.YI)(Xn,is);return(0,j.v7)(ms,{trimWhitespace:!0})||(0,N.A)(Xn,ms)||Ln((0,ce.A)({ids:[is],reason:"draftsListenerBefore"})),!0}u(Ee,"draftsListenerBefore");var ye=e(4446301238),Ie=e(9884588328),he=e(1407713935),Ce=e(8040098042),oe=e(9101533895),de=e(7053828403);function De(ot,ct){return Te.apply(this,arguments)}u(De,"ensureChannel");function Te(){return Te=(0,t.coroutine)(function*(ot,ct){const gt=ot.getState(),Bt=(0,oe.OL)(gt,ct,!1);return(0,he.hc)(Bt)?Bt:ot.dispatch((0,ye.pX)({ids:[ct],reason:"sonic/route-listeners/ensure-channel",callSource:ye.aI.EnsureChannel})).then(Qt=>{if(!Qt)return;const{channels:Ln,resolved:bn}=Qt;if(!(!bn||!bn.includes(ct)))return Ln[0]})}),Te.apply(this,arguments)}u(Te,"_ensureChannel");const pe=function(){var ot=(0,t.coroutine)(function*(ct){let{prevTeamId:gt,nextTeamId:Bt,routeName:Qt,params:Ln={}}=ct;const bn=(0,c.getStoreInstanceByTeamId)(Bt);if(!(0,Ce.A)(Ln.entityId))return Promise.resolve(void 0);const Xn=Ln.entityId;return De(bn,Xn).then(is=>{if(is&&!(0,Ie.lo)(is))return Promise.resolve(void 0);if(gt!==Bt){const ms=(0,de.EI)(bn.getState(),{mainView:!0});return ms===Xn?Promise.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):((0,a._U)(Qt,{...Ln,entityId:ms},{shouldReplaceState:!0}),Promise.resolve(!1))}return is?Promise.reject(new Error("tried to switch to a channel from another team")):Promise.resolve(!1)})});return function(ct){return ot.apply(this,arguments)}}();var Me=e(6248475576);function ke(ot){let{nextTeamId:ct,prevTeamId:gt}=ot;const{dispatch:Bt}=(0,c.getStoreInstanceByTeamId)(ct);gt!==ct&&Bt((0,Me.yh)({teamId:ct}))}u(ke,"permissionsListener");var Ke=e(3614984351),Ze=e(9005797924),Q=e(4496040127);const se=u(ot=>{let{prevTeamId:ct,nextTeamId:gt}=ot;if(!(0,Q.VA)()||ct===gt||!gt)return!0;if((0,Ke.A)(gt,ct))return!1;const Bt=(0,c.getStateForClientStore)();return(0,i.isWorkspaceExpired)(Bt,gt)||(0,i.isWorkspacePendingAuth)(Bt,gt)?((0,Ze.A)(gt),!1):!0},"maybe_finish_signin");var He=e(4992650731);const Ge=u(ot=>{let{prevTeamId:ct,nextTeamId:gt,routeName:Bt,params:Qt}=ot;if((0,Q.VA)()||ct===gt)return!0;const Ln=(0,a.M5)(Bt,{...Qt,teamId:gt});if(!gt)return!0;const bn=(0,c.getStateForClientStore)(),Xn=(0,i.getWorkspacesMeta)(bn),is=Xn&&Xn[gt]&&Xn[gt].subdomain,ms=(0,Q.eb)(is)||`_team_${gt}`;return(0,He.A)(Ln,ms),!1},"maybe_open_other_team_in_browser");var Be=e(8959118205),we=e(8834730594),xe=e(4588963228),Oe=e(497761763),Xe=e(4327331459),Ye=e(3707193570),dt=e(4862221402),mt=e(6427150145);const it=/^[\d]{13}$/;function At(ot){return ot?it.test(ot):!1}u(At,"looksLikeLastReadTs");var Ot=e(1826991857),Kt=e(7174777686),Xt=e(7752506476);function vn(ot){return(0,Kt.A)(Xt.M,ot)||ot===""}u(vn,"looksLikeFlexpaneSectionId");var Sn=e(6471801899),jt=e(1233969417),hn=e(2960290117);const xt=[/^people[ -~]{1,27}$/,/^contacts[ -~]{1,27}$/,/^otherContacts[ -~]{1,27}$/,/^slackUsers[ -~]{1,27}$/];function Dn(ot){return xt.some(ct=>ct.test(ot))}u(Dn,"looksLikeContactExternalId");var St=e(5084575109),dn=e(8414867410),fn=e(6605261507),un=e(5587260451);const _n=["received","sent"];function tn(ot){return _n.includes(ot)}u(tn,"looksLikeInvitationsTabRouteParam");var nn=e(3468466741),An=e(8538260492),yn=e(4425811520),sn=e(7770205178),Nn=e(9132066222),Ve=e(8237194282),$e=e(8305125093);function Et(ot){return!!Be.as[ot]}u(Et,"isEntityRedirectKey");const It=u(ot=>Object.keys(Be.as).includes(ot),"isRedirectRoute"),Tt={entityId:ot=>(0,we.A)(ot)||(0,xe.A)(ot)||(0,Ce.A)(ot)||(0,Oe.A)(ot)||(0,Xe.A)(ot)||(0,Ye.Ay)(ot)||(0,dt.A)(ot)||(0,St.n)(ot)||(0,dn.bd)(ot)||It(ot)||(0,hn.Ay)(ot)||(0,yn.xL)(ot),appOrServiceId:ot=>(0,xe.A)(ot)||(0,we.A)(ot),timestamp:mt.A,threadId:Ot.A,threadPageId:Ot.A,replyTs:mt.A,sectionId:vn,tabId:ot=>(0,fn.Dl)(ot),viewName:ot=>(0,un.c)(ot),listsViewName:Sn.FO,draftId:J.ai,invitationsTabId:tn,channelId:Ce.A,channelFilesId:ot=>/^files-.+/.test(ot),searchQuery:ot=>/^search-.+/.test(ot),articleId:ot=>(0,jt.A)(ot),tileEntityId:ot=>(0,Ce.A)(ot)||(0,St.n)(ot)||(0,dn.bd)(ot),scTeamOrEnterpriseId:ot=>(0,Ye.Am)(ot),quipDocId:hn.Ay,channelCanvasId:hn.Ay,contactExternalId:Dn,itemId:nn.Ny,recordId:Sn.pq,focusRecordId:Sn.or,listViewId:Sn._o,lastReadTs:At,canvasOpenedFromId:ot=>(0,Ce.A)(ot)||(0,Xe.A)(ot)||ot===An.eE.QUIP_FILES,externalWorkspacePage:sn.W_,channelTabId:Nn.jK,salesforceRecordId:Ve.V,workflowTemplateId:$e.A},Ct={[l.o]:{paths:["/"]},[Be._G]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:viewName","/:entityId/:viewName/:invitationsTabId","/:entityId/:listsViewName","/:entityId/:listsViewName/:focusRecordId","/:entityId/:listsViewName/:listViewId","/:entityId/:draftId","/:entityId/:threadPageId","/:entityId/:searchQuery","/:entityId/:channelFilesId","/:entityId/:scTeamOrEnterpriseId","/:entityId/:itemId","/:entityId/:channelCanvasId","/:entityId/:canvasOpenedFromId","/:entityId/:externalWorkspacePage","/:entityId/tabs/:channelTabId","/:entityId/:salesforceRecordId"]},[Be.lM]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:viewName/thread/:threadId","/:entityId/:viewName/:invitationsTabId/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId","/:entityId/:searchQuery/thread/:threadId","/:entityId/:channelFilesId/thread/:threadId","/:entityId/:scTeamOrEnterpriseId/thread/:threadId","/:entityId/:listsViewName/thread/:threadId","/:entityId/:canvasOpenedFromId/thread/:threadId"]},[Be.w7]:{paths:["/:entityId/messages/:channelId","/:entityId/messages/:channelId/:timestamp"]},[Be.Vy]:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:viewName/channel_info","/:entityId/:viewName/:invitationsTabId/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info","/:entityId/:threadPageId/channel_info","/:entityId/:searchQuery/channel_info","/:entityId/:channelFilesId/channel_info","/:entityId/:scTeamOrEnterpriseId/channel_info","/:entityId/:listsViewName/channel_info","/:entityId/:canvasOpenedFromId/channel_info"]},[Be.o6]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[Be.p3]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:viewName/activity","/:entityId/:viewName/:invitationsTabId/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity","/:entityId/:threadPageId/activity","/:entityId/:searchQuery/activity","/:entityId/:channelFilesId/activity","/:entityId/:scTeamOrEnterpriseId/activity","/:entityId/:canvasOpenedFromId/activity"]},[Be.W2]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:viewName/starred_items","/:entityId/:viewName/:invitationsTabId/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items","/:entityId/:threadPageId/starred_items","/:entityId/:searchQuery/starred_items","/:entityId/:channelFilesId/starred_items","/:entityId/:scTeamOrEnterpriseId/starred_items","/:entityId/:listsViewName/starred_items","/:entityId/:canvasOpenedFromId/starred_items"]},[Be.ym]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:viewName/saved","/:entityId/:viewName/:invitationsTabId/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved","/:entityId/:threadPageId/saved","/:entityId/:searchQuery/saved","/:entityId/:channelFilesId/saved","/:entityId/:scTeamOrEnterpriseId/saved","/:entityId/:listsViewName/saved","/:entityId/:canvasOpenedFromId/saved"]},[Be.fr]:{paths:["/:entityId/appspane","/:entityId/:timestamp/appspane","/:entityId/:viewName/appspane","/:entityId/:viewName/:invitationsTabId/appspane","/:entityId/:tabId/appspane","/:entityId/:draftId/appspane","/:entityId/:threadPageId/appspane","/:entityId/:searchQuery/appspane","/:entityId/:channelFilesId/appspane","/:entityId/:scTeamOrEnterpriseId/appspane","/:entityId/:listsViewName/appspane","/:entityId/:canvasOpenedFromId/appspane"]},[Be.M9]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:viewName/files","/:entityId/:viewName/:invitationsTabId/files","/:entityId/:tabId/files","/:entityId/:draftId/files","/:entityId/:threadPageId/files","/:entityId/:searchQuery/files","/:entityId/:channelFilesId/files","/:entityId/:scTeamOrEnterpriseId/files","/:entityId/:listsViewName/files"]},[Be.T$]:{paths:["/:entityId/filespane","/:entityId/:timestamp/filespane","/:entityId/:viewName/filespane","/:entityId/:viewName/:invitationsTabId/filespane","/:entityId/:tabId/filespane","/:entityId/:draftId/filespane","/:entityId/:threadPageId/filespane","/:entityId/:searchQuery/filespane","/:entityId/:channelFilesId/filespane","/:entityId/:scTeamOrEnterpriseId/filespane","/:entityId/:listsViewName/filespane"]},[Be.De]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:viewName/files/:fileId","/:entityId/:viewName/:invitationsTabId/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId","/:entityId/:threadPageId/files/:fileId","/:entityId/:searchQuery/files/:fileId","/:entityId/:channelFilesId/files/:fileId","/:entityId/:scTeamOrEnterpriseId/files/:fileId","/:entityId/:listsViewName/files/:fileId","/:entityId/:canvasOpenedFromId/files/:fileId"]},[Be.wA]:{paths:["/:entityId/comments/:quipDocId","/:entityId/:canvasOpenedFromId/comments/:quipDocId"]},[Be.li]:{paths:["/:entityId/history/:quipDocId","/:entityId/:canvasOpenedFromId/history/:quipDocId"]},[Be.mj]:{paths:["/:entityId/docs/:quipDocId","/:entityId/docs/:quipDocId/:lastReadTs","/:entityId/:timestamp/docs/:quipDocId","/:entityId/:viewName/docs/:quipDocId","/:entityId/:viewName/:invitationsTabId/docs/:quipDocId","/:entityId/:tabId/docs/:quipDocId","/:entityId/:draftId/docs/:quipDocId","/:entityId/:threadPageId/docs/:quipDocId","/:entityId/:searchQuery/docs/:quipDocId","/:entityId/:channelFilesId/docs/:quipDocId","/:entityId/:listsViewName/docs/:quipDocId"]},[Be.y0]:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:viewName/files/type","/:entityId/:viewName/:invitationsTabId/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type","/:entityId/:threadPageId/files/type","/:entityId/:searchQuery/files/type","/:entityId/:channelFilesId/files/type","/:entityId/:scTeamOrEnterpriseId/files/type","/:entityId/:listsViewName/files/type"]},[Be.Nh]:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:viewName/files/memberId","/:entityId/:viewName/:invitationsTabId/files/memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId","/:entityId/:threadPageId/files/:memberId","/:entityId/:searchQuery/files/:memberId","/:entityId/:channelFilesId/files/:memberId","/:entityId/:scTeamOrEnterpriseId/files/:memberId","/:entityId/:listsViewName/files/:memberId","/:entityId/:canvasOpenedFromId/files/:memberId"]},[Be.$s]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:viewName/user_groups","/:entityId/:viewName/:invitationsTabId/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups","/:entityId/:threadPageId/user_groups","/:entityId/:searchQuery/user_groups","/:entityId/:channelFilesId/user_groups","/:entityId/:scTeamOrEnterpriseId/user_groups","/:entityId/:listsViewName/user_groups","/:entityId/:canvasOpenedFromId/user_groups"]},[Be.Mu]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:viewName/user_groups/:userGroupId","/:entityId/:viewName/:invitationsTabId/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId","/:entityId/:threadPageId/user_groups/:userGroupId","/:entityId/:searchQuery/user_groups/:userGroupId","/:entityId/:channelFilesId/user_groups/:userGroupId","/:entityId/:scTeamOrEnterpriseId/user_groups/:userGroupId","/:entityId/:listsViewName/user_groups/:userGroupId","/:entityId/:canvasOpenedFromId/user_groups/:userGroupId"]},[Be.Ns]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:viewName/whats_new","/:entityId/:viewName/:invitationsTabId/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new","/:entityId/:threadPageId/whats_new","/:entityId/:searchQuery/whats_new","/:entityId/:channelFilesId/whats_new","/:entityId/:scTeamOrEnterpriseId/whats_new","/:entityId/:listsViewName/whats_new","/:entityId/:canvasOpenedFromId/whats_new"]},[Be.IN]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:viewName/shortcuts","/:entityId/:viewName/:invitationsTabId/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts","/:entityId/:threadPageId/shortcuts","/:entityId/:searchQuery/shortcuts","/:entityId/:channelFilesId/shortcuts","/:entityId/:scTeamOrEnterpriseId/shortcuts","/:entityId/:listsViewName/shortcuts","/:entityId/:canvasOpenedFromId/shortcuts"]},[Be.Q$]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:viewName/user_profile/:memberId","/:entityId/:viewName/:invitationsTabId/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId","/:entityId/:threadPageId/user_profile/:memberId","/:entityId/:searchQuery/user_profile/:memberId","/:entityId/:channelFilesId/user_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/user_profile/:memberId","/:entityId/:listsViewName/user_profile/:memberId","/:entityId/:canvasOpenedFromId/user_profile/:memberId"]},[Be.E2]:{paths:["/:entityId/help","/:entityId/:timestamp/help","/:entityId/:viewName/help","/:entityId/:viewName/:invitationsTabId/help","/:entityId/:tabId/help","/:entityId/:draftId/help","/:entityId/:threadPageId/help","/:entityId/:searchQuery/help","/:entityId/:channelFilesId/help","/:entityId/:scTeamOrEnterpriseId/help","/:entityId/:listsViewName/help","/:entityId/:canvasOpenedFromId/help"]},[Be.vA]:{paths:["/:entityId/help/:articleId","/:entityId/:timestamp/help/:articleId","/:entityId/:viewName/help/:articleId","/:entityId/:viewName/:invitationsTabId/help/:articleId","/:entityId/:tabId/help/:articleId","/:entityId/:draftId/help/:articleId","/:entityId/:threadPageId/help/:articleId","/:entityId/:searchQuery/help/:articleId","/:entityId/:channelFilesId/help/:articleId","/:entityId/:scTeamOrEnterpriseId/help/:articleId","/:entityId/:listsViewName/help/:articleId","/:entityId/:canvasOpenedFromId/help/:articleId"]},[Be.Dn]:{paths:["/:entityId/rimeto_profile/:memberId","/:entityId/:timestamp/rimeto_profile/:memberId","/:entityId/:viewName/rimeto_profile/:memberId","/:entityId/:viewName/:invitationsTabId/rimeto_profile/:memberId","/:entityId/:tabId/rimeto_profile/:memberId","/:entityId/:searchQuery/rimeto_profile/:memberId","/:entityId/:draftId/rimeto_profile/:memberId","/:entityId/:threadPageId/rimeto_profile/:memberId","/:entityId/:channelFilesId/rimeto_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/rimeto_profile/:memberId","/:entityId/:listsViewName/rimeto_profile/:memberId","/:entityId/:canvasOpenedFromId/rimeto_profile/:memberId"]},[Be.Ie]:{paths:["/:entityId/feedback","/:entityId/:timestamp/feedback","/:entityId/:viewName/feedback","/:entityId/:viewName/:invitationsTabId/feedback","/:entityId/:tabId/feedback","/:entityId/:draftId/feedback","/:entityId/:threadPageId/feedback","/:entityId/:searchQuery/feedback","/:entityId/:channelFilesId/feedback","/:entityId/:scTeamOrEnterpriseId/feedback","/:entityId/:listsViewName/feedback","/:entityId/:canvasOpenedFromId/feedback"]},[Be.Bh]:{paths:["/:channelId/huddle"]},[Be.Mv]:{paths:["/:entityId/huddles_captions","/:entityId/:timestamp/huddles_captions","/:entityId/:viewName/huddles_captions","/:entityId/:viewName/:invitationsTabId/huddles_captions","/:entityId/:tabId/huddles_captions","/:entityId/:draftId/huddles_captions","/:entityId/:threadPageId/huddles_captions","/:entityId/:searchQuery/huddles_captions","/:entityId/:channelFilesId/huddles_captions","/:entityId/:scTeamOrEnterpriseId/huddles_captions","/:entityId/:listsViewName/huddles_captions","/:entityId/:canvasOpenedFromId/huddles_captions"]},[Be.d2]:{paths:["/:entityId/contact_profile/:contactExternalId","/:entityId/:timestamp/contact_profile/:contactExternalId","/:entityId/:viewName/contact_profile/:contactExternalId","/:entityId/:viewName/:invitationsTabId/contact_profile/:contactExternalId","/:entityId/:tabId/contact_profile/:contactExternalId","/:entityId/:draftId/contact_profile/:contactExternalId","/:entityId/:threadPageId/contact_profile/:contactExternalId","/:entityId/:searchQuery/contact_profile/:contactExternalId","/:entityId/:channelFilesId/contact_profile/:contactExternalId","/:entityId/:scTeamOrEnterpriseId/contact_profile/:contactExternalId","/:entityId/:listsViewName/contact_profile/:contactExternalId","/:entityId/:canvasOpenedFromId/contact_profile/:contactExternalId"]},[Be.p$]:{paths:["/:entityId/record/:recordId","/:entityId/:timestamp/record/:recordId","/:entityId/:viewName/record/:recordId","/:entityId/:viewName/:invitationsTabId/record/:recordId","/:entityId/:tabId/record/:recordId","/:entityId/:draftId/record/:recordId","/:entityId/:threadPageId/record/:recordId","/:entityId/:searchQuery/record/:recordId","/:entityId/:channelFilesId/record/:recordId","/:entityId/:scTeamOrEnterpriseId/record/:recordId","/:entityId/:listsViewName/record/:recordId","/:entityId/:canvasOpenedFromId/record/:recordId"]},[Be.td]:{paths:["/:entityId/:tabId/:workflowTemplateId"]}};function Wt(){(0,a.S2)(Tt,Ct)}u(Wt,"setRoutes");const Gt=u(ot=>{let{routeName:ct,params:gt={}}=ot;const{entityId:Bt}=gt;return Bt&&Et(Bt)?((0,a._U)(ct,{...gt,entityId:Be.as[Bt]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity");var wt=e(9513439931),qt=e(109860581),Yt=e(3193155968),In=e(7429662208);function ft(ot){let{prevTeamId:ct,nextTeamId:gt}=ot;if(!gt||ct===gt)return;const Bt=(0,c.getStoreInstanceByTeamId)(gt),Qt=Bt.getState(),Ln=(0,In.e6)(Qt),bn=(0,In.Le)(Qt,{tab:Ln});Bt.dispatch((0,wt.C)({prevViewSet:void 0,prevTab:void 0,nextViewSet:bn,nextTab:Ln,windowId:Yt.N2,navigateParams:{},triggerType:qt.w.TEAM_SWITCH}))}u(ft,"maybeRunTeamSwitchNavigateListeners");var yt=e(6555262004),bt=e(5078290763),Ht=e(4656278360),ln=e(2567914105),rn=e(9003400431),Zt=e(8243624171);function Mn(ot){let{nextTeamId:ct,prevTeamId:gt}=ot;const{dispatch:Bt,getState:Qt}=(0,c.getStoreInstanceByTeamId)(gt),Ln=Qt();return(0,ln.iS)(Ln)?new Promise((Xn,is)=>{Bt((0,bt.P)({openModalProps:{isStackable:!0},onConfirmClose:()=>{Bt((0,Ht.U)(!1)),Bt((0,rn.O)({closeAll:!0})),Xn()},onCancelClose:()=>{is()}}))}):(gt&&!(0,Zt.Vq)({teamId:gt})&&Bt(ct===gt?(0,rn.O)({closeNamed:yt.N}):(0,rn.O)({closeAll:!0})),!0)}u(Mn,"modalListenerBefore");var es=e(6088404775);function jn(ot){const ct=(0,es.h)();return ct!=null&&ct.onClose&&(ct==null||ct.onClose()),!0}u(jn,"pinsPopoverListenerAfter");var Kn=e(3982416567),Yn=e(6304789565),wn=e(1466694191),Rt=e(6078549397),je=e(7307560139),qe=e(6822097892),st=e(4033441523);const q=["comment_thread","activity_history","files","rimeto_profile","thread",Be.li,Be.lM,Be.De,Be.Dn,Be.Q$],me=(0,Yn.Ay)("Post activity history routing side effects",(ot,ct,gt)=>{let{params:Bt,prevRouteInfo:Qt,routeName:Ln}=gt;var bn;const Xn=Bt==null?void 0:Bt.entityId,is=Qt==null||(bn=Qt.params)===null||bn===void 0?void 0:bn.entityId,ms=Yt.N2;if(Ln===Be._G&&Xn&&(0,wn.A)(Xn)){const{fileIdOrQuipThreadId:lo}=(0,Rt.EX)(Xn);q.includes(Qt==null?void 0:Qt.routeName)&&ot((0,qe.A)({fileId:lo,windowId:ms,source:st.f.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let js=Xn,Qs=is;(0,hn.Ay)(is)&&(0,hn.Ay)(Xn)&&(js=(0,Rt.EX)(is).fileIdOrQuipThreadId,Qs=(0,Rt.EX)(Xn).fileIdOrQuipThreadId),js!==Qs&&ot((0,je.NA)({windowId:ms}))});me.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function Le(ot){let{params:ct,prevRouteInfo:gt,routeName:Bt,reason:Qt}=ot;const Ln=ct.teamId||ct.teamOrEnterpriseId,{dispatch:bn,getState:Xn}=(0,c.getStoreInstanceByTeamId)(Ln);(0,Kn.O4)(Xn())&&bn(me({routeName:Bt,params:ct,prevRouteInfo:gt,reason:Qt}))}u(Le,"quipActivityHistoryListener");const We=u(ot=>{let{nextTeamId:ct,routeName:gt,params:Bt}=ot;const Qt={routeName:gt,params:Bt};return ct&&(0,Z.t2)(ct,"lastRoute",Qt),!0},"save_route_to_local_config");var ze=e(210422728),ht=e(9551235052);function Mt(ot){let{prevTeamId:ct}=ot;const gt=(0,c.getStoreInstanceByTeamId)(ct);return(0,ht.J)(gt.getState())&&(gt.dispatch((0,ze.T)(!0)),ee.g.delete("setNavigatedDuringWarmBoot")),Promise.resolve()}u(Mt,"setNavigatedDuringWarmBoot");var on=e(6495946979),zn=e(8473952534),Qn=e(8213251995),lt=e(3977512448);function $(ot){let{nextTeamId:ct,prevRouteInfo:gt,params:Bt}=ot;var Qt;const Ln=(0,c.getStoreInstanceByTeamId)(ct),bn=Ln.getState(),Xn=(0,Qn.c8)(bn),is=(0,oe.OL)(bn,Bt.entityId),ms=(gt==null||(Qt=gt.params)===null||Qt===void 0?void 0:Qt.entityId)||"";(ms===An.eE.CHANNELS||ms===lt.b||ms===lt.Z1)&&(Bt!=null&&Bt.entityId)&&is&&!(0,on.bl)(is)&&Ln.dispatch((0,zn.Tm)({channelId:Bt.entityId,prevRoute:ms})),Xn&&(gt==null?void 0:gt.routeName)==="ROUTE_ENTITY"&&(0,Ce.A)(ms)&&Ln.dispatch((0,zn.Tm)({channelId:null,prevRoute:null}))}u($,"setPreviewingFromChannelBrowserOrLaunchpad");var te=e(1302213854);const fe=u(ot=>{let{prevTeamId:ct,nextTeamId:gt}=ot;return ct!==gt?(0,c.dispatchForClientStore)((0,te.Mb)(!0)):(0,c.dispatchForClientStore)((0,te.Mb)(!1))},"set_should_log_team_switch_metrics");var Pe=e(9143148823),Qe=e(8628205589),ut=e(4529239752),et=e(9795506498);function Ft(ot){let{nextTeamId:ct,uuid:gt,shouldReplaceState:Bt,reason:Qt}=ot;var Ln;if(!ct||!gt)return;if(Qt!==a.GB)if(Bt)(0,c.dispatchForClientStore)((0,Qe.HQ)({windowId:Yt.N2,entry:{id:gt,ts:Date.now(),teamId:ct,isIA4:!1}}));else{const ms=(0,ut.XG)((0,c.getStateForClientStore)());ms>0&&(0,c.dispatchForClientStore)((0,Qe.$E)({windowId:Yt.N2,index:ms})),(0,c.dispatchForClientStore)((0,Qe.y2)({windowId:Yt.N2,entry:{id:gt,ts:Date.now(),teamId:ct,isIA4:!1}}))}const bn=(0,c.getStoreInstanceByTeamId)(ct),Xn=bn.getState();if(!((Ln=window.history.state)===null||Ln===void 0)&&Ln.isIA4)return;const is=(0,In.Gl)(Xn);bn.dispatch((0,et.A)({windowId:Yt.N2,entry:is}))}u(Ft,"updateIA4History");var $t=e(235108050);const Pn=u(ot=>{let{prevTeamId:ct,nextTeamId:gt}=ot;if(ct===gt||!gt)return;const Bt=(0,Z.W6)("recentlyUsedTeamIds")||ct&&[ct]||[];Bt.unshift(gt),(0,Z.q9)("recentlyUsedTeamIds",(0,$t.A)(Bt)),(0,Z.t2)(gt,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams");var Bn=e(9399618736),os;(function(ot){ot.JA_JP="ja-JP",ot.EN_US="en-US",ot.EN_GB="en-GB",ot.ES_ES="es-ES",ot.ES_LA="es-LA",ot.FR_FR="fr-FR",ot.DE_DE="de-DE",ot.PT_BR="pt-BR",ot.KO_KR="ko-KR",ot.IT_IT="it-IT",ot.ZH_CN="zh-CN",ot.ZH_TW="zh-TW"})(os||(os={}));const Zn=os.EN_US;var qn=e(4423055085),an=e(9421999304),hs=e(571104883),Cs=e(9907843289),G=e(2554594353),ue=e(3080748521);function Fe(ot){let{nextTeamId:ct,routeName:gt,params:Bt}=ot;ct&&((0,c.dispatchForClientStore)((0,G.b)({teamId:ct,routeName:gt,params:Bt,fromNavigation:!0})),(0,c.getStoreInstanceByTeamId)(ct)&&(0,c.dispatchForTeamId)(ct,(0,ze.w)({routeName:gt,params:Bt})))}u(Fe,"syncRouteStoreWithUrl");function pt(ot){return Cn.apply(this,arguments)}u(pt,"navigateToLastSavedRoute");function Cn(){return Cn=(0,t.coroutine)(function*(ot){let{prevTeamId:ct,nextTeamId:gt,navigationTimestamp:Bt}=ot;const Qt=(0,c.getStateForClientStore)();if(!gt||(0,i.hasWorkspaceFailedToBoot)(Qt,gt)||(0,i.doesWorkspaceNeed2FASetup)(Qt,gt)||(0,i.isWorkspaceExpired)(Qt,gt)||(0,i.isWorkspacePendingAuth)(Qt,gt))return!0;const Ln=(0,c.getStoreInstanceByTeamId)(gt),bn=Ln&&Ln.getState(),Xn=(0,ue.MC)(bn),is=(0,ue.D8)(bn)||Be._G;if((0,hs.y3)()&&is===l.o)return!0;const ms=!ct;return yield(0,a._U)(is,{...Xn,teamId:gt},{reason:"navigateToLastSavedRoute",shouldReplaceState:ms,navigationTimestamp:Bt}),!1}),Cn.apply(this,arguments)}u(Cn,"_navigateToLastSavedRoute");function On(ot){let{prevTeamId:ct,nextTeamId:gt}=ot;if(!ct||!gt||ct===gt)return;const Bt=En(gt);return Promise.resolve((0,an.xS)(Bt,gt)).then(()=>{})}u(On,"ensureCorrectLocaleForTeam");function Wn(ot){let{prevTeamId:ct,nextTeamId:gt}=ot;if(!ct||!gt||ct===gt)return;const Bt=En(gt);if(Bt)return(0,an.zI)(Bt)}u(Wn,"ensureCorrectLocaleForExternalLibs");function En(ot){const ct=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/),gt=ct?ct[1]:(0,Z._z)(ot,"user_locale");return gt&&(0,Cs.YI)(gt)?gt:Zn}u(En,"getLocaleForTeam");const fs=(0,ne.A)(ls);function ls(){ee.g.set("maybeOpenOtherTeamInBrowser",(0,a.Y8)(Ge)),ee.g.set("modalListenerBefore",(0,a.Y8)(Mn)),ee.g.set("maybeFinishSignin",(0,a.Y8)(se)),ee.g.set("maybeRedirectEntity",(0,a.Y8)(Gt)),ee.g.set("startTeamSwitchTiming",(0,a.Y8)(Pe.Ay)),ee.g.set("navigateToLastSavedRoute",(0,a.Y8)(pt,[l.o])),ee.g.set("ensureChannel",(0,a.Y8)(pe,[])),ee.g.set("draftsListenerBefore",(0,a.Y8)(Ee)),ee.g.set("ensureCorrectLocaleForExternalLibs",(0,a.Dd)(Wn)),ee.g.set("updateIA4History",(0,a.Dd)(Ft)),ee.g.set("maybeRunTeamSwitchNavigateListeners",(0,a.Dd)(ft)),ee.g.set("setNavigatedDuringWarmBoot",(0,a.Dd)(Mt)),ee.g.set("pinsPopoverListenerAfter",(0,a.Y8)(jn)),ee.g.set("syncRouteStoreWithUrl",(0,a.Dd)(Fe)),ee.g.set("ensureCorrectLocaleForTeam",(0,a.Dd)(On)),ee.g.set("setShouldLogTeamSwitchMetrics",(0,a.Dd)(fe)),ee.g.set("setLocalConfigForTeamWithKey",(0,a.Dd)(We)),ee.g.set("updateRecentlyUsedTeams",(0,a.Dd)(Pn)),ee.g.set("maybeFetchClientPermissions",(0,a.Dd)(ke)),ee.g.set("maybeIncrementHistoryLength",(0,a.Dd)(Bn.Cu)),ee.g.set("setPreviewingFromChannelBrowserOrLaunchpad",(0,a.Dd)($)),ee.g.set("channelCanvasListener",(0,a.Dd)(H)),ee.g.set("quipActivityHistoryListener",(0,a.Dd)(Le))}u(ls,"registerRouteListenersInner"),(0,qn.ul)("router.listeners",()=>[...ee.g.entries()]);const ps={syncRouteStoreWithUrl:Fe,navigateToLastSavedRoute:pt,ensureCorrectLocaleForTeam:On,ensureCorrectLocaleForExternalLibs:Wn,getLocaleForTeam:En};Object.defineProperty(ps,"syncRouteStoreWithUrl",{get:()=>Fe,set:ot=>{Fe=ot}}),Object.defineProperty(ps,"navigateToLastSavedRoute",{get:()=>pt,set:ot=>{pt=ot}}),Object.defineProperty(ps,"ensureCorrectLocaleForTeam",{get:()=>On,set:ot=>{On=ot}}),Object.defineProperty(ps,"ensureCorrectLocaleForExternalLibs",{get:()=>Wn,set:ot=>{Wn=ot}}),Object.defineProperty(ps,"getLocaleForTeam",{get:()=>En,set:ot=>{En=ot}});var Ms=e(3245843483);const Fs=u(()=>({deviceId:Ms.iCQ}),"getSharedTracerTags");var Rs=e(6338445630);const Os=function(){var ot=(0,t.coroutine)(function*(){Ms.goh.isAvailable()&&(0,Ms.goh)().includes("DisableServiceWorker")&&(yield(0,Rs._E)())});return u(function(){return ot.apply(this,arguments)},"disableServiceWorkerForClientConfig")}(),Tn=function(){var ot=(0,t.coroutine)(function*(){(0,hs.X5)()===hs.h5.SAFARI&&(yield(0,Rs._E)())});return u(function(){return ot.apply(this,arguments)},"disableServiceWorkerForSafari")}(),as=function(){var ot=(0,t.coroutine)(function*(){yield Tn(),yield Os()});return u(function(){return ot.apply(this,arguments)},"maybeDisableServiceWorker")}();var _t=e(1658558415),tt=e(6869533831),Nt=e(6123258136),Lt=e(1319016163);function at(ot){return vt.apply(this,arguments)}u(at,"setupOtherTeamsToBoot");function vt(){return vt=(0,t.coroutine)(function*(ot){let{contextualInfo:ct}=ot;return{contextualInfo:ct,otherTeamsToBoot:(0,Lt.gv)()}}),vt.apply(this,arguments)}u(vt,"_setupOtherTeamsToBoot");var Dt=e(5695315324),Ut=e(723189278),Vt=e(4148579738),cn=e(4172706442),kn=e(2664504268);let pn;function zt(){return gn.apply(this,arguments)}u(zt,"getClientIdForSelf");function gn(){return gn=(0,t.coroutine)(function*(){if(!pn){const ot=(0,kn.A)();yield navigator.locks.request(ot,function(){var ct=(0,t.coroutine)(function*(gt){var Bt,Qt;pn=((Qt=(Bt=(yield navigator.locks.query()).held)===null||Bt===void 0?void 0:Bt.find(Ln=>(gt==null?void 0:gt.name)===Ln.name))===null||Qt===void 0?void 0:Qt.clientId)||ot});return function(gt){return ct.apply(this,arguments)}}())}return pn}),gn.apply(this,arguments)}u(gn,"_getClientIdForSelf");var Hn=e(2878685908),xn=e(4518410378),en=e(8957924187);const Rn=u(ot=>Boolean(!ot.id&&ot.method),"isNotificationMessage"),$n=u(ot=>Boolean(ot.id&&ot.method),"isRequestMessage"),Vn=u(ot=>Boolean(ot.id&&Object.prototype.hasOwnProperty.call(ot,"result")),"isResultMessage"),_s=u(ot=>Boolean(ot.id&&ot.error),"isErrorMessage");class ss{await(ct){var gt=this;return(0,t.coroutine)(function*(){return new Promise(Bt=>{gt.once(ct,Qt=>Bt(Qt))})})()}createRequester(ct,gt){const Bt=gt||(()=>Promise.resolve());return Qt=>Bt().then(()=>this.request({method:ct,params:Qt}))}notify(ct){this.isVerbose&&this.info(`(${this.id})`,"notifying",ct),this.bc.postMessage(ct)}on(ct,gt){let Bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const Qt=Array.isArray(ct)?ct:[ct],Ln=u(bn=>{let{data:Xn}=bn;Xn!=null&&Xn.method&&Qt.includes(Xn.method)&&(gt(Xn),Bt&&Ln.off())},"h");return Ln.off=()=>this.bc.removeEventListener("message",Ln),this.bc.addEventListener("message",Ln),Ln}once(ct,gt){return this.on(ct,gt,!0)}request(ct){var gt=this;return(0,t.coroutine)(function*(){const Bt=ct.id?ct.id:(0,kn.A)(),Qt={...ct,id:Bt};return gt.isVerbose&&gt.info("requesting",Qt),gt.bc.postMessage(Qt),new Promise((Ln,bn)=>{const Xn=u(is=>{let{data:ms}=is;(ms==null?void 0:ms.id)===Bt&&(gt.bc.removeEventListener("message",Xn),Vn(ms)?Ln(ms.result):_s(ms)&&(gt.error(`Method \`${ct.method}\` responded with error:`,{request:ct,response:ms}),bn(new Error(ms.error.message))))},"responseHandler");gt.bc.addEventListener("message",Xn)})})()}respond(ct,gt){this.bc.postMessage({...gt,id:ct.id})}respondTo(ct,gt){var Bt=this;return this.on(ct,function(){var Qt=(0,t.coroutine)(function*(Ln){try{const bn=yield gt(Ln.params);Bt.respond(Ln,{result:bn})}catch(bn){Bt.respond(Ln,{error:{code:-1,message:(bn==null?void 0:bn.toString())||"Unknown error occurred",data:{method:Ln.method}}})}});return function(Ln){return Qt.apply(this,arguments)}}())}setVerbose(ct){return this.isVerbose===ct?this.isVerbose:(this.isVerbose=ct,this.isVerbose&&this.bc.addEventListener("message",gt=>{let{data:Bt}=gt;this.info("received",Bt)}),this.isVerbose)}constructor(ct,gt=!1){var Bt=this;this.id=ct,this.bc=new BroadcastChannel(en.kv),this.info=function(){for(var Qt=arguments.length,Ln=new Array(Qt),bn=0;bn<Qt;bn++)Ln[bn]=arguments[bn];return(0,s.pq)("SQLITE-RPC",`(${Bt.id})`,...Ln)},this.error=function(){for(var Qt=arguments.length,Ln=new Array(Qt),bn=0;bn<Qt;bn++)Ln[bn]=arguments[bn];return(0,s.z3)("SQLITE-RPC",`(${Bt.id})`,...Ln)},this.isVerbose=this.setVerbose(gt)}}u(ss,"RpcBroadcast");class ds{readObjects(ct){var gt=this;return(0,t.coroutine)(function*(){return yield gt.awaitDatabaseReady,gt.rpc.request({method:"Request.DatabaseProvider.readObjects",params:ct})})()}start(){this.rpc.notify({method:"Notification.ClientReady",params:{clientId:this.windowId}}),this.rpc.on("Notification.DatabasePending",()=>{this.awaitDatabaseReady=this.rpc.await("Notification.DatabaseReady")})}constructor(ct){if(xn.J.sqliteClient)throw new Error("Cannot have more than one SqliteClient per window.");this.windowId=(0,en.OF)(ct),this.rpc=new ss(this.windowId),this.awaitDatabaseReady=this.rpc.await("Notification.DatabaseReady");const gt=u(Bt=>this.rpc.createRequester(Bt,()=>this.awaitDatabaseReady),"createRequester");this.initTables=gt("Request.DatabaseProvider.initTables"),this.clearAllObjects=gt("Request.DatabaseProvider.clearAllObjects"),this.clearTable=gt("Request.DatabaseProvider.clearTable"),this.deleteObjects=gt("Request.DatabaseProvider.deleteObjects"),this.writeObjects=gt("Request.DatabaseProvider.writeObjects"),xn.J.sqliteClient=this}}u(ds,"SqliteClient");function us(){return Gn.apply(this,arguments)}u(us,"initSqliteWorker");function Gn(){return Gn=(0,t.coroutine)(function*(){if((0,Hn.$i)()||(0,Hn.b3)()||(0,Hn.Cu)()){const ct=(yield e.e("sqlite-worker-dev").then(e.bind(e,8045688959))).default;return new ct}return new Worker("/sqlite.worker.js")}),Gn.apply(this,arguments)}u(Gn,"_initSqliteWorker");function gs(){return Ps.apply(this,arguments)}u(gs,"initSqliteClient");function Ps(){return Ps=(0,t.coroutine)(function*(){if(!xn.J.sqliteClient){const ot=yield zt();new ds(ot).start()}return xn.J.sqliteClient}),Ps.apply(this,arguments)}u(Ps,"_initSqliteClient");var Es=e(4724591729),As=e(6968387112),Bs=e(8445020572),Ks=e(504058561),Ls=e(3803432550),xs=e(2371143272);as(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();function bs(ot){return ot.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:(0,Q.VA)()}),ot.registerErrorHandlers(A),ot.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(e,6097732015)),apis:()=>Promise.all([e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-async-client-boot-apis")]).then(e.bind(e,6959220389)),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,5966158966)),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(e,4893422024))}),ot.registerInitialApiCalls({experimentData:C.dC,featureFlagData:C.BG,clientBootData:b,viewData:Re.L$,allEnterpriseData:ae,featureAccessData:C.jH,clientChannelsData:K}),Vt.e.register(Fs),(0,ge.b)(ot),ot.hooks.beforeDynamicImportsStart.tap("Render Placeholder",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return(0,m.Sp)({teamId:Bt.teamOrEnterpriseBootId}),{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.beforeDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start downloading the sqlite worker",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return(0,E.MA)()&&us(),{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.afterDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start the sqlite client",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return(0,E.MA)()&&(yield gs()),{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.afterDynamicImportsStart.tap("Set routes",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return Wt(),{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.afterDynamicImportsStart.tap("Set up client store",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return(0,Ls.x)(Bt.teamId),{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.afterDynamicImportsStart.tap("Register route listeners",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return fs(),{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;const{teamId:Qt}=Bt;return Qt?(Qt!==(0,Z.W6)("lastActiveTeamId")&&(0,Z.q9)("lastActiveTeamId",Qt),{contextualInfo:Bt}):{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return window.isReloading?((0,s.pq)("BOOT",`(${Bt.teamId}) Ongoing reload detected; Cancelling boot.`),(0,Ut.A)()):{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.beforeInitializeTeam.tap("[experiment:wasm_sqlite_spike] Init tables for team and user",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;const{teamId:Qt,userId:Ln}=Bt;if((0,E.MA)()&&Qt&&Ln){const bn=(0,cn.s)(),Xn=2500;yield(0,n.wj)(bn.initTables({teamId:Qt,userId:Ln}),Xn).catch(()=>(0,s.pq)("BOOT",`Timed out waiting ${Xn}ms to init SQLite tables, moving on`))}return{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.beforeInitializeTeam.tap("Set tokens",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return(0,Nt.L)({contextualInfo:Bt})});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",function(){var ct=(0,t.coroutine)(function*(gt){let{contextualInfo:Bt}=gt;return((0,D.EZ)()||(0,E.MA)())&&(0,M.z6)({teamId:Bt.teamId,userId:Bt.userId}),{contextualInfo:Bt}});return function(gt){return ct.apply(this,arguments)}}()),ot.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",at),ot.run()}if(u(bs,"boot"),!(0,_t.A)()){const ot=(0,tt.z4)(Dt.Y.CLIENT_V2);if(!(0,Ks.z$)()&&(0,Es.KV)()&&(0,xs.b)()){const ct=e(8904626639);ct.init({dsn:`https://4162106b525941d087e5f8f5e446ae9b@app.${(0,As.Xk)()}/apps/sentryproxy/5865811`,release:`webapp@${(0,Bs.HF)()}`,defaultIntegrations:!1,integrations:[ct.browserTracingIntegration({enableInp:!0}),ct.browserProfilingIntegration(),ct.httpContextIntegration()],sampleRate:1,tracesSampleRate:1,profilesSampleRate:1,tracePropagationTargets:[],replaysSessionSampleRate:0,replaysOnErrorSampleRate:0})}bs(ot)}const zs={boot:bs}},3914849812:(x,g,e)=>{"use strict";e.d(g,{L$:()=>h});var t=e(9706240641),n=e.n(t),s=e(1460808057),r=e(7031360717),c=e(5695315324),o=e(8187930033),a=e(8414867410),l=e(796111729),i=e(5084575109),d=e(8834730594),_=e(8040098042),m=e(2960290117);function h(f){return v.apply(this,arguments)}u(h,"maybeFetchMessagesData");function v(){return v=(0,t.coroutine)(function*(f){const{appName:O,bootQueue:I,token:P,teamId:C}=f;if(!P)return(0,l.Ay)({teamOrEnterpriseId:C,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!C)return(0,l.Ay)({teamOrEnterpriseId:C,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const M=yield(0,s.E)({contextualInfo:f});return T({bootQueue:I,token:P,teamId:C,routeInfo:M,appName:O})}),v.apply(this,arguments)}u(v,"_maybeFetchMessagesData");function T(f){return A.apply(this,arguments)}u(T,"fetchMessagesDataForRoute");function A(){return A=(0,t.coroutine)(function*(f){let{bootQueue:O,token:I,teamId:P,routeInfo:C,appName:M}=f;var D;const E=C==null||(D=C.params)===null||D===void 0?void 0:D.entityId;return E&&(0,_.A)(E)&&!(0,i.n)(E)&&!(0,a.bd)(E)&&!(0,d.A)(E)&&!(0,m.Ay)(E)?((0,r.pq)("BOOT",`Booting into channel: ${E}`),y({appName:M,bootQueue:O,token:I,teamId:P,id:E})):!(0,i.n)(E)&&!(0,a.bd)(E)&&!(0,d.A)(E)&&!(0,m.Ay)(E)?((0,r.pq)("BOOT","Couldn't determine boot channel. Falling back to default channel"),y({appName:M,bootQueue:O,token:I,teamId:P})):null}),A.apply(this,arguments)}u(A,"_fetchMessagesDataForRoute");function y(f){let{bootQueue:O,token:I,teamId:P,id:C,appName:M}=f;const D={token:I,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28};C&&(D.channel=C),D.include_free_team_extra_messages=!0,M===c.Y.SINGLE_CHANNEL_CLIENT&&(D.is_single_channel_boot=1);const E=new o.Ay({method:"conversations.view",args:D,teamId:P});return O.q(E).catch(S=>((0,l.Ay)({teamOrEnterpriseId:P,label:"BOOT"}).error(new Error(`unable to fetch messages data ${S}`)),null))}u(y,"fetchMessagesData");const p={fetchMessagesData:y}},879418974:(x,g,e)=>{"use strict";e.d(g,{d:()=>r});var t=e(9884588328),n=e(8798294025),s=e(6113051341);function r(c){let{channels:o,selfId:a}=c;const l={};return o.some((i,d)=>{const _=i==null?void 0:i.id;return(0,s.N)(i)?(l.general=_,!0):((0,t.Ur)(i)&&(l.slackbot=_),a&&(0,n.e)(i)===a&&(l.self=_),d||(l.first=_),!1)}),l.general||l.slackbot||l.self||l.first}u(r,"getAnyChannelForRouting")},1460808057:(x,g,e)=>{"use strict";e.d(g,{E:()=>a});var t=e(9706240641),n=e.n(t),s=e(879418974),r=e(8959118205),c=e(1151228631),o=e(6533394955);function a(_){return l.apply(this,arguments)}u(a,"getRouteInfo");function l(){return l=(0,t.coroutine)(function*(_){let{contextualInfo:m,channels:h}=_;const{teamId:v,isForegroundTeam:T}=m,A=(0,o.getStoreInstanceByTeamId)(v),y=(0,c.Gf)({store:A,shouldSetFocus:T});return y||i({contextualInfo:m,channels:h})}),l.apply(this,arguments)}u(l,"_getRouteInfo");function i(_){let{contextualInfo:m,channels:h}=_;const{teamId:v}=m;if(!v)return null;const T=(0,c.lQ)(v);if(T)return T;if(h){const A=m.userId;return d({channels:h,selfId:A})}return null}u(i,"calculateRouteInfo");function d(_){let{channels:m,selfId:h}=_;if(!m.length)return null;const v={routeName:r._G,params:{}},T=(0,s.d)({channels:m,selfId:h});return T&&(v.params.entityId=T),v}u(d,"getRouteFromBootData")},2212859256:(x,g,e)=>{"use strict";e.d(g,{y:()=>c});var t=e(9706702639),n=e(7031360717),s=e(6533394955),r=e(1314103953);function c(o){if(!o)return;const a=(0,s.getStoreInstanceByTeamId)(o);a&&((0,n.pq)("BOOT",`(${o}) Boot complete`),t.g.delete("setNavigatedDuringWarmBoot"),a.dispatch((0,r.b)(!1)),a.dispatch((0,r.k)(!1)))}u(c,"markTeamBootCompleted")},4892637646:(x,g,e)=>{"use strict";e.d(g,{b:()=>a,h:()=>c});var t=e(9706240641),n=e.n(t),s=e(7906695911),r=e(2872463257);function c(d){return o.apply(this,arguments)}u(c,"collectInitialPageLoadMetrics");function o(){return o=(0,t.coroutine)(function*(d){let{contextualInfo:_}=d;const{getTraceMeta:m,isBootingWarm:h,appName:v}=_,{getTracer:T,tags:A}=m(),y=(yield h)?s.H.WARM:s.H.COLD,p=T().createTrace({traceName:s.S.BOOT_INITIAL_LOAD,tags:{boot_type:y,app_name:v,...A},autoCreateRootSpan:!1,samplingOptions:{sampleType:r.nl.ALWAYS}});p.startSpan(s.S.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),p.startSpan(s.S.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),p.startSpan(s.S.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),T().reportTrace(p)}),o.apply(this,arguments)}u(o,"_collectInitialPageLoadMetrics");function a(d){d.hooks.beforeDynamicImportsStart.addCallIntercept(_=>l(_)),d.hooks.renderApp.addCallIntercept(_=>i(_))}u(a,"setupBootMetricsTracing");function l(d){return _=>{const{getTracer:m,setTrace:h,rootTrace:v}=_.contextualInfo.getTraceMeta(),A=m().createTrace({traceName:s.S.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:v.getRootSpanId(),traceId:v.getTraceId()});return A.startSpan(s.S.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),h(A),d(_)}}u(l,"startTimeToRenderTrace");function i(d){return function(){var _=(0,t.coroutine)(function*(m){const{isBootingWarm:h,getTraceMeta:v,isForegroundTeam:T}=m.contextualInfo,{getTracer:A,getTrace:y,setTrace:p,rootTrace:f}=v(),O=A(),I=y(),P=(yield h)?s.H.WARM:s.H.COLD;return I.addTags({boot_type:P,is_foreground_team:T}),O.reportTrace(I),p(f),d(m)});return function(m){return _.apply(this,arguments)}}()}u(i,"endTimeToRenderTrace")},7906695911:(x,g,e)=>{"use strict";e.d(g,{H:()=>n,S:()=>t});var t;(function(s){s.BOOT_INITIAL_LOAD="boot:initial_load",s.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",s.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",s.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",s.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(t||(t={}));var n;(function(s){s.COLD="cold",s.WARM="warm"})(n||(n={}))},9706702639:(x,g,e)=>{"use strict";e.d(g,{g:()=>t});const t=new Map},1609960255:(x,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(7114008777);const n=u(s=>{let{selectedTab:r,unreadsFilterToggleSelected:c,experimentActivityDMsChannelGroupOn:o,experimentIsActivityThreadV2GroupOn:a,experimentIsVipInActivityGroupOn:l}=s;return l&&r===t.L.All?c?"priority_unreads_v1":"priority_reads_and_unreads_v1":o&&c&&r===t.L.Replies?"chrono_unreads":o&&!c&&r===t.L.Replies?"chrono_reads_and_unreads":a&&c&&r===t.L.Replies?"chrono_threads_unreads_v2":c&&r===t.L.Replies?"chrono_threads_unreads":a&&r===t.L.Replies?"chrono_threads_reads_and_unreads_v2":r===t.L.Replies?"chrono_threads_reads_and_unreads":c&&r===t.L.Vip?"chrono_priority_only_unreads_v1":r===t.L.Vip?"chrono_priority_only_reads_and_unreads_v1":o&&c?"experimental_all_chrono_unreads_v1":o&&r===t.L.All?"experimental_all_chrono_reads_and_unreads_v1":c?"chrono_unreads":"chrono_reads_and_unreads"},"getFetchMode")},4577150972:(x,g,e)=>{"use strict";e.d(g,{c:()=>l});var t=e(3398586081),n=e(1609960255),s=e(7114008777),r=e(7156540029),c=e(8352634987),o=e(7912281988),a=e(6533394955);const l=(0,t.A)(function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.L.All,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new c.Ay({storeKey:"activityIA4",fetch:_=>(0,a.dispatchForTeamId)(_,(0,o.Q)({limit:r.Q1,filter:i,fetchNew:!0,mode:(0,n.A)({selectedTab:i,unreadsFilterToggleSelected:d})})),isEnabled:()=>!0,metricsName:"activity",markStaleAfterSlowReconnect:()=>!0})})},1247361162:(x,g,e)=>{"use strict";e.d(g,{$T:()=>I,ES:()=>i,Eg:()=>T,G3:()=>v,Gt:()=>p,KD:()=>A,cJ:()=>O,f7:()=>f,gW:()=>y,j1:()=>m,mt:()=>M,om:()=>C,rz:()=>d,sG:()=>_,ut:()=>h,yC:()=>P,yN:()=>D});var t=e(7114008777),n=e(6695353875),s=e(4577150972),r=e(5921578648),c=e(8161242485),o=e(8847766420);const a=u((E,S)=>{var k,U;const L=(0,n.kz)(S),B=E===t.L.Reactions?E:(0,r.S)({filter:E,isUnreadMode:!!(!(S==null||(k=S.activityIA4)===null||k===void 0)&&k.filterUnreads),isFilteringRevampToggledOn:L});return(U=S.activityIA4)===null||U===void 0?void 0:U[B]},"getActivityListForFilter"),l=(0,c.Ay)(E=>{var S,k,U;const L=(0,o.ZT)(E),B=(S=E.activityIA4)===null||S===void 0?void 0:S.all;return((E==null||(k=E.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===t.L.All||!(!(E==null||(U=E.activityIA4)===null||U===void 0)&&U.selectedTabId))&&(B!=null&&B.length)&&(0,s.c)(t.L.All,!1).maybeRefetch(L,t.N),E&&E.activityIA4&&B});l.meta={name:"createSelector",key:"createSelectorgetReadAndUnreadActivityList",description:E=>{var S,k,U;const L=(0,o.ZT)(E),B=(S=E.activityIA4)===null||S===void 0?void 0:S.all;return((E==null||(k=E.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===t.L.All||!(!(E==null||(U=E.activityIA4)===null||U===void 0)&&U.selectedTabId))&&(B!=null&&B.length)&&(0,s.c)(t.L.All,!1).maybeRefetch(L,t.N),E&&E.activityIA4&&B}};const i=(0,c.Ay)(E=>{var S,k;const U=(0,o.ZT)(E),L=a(t.L.All,E);if(((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.All||!(!(E==null||(k=E.activityIA4)===null||k===void 0)&&k.selectedTabId))&&(L!=null&&L.length)){var B;(0,s.c)(t.L.All,(B=E.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(U,t.N)}return E&&E.activityIA4&&L});i.meta={name:"createSelector",key:"createSelectorgetActivityList",description:E=>{var S,k;const U=(0,o.ZT)(E),L=a(t.L.All,E);if(((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.All||!(!(E==null||(k=E.activityIA4)===null||k===void 0)&&k.selectedTabId))&&(L!=null&&L.length)){var B;(0,s.c)(t.L.All,(B=E.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(U,t.N)}return E&&E.activityIA4&&L}};const d=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Mentions,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Mentions&&U.length){var L;(0,s.c)(t.L.Mentions,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});d.meta={name:"createSelector",key:"createSelectorgetActivityListMentions",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Mentions,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Mentions&&U.length){var L;(0,s.c)(t.L.Mentions,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}};const _=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Replies,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Replies&&U.length){var L;(0,s.c)(t.L.Replies,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});_.meta={name:"createSelector",key:"createSelectorgetActivityListReplies",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Replies,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Replies&&U.length){var L;(0,s.c)(t.L.Replies,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}};const m=(0,c.Ay)(E=>{var S,k,U;const L=(0,o.ZT)(E),B=a(t.L.Reminders,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Reminders&&(!(E==null||(k=E.activityIA4)===null||k===void 0||(U=k.reminders)===null||U===void 0)&&U.length)){var b;(0,s.c)(t.L.Reminders,(b=E.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(L,t.N)}return E&&E.activityIA4&&B});m.meta={name:"createSelector",key:"createSelectorgetActivityListReminders",description:E=>{var S,k,U;const L=(0,o.ZT)(E),B=a(t.L.Reminders,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Reminders&&(!(E==null||(k=E.activityIA4)===null||k===void 0||(U=k.reminders)===null||U===void 0)&&U.length)){var b;(0,s.c)(t.L.Reminders,(b=E.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(L,t.N)}return E&&E.activityIA4&&B}};const h=(0,c.Ay)(E=>{var S,k,U;const L=(0,o.ZT)(E),B=a(t.L.Reactions,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Reactions&&(!(E==null||(k=E.activityIA4)===null||k===void 0||(U=k.reactions)===null||U===void 0)&&U.length)){var b;(0,s.c)(t.L.Reactions,(b=E.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(L,t.N)}return E&&E.activityIA4&&B});h.meta={name:"createSelector",key:"createSelectorgetActivityListReactions",description:E=>{var S,k,U;const L=(0,o.ZT)(E),B=a(t.L.Reactions,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Reactions&&(!(E==null||(k=E.activityIA4)===null||k===void 0||(U=k.reactions)===null||U===void 0)&&U.length)){var b;(0,s.c)(t.L.Reactions,(b=E.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(L,t.N)}return E&&E.activityIA4&&B}};const v=(0,c.Ay)(E=>{var S,k,U,L;const B=(0,o.ZT)(E),b=(0,r.S)({filter:t.L.Huddles,isUnreadMode:!1,isFilteringRevampToggledOn:(0,n.kz)(E)}),R=((S=E.activityIA4)===null||S===void 0?void 0:S[b]).filter(w=>w.isUnread);if((E==null||(k=E.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===t.L.Huddles&&(!(E==null||(U=E.activityIA4)===null||U===void 0||(L=U.huddles)===null||L===void 0)&&L.length)){var z;(0,s.c)(t.L.Huddles,(z=E.activityIA4)===null||z===void 0?void 0:z.filterUnreads).maybeRefetch(B,t.N)}return E&&E.activityIA4&&R||[]});v.meta={name:"createSelector",key:"createSelectorgetActivityListHuddlesForJustInTime",description:E=>{var S,k,U,L;const B=(0,o.ZT)(E),b=(0,r.S)({filter:t.L.Huddles,isUnreadMode:!1,isFilteringRevampToggledOn:(0,n.kz)(E)}),R=((S=E.activityIA4)===null||S===void 0?void 0:S[b]).filter(w=>w.isUnread);if((E==null||(k=E.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===t.L.Huddles&&(!(E==null||(U=E.activityIA4)===null||U===void 0||(L=U.huddles)===null||L===void 0)&&L.length)){var z;(0,s.c)(t.L.Huddles,(z=E.activityIA4)===null||z===void 0?void 0:z.filterUnreads).maybeRefetch(B,t.N)}return E&&E.activityIA4&&R||[]}};const T=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E);if(!(E==null||(S=E.activityIA4)===null||S===void 0)&&S.filterUnreads){var U;(0,s.c)(t.L.Unreads,(U=E.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&E.activityIA4.unreads});T.meta={name:"createSelector",key:"createSelectorgetActivityListUnreads",description:E=>{var S;const k=(0,o.ZT)(E);if(!(E==null||(S=E.activityIA4)===null||S===void 0)&&S.filterUnreads){var U;(0,s.c)(t.L.Unreads,(U=E.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&E.activityIA4.unreads}};const A=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Apps,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Apps&&U.length){var L;(0,s.c)(t.L.Apps,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});A.meta={name:"createSelector",key:"createSelectorgetActivityListApps",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Apps,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Apps&&U.length){var L;(0,s.c)(t.L.Apps,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}};const y=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Channels,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Channels&&U.length){var L;(0,s.c)(t.L.Channels,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});y.meta={name:"createSelector",key:"createSelectorgetActivityListChannels",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Channels,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Channels&&U.length){var L;(0,s.c)(t.L.Channels,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}};const p=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Priority,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Priority&&U.length){var L;(0,s.c)(t.L.Priority,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});p.meta={name:"createSelector",key:"createSelectorgetActivityListPriority",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Priority,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Priority&&U.length){var L;(0,s.c)(t.L.Priority,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}};const f=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Vip,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Vip&&U.length){var L;(0,s.c)(t.L.Vip,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});f.meta={name:"createSelector",key:"createSelectorgetActivityListVip",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Vip,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Vip&&U.length){var L;(0,s.c)(t.L.Vip,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}};const O=(0,c.Ay)(E=>E&&E.activityIA4&&E.activityIA4.unreadVip);O.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadVip",description:E=>E&&E.activityIA4&&E.activityIA4.unreadVip};const I=(0,c.Ay)(E=>E&&E.activityIA4&&E.activityIA4.unreadOther);I.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadOther",description:E=>E&&E.activityIA4&&E.activityIA4.unreadOther};const P=(0,c.Ay)(E=>E&&E.activityIA4&&E.activityIA4.other);P.meta={name:"createSelector",key:"createSelectorgetActivityListOther",description:E=>E&&E.activityIA4&&E.activityIA4.other};const C=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.EverythingElse,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.EverythingElse&&U.length){var L;(0,s.c)(t.L.EverythingElse,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});C.meta={name:"createSelector",key:"createSelectorgetActivityListEverythingElse",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.EverythingElse,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.EverythingElse&&U.length){var L;(0,s.c)(t.L.EverythingElse,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}};const M=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.DMS,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.DMS&&U.length){var L;(0,s.c)(t.L.DMS,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});M.meta={name:"createSelector",key:"createSelectorgetActivityListDms",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.DMS,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.DMS&&U.length){var L;(0,s.c)(t.L.DMS,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}};const D=(0,c.Ay)(E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Invitations,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Invitations&&(U!=null&&U.length)){var L;(0,s.c)(t.L.Invitations,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U});D.meta={name:"createSelector",key:"createSelectorgetActivityListInvitations",description:E=>{var S;const k=(0,o.ZT)(E),U=a(t.L.Invitations,E);if((E==null||(S=E.activityIA4)===null||S===void 0?void 0:S.selectedTabId)===t.L.Invitations&&(U!=null&&U.length)){var L;(0,s.c)(t.L.Invitations,(L=E.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(k,t.N)}return E&&E.activityIA4&&U}}},5921578648:(x,g,e)=>{"use strict";e.d(g,{S:()=>s});var t=e(5235917009),n=e(7114008777);const s=u(r=>{let{filter:c,isUnreadMode:o,isFilteringRevampToggledOn:a,mode:l}=r;return l==="chrono_priority_only_unreads_v1"?"unreadVip":l==="priority_reads_and_unreads_v1"?"other":l==="priority_unreads_v1"?"unreadOther":o&&c===n.L.EverythingElse?`unread${c.charAt(0).toUpperCase()+c.slice(1)}`:o&&a?`unread${(0,t.A)(c)}`:!a&&o?"unreads":c},"getFilterForSelectedMode")},2309387455:(x,g,e)=>{"use strict";e.d(g,{N:()=>n,v:()=>t});const t=u(s=>s&&"priority"in s,"isActivityFeedEntryVip"),n=u(s=>{var r;const c=(r=s.findIndex(i=>!(t(i)&&i.is_unread)))!==null&&r!==void 0?r:0,o=c===-1?s.length:c,a=s.slice(0,o),l=s.slice(o);return[a,l]},"getSeparateLists")},7912281988:(x,g,e)=>{"use strict";e.d(g,{Q:()=>E});var t=e(3290693121),n=e(537208959),s=e(7114008777),r=e(6422693406),c=e(9694536345),o=e(9648131521),a=e(3622175906),l=e(4798756512),i=e(6642124196),d=e(796111729),_=e(3855029223),m=e(6695353875),h=e(9006747218),v=e(4577150972),T=e(5921578648),A=e(2309387455),y=e(6845763719),p=e(5728184452),f=e(6304789565),O=e(8847766420),I=e(3694676182),P=e(1496122061),C=e(6111266013),M=e(3683482182);const D={"action-items":!0},E=(0,f.Ay)("Fetch user activity",function(S,k){let{limit:U,filter:L,mode:B,fetchNew:b,isUnreadMode:R,isInbox:z,types:w}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{limit:20,mode:"chrono_reads_and_unreads",filter:s.L.All,isInbox:!1};S((0,h.G3)(!0));const W=k(),K=(0,O.ZT)(W),Y=(0,y.F)(W),X=(0,y.S1)(W),Z=(0,y.d5)(W),ie=(0,y.hT)(W),Ae=(0,m.UU)(W),ae=(0,m.kz)(W),V=(0,t.a)(W),ve=(0,m.zu)(W),be=(0,n.TF)(W),Ue=(0,m.Ts)(W),Re=(0,i.isTodosLaterV2Enabled)(W),ge=(0,T.S)({filter:L,isUnreadMode:R!==void 0?R:ie,isFilteringRevampToggledOn:ae,mode:B}),ne=Y==null?void 0:Y[ge],ee=w||(0,p.TO)(ge,{experimentBundleAppsActivityWithBEGroupOn:Ae,experimentIsActivityThreadV2GroupOn:be,experimentIsVipThreadsEnabledGroupOn:Ue,experimentTodosLaterV2GroupOn:Re,isInbox:z,mode:B});return D!=null&&D[L]||!b&&!ne?(S((0,h.G3)(!1)),r.S.resolve()):((0,v.c)(L,ie).markObjectsAsFresh(K,[s.N]),S((0,o.X)({limit:U,reason:"fetchActivityFeed",types:ee,mode:B,cursor:b?void 0:ne})).then(F=>{if(!F.items)return;if(ve&&(B==="priority_reads_and_unreads_v1"||B==="priority_unreads_v1")){var H;const[J,le]=(0,A.N)(F.items);S((0,h.bl)({nextCursor:Y==null?void 0:Y.unreadVip,items:J,filter:"unreadVip",refreshItems:(V||ve)&&b})),S((0,h.bl)({nextCursor:F==null||(H=F.response_metadata)===null||H===void 0?void 0:H.next_cursor,items:le,filter:ge,refreshItems:(V||ve)&&b}))}else{var j;S((0,h.bl)({nextCursor:F==null||(j=F.response_metadata)===null||j===void 0?void 0:j.next_cursor,items:F.items,filter:ge,refreshItems:(V||ve)&&b}))}if(B==="chrono_unreads"){const J=(0,y.cJ)(k()),le=(0,M.xY)(k());F.items.length!==J&&S((0,c.O)()).then(ce=>{S((0,I.Q7)(ce));const Ee=(0,_.E)({state:W}),ye=(0,d.Ay)({getState:k,label:"ACTIVITY_BADGING"});try{const Ie=Ee.createSpan({name:"ia4client_activity_badge:mismatch",samplingOptions:{sampleType:l.tS.ALWAYS},options:{tags:{num_unread_activity_items:F.items.length,old_activity_badge_count:J,new_channel_badges:JSON.stringify(ce.channelBadges),old_channel_badges:JSON.stringify(le)}}});Ie.close(),Ee.reportSpans([Ie]),ye.info(`Activity badge mismatch. number of unread activity.feed items: ${F.items.length} activityBadgeCount: ${J}: counts.channelBadges: ${JSON.stringify(ce==null?void 0:ce.channelBadges)} old channelBadges: ${JSON.stringify(le)}`)}catch{}})}const N="slack-connect-fetch-invites-for-activity-feed";b&&!X&&["all","invitations","unreadAll","unreadInvitations"].includes(L)&&F.items.some(J=>{let{item:le}=J;return p.Oi.includes(le.type)})&&S((0,C.p)({direction:a.D.Incoming,reason:N})).then(()=>S((0,h.xv)(!0))),b&&!Z&&["all","invitations","unreadAll","unreadInvitations"].includes(L)&&S((0,P.d)({reason:N})).then(()=>S((0,h.ae)(!0)))}).finally(()=>S((0,h.G3)(!1))))});E.meta={name:"createThunk",key:"createThunkfetchActivityFeed",description:"Fetch user activity"}},5728184452:(x,g,e)=>{"use strict";e.d(g,{Oi:()=>n,TO:()=>c,b8:()=>a,kV:()=>o});var t=e(6626377467);const n=["external_channel_invite","shared_workspace_invite","external_dm_invite"],s=["at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned"],r=["at_user","at_user_group","at_channel","at_everyone","keyword"],c=u((l,i)=>{let{experimentBundleAppsActivityWithBEGroupOn:d,experimentIsActivityThreadV2GroupOn:_,experimentIsVipThreadsEnabledGroupOn:m,experimentTodosLaterV2GroupOn:h,isInbox:v,mode:T}=i;const A=d?"bot_dm_bundle":"bot_dm";let y=[_?"thread_v2":"thread_reply","message_reaction","internal_channel_invite","list_record_edited",A,...s,...n];h&&y.push("saved_reminder");const p=l.toLowerCase();if(!(T==="experimental_all_chrono_unreads_v1"||T==="experimental_all_chrono_reads_and_unreads_v1"||T==="experimental_priority_unreads_v1"||T==="experimental_everything_else_reads_and_unreads_v1"||T==="experimental_everything_else_unreads_v1"))return(T==="chrono_priority_only_reads_and_unreads_v1"||T==="chrono_priority_only_unreads_v1")&&(y=r,m&&(p.includes("vip")||p.includes("all"))&&(y=[...r,"thread_v2","internal_channel_invite"])),p.includes("mentions")&&(y=s),p.includes("apps")&&(y=[A]),p.includes("replies")&&(y=void 0),v&&p.includes("replies")&&(y=["thread_v2"]),p.includes("reminders")&&(y=["saved_reminder"]),p.includes("reactions")&&(y=["message_reaction"]),p.includes("unreads")&&(y=[A,_?"thread_v2":"thread_reply","internal_channel_invite",...s,...n]),p.includes("invitations")&&(y=["internal_channel_invite",...n]),v&&p.includes("channels")&&(y=["experimental_channels"]),v&&p.includes("dms")&&(y=["experimental_dms"]),v&&y&&(p.includes("all")||p.includes("unreads"))&&(y.push("experimental_dms"),y.push("experimental_channels")),y},"getActivityTypes"),o=u(l=>(l==null?void 0:l.type)==="section_bundle"&&"section"in l,"isSectionBundle"),a=u(l=>{let{items:i}=l;return(0,t.A)(i,d=>{if("key"in d&&(d==null?void 0:d.type)==="non_collapsible_header")return`item-by-feed-key-${d==null?void 0:d.key}`;if("ts"in d&&(d==null?void 0:d.type)==="channel_bundle")return`channel-bundle-${d==null?void 0:d.ts}`;if(o(d)){var _;return`section-bundle-${d==null||(_=d.section)===null||_===void 0?void 0:_.channelSection.id}`}const{messageTs:m,type:h,threadTs:v,channelId:T,invite:A,key:y}=d;return h==="message_reaction"?`reaction-${m}`:h==="thread_reply"||h==="thread_v2"?`thread-${v}`:h==="external_channel_invite"?`external-channel-invite-${A}`:h==="external_dm_invite"?`external-dm-invite-${A}`:h==="shared_workspace_invite"?`shared-workspace-invite-${A}`:h==="im"?`im${T}`:h==="experimental_dms"?`im${T}`:h==="experimental_channels"?`im${T}`:y!==void 0?`item-by-feed-key-${y}`:`mention-${m}`})},"getUniqueActivityItems")},9658167697:(x,g,e)=>{"use strict";e.d(g,{A:()=>Ll});var t=e(1416482128),n=e(7763652800),s=e(796111729),r=e(4423055085),c=e(4724591729),o=e(8520727613),a=e(2791814261),l=e(1535672935),i=e(6304789565),d=e(6776011876),_=e(6533394955);const m=(0,i.Ay)("maybeDisableDebugger side effect handler",()=>{if((0,c.Yj)()||(0,c.Cu)()||(0,c.$i)())return;const _e=(0,_.getStateForClientStore)();if((0,a.c)()&&!(0,o.A)(_e,"disable_tinyspeck_slackdebug_enforcement","treatment")){(0,r.Jb)();return}(0,r.CP)()||(0,r.YF)()});m.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const h=(0,d.kt)([l.setDidBootAllWorkspaces],m);var v=e(3571452446),T=e(3245843483),A;(function(_e){_e.DOGFOOD="dogfood",_e.BETA="beta",_e.PROD="prod"})(A||(A={}));var y;(function(_e){_e.BETA="beta",_e.PROD="prod"})(y||(y={}));const p=u(_e=>_e!==A.PROD,"isPreRelease");var f;(function(_e){_e.NIGHTLY="nightly",_e.ALPHA="alpha",_e.ETA="eta",_e.PILOT="pilot",_e.BETA="beta",_e.PROD="prod"})(f||(f={}));var O;(function(_e){_e.BETA="beta",_e.PROD="prod"})(O||(O={}));const I=[f.ALPHA,f.ETA,f.BETA,f.PILOT,f.PROD],P=u(_e=>_e!==f.PROD,"release_channels_4_31_0_isPreRelease");var C=e(1583163054),M=e(571104883),D=e(4096483543),E=e(9012396182),S=e(3677514771);const k=(0,i.Ay)("maybeSetReleaseChannelOverrideHandler",(_e,re,Se)=>{!(0,M.y3)()||!(0,T.g9M)()||B(re)});k.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const U=(0,d.kt)([l.setDidBootAllWorkspaces],k),L="nightly-promotion-state";function B(_e){const re=(0,T.oQe)("environment","releaseChannel"),Se=(0,T.oQe)("settings","releaseChannelOverride");let Ne=Se;if(!Ne&&(re==="beta"||re==="alpha")&&(Ne=re),Ne==="eta"&&(Ne=A.BETA),(0,D.A)()&&(0,M.dY)("4.31.150")){const nt=_e();if((0,o.A)(nt,"ssb_dogfood_automatic_promotion","on")&&(0,a.c)()&&Ne!==C.zS)try{window.localStorage.getItem(L)!=="2"&&(Ne=C.zS,window.localStorage.setItem(L,"1"))}catch{}Ne==="alpha"&&(Ne=A.BETA)}Ne!==Se&&((0,T.cGU)({name:"releaseChannelOverride",value:Ne}),T.NjF.cache&&T.NjF.cache.clear())}u(B,"maybeSetReleaseChannelOverride");const b=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],R=(0,i.Ay)("Sync workspaces state with desktop",(_e,re)=>{if(!(0,M.y3)())return;const Se=re(),Ne=(0,E.getBootedWorkspaces)(Se),nt=(0,E.getAllWorkspaces)(Se);var Je;const Pt=(Je=(0,E.getWorkspacesMeta)(Se))!==null&&Je!==void 0?Je:{},rt=Ne==null?void 0:Ne.reduce((mn,Jn)=>{const rs=(0,_.getStateByTeamId)(Jn),Jt={...(0,S._J)(rs,Jn,!1),...Pt==null?void 0:Pt[Jn]};return mn[Jn]={...(0,v.A)(Jt,b),order:nt.indexOf(Jn)},mn},{});(0,T.CIW)(rt)});R.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const z=(0,i.Ay)("Sync workspaces state with desktop when a new team has booted",(_e,re)=>{if(!(0,M.y3)())return;const Se=re();(0,E.didBootAllWorkspaces)(Se)&&_e(R())});z.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const w=(0,d.kt)([l.setDidBootAllWorkspaces,l.setWorkspaceOrder],R),W=(0,d.kt)([l.setWorkspaceBooted],z);var K=e(4932704503),Y=e(1378315125);const X="DESKTOP-SIDE-EFFECT",Z=(0,i.Ay)("logUpdateFromDesktop",(_e,re,Se)=>{(0,s.Wo)().info(X,"Update from desktop for keys ",Object.keys(Se.payload))});Z.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const ie=(0,d.kt)([Y.Ez],Z),Ae=(0,i.Ay)("maybeHandleWindowFocusEvent",(_e,re,Se)=>{(0,D.A)()&&Se.payload&&Se.payload.windows&&_e((0,K.pz)({isFocused:document.hasFocus()}))});Ae.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const ae=(0,d.kt)([Y.Ez],Ae);var V=e(3398586081),ve=e(8646192222),be=e(8439865561),Ue=e(5105455463);(0,V.A)(()=>{if((0,ve.Nu)())try{window.matchMedia(Ue.og).onchange=_e=>{const re=(0,_.getClientStoreInstance)();re&&re.dispatch((0,be.N)(_e.matches))}}catch(_e){(0,s.Wo)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",_e)}})();const ge=(0,i.Ay)("maybeUpdateShouldUseHighContrastColors",(_e,re,Se)=>{if(!(0,ve.Nu)()&&(0,ve.hk)()){var Ne,nt;const Je=Se==null||(Ne=Se.payload)===null||Ne===void 0||(nt=Ne.settings)===null||nt===void 0?void 0:nt.shouldUseHighContrastColors;Je!==void 0&&_e((0,be.N)(Je))}});ge.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const ne=(0,d.kt)([Y.Ez],ge);var ee=e(1703559452),F=e(1658558415),H=e(6917917245),j=e(8170643398),N=e(6839188756),J=e(5597384299),le=e(659648890),ce=e(7002741921),Ee=e(8276911661),ye=e(9733150292);const Ie="workspace_switcher_awareness_v2",he=(0,V.A)(()=>(0,F.A)()?"treatment":(0,H.B9)(Ie)),Ce=(0,V.A)(()=>(0,H.fW)(Ie)),oe=(0,V.A)(()=>he()===H.dw.Control),de=(0,V.A)(()=>{const _e=Object.values((0,_.getStoreInstanceMap)());let re=0;return(0,ee.A)(_e,Se=>{if(!Se)return!1;const Ne=Se.getState();return(0,N.qR)((0,S.H7)(Ne))&&(re+=1),re>1})}),De=(0,V.A)(()=>(0,E.getNumberOfWorkspaces)((0,_.getStateForClientStore)())>1),Te=(0,V.A)(()=>{const _e=Object.values((0,_.getStoreInstanceMap)());let re=0,Se=0;return(0,ee.A)(_e,Ne=>{if(!Ne)return!1;const nt=Ne.getState(),Je=(0,Ee.cA)(nt),Pt=(0,j.yF)(Je),rt=Pt&&(0,J.KR)((0,le.Ay)().toDate(),le.Ay.unix(Pt).toDate());return rt&&rt>30&&(Se+=1),(0,N.qR)((0,S.H7)(nt))&&(re+=1),re>1&&Se>0})}),pe=(0,V.A)(()=>{const _e=Object.values((0,_.getStoreInstanceMap)());return(0,ee.A)(_e,re=>{if(!re)return!1;const Se=re.getState(),Ne=(0,Ee.cA)(Se),nt=(0,j.yF)(Ne),Je=nt&&(0,J.KR)((0,le.Ay)().toDate(),le.Ay.unix(nt).toDate());return!!(Je&&Je>30)})}),Me=(0,V.A)(()=>{const _e=Object.values((0,_.getStoreInstanceMap)());let re=0;return(0,ee.A)(_e,Se=>{if(!Se)return!1;const Ne=Se.getState();return(0,N.qR)((0,S.H7)(Ne))&&(re+=1),(0,N.tc)((0,S.H7)(Ne))&&(re+=1),re>1})}),ke=u(()=>{(0,ye.q9)("hasSeenWorkspaceSwitcherAwareness",!0)},"markWorkspaceSwitcherAwarenessAsSeen"),Ke=u(()=>(0,ye.W6)("hasSeenWorkspaceSwitcherAwareness"),"hasSeenWorkspaceSwitcherAwareness"),Ze=u(_e=>{let{toggleName:re,toggleGroup:Se}=_e;return(0,ce.A)(re,Se,!1)&&De()&&!de()&&pe()&&Me()},"isEligibleForWorkspaceSwitcherAwarenessV2"),Q=u(()=>Ce()||Te(),"isEligibleForWorkspaceSwitcherAwareness"),se=u(()=>{Ke()&&(0,ye.q9)("hasSeenWorkspaceSwitcherAwareness",!1)},"workspaceSwitcherAwarenessCleanupCallback");var He=e(4766735965),Ge=e(6290537170);const Be=(0,i.Ay)("Opens workspace switcher if the user is part of experiment",(_e,re)=>{const Se=re();(0,M.y3)()&&!Ke()&&!(0,Ge.v8)(Se)&&Q()&&(_e((0,He.A)()),ke())});Be.meta={name:"createThunk",key:"createThunkmaybeToggleWorkspaceSwitcherForAwarenessThunk",description:"Opens workspace switcher if the user is part of experiment"};const we=(0,d.kt)([l.setDidBootAllWorkspaces],Be);var xe=e(6766954308),Oe=e(2633701976),Xe=e(2047021170);const Ye=(0,i.Ay)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(_e,re)=>{var Se;const Ne=re(),nt=(0,E.getFocusedWorkspace)(Ne),Je=(0,_.getStoreInstanceByTeamId)(nt),Pt=Je==null||(Se=Je.getState)===null||Se===void 0?void 0:Se.call(Je);if(!Pt||(0,xe.gR)(Ne)!==void 0)return;const mn=(0,Xe.ty)(Pt,"a11y_read_out_incoming_dm");if(mn!==void 0){_e((0,Oe.p)(mn));return}_e((0,Oe.p)(!0))});Ye.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const dt=(0,d.kt)([l.setDidBootAllWorkspaces],Ye);var mt=e(2517531287);const it=(0,i.Ay)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(_e,re)=>{var Se;const Ne=re(),nt=(0,E.getFocusedWorkspace)(Ne),Je=(0,_.getStoreInstanceByTeamId)(nt),Pt=Je==null||(Se=Je.getState)===null||Se===void 0?void 0:Se.call(Je);if(!Pt)return;if((0,xe.u$)(Ne)===""){const Jn=(0,Xe.ty)(Pt,"a11y_play_sound_for_incoming_dm_choice"),rs=Jn??"";_e((0,mt.R)(rs))}if((0,xe.kd)(Ne)===""){const Jn=(0,Xe.ty)(Pt,"a11y_play_sound_for_sent_dm_choice"),rs=Jn??"";_e((0,mt.r)(rs))}});it.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const At=(0,d.kt)([l.setDidBootAllWorkspaces],it);var Ot=e(6422693406),Kt=e(3297051565),Xt=e.n(Kt),vn=e(9113979368),Sn=e(5257368278),jt=e(5109269968),hn=e(8161242485);const xt=(0,hn.Ay)(_e=>_e&&_e.persistedApiCalls);xt.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:_e=>_e&&_e.persistedApiCalls};var Dn=e(4294892493),St=e(1874577777);const dn="OFFLINE",fn=(0,Sn.A)("Replay persisted API calls",function(_e,re){let Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xt(re());const Ne=re();if(!(0,St.A)(Ne)||(0,vn.A)(Se))return;const nt=(0,s.Ay)({state:Ne});nt.info(dn,"replayPersistedApiCalls called after workspace booted");const Je=Object.keys(Se).sort().map(Pt=>Se[Pt]);Ot.K.each(Je,Pt=>_e((0,jt.apiCall)(Pt)).catch(rt=>{nt.error(dn,`Error replaying ${Pt.method} (${Pt.persistKey})`,rt)}).finally(()=>{nt.info(dn,`Clearing persisted payload for ${Pt.method} (${Pt.persistKey})`),_e((0,Dn.M)(Pt.persistKey))}))});fn.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},fn.propTypes=Xt().object;const un=(0,i.Ay)("triggerReplayPersistedApiCalls",(_e,re,Se)=>{const Ne=Se.payload;(0,_.dispatchForTeamId)(Ne,fn())});un.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const _n=(0,d.kt)([l.setWorkspaceBooted],un);var tn=e(859310680),nn=e(3855029223),An=e(2872463257);const yn=(0,i.Ay)("recordExperimentGroupsAsTrace side effect handler",(_e,re,Se)=>{const Ne=(0,_.getStateForClientStore)(),nt=(0,E.getBootedWorkspaces)(Ne)||[];try{const Je=An.nl.ALWAYS;nt.forEach(Pt=>{const rt=(0,_.getStateByTeamId)(Pt),mn=(0,tn.xy)(rt),Jn=JSON.stringify(mn),rs=(0,nn.E)({state:rt}),Ss=rs.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:Jn}},samplingOptions:{sampleType:Je}});Ss.close(),rs.reportSpans([Ss])})}catch(Je){(0,s.Wo)().warn("BOOT-TEAM","could not report experiment groups in trace",Je)}});yn.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const sn=(0,d.kt)([l.setDidBootAllWorkspaces],yn);var Nn=e(5613323535);const Ve=(0,i.Ay)("setAutoTracerTagProvider side effect handler",(_e,re,Se)=>{Nn.LI.isEnabled()&&Nn.LI.setTagProvider(Ne=>Ne?(0,tn.go)(Ne):{})});Ve.meta={name:"createThunk",key:"createThunksetAutoTracerTagProvider",description:"setAutoTracerTagProvider side effect handler"};const $e=(0,d.kt)([l.setDidBootAllWorkspaces],Ve);var Et=e(2763437247),It=e(1224315998),Tt=e(56548687),Ct=e(268083624),Wt=e(5795074931);const Gt=(0,i.Ay)("Clog experiment related meta data for session toggles",(_e,re,Se)=>{let{experimentNames:Ne}=Se;const nt=(0,Ct.v8)(Ct.i$),Je=(0,T.sST)(),Pt=(0,_.getClientStoreInstance)(),rt=(0,E.getFocusedWorkspace)(Pt.getState()),mn=(0,E.getBootedWorkspaces)(Pt.getState()),Jn=mn.join(","),rs=mn.map(Ss=>{var Jt;const Un=(Jt=(0,_.getStoreInstanceByTeamId)(Ss))===null||Jt===void 0?void 0:Jt.getState();return(0,Wt.WR)(Un)}).join(",");Ne.forEach(Ss=>{const Jt=(0,H.B9)(Ss);if(Jt===Et.dw.Control||Jt===Et.dw.Treatment||Jt===Et.dw.On){var Un;(0,Tt.e)({getState:(Un=(0,_.getStoreInstanceByTeamId)(rt))===null||Un===void 0?void 0:Un.getState}).track(It.EventId.CLIENT_SESSION_TOGGLE_CLOG,{contexts:{experimentName:Ss,experimentGroup:Jt,teamIds:Jn,userIds:rs,visitorCookie:nt,clientId:Je}})}})});Gt.meta={name:"createThunk",key:"createThunkclogDataForSessionToggles",description:"Clog experiment related meta data for session toggles"};var wt=e(229828696),qt=e(306687250),Yt=e(8073631078),In=e(5320724941),ft=e(9681594967),yt=e(2325478352),bt=e(9272190578),Ht=e(6209625934),ln=e(4761125736);function rn(_e,re){const Se=Object.values((0,_.getStoreInstanceMap)());for(const Ne of Se){if(!Ne)continue;const nt=Ne.getState(),Je=(0,ln.KK)(nt,_e);Je&&Je.log_exposures&&re===Je.group&&(0,Ht.K)(_e,Je,nt)}}u(rn,"logExposuresForSession");function Zt(_e,re){if((0,Et.SC)(_e),re)try{re()}catch(Se){(0,s.Wo)().error(`caught error from cleanupCallback: ${Se}`)}}u(Zt,"rollbackToggle");function Mn(_e){let{toggleName:re,toggleGroup:Se}=_e;return(0,ce.A)(re,Se,!1)}u(Mn,"defaultToggleGroupMatcher");function es(_e,re){var Se;const Ne=(Se=re==null?void 0:re.customToggleGroupMatcher)!==null&&Se!==void 0?Se:Mn,nt=(0,Et.M_)(_e),Je=jn(_e,nt,Ne);if(nt===null&&Je!==Et.dw.NoGroup){(0,Et.jc)(_e,Je);return}Je===Et.dw.NoGroup?nt===Et.dw.Treatment||nt===Et.dw.On?(Zt(_e,re==null?void 0:re.cleanupCallback),(0,bt.As)({reason:`Rolling back ${_e} toggle`,reasonKey:`rollback_${_e}_toggle`})):(nt===Et.dw.Control||nt===Et.dw.Off)&&Zt(_e,re==null?void 0:re.cleanupCallback):Je!==nt?(0,Et.jc)(_e,Je):Je===nt&&rn(_e,nt)}u(es,"setToggleGroupForNextSession");function jn(_e,re,Se){const Ne=Se({toggleName:_e,toggleGroup:Et.dw.Treatment}),nt=Se({toggleName:_e,toggleGroup:Et.dw.Control}),Je=Se({toggleName:_e,toggleGroup:Et.dw.On}),Pt=Se({toggleName:_e,toggleGroup:Et.dw.Off});return Ne&&nt?re===Et.dw.Treatment?Et.dw.Treatment:re===Et.dw.Control?Et.dw.Control:Math.random()<.5?Et.dw.Treatment:Et.dw.Control:Je&&Pt?re===Et.dw.On?Et.dw.On:re===Et.dw.Off?Et.dw.Off:Math.random()<.5?Et.dw.On:Et.dw.Off:Ne?Et.dw.Treatment:nt?Et.dw.Control:Je?Et.dw.On:Pt?Et.dw.Off:Et.dw.NoGroup}u(jn,"getCurrentToggleGroup");const Kn={getCurrentToggleGroup:jn};(0,r.ul)("setToggleGroupForNextSession",_e=>es(_e));var Yn=e(7530010356),wn=e(2371143272);const Rt=u(()=>{try{ft.qV.deleteDatabase()}catch(_e){ft.qV.getLogger().error(`caught error from deleteDatabase: ${_e}`)}},"objectStoreCallback"),je={[yt.Wv]:{cleanupCallback:Rt},[In.f]:{},[qt.z]:{},[wn.i]:{},[wt.H]:{},[Ie]:{cleanupCallback:se,customToggleGroupMatcher:Ze},[Yn.Dm]:{},...Yt.nD},qe=(0,i.Ay)("setToggleGroupsForNextSession",(_e,re,Se)=>{_e(Gt({experimentNames:Object.keys(je)})),Object.entries(je).forEach(Ne=>{let[nt,Je]=Ne;es(nt,Je)})});qe.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const st=(0,d.kt)([l.setDidBootAllWorkspaces],qe);var q=e(4250409994),me=e(2766373332);const Le=(0,i.Ay)("maybeToggleGlobalMuteShortcutHandler",(_e,re,Se)=>(0,me.N$)(Se.payload));Le.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const We=(0,d.kt)([q.Bk],Le);var ze=e(8365110903),ht=e(25586007);const Mt=(0,i.Ay)("Transition the up_to_browse_kb_shortcut user pref to the new client pref",(_e,re)=>{var Se;const Ne=re(),nt=(0,E.getFocusedWorkspace)(Ne),Je=(0,_.getStoreInstanceByTeamId)(nt),Pt=Je==null||(Se=Je.getState)===null||Se===void 0?void 0:Se.call(Je);if(!Pt||(0,xe.jX)(Ne)!==void 0)return;const mn=(0,Xe.ty)(Pt,"up_to_browse_kb_shortcut"),{LIST:Jn,EDIT:rs}=ht.v,Ss=mn?Jn:rs;_e((0,ze.T)(Ss))});Mt.meta={name:"createThunk",key:"createThunkmaybeTransitionUpToBrowsePreference",description:"Transition the up_to_browse_kb_shortcut user pref to the new client pref"};const on=(0,d.kt)([l.setWorkspaceBooted],Mt),zn=(0,i.Ay)("updateLocalConfigOrderedTeamIds side effect handler",(_e,re,Se)=>{const Ne=(0,s.Wo)({label:ye.o7}),nt=(0,_.getStateForClientStore)(),Je=(0,E.getAllWorkspaces)(nt);(!Je||Je.length===0)&&Ne.warn("Skipping update to orderedTeamIds, allWorkspaces is empty"),Ne.info(`Updating orderedTeamIds to ${Je.join(",")}`),(0,ye.q9)("orderedTeamIds",Je)});zn.meta={name:"createThunk",key:"createThunkupdateLocalConfigOrderedTeamIds",description:"updateLocalConfigOrderedTeamIds side effect handler"};const Qn=(0,d.kt)([l.addWorkspace],zn);var lt=e(2250002584);const $=(0,i.Ay)("recordWssRailVisibility side effect handler",(_e,re)=>{const Se=(0,lt.F)(),Ne=re(),nt=(0,Ge.v8)(Ne)?1:0,Je=Se.createMetricsTrace({samplingOptions:{sampleType:An.nl.SESSION}});Je.store({name:"wss_rail:visible",value:nt}),Se.reportTrace(Je)});$.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const te=(0,d.kt)([l.setDidBootAllWorkspaces],$);var fe=e(3875705815),Pe=e(4134037340),Qe=e(5107871484),ut=e(7980588110);const et=(0,i.Ay)("Set zoom value for client when in BBM",(_e,re,Se)=>{const{error:Ne}=(0,s.Wo)();(0,Pe.A)(re())||Ne(new Error("you must call setZoom for a client store"));try{(0,ye.q9)(ut.UY,Se)}catch(nt){Ne(new Error(`failed to store zoom in local storage: ${nt}`))}_e((0,Qe.x8)(Se))});et.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client when in BBM"};var Ft=e(6696292586);function $t(){let _e;return re=>re===_e?!1:(_e=re,!0)}u($t,"getDidUpdate");const Pn=$t(),Bn=(0,i.Ay)("updateFromDesktop side effect handler",(_e,re,Se)=>{var Ne;const nt=re(),Je=E.getFocusedWorkspace===null||E.getFocusedWorkspace===void 0?void 0:(0,E.getFocusedWorkspace)(nt);if(!Je)return;const Pt=(0,_.getStateByTeamId)(Je);if(!(0,fe.V)(Pt))return;const rt=(Ne=Se.payload.settings)===null||Ne===void 0?void 0:Ne.zoomLevel;(0,Ft.A)(rt)&&Pn(rt)&&(0,_.dispatchForClientStore)(et(rt))});Bn.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const os=(0,d.kt)([Y.Ez],Bn);var Zn=e(2413251042),qn=e(6303140164);const an=(0,i.Ay)("Set zoom value for client before starting BBM",(_e,re,Se)=>{const{error:Ne}=(0,s.Wo)();(0,Pe.A)(re())||Ne(new Error("you must call setZoom for a client store"));try{(0,ye.q9)(qn.UY,Se)}catch(nt){Ne(new Error(`failed to store zoom in local storage: ${nt}`))}_e((0,Zn.x8)(Se))});an.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client before starting BBM"};function hs(){let _e;return re=>re===_e?!1:(_e=re,!0)}u(hs,"side_effects_getDidUpdate");const Cs=hs(),G=(0,i.Ay)("updateFromDesktop side effect handler",(_e,re,Se)=>{var Ne;const nt=re(),Je=E.getFocusedWorkspace===null||E.getFocusedWorkspace===void 0?void 0:(0,E.getFocusedWorkspace)(nt);if(!Je)return;const Pt=(0,_.getStateByTeamId)(Je);if((0,fe.V)(Pt))return;const rt=(Ne=Se.payload.settings)===null||Ne===void 0?void 0:Ne.zoomLevel;(0,Ft.A)(rt)&&Cs(rt)&&(0,_.dispatchForClientStore)(an(rt))});G.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const ue=(0,d.kt)([Y.Ez],G),Fe=[h,ie,ae,_n,$e,ne,st,w,W,sn,We,U,on,At,dt,te,Qn,ue,we,os];var pt=e(4900557724);const Cn=50,On="recents";var Wn=e(8628205589),En=e(2384831516);let fs;function ls(_e){fs&&(0,pt.GP)(fs),fs=(0,pt.BB)(()=>{fs=void 0,(0,ye.q9)(On,_e)})}u(ls,"persistRecents");function ps(){var _e;return(_e=(0,ye.W6)(On))!==null&&_e!==void 0?_e:[]}u(ps,"loadRecents");const Ms=ps(),Rs=(0,En.vy)({},Ms,{persistenceEnabled:!1,storeKey:"recents"}).on(Wn.y2,(_e,re)=>{let{entry:Se}=re;const Ne=[Se,..._e].slice(0,Cn);return ls(Ne),Ne}).on(Wn.HQ,(_e,re)=>{let{entry:Se}=re;const Ne=[Se,..._e.slice(1)].slice(0,Cn);return ls(Ne),Ne}).on(Wn.TP,_e=>{const re=_e.slice(0,1);return ls(re),re});var Os=e(3193155968),Tn=e(9936094925);const as={[Os.N2]:{index:0,previousIndex:null,stack:[]}},_t={persistenceEnabled:!1,storeKey:"mainWindowHistory"},Nt=(0,En.vy)({},as,_t).on(Wn.y2,(_e,re)=>{let{windowId:Se,entry:Ne}=re;return{..._e,[Se]:(0,Tn.wg)({windowState:_e[Se],entry:Ne})}}).on(Wn.jW,()=>as).on(Wn.cM,(_e,re)=>{let{windowId:Se,index:Ne,previousIndex:nt}=re;return{..._e,[Se]:(0,Tn.ds)({windowState:_e[Se],index:Ne,previousIndex:nt})}}).on(Wn.$E,(_e,re)=>{let{windowId:Se,index:Ne}=re;return{..._e,[Se]:(0,Tn.cB)({windowState:_e[Se],index:Ne})}}).on(Wn.HQ,(_e,re)=>{let{windowId:Se,entry:Ne}=re;return{..._e,[Se]:(0,Tn.w9)({windowState:_e[Se],entry:Ne})}});(0,r.ul)("mainWindowHistory",{getState:()=>(0,_.getStateForClientStore)().mainWindowHistory[Os.N2]});var Lt=e(7715417323);function at(){let{state:_e,prevState:re,workspaces:Se=[],broadcastSelector:Ne=Lt.A,broadcastAction:nt=Lt.A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Je=Ne(_e),Pt=Ne(re);Je!==Pt&&Se.forEach(rt=>{(0,_.dispatchForTeamId)(rt,nt(Je))})}u(at,"maybeBroadcastStateToWorkspaces");const vt=at;var Dt=e(1527536225);const Ut=(0,Dt.Ay)("Broadcast accessibility state to other stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je);return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.VH)(rt),broadcastAction:rt=>(0,be.Jq)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.nQ)(rt),broadcastAction:rt=>(0,be.N)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.dF)(rt),broadcastAction:rt=>(0,be.KQ)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.jX)(rt),broadcastAction:rt=>(0,be.Tv)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.gb)(rt),broadcastAction:rt=>(0,be.C_)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.zm)(rt),broadcastAction:rt=>(0,be.XE)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.K9)(rt),broadcastAction:rt=>(0,be.Mq)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.u$)(rt),broadcastAction:rt=>(0,be.Sr)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.kd)(rt),broadcastAction:rt=>(0,be.mw)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.gR)(rt),broadcastAction:rt=>(0,be.Ap)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xe.u)(rt),broadcastAction:rt=>(0,be.V_)(rt)}),nt});Ut.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};const Vt=Ut;var cn=e(1004520977),kn=e(9234290540);const pn=(0,Dt.Ay)("Broadcast accessibility persistent state to other stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je);return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,kn.i)(rt),broadcastAction:rt=>(0,cn.w)(rt)}),nt});pn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};const zt=pn;var gn=e(3749529250);const Hn=(0,Dt.Ay)("Broadcast big button mode state to other stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je).filter(rt=>(0,ve.mL)((0,_.getStateByTeamId)(rt)));return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,fe.V)(rt),broadcastAction:rt=>rt?(0,gn.z)():(0,gn.K)()}),nt});Hn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMMiddleware",description:"Broadcast big button mode state to other stores"};var xn=e(3029055053);const en=(0,Dt.Ay)("Broadcast big button mode settings state to other stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je);return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xn.N6)(rt),broadcastAction:rt=>(0,Qe.Yf)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,xn.Tr)(rt),broadcastAction:()=>(0,Qe.Ol)()}),nt});en.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMSettingsMiddleware",description:"Broadcast big button mode settings state to other stores"};var Rn=e(2456103428),$n=e(6728717861);const Vn=(0,Dt.Ay)("Broadcast connectivity state to other stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je);return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,$n.Pb)(rt),broadcastAction:rt=>(0,Rn.p9)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,$n.XQ)(rt),broadcastAction:rt=>(0,Rn.pm)(rt)}),nt});Vn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};const _s=Vn;var ss=e(848813706),ds=e(5223893135),us=e(5095654950);const Gn=(0,Dt.Ay)("Broadcast fullscreen state to other stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je).filter(rt=>(0,ve.iB)((0,_.getStateByTeamId)(rt)));return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,ds.V)(rt),broadcastAction:rt=>rt?(0,us.J)():(0,ss.sM)()}),nt});Gn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastFullscreenMiddleware",description:"Broadcast fullscreen state to other stores"};var gs=e(4309043566);const Ps=(0,En.Ny)("Broadcasts overlays state from client store to workspace stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je);return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>rt.overlays,broadcastAction:gs.l}),nt});Ps.meta={name:"createMiddleware",key:"createMiddlewarebroadcastOverlaysMiddleware",description:"Broadcasts overlays state from client store to workspace stores"};var Es=e(9083290776);const As=(0,Dt.Ay)("Broadcast workspaces state to other stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je),rt=Ne&&(0,E.getBootedWorkspaces)(Ne),mn=(0,E.getAllWorkspaces)(Je),Jn=(0,E.getAllWorkspaces)(Ne),rs=!Jn||mn.some((Un,Fn)=>Un!==Jn[Fn]),Ss=(0,E.getRecentlyFocusedWorkspaces)(Je),Jt=Ne&&(0,E.getRecentlyFocusedWorkspaces)(Ne);return(rt!==Pt||rs||Jt!==Ss)&&Bs(Pt,Ss),nt});As.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function Bs(_e,re){const Se=re[0];Se&&(_e==null||_e.forEach(Ne=>{(0,_.dispatchForTeamId)(Ne,(0,Es.K$)(re)),(0,_.dispatchForTeamId)(Ne,(0,Es.fw)(re))}),(0,T.ny2)(Se))}u(Bs,"broadcastFocusedWorkspaces");const Ks=As;var Ls=e(252549317),xs=e(9042410435),bs=e(8736071954),zs=e(8719752487),ot=e(5470425448),ct=e(5071086688),gt=e(6117529990);function Bt(_e){switch((0,ln._Z)(_e,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}u(Bt,"getAllowedTurnTransportTypes");var Qt=e(5332875232);function Ln(){return!(!("MediaStreamTrackProcessor"in globalThis)||!("MediaStreamTrackGenerator"in globalThis)||!("OffscreenCanvas"in globalThis)||!("ImageBitmap"in globalThis)||!("createImageBitmap"in globalThis))}u(Ln,"isHuddlesBackgroundWorkerSupported");const bn=(0,s.Wo)({label:"HUDDLE-INIT-OPTIONS"}),Xn=u((_e,re)=>{let{server:Se,isPrejoin:Ne}=re;if(!_e){bn.error("teamState is not defined. Returning empty init options");return}const nt={};return nt.serverConfig={...Se,transportProtocols:Bt(_e)},nt.isPrejoin=Ne,nt.useChimeSdkExp=(0,gt.OV)(_e),nt.useDevicesExp=(0,Qt.ZI)(_e),nt.useVideoUplinkPolicy=(0,Qt.Jf)(_e),nt.useH264BaselineScreenshare=(0,gt.OV)(_e)&&(0,Qt.RM)(_e),nt.useH264Baseline=(0,gt.OV)(_e)&&(0,Qt.er)(_e),nt.useAv1Screenshare=(0,Qt.Cu)(_e),nt.huddlesJukeboxEnabled=(0,Qt.Eg)(_e),nt.disableAudioRedundancy=(0,Qt.JQ)(_e),nt.useSimulcast=!1,nt.usePriorityDownlinkPolicy=!(0,M.gm)(),nt.disableVp9=(0,Qt.lH)(_e),nt.useHuddlesFilterWorker=Ln()&&(0,Qt.lz)(_e),bn.info("returning init options: ",nt),nt},"getSdkInitOptions");var is=e(6246464105),ms=e(8872167513),js=e(2709531527),Qs=e(164795489),lo=e(3300324857),Uo=e(4708000837),oa=e(1371073900),aa=e(2457673737),co=e(6664301844),nr=e(6310192986),no=e(7366481123),sr=e(5253428843),ts=e(3065433701),No=e(5378147939);const ra=(0,i.Ay)("Resolve a pending huddle",(_e,re,Se)=>(0,No.A)().resolvePendingJoin(Se));ra.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};const or=ra;var uo=e(2778217221),ar=e(6694086724),Ts=e(5286203919),rr=e(9548972574),ir=e(3474336343),lr=e(3263322402),ia=e(3977512448);const Bo=(0,i.Ay)("update client huddle membership timers join",(_e,re)=>{const Se=re(),Ne=(0,s.Ay)({state:Se}),nt=(0,_.getStateForClientStore)(),Je=(0,Ts.Ak)(nt),Pt=(0,ir.Wg)(Se,{tip:ia.ml.Huddles});if(!Je){Ne.warn(uo.o7,"no active huddle found, cannot update state to together or alone");return}const rt=(0,rr.Sx)(Se);if(rt===0){(0,No.A)().setAloneInHuddle();return}rt>0&&(Pt&&_e((0,lr._A)(!0)),(0,No.A)().setOthersInHuddle(),_e((0,ar.e)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});Bo.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var xo=e(9706240641),cs=e(3134334389),cr=e(4332857818),dr=e(862210999),ur=e(8645544190),_r=e(8921478798),la=e(1641606663),To=e(735940183),mr=e(8847766420),ns=e(387328355),_o=e(6839101721),hr=e(5323669031),Io=e(2825968873),vr=e(3094144240),Er=e(9477894139),Wo=e(2562405183),Fo=e(9391594207),so=e(5255740490),fr=e(3534324375),ca=e(4954329752);let da=u(class extends cs.PureComponent{static getDerivedStateFromProps(re,Se){return re.mediaStream!==Se.currentMediaStream?re.mediaStream&&Se.currentMediaStream&&re.mediaStream.id===Se.currentMediaStream.id?{currentMediaStream:re.mediaStream,isFlipped:re.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:re.mediaStream?Se.currentMediaStream:void 0,currentMediaStream:re.mediaStream,isFlipped:re.isFlipped,wasFlipped:Se.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const re=this.videoRef.current,Se=this.prevVideoRef.current;re&&(re.removeEventListener("canplay",this.onCanPlay),re.removeEventListener("pause",this.onPause),re.removeEventListener("resize",this.onResize)),Se&&(Se.removeEventListener("canplay",this.onCanPlay),Se.removeEventListener("pause",this.onPause),Se.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:re}=this.state,Se=re&&re.getVideoTracks()[0];this.isDataStopped&&Se&&Se.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(re){this.state.currentMediaStream&&re.target.srcObject instanceof MediaStream&&re.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:re,prevMediaStream:Se}=this.state,Ne=this.videoRef.current,nt=this.prevVideoRef.current;Ne&&(Ne.muted=!0,Ne.srcObject!==re&&(Ne.addEventListener("canplay",this.onCanPlay),Ne.addEventListener("pause",this.onPause),Ne.addEventListener("resize",this.onResize),Ne.srcObject=re||null)),nt&&(nt.muted=!0,nt.srcObject!==Se&&(nt.removeEventListener("canplay",this.onCanPlay),nt.removeEventListener("pause",this.onPause),nt.removeEventListener("resize",this.onResize),nt.srcObject=Se||null))}onResize(){const re=this.videoRef.current;re&&(this.props.isSharingScreen?re.style.objectFit="contain":re.style.objectFit=re.videoWidth>re.videoHeight?"cover":"contain")}render(){const{className:re,isFlipped:Se,refToForward:Ne}=this.props,{currentMediaStream:nt,prevMediaStream:Je,isCurrentMediaStreamReady:Pt,wasFlipped:rt}=this.state;return cs.createElement(cs.Fragment,null,!Pt&&Je&&cs.createElement("video",{key:Je&&Je.id,className:(0,so.A)("p-calls_video",re,{flipped:rt}),ref:this.prevVideoRef,autoPlay:!0}),cs.createElement("video",{className:(0,so.A)("p-calls_video",re,{flipped:Se,hidden:!Pt}),ref:(0,ca.P)(this.videoRef,Ne),autoPlay:!0,key:nt&&nt.id}))}constructor(re){super(re),this.prevVideoRef=cs.createRef(),this.videoRef=cs.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");da.displayName="CallsOriginalVideoElement";function Ko(){return Ko=Object.assign||function(_e){for(var re=1;re<arguments.length;re++){var Se=arguments[re];for(var Ne in Se)Object.prototype.hasOwnProperty.call(Se,Ne)&&(_e[Ne]=Se[Ne])}return _e},Ko.apply(this,arguments)}u(Ko,"_extends");const pr=u((_e,re)=>{const Se=(0,ns.JZ)(_e,re.id);return{mediaStream:Se.mediaStream,isFlipped:(0,ns.fy)(Se)&&!Se.isScreenshareEnabled,isSharingScreen:Se.isScreenshareEnabled}},"mapStateToProps"),gr=(0,Fo.N)(pr)(da),Ar=cs.forwardRef((_e,re)=>cs.createElement(gr,Ko({},_e,{refToForward:re})));var yr=e(3462964303),Tr=e(6308822),wo=e(7299481592),Ir=e(5956851410),Cr=e(6909784049),Mr=e(8558782493),ua=e(1975685771);function Or(_e,re){const Se=Math.min(re.width,re.height*_e),Ne=Math.min(re.height,re.width/_e);return{top:re.top+(re.height-Ne)/2,left:re.left+(re.width-Se)/2,width:Se,height:Ne}}u(Or,"getLargestRectForAspectRatioCenteredWithinRect");let Ho=u(class extends cs.PureComponent{detectDifference(re,Se){return Math.abs(re-Se)>1}componentDidMount(){var re;(0,Io.tZ)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),(0,Mr.k)(It.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),(re=this.context.windowRef.deref())===null||re===void 0||re.addEventListener("resize",this.onResize),(0,ua.Z)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(re){let{isVideoReady:Se}=re;!Se&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){var re;this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),(re=this.context.windowRef.deref())===null||re===void 0||re.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!(0,ua.Z)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const re=this.videoRef.current;!re||re.videoHeight===0||this.setState(()=>({videoRect:Or(re.videoWidth/re.videoHeight,re.getBoundingClientRect())}))}render(){const re=cs.Children.only(this.props.children),Se=cs.cloneElement(re,{ref:(0,ca.N)(this.videoRef,re)});return cs.createElement(cs.Fragment,null,Se,this.state.videoRect&&cs.createElement(Ir.u,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&cs.createElement(Cr.o,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(re){super(re),this.videoRef=cs.createRef(),this.drawTargetRef=cs.createRef(),this.drawRenderRef=cs.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");Ho.displayName="GuestDraw",Ho.contextType=la.Mn;const Dr=u((_e,re)=>{const Se=(0,ns.gl)(_e);if(!Se)throw Error("Guest draw should not be mounted without an active peer");const Ne=(0,ns.JZ)(_e,Se);return{isDrawEnabled:!!Ne.isScreenshareEnabled&&!!Ne.isDrawEnabled,isScreenShareEnabled:!!Ne.isScreenshareEnabled}},"guest_draw_mapStateToProps"),_a=(0,Fo.N)(Dr)(Ho),Pr={isVideoReady:!1};let ma=u(class extends cs.PureComponent{onVideoReady(re){this.setState(Se=>({...Se,isVideoReady:re}))}renderVideo(){const{id:re,renderVideo:Se,tileId:Ne}=this.props;if(Se)return Se(this.isVideoEnabledAndReady());if(!re){(0,wo.M)("Cannot render video without a peer id");return}return cs.createElement(_a,{isVideoReady:this.state.isVideoReady},cs.createElement(Ar,{id:re,tileId:Ne,onVideoReady:this.onVideoReady,className:(0,so.A)({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:re,prefCompliantUserName:Se,member:Ne}=this.props;return cs.createElement("div",{className:(0,so.A)({hidden:this.state.isVideoReady})},cs.createElement("div",{className:"p-active_speaker__member_image_wrapper"},cs.createElement(yr.Ay,{className:(0,so.A)({"p-active_speaker__member_image--spinning":re}),size:180,userId:Ne&&Ne.id,isInteractive:!1,tabIndex:-1}),re&&cs.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},cs.createElement(Tr.A,{color:"white"}))),cs.createElement("div",{className:"p-active_speaker__member_name"},Se))}isVideoEnabledAndReady(){const{isVideoEnabled:re,isVideoEnabledAndReady:Se}=this.props;return Se?Se(re):!!(re&&this.state.isVideoReady)}render(){const{isVideoEnabled:re}=this.props,Se=(0,so.A)("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return cs.createElement("div",{"data-qa":"active-speaker",className:Se},re&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(re){super(re),this.state=Pr,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");ma.displayName="ActiveSpeaker";function Sr(_e,re){const Se=(0,Ee.nv)(_e,re),Ne=(0,fr.sE)(_e,Se);return{member:Se,prefCompliantUserName:Ne}}u(Sr,"mapCommonMemberState");const Rr=u((_e,re)=>{const Se=(0,ns.JZ)(_e,re.id),Ne=Se.isCameraEnabled,nt=Se.isScreenshareEnabled,Je=(0,ns.fy)(Se)?(0,Wt.WR)(_e):Se.userId;return{tileId:re.tileId,isVideoEnabled:Ne||nt,isSpinning:Se.isConnected===!1,...Sr(_e,Je)}},"active_speaker_mapStateToProps"),Lr=(0,Fo.N)(Rr)(ma);var br=e(1429018002);function Vo(){return Vo=Object.assign||function(_e){for(var re=1;re<arguments.length;re++){var Se=arguments[re];for(var Ne in Se)Object.prototype.hasOwnProperty.call(Se,Ne)&&(_e[Ne]=Se[Ne])}return _e},Vo.apply(this,arguments)}u(Vo,"with_free_willy_guest_draw_extends");const ha=u(_e=>u(class extends cs.PureComponent{addEventListeners(Se,Ne,nt){Se.current&&(Se.current.addEventListener("canplay",Ne),nt&&Se.current.addEventListener("resize",Ne))}removeEventListeners(Se,Ne,nt){Se.current&&(Se.current.removeEventListener("canplay",Ne),nt&&Se.current.removeEventListener("resize",Ne))}render(){return cs.createElement(_e,Vo({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");ha.displayName="withFreeWillyGuestDraw";const kr=ha;function jo(){return jo=Object.assign||function(_e){for(var re=1;re<arguments.length;re++){var Se=arguments[re];for(var Ne in Se)Object.prototype.hasOwnProperty.call(Se,Ne)&&(_e[Ne]=Se[Ne])}return _e},jo.apply(this,arguments)}u(jo,"with_free_willy_active_speaker_extends");const Ur=kr(_a),va=u(_e=>u(class extends cs.PureComponent{isVideoEnabledAndReady(Se){return Se}renderVideo(Se){const{id:Ne,tileId:nt}=this.props;if(!Ne){(0,wo.M)("Cannot render video without a peer id");return}return cs.createElement(Ur,{isVideoReady:Se},cs.createElement(br.A,{id:Ne,tileId:nt,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return cs.createElement(_e,jo({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(Se){super(Se),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");va.displayName="withFreeWillyActiveSpeaker";const Nr=va;var Br=e(6122756707),xr=e(6084388622),Ea=e(1049642794),Wr=e(5043394918);const Fr=new To.Ay("huddles"),fa=u(()=>{const _e=(0,Br.wA)(),re=(0,Wo.d4)(Ne=>!!(0,ns.WQ)(Ne,"isMicrophoneEnabled")),Se=(0,cs.useCallback)(()=>{_e((0,Ea.A)(!re))},[re,_e]);return cs.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},cs.createElement(xr.Ay,{className:(0,so.A)("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":re}),onClick:Se,type:"outline",role:"switch",size:"large","aria-label":Fr.t("Microphone"),"aria-checked":re,disabled:!self},cs.createElement(Wr.A,{peerId:"self",isMicrophoneEnabled:re,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");fa.displayName="HuddleScreenViewerMicButton";const Kr=fa,wr=Nr(Lr),Hr=new To.Ay("huddles");function pa(_e){const{peerId:re,isError:Se}=_e,Ne=(0,Wo.d4)(ns.vz),nt=(0,Wo.d4)(Jn=>re?(0,ns.JZ)(Jn,re):null);let Je;if(Ne){var Pt,rt;Je=nt!=null&&nt.isScreenshareEnabled?nt==null||(Pt=nt.tileIds)===null||Pt===void 0||(rt=Pt.screenshare)===null||rt===void 0?void 0:rt.tileId:null}const mn=cs.createElement("span",{className:"p-huddle_screen_viewer__error"},Hr.t("The screen share has ended."));return cs.createElement("div",{className:"p-huddle_screen_viewer__container"},re&&!Se&&cs.createElement(wr,{id:re,tileId:Je}),Se?mn:cs.createElement(Kr,null))}u(pa,"HuddleScreenViewer"),pa.displayName="HuddleScreenViewer";var Vr=e(4385664584),jr=e(9211483338);const Ds={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},kl=null,ga=new To.Ay("huddles"),Gr=u(_e=>{var re;const Se=_e==null||(re=_e.document)===null||re===void 0?void 0:re.querySelectorAll(".p-huddle_screen_viewer__container"),Ne=Se?Se.length:0,nt=(0,Io.tZ)("SCREENSHARE-VIEWER-APP");Ne>1?nt.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):nt.info(`${Ne} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),Co=u(()=>{const{container:_e,childWindow:re}=Ds;_e&&(cr.unmountComponentAtNode(_e),Ds.containerTileId=void 0,Ds.container=void 0),re&&(re.removeEventListener("beforeunload",Co),re.close(),Ds.childWindow=void 0,Ds.childWindowToken=void 0)},"closeScreenShareWindow"),zr=(0,i.Ay)("Launch the window that renders screen share media",function(){var _e=(0,xo.coroutine)(function*(re,Se,Ne){var nt,Je,Pt;const rt=Se(),mn=(0,s.Ay)({state:rt}),Jn=Ne!=null&&Ne.screenSharePeerId?Ne.screenSharePeerId:(0,ns.vN)(rt);let rs=!1;const{container:Ss,containerTileId:Jt}=Ds;Jn||(mn.warn(uo.o7,"lastRemoteScreensharePeerId is not found"),rs=!0);const Un=(0,ns.JZ)(rt,Jn||""),Fn=Un.userId?(0,_r.I)(rt,Un.userId):"";let vs=ga.t("Screen share");Fn&&(vs=ga.t("{memberName} screen share",{memberName:(0,To.nr)(Fn)}));const ys={...vr.P,backgroundColor:"black",title:vs,type:"huddle-call-screen-share"},Is=(0,_.getStateForClientStore)();(0,Ts.Ak)(Is)||(mn.warn(uo.o7,"no active huddle found"),rs=!0);const Vs=(Un==null||(nt=Un.tileIds)===null||nt===void 0||(Je=nt.screenshare)===null||Je===void 0?void 0:Je.tileId)||0;(0,_.dispatchForClientStore)((0,_o.cn)({tileId:Vs}))||(mn.warn(uo.o7,"video tile does not have stream"),rs=!0);const eo=!Ds.childWindow||Ds.childWindow.closed;if(eo&&(0,M.y3)()){const{window:ro,windowToken:Ao}=yield(0,ur.wK)("",ys);Ds.childWindow=ro,Ds.childWindowToken=Ao}else eo&&(Ds.childWindow=window.open("",vs,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!Ds.childWindow){mn.warn(uo.o7,"No child window available. Exiting screen share window launch");return}const Ys=(0,mr.ZT)(rt);Ds.childWindow.document&&(Ds.childWindow.document.body.style.background="black");const po={windowRef:(0,jr.O)(Ds.childWindow),windowToken:Ds.childWindowToken};if(eo&&(Ds.childWindow.addEventListener("beforeunload",Co),window.addEventListener("beforeunload",Co)),!(Ss&&Jt===Vs)||eo){Ds.containerTileId=Vs;const ro=(0,_.getStoreInstanceByTeamId)(Ys);Ds.container=yield(0,hr.s)(Ds.childWindow,cs.createElement(Vr.A,{store:ro},cs.createElement(la.Mn.Provider,{value:po},cs.createElement(Er.A,{shouldStopHuddle:!0},cs.createElement(pa,{peerId:Jn,isError:rs})))),{useContainer:!0})}const go=(Pt=Ds.childWindow)===null||Pt===void 0?void 0:Pt.browserWindowId;go?(0,T.hN0)(go):(0,dr.A)(Ds.childWindow.focus)&&Ds.childWindow.focus(),Gr(Ds.childWindow)});return function(re,Se,Ne){return _e.apply(this,arguments)}}());zr.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var Mo=e(9712681361),$r=e(5761207079);const Aa=(0,i.Ay)("alerts if a user joins the huddle and the current user has hidden that user",(_e,re,Se)=>{let{userId:Ne}=Se;const nt=re();(0,$r.a)(nt,Ne)&&_e((0,no.Iw)(no.vT.HiddenUserJoinedHuddle))});Aa.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var Ns=e(462591818),ya=e(9640070512),Ta=e(2527782504),Ia=e(5954792826),ws=e(700984029),Oo=e(1829947126),Yr=e(9009528296),Qr=e(1289024643),mo=e(9853754481),Ca=e(9372409576);const Ma=(0,i.Ay)("Send call analytics to the server",(_e,re,Se)=>{const Ne=re().activeCall;let nt;if(Se&&Se.callId?nt=Se.callId:Ne&&Ne.id&&(nt=Ne.id),!nt){(0,wo.M)("There should be an active call in progress in order to send analytics.");return}const Je=Jr(new Ca.$.calls.analytics.Report(Se.stats),re()),Pt=Ca.$.calls.analytics.Report.encode(Je).finish(),rt=String.fromCharCode(...Pt);return _e((0,jt.apiCall)({method:"screenhero.rooms.postAnalytics",args:{room:nt,analytics:btoa(rt)},reason:"calls-analytics"}))});Ma.meta={name:"createThunk",key:"createThunksendAnalytics",description:"Send call analytics to the server"};function Jr(_e,re){const Se=_e;return Se.recv=_e.recv.map(Ne=>{if(Ne.peerId){const nt=(0,ns.C1)(re,Ne.peerId);if(nt){const Je=Ne;Je.userId=nt.userId}}if(Ne.peerIdString){const nt=(0,ns.C1)(re,Ne.peerIdString);if(nt){const Je=Ne;Je.userId=nt.userId}}return Ne}),Se.recv=Se.recv.filter(Ne=>!!Ne.userId),_e}u(Jr,"mapPeerIdsToUserIds");var Xr=e(5046160032),Oa=e(8445020572),Zr=e(4914127094),Go=e(8935621861),ho=e(415910655);const qr=(0,s.Wo)({label:"SEND-MEETING-EVENTS-LOGGER"}),Da="screenhero.rooms.proxyMeetingEvents",Pa=(0,i.Ay)("Send meeting events to the server",function(){var _e=(0,xo.coroutine)(function*(re,Se,Ne){let nt;try{nt=JSON.stringify(Ne.events)}catch(mn){qr.error(mn.message);return}const{metrics:Je,teamId:Pt}=ei();if(Ne.isUnloading){const mn={app:Ne.app,meeting_id:Ne.meetingId,media_region:Ne.mediaRegion,attendee_id:Ne.attendeeId,call_id:Ne.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:nt,preferred_media_region:yield Go.A.getInstance().getNearestChimeMediaRegion(Pt),audio_connected_time:(Je==null?void 0:Je.audioConnectedTime)||0,first_presence_time:(Je==null?void 0:Je.firstPresenceTime)||0,rooms_join_time:(Je==null?void 0:Je.roomsJoinTime)||0,sdk_initialized_time:(Je==null?void 0:Je.sdkInitializedTime)||0,chime_attendee_presence_time:Ne.attendeePresenceDuration?Ne.attendeePresenceDuration:(Je==null?void 0:Je.attendeePresenceDuration)||0,chime_meeting_start_time:Ne.meetingStartDuration?Ne.meetingStartDuration:(Je==null?void 0:Je.meetingStartDuration)||0,chime_signaling_open_time:Ne.signalingOpenDuration?Ne.signalingOpenDuration:(Je==null?void 0:Je.signalingOpenDuration)||0,chime_ice_gathering_time:Ne.iceGatheringDuration?Ne.iceGatheringDuration:(Je==null?void 0:Je.iceGatheringDuration)||0,voice_focus_init_time:(Je==null?void 0:Je.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(Je==null?void 0:Je.credentialsToVoiceFocusInitializedTime)||0};return(0,Xr.A)({apiUrl:"/api/",method:Da,token:(0,Zr.F)(Se()),versionTs:(0,Oa.HF)(),versionUid:(0,Oa.X3)(),args:mn})?Ot.S.resolve():Ot.S.reject(new Error("sendMeetingEvents: beacon failed"))}const rt=Ne.isEnding?{app:Ne.app,meeting_id:Ne.meetingId,media_region:Ne.mediaRegion,attendee_id:Ne.attendeeId,events:nt,call_id:Ne.callId,preferred_media_region:yield Go.A.getInstance().getNearestChimeMediaRegion(Pt),audio_connected_time:(Je==null?void 0:Je.audioConnectedTime)||0,first_presence_time:(Je==null?void 0:Je.firstPresenceTime)||0,rooms_join_time:(Je==null?void 0:Je.roomsJoinTime)||0,sdk_initialized_time:(Je==null?void 0:Je.sdkInitializedTime)||0,chime_attendee_presence_time:Ne.attendeePresenceDuration?Ne.attendeePresenceDuration:(Je==null?void 0:Je.attendeePresenceDuration)||0,chime_meeting_start_time:Ne.meetingStartDuration?Ne.meetingStartDuration:(Je==null?void 0:Je.meetingStartDuration)||0,chime_signaling_open_time:Ne.signalingOpenDuration?Ne.signalingOpenDuration:(Je==null?void 0:Je.signalingOpenDuration)||0,chime_ice_gathering_time:Ne.iceGatheringDuration?Ne.iceGatheringDuration:(Je==null?void 0:Je.iceGatheringDuration)||0,voice_focus_init_time:(Je==null?void 0:Je.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(Je==null?void 0:Je.credentialsToVoiceFocusInitializedTime)||0}:{app:Ne.app,meeting_id:Ne.meetingId,media_region:Ne.mediaRegion,attendee_id:Ne.attendeeId,events:nt,call_id:Ne.callId};return re((0,jt.apiCall)({method:Da,args:rt,reason:"calls-chime-events"}))});return function(re,Se,Ne){return _e.apply(this,arguments)}}());Pa.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function ei(){const _e=(0,_.getStateForClientStore)(),{teamId:re}=(0,Ts.Qn)(_e)||{};return{metrics:(0,ho.s2)(),teamId:re}}u(ei,"getCallMetricsAndTeamId");const ti=(0,s.Wo)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),Sa=(0,i.Ay)("Handle Chime meeting events",(_e,re,Se)=>{let{events:Ne,callId:nt,meetingId:Je,mediaRegion:Pt,attendeeId:rt,isUnloading:mn,isEnding:Jn}=Se;const rs=ni(Ne);!(0,vn.A)(rs)&&!mn&&!Jn&&(0,ho.jm)(rs),_e(Pa({events:Ne,app:"huddles",callId:nt,meetingId:Je,mediaRegion:Pt,attendeeId:rt,isUnloading:mn,isEnding:Jn,attendeePresenceDuration:rs.attendeePresenceDuration,signalingOpenDuration:rs.signalingOpenDuration,iceGatheringDuration:rs.iceGatheringDuration,meetingStartDuration:rs.meetingStartDuration}))});Sa.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function ni(_e){const re={};return _e.forEach(Se=>{let{message:Ne}=Se;try{const mn=JSON.parse(Ne);switch(mn.name){case"attendeePresenceReceived":var nt;re.attendeePresenceDuration=(nt=mn.attributes)===null||nt===void 0?void 0:nt.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var Je,Pt,rt;re.signalingOpenDuration=(Je=mn.attributes)===null||Je===void 0?void 0:Je.signalingOpenDurationMs,re.iceGatheringDuration=(Pt=mn.attributes)===null||Pt===void 0?void 0:Pt.iceGatheringDurationMs,re.meetingStartDuration=(rt=mn.attributes)===null||rt===void 0?void 0:rt.meetingStartDurationMs;break;default:break}}catch(mn){ti.error("Invalid JSON in meeting event",mn)}}),re}u(ni,"parseMeetingEventMetrics");const si=Sa;var $s=e(6758774099),oi=e(4988306802);const Ra=(0,i.Ay)("Process AWS transcript event",(_e,re,Se)=>{var Ne;if((0,co.VW)(Se))return;const nt=Se.results[0];if(!(nt!=null&&nt.resultId)||!(0,oi.TP)(re()))return;const Je=(Ne=nt.alternatives[0])===null||Ne===void 0?void 0:Ne.items;if(!(Je!=null&&Je.length)){_e((0,$s.h2)({resultId:nt.resultId,transcriptions:[]}));return}const Pt=[];Je.forEach(rt=>{var mn;const Jn=Pt[Pt.length-1],rs=(0,Ia.l)((mn=rt.attendee)===null||mn===void 0?void 0:mn.externalUserId);rs&&(rt.type===co.E9.PUNCTUATION?Jn&&(Jn.content=`${Jn.content}${rt.content}`,Jn.endTimeMs=rt.endTimeMs):Pt.push({memberId:rs,timestampMs:rt.startTimeMs,endTimeMs:rt.endTimeMs||Date.now(),content:rt.content}))}),_e((0,$s.h2)({resultId:nt.resultId,transcriptions:Pt}))});Ra.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};const ai=Ra;var oo=e(8783285437),ri=e(6155974509);const La=(0,i.Ay)("Maybe disable the screen share",function(){var _e=(0,xo.coroutine)(function*(re,Se){const Ne=(0,Io.tZ)("CALLS-REDUX");Se().peers.self.isScreenshareEnabled&&(Ne.info("Attempted to turn off screen sharing"),re((0,ns.kT)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),(0,ri.a)()});return function(re,Se){return _e.apply(this,arguments)}}());La.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var ao=e(9190452268),ks=e(9680914051),Js=e(1990810649),ba=e(5145584581),ii=e(9365970888),Do=e(7592559649),zo=e(6251210828),ka=e(7439555287),li=e(6470070112),ci=e(8556787853);let di=u(class{onPeerMuted(re,Se){this.dispatch((0,ns.kT)({id:re,isMicrophoneEnabled:!Se}))}onPeerJoined(re,Se){if(this.maybeRecordFirstPresenceTime(),Se&&re){this.dispatch((0,ns.Uu)({id:re,userId:Se,isMicrophoneEnabled:!0})),this.dispatch(Bo());const Ne=(0,ns.Ng)(this.store.getState());(0,_.dispatchForClientStore)((0,q.Rr)({isDrawEnabled:Ne.isDrawEnabled||!1})),this.dispatch((0,$s.U$)({type:oo.v.JOIN,memberId:Se,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(Se),this.dispatch(Aa({userId:Se}))}}onPeerLeft(re){var Se;const Ne=(Se=(0,ns.jB)(this.store.getState(),re))===null||Se===void 0?void 0:Se.userId;Ne&&(this.callLogger.info(`Peer left the huddle. userId=${Ne} peerId=${re}`),this.dispatch((0,$s.U$)({type:oo.v.LEAVE,memberId:Ne,timestampMs:Date.now()}))),this.dispatch((0,ns.xx)(re)),this.dispatch(Bo())}onSelfJoined(){const re=this.recordTiming(ks.qK);this.maybeRecordFirstPresenceTime(),this.dispatch(or(re)),(0,_.dispatchForClientStore)((0,q.wr)())}onSelfLeft(){this.dispatch((0,no.LL)(ts.vT.HiddenUserJoinedHuddle))}onNewActiveSpeaker(re){this.dispatch((0,ns.FX)(re))}onPeerReacji(re,Se,Ne,nt,Je){var Pt;const rt=this.store.getState(),Jn=(0,Qt.hw)(rt)&&Je?(0,ci.Ay)(rt,{url:Je}):void 0;this.dispatch((0,ns._x)({peerId:re,emoji:Se,isEmoji:Ne,reactionType:nt,emojiUrl:Jn}));const rs=(Pt=(0,ns.jB)(this.store.getState(),re))===null||Pt===void 0?void 0:Pt.userId;rs&&this.dispatch((0,$s.U$)({type:oo.v.SEND_REACTION,memberId:rs,timestampMs:Date.now(),emoji:Se}))}onPeerMuteRequest(re,Se){Se===this.selfAttendeeId&&(this.dispatch((0,Ea.A)(!1)),this.dispatch((0,ts.CE)({alert:ts.vT.PeerMuteRequest,peerId:re})),this.callLogger.info(`Peer muted self microphone : peerId:${re}`))}onError(re,Se){let Ne;Se===co.b9[co.b9.AudioJoinedFromAnotherDevice]?Ne=Mo.M6.AudioJoinedFromAnotherDevice:Se===co.b9[co.b9.MeetingEnded]&&(Ne=(0,li.ew)((0,ka.KA)().getState())?Mo.M6.ChimeMeetingEndedFromTimeLimit:Mo.M6.ChimeMeetingEnded),this.dispatch((0,sr.A)({terminalState:Ne||re})),this.callLogger.info(`tearDown executed: terminalState: ${re}, statusCodeName: ${Se} tearDownState: ${Ne}`)}onClogError(re){}onMeetingSessionInitialized(){this.recordTiming(ks.W_);const re=(0,ao.Cy)({state:this.store.getState()}),Se=re.measure(ks.Bq,ks.CY);re.count(ks.CY,Se),(0,ho.jm)({sdkInitializedTime:Se})}onSelfPermissionUpdated(re,Se){this.callLogger.info(`Received permission update from type:${Se}, isDenied: ${re}`);let Ne;(0,M.y3)()?Ne=Se===bs.lW.Microphone?ts.vT.NoSystemAudio:ts.vT.NoSystemVideo:Ne=Se===bs.lW.Microphone?ts.vT.NoBrowserAudioPermission:ts.vT.NoBrowserVideoPermission,re?this.dispatch((0,ts.CE)({alert:Ne})):this.dispatch((0,ts.Gu)(Ne))}onSelfVideoTileUpdate(re){if(!re.tileId)return;const Se=(0,ns.Ng)(this.getState());if(!re.isContent&&!Se.isCameraEnabled)return;if(!(0,ns.vz)(this.getState()))this.dispatch((0,$s.U$)({type:oo.v.SCREENSHARE_START,memberId:(0,Wt.WR)(this.getState()),timestampMs:Date.now()})),this.dispatch((0,ns.kT)({id:"self",tileId:re.tileId,isScreenshareEnabled:!!re.isContent}));else if(re.isContent){var nt,Je;this.dispatch((0,$s.U$)({type:oo.v.SCREENSHARE_START,memberId:(0,Wt.WR)(this.getState()),timestampMs:Date.now()}));const Pt=(0,ns.JC)(this.getState());((nt=Se.tileIds)===null||nt===void 0||(Je=nt.screenshare)===null||Je===void 0?void 0:Je.tileId)!==re.tileId&&Pt!==Js.cM.Screenshare&&this.dispatch((0,ba.x)({peerId:"self",contentViewType:Js.cM.None,contentViewConfig:{}})),this.dispatch((0,ns.kT)({id:"self",tileId:re.tileId,isScreenshareEnabled:!!re.isContent}))}else this.dispatch((0,ns.kT)({id:"self",tileId:re.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(re,Se){if(!Se.tileId)return;const Ne=Se.boundExternalUserId&&(0,Ia.l)(Se.boundExternalUserId);Se.isContent&&Ne&&(this.callLogger.info(`Peer screenshare started: userId=${Ne}`),this.dispatch((0,$s.U$)({type:oo.v.SCREENSHARE_START,memberId:Ne,timestampMs:Date.now()}))),this.dispatch((0,ns.BD)({id:re,tileId:Se.tileId,isContent:Se.isContent,isPaused:Se.paused}))}onVideoTileRemoved(re){var Se,Ne;const nt=this.store.getState(),Je=(0,ns.v2)(nt,re);Je&&(this.callLogger.info(`Peer screenshare stopped: userId=${Je}`),this.dispatch((0,$s.U$)({type:oo.v.SCREENSHARE_STOP,memberId:Je,timestampMs:Date.now()}))),this.dispatch((0,ns.Qr)({tileId:re})),Co();const Pt=(0,ns.Ng)(nt);((Se=Pt.tileIds)===null||Se===void 0||(Ne=Se.screenshare)===null||Ne===void 0?void 0:Ne.tileId)===re&&Pt.contentViewType===Js.cM.Screenshare&&this.dispatch((0,ba.x)({peerId:"self",contentViewType:Js.cM.None,contentViewConfig:{}}))}onVideoTileWillPause(re){this.dispatch((0,ns.K3)({tileId:re}))}onVideoTileWillUnpause(re){this.dispatch((0,ns.XS)({tileId:re}))}onDeviceAccessApproved(re){switch(re){case Ns.mT.MICROPHONE:{(0,M.y3)()?(this.dispatch((0,ts.Gu)(ts.vT.NoSystemAudio)),this.dispatch((0,ws.er)())):(this.dispatch((0,ts.Gu)(ts.vT.NoBrowserAudioPermission)),this.dispatch((0,ws.ZY)()));break}case Ns.mT.CAMERA:{(0,M.y3)()?(this.dispatch((0,ts.Gu)(ts.vT.NoSystemVideo)),this.dispatch((0,ws.NH)())):(this.dispatch((0,ts.Gu)(ts.vT.NoBrowserVideoPermission)),this.dispatch((0,ws.in)()));break}default:}}onCheckSystemMediaAccess(re){switch(re){case Ns.mT.MICROPHONE:{this.dispatch((0,ws.tG)()),this.dispatch((0,ts.CE)({alert:ts.vT.NoSystemAudio}));break}case Ns.mT.CAMERA:{this.dispatch((0,ws.Yr)()),this.dispatch((0,ts.CE)({alert:ts.vT.NoSystemVideo}));break}case Ns.mT.SCREEN:{this.dispatch((0,ws.J3)()),this.dispatch((0,ts.CE)({alert:ts.vT.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(re){switch(this.callLogger.error(`Self ${re} device access denied`),re){case Ns.mT.MICROPHONE:{this.dispatch((0,ws.cH)()),this.dispatch((0,ts.CE)({alert:ts.vT.NoBrowserAudioPermission}));break}case Ns.mT.CAMERA:{this.dispatch((0,ws.px)()),this.dispatch((0,ts.CE)({alert:ts.vT.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(re){switch(re){case Ns.mT.MICROPHONE:{this.dispatch((0,ts.CE)({alert:ts.vT.NoUserAudioStream}));break}case Ns.mT.CAMERA:{const Se=(0,ii.ly)(this.getState());if((0,_.dispatchForClientStore)((0,q.WM)({setVideoEnabled:!1})),!(0,M.y3)()&&Se)break;this.dispatch((0,ts.CE)({alert:ts.vT.NoUserVideoStream}));break}default:}}onClearNoMediaInput(re){switch(re){case Ns.mT.MICROPHONE:{this.dispatch((0,ts.Gu)(ts.vT.NoUserAudioStream));break}case Ns.mT.CAMERA:{this.dispatch((0,ts.Gu)(ts.vT.NoUserVideoStream));break}default:}}onSetNoAudioOutput(re){switch(re){case Ns.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,ts.CE)({alert:ts.vT.NoAudioOutputAudioElementError}));break}case Ns.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,ts.CE)({alert:ts.vT.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(re){switch(re){case Ns.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,ts.Gu)(ts.vT.NoAudioOutputAudioElementError));break}case Ns.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,ts.Gu)(ts.vT.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch((0,ns.kT)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch((0,ns.kT)({id:"self",isConnected:!1})),ct.A.publish({type:ot.lx.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(re,Se){this.callLogger.info(`${re} audio packet loss changed to: ${Se}`)}onPeerConnected(re){this.callLogger.info(`peer connnected to chime media server ${re}`),this.dispatch((0,ns.E3)({id:re,isConnected:!0}))}onPeerDisconnected(re){this.callLogger.info(`peer disconnected from chime media server ${re}`),this.dispatch((0,ns.E3)({id:re,isConnected:!1}))}onPeerConnectionQualityChanged(re,Se,Ne){}onSelfMediaStreamChanged(re){}onNewPeerMediaStream(re,Se){}onScreenThumbnails(re){}onUpdatedSelfAudioLevel(re){Oo.A.publish("self",re/mo.Ep),Yr.A.publish(re/mo.Ep);const Se=this.store.getState();(0,Qt.Eg)(Se)&&Oo.A.publishAll("self",re/mo.Ep)}onUpdatedPeerAudioLevels(re){const Se=this.store.getState();Object.entries(re).forEach(nt=>{let[Je,Pt]=nt;Oo.A.publish(Je,Pt/mo.Ep)}),(0,Qt.Eg)(Se)&&Object.entries(re).forEach(nt=>{let[Je,Pt]=nt;Oo.A.publishAll(Je,Pt/mo.Ep)})}onPeerCameraActive(re,Se){const Ne=re==="self";this.callLogger.info(`${Ne?"Self":`Peer (${re})`} camera turned ${Se?"on":"off"}`),this.dispatch((0,ns.kT)({id:re,isCameraEnabled:Se}))}onPeerScreenShareActive(re,Se){const Ne=re==="self";this.callLogger.info(`${Ne?"Self":`Peer (${re})`} screenshare ${Se?"started":"stopped"}`)}onPeerDrawMessage(re,Se){lo.A.publish({id:re,...Se})}onPeerDrawEnabled(re,Se){this.dispatch((0,ns.kT)({id:re,isDrawEnabled:Se}))}onMediaStats(re,Se){this.dispatch(Ma({stats:re,callId:Se}))}onAppMetrics(re){let{appMetrics:Se,clientMetricReport:Ne,screenshareRtcStats:nt}=re;const Je=(0,nr.Ay)({state:this.getState(),appMetrics:Se});ct.A.publish({type:ot.lx.AppMetrics,update:{huddleStateSnapshot:Je,clientMetricReport:Ne,screenshareRtcStats:nt}})}onDevicesUpdated(re){this.dispatch((0,ws.Fb)(re))}onOutputDeviceChanged(re){this.callLogger.info(`Self audio output device changed: device: ${re.id}`),this.dispatch((0,ws.AS)(re))}onDeviceTypeBlocked(re){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(La());const Se=(0,_.getClientStoreInstance)().getState(),Ne=(0,Ts.Ak)(Se);!Ne||(0,vn.A)(Ne)||Ne.huddleState===Mo.RJ.ENDING||this.dispatch((0,ya.H)({focusKey:Ta.Ay.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch((0,ya.H)({focusKey:Ta.Ay.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){ct.A.publish({type:ot.lx.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){ct.A.publish({type:ot.lx.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){ct.A.publish({type:ot.lx.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){ct.A.publish({type:ot.lx.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(ks.dk)}onStart(){this.recordTiming(ks.Nh)}onAudioVideoDidStart(){this.recordTiming(ks.ck),(0,_.dispatchForClientStore)((0,q._U)(Date.now()))}onAudioVideoDidStop(){const re=(0,_.getClientStoreInstance)(),Se=(0,Ts.cN)(re==null?void 0:re.getState()),Ne=Date.now(),nt=Ne-Se;(0,_.dispatchForClientStore)((0,q.bV)(Ne)),(0,_.dispatchForClientStore)((0,q.qr)(nt))}onMaxTileSizeUpdated(re){this.dispatch((0,ns.l$)(re))}onInit(){this.recordTiming(ks.cP)}onVoiceFocusLoaded(){const re=(0,ao.Cy)({state:this.store.getState()}),Se=re.measure(ks.aN,ks.pz);re.count(ks.pz,Se),this.recordTiming(ks.qb)}onVoiceFocusStartLoading(){(0,ao.Cy)({state:this.store.getState()}).mark(ks.aN)}recordTiming(re){const Se=(0,ao.Cy)({state:this.store.getState()}),Ne=Se.measure(ks.qr,re);return Se.count(re,Ne),Ne}onMeetingEvents(re,Se,Ne,nt,Je,Pt,rt){this.dispatch(si({events:Je,callId:nt,meetingId:re,mediaRegion:Se,attendeeId:Ne,isUnloading:Pt,isEnding:rt}))}onMaybeVoiceFocusInitialized(re){const Ne=(0,ao.Cy)({state:this.store.getState()}).measure(ks.Bq,ks.bv);(0,ho.jm)({voiceFocusInitializedTime:re,credentialsToVoiceFocusInitializedTime:Ne})}onScreenShareError(re){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${re}`),re){case Ns.lD.NOT_FOUND_ERROR:{this.dispatch((0,ts.CE)({alert:ts.vT.SSNotFoundError}));break}case Ns.lD.NOT_READABLE_ERROR:{this.dispatch((0,ts.CE)({alert:ts.vT.SSNotReadableError}));break}case Ns.lD.ERROR:{this.dispatch((0,ts.CE)({alert:ts.vT.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch((0,ts.CE)({alert:ts.vT.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(re){this.dispatch(ai(re))}setSelfAttendeeId(re){this.selfAttendeeId=re}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(ks.dP),(0,ho.jm)({firstPresenceTime:this.firstPresenceTimeMs}))}onAudioInputTrackMuted(){this.dispatch((0,ts.CE)({alert:ts.vT.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch((0,ts.Gu)(ts.vT.AudioInputTrackMuted))}onJukeboxRequest(re){if(!(0,Qt.Eg)(this.getState()))return;const Ne=this.isDj(),Je=(0,zo.Rl)(this.getState())[re];!Ne||!Je||((0,_.dispatchForClientStore)((0,q.bk)({song:Je})),(0,_.dispatchForClientStore)((0,q._u)({song:Je})),(0,_.dispatchForClientStore)((0,q.WY)(Je)))}onJukeboxStopRequest(){!(0,Qt.Eg)(this.getState())||!this.isDj()||((0,_.dispatchForClientStore)((0,q.JM)()),(0,_.dispatchForClientStore)((0,q._u)({song:void 0})))}isDj(){var re;const Se=(0,Wt.WR)(this.getState()),Ne=(0,_.getClientStoreInstance)(),nt=(re=(0,Ts.Qn)(Ne==null?void 0:Ne.getState()))===null||re===void 0?void 0:re.callId,Je=(0,Do.gV)(this.getState(),{callId:nt}),Pt=(0,Do.gV)(this.getState(),{callId:nt,userId:Se});return!Je||!!Pt}maybeRemoveUserAsPending(re){const Se=(0,_.getClientStoreInstance)(),Ne=(0,Ts.E9)(Se==null?void 0:Se.getState());Ne&&this.dispatch((0,Qr.r_)({callId:Ne,userId:re}))}onContentShareDetailsUpdate(re,Se,Ne){this.dispatch((0,ns.kT)({id:re,isDrawEnabled:Se,contentShareSource:Ne}))}constructor(re){this.firstPresenceTimeMs=0,this.callLogger=(0,Io.Jt)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=re.dispatch,this.getState=re.getState,this.store=re}},"HuddleActionDispatcher");var ui=e(5741354339),vo=e(4066669727),Xs=e(8778137680),_i=e(7434063642),Ua=e(4156857608);let kt,$o,Zs;const mi="HUDDLE-SDK",hi="HUDDLE-CLIENT-MIDDLEWARE",Hs=(0,s.Wo)({label:hi}),Na=u(_e=>{_e.id==="self"&&(kt==null||kt.sendDrawMessage(_e))},"onPeerDrawPublish");function Yo(_e,re,Se,Ne){const nt=(0,Ts.E9)(_e),Je=(0,Ts.l4)(_e),Pt=Je?(0,_.getStoreInstanceByTeamId)(Je):void 0,rt=Pt?Pt.getState():void 0,mn=rt?(0,Wt.WR)(rt):void 0;nt&&mn&&(Pt==null||Pt.dispatch(re({user:mn,channel:nt,fieldValue:Se,experimentHuddlesMultiDeviceGroupOn:Ne})))}u(Yo,"maybeDispatchAwarenessUpdate");function Eo(_e,re,Se){const Ne=(0,Ts.E9)(_e),nt=(0,Ts.l4)(_e),Je=nt?(0,_.getStoreInstanceByTeamId)(nt):void 0,Pt=Je?Je.getState():void 0,rt=Pt?(0,Wt.WR)(Pt):void 0;Ne&&rt&&(Je==null||Je.dispatch(re({user:rt,channel:Ne,experimentHuddlesMultiDeviceGroupOn:Se})))}u(Eo,"maybeDispatchAwarenessRemove");const Ba=(0,Dt.Ay)("dispatches actions to huddles SDK",(_e,re,Se)=>{const Ne=_e.getState(),nt=u(()=>{const Jt=(0,Ts.l4)(Ne),Un=(0,_.getStoreInstanceByTeamId)(Jt);if(!Un)return{};const Fn=Un==null?void 0:Un.getState();if(!Fn)return{};const vs=(0,ns.Ng)(Fn)||{};return{huddlesVideoActive:(0,ns.vz)(Fn),self:vs}},"getIsHuddlesVideoActive");switch(Se.type){case q.kn.getType():{var Je;const Jt=Se.payload;$o=Jt==null||(Je=Jt.audioOutputRef)===null||Je===void 0?void 0:Je.current,Go.A.getInstance().init();break}case q.Sd.getType():{const{huddlesVideoActive:Jt,self:Un}=nt();kt&&kt.hasSession()&&(Jt?kt.selfVideoEnabled(!0,!!(Un!=null&&Un.isScreenshareEnabled)):kt.selfVideoEnabled(!0,!1));break}case q._I.getType():{const{huddlesVideoActive:Jt,self:Un}=nt();kt&&kt.hasSession()&&(Jt?kt.selfVideoEnabled(!1,!!(Un!=null&&Un.isScreenshareEnabled)):kt.selfVideoEnabled(!1,!1));break}case q.qW.getType():{Hs.info("BOOT","user agent:",navigator.userAgent);const Jt=Se.payload;let Un=Jt.isStartMuted;if(!$o){Hs.error("Missing audio output element");return}const{server:Fn,roomId:vs}=Jt.callResult,ys=Fn.attendee.AttendeeId,Is=Jt.waitForHuddleStart,Us=Jt.isPrejoin;(0,_.dispatchForClientStore)((0,q.og)(Us));const Vs=Us?(0,Ts.Qn)(Ne):(0,Ts.Ak)(Ne),{teamId:ea}=Vs||{},eo=(0,E.getFocusedWorkspace)(Ne),Ys=(0,_.getStoreInstanceByTeamId)(ea||eo),po=Ys?Ys.getState():void 0;if(!po){Hs.error("team state not available while initializing huddlesSdk. Returning early");return}Hs.info("client-huddles-middleware: Dispatching resetPeersStore"),Ys.dispatch((0,ns.VL)({huddlesVideoActive:!0})),Ys.dispatch((0,_i.X6)()),Un=Un||(0,Xe.ty)(po,"huddles_mute_by_default"),Un&&(Hs.info("Start huddle as muted as specified in user prefs"),Ys.dispatch((0,ns.kT)({id:"self",isMicrophoneEnabled:!1}))),Zs&&Zs.stop(!0),(0,ka.Gc)(eo),Zs=new Qs.w,Zs.start(vs);const ta=(0,ui.u)();ta.then(to=>{to&&(Hs.info("Log reporter stopped"),Zs==null||Zs.stop(!0,!1),Zs=void 0)});const go=new di(Ys),{ttiTrace:ro}=(0,ms.A)().getAllTraceHandlers();kt=new zs.Y(go,$o,mi),(0,is.Y)({name:is.R1.HuddlesSdk,ref:kt});const Ao=(0,Uo.Y)(Fn.attendee.ExternalUserId),Za=Xn(po,{server:Fn,isPrejoin:Us});if(!Za){Hs.error("sdk options not available. Returning early");return}const na=[],ko=ea||eo;if(Ao&&ko){const to=new vo.SV({teamId:ko,peerId:ys,topicId:Ao,isHuddlesAwarenessTimestampEnabled:(0,Qt.gG)(Ys.getState())});na.push(to);const qa=new vo.MC({teamId:ko});na.push(qa),vo.PL.watch(ko,Ao,to),(0,is.Y)({name:is.R1.ChimeChannelListener,ref:qa}),(0,is.Y)({name:is.R1.ChimeChannelBroadcaster,ref:to})}kt.initialize(Za,[Ns.mT.MICROPHONE],!!Un,Is,ta,na).then(()=>{const to=kt==null?void 0:kt.getMeetingMediaRegion();ro==null||ro.setMediaRegionTag(to),ct.A.publish({type:ot.lx.SelectedMediaRegion,update:{mediaRegionSelected:to}}),kt&&!Us&&(kt==null||kt.maybeBindAudioOutputElement(),kt==null||kt.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),go.setSelfAttendeeId(ys),lo.A.subscribe(Na),Hs.info("User started huddle");break}case q.pl.getType():{const Jt=Se.payload;if(kt){const{waitForHuddleEnd:Un}=Jt;kt.shutdown(()=>{Un.resolve()});const Fn=(0,E.getFocusedWorkspace)(Ne),vs=(0,_.getStoreInstanceByTeamId)(Fn);vs==null||vs.dispatch((0,no.LL)(no.vT.SpeakingWhenMuted));const ys=(0,Qt.pL)(vs==null?void 0:vs.getState()),Is=(0,Ts.E9)(Ne);Is&&(Eo(Ne,Xs.RZ,ys),Eo(Ne,Xs.Lm,ys),vo.PL.unwatch(Is)),lo.A.unsubscribe(Na),Hs.info("User left huddle")}kt=void 0,vo.PL.unwatchAll(),(0,is.N5)();break}case q.I9.getType():{const Jt=Se.payload;if(kt&&kt.hasSession()&&(kt.selfMicrophoneEnabled(Jt),Jt)){const Un=(0,E.getFocusedWorkspace)(Ne),Fn=(0,_.getStoreInstanceByTeamId)(Un);Fn==null||Fn.dispatch((0,no.LL)(no.vT.SpeakingWhenMuted))}break}case q.nU.getType():{const Jt=Se.payload;kt&&kt.hasSession()&&kt.sendReacji(Jt.emoji,Jt.reactionType,Jt.emojiUrl);break}case q.M4.getType():{const Jt=Se.payload;if(kt&&kt.hasSession()){const Un=(0,Ts.l4)(Ne),Fn=(0,_.getStoreInstanceByTeamId)(Un);if(!Fn)return;const vs=(0,Qt.pL)(Fn.getState()),ys=(0,Ts.E9)(Ne),Is=(0,Wt.WR)(Fn.getState());if(ys){var Pt;if(((Pt=(0,Do.Fb)(Fn.getState(),ys,Is,vs?"self":void 0))===null||Pt===void 0?void 0:Pt.field_value)===Jt)Eo(Ne,Xs.RZ,vs),(0,Ts.Rv)(Ne)&&Jt!=="speaker"&&(Fn==null||Fn.dispatch((0,Ua.a)({emoji:"speaker",reactionType:Js.o.Sticker})));else{Yo(Ne,Xs.z7,Jt,vs);const{huddleEventsTrace:Vs}=(0,ms.A)().getAllTraceHandlers();Vs==null||Vs.update({name:js.p.REACTION,type:js.G.ONCE,tags:{reactionType:Js.o.Sticker}})}}}break}case q.so.getType():{const Jt=Se.payload;kt&&kt.hasSession()&&kt.sendMuteRequest(Jt);break}case q.ol.getType():{const Jt=Se.payload;kt&&kt.hasSession()&&kt.setAGC(Jt);break}case q.HC.getType():{const Jt=Se.payload;kt&&kt.hasSession()&&kt.setNewPreferredDevice(Jt==null?void 0:Jt.id,Jt==null?void 0:Jt.type);break}case q.yR.getType():{const Jt=Se.payload;kt&&kt.hasSession()&&kt.setNoiseSuppression(Jt);break}case q.Rb.getType():{const Jt=Se.payload;kt&&kt.hasSession()&&kt.setVideoBackgroundEffect(Jt);break}case q.YA.getType():{const{huddlesVideoActive:Jt,self:Un}=nt(),Fn=Se.payload,vs=!!(Un!=null&&Un.isCameraEnabled);if(kt&&kt.hasSession()){var rt,mn;const ys=(0,Ts.l4)(Ne),Is=(0,_.getStoreInstanceByTeamId)(ys);Jt?kt.selfVideoEnabled(vs,!0,Fn==null?void 0:Fn.mediaSourceId,Fn):kt.selfVideoEnabled(!1,!0,Fn==null?void 0:Fn.mediaSourceId,Fn);let Us=(Fn==null||(rt=Fn.mediaSourceId)===null||rt===void 0?void 0:rt.startsWith("screen:"))||!1;!(Fn==null||(mn=Fn.mediaSourceId)===null||mn===void 0)&&mn.startsWith("window:")&&(0,Ls.LD)()&&(Us=!0),kt.selfDrawEnabled((0,oa.A)()&&Us);const Vs=(0,Ls.k0)((Fn==null?void 0:Fn.mediaSourceId)||"");kt.sendContentShareDetails(Vs),Is==null||Is.dispatch((0,ns.kT)({id:"self",isDrawEnabled:Us,isCameraEnabled:vs,contentShareSource:Vs}))}break}case q.QZ.getType():{const{huddlesVideoActive:Jt,self:Un}=nt(),Fn=Jt?Un.isCameraEnabled:!1;if(kt&&kt.hasSession()){const vs=(0,Ts.l4)(Ne),ys=(0,_.getStoreInstanceByTeamId)(vs);kt.selfVideoEnabled(!!Fn,!1),ys==null||ys.dispatch((0,ns.kT)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case ws.Oh.getType():return kt&&kt.hasSession()?kt.getScreenThumbnails():Ot.S.resolve(null);case q.nI.getType():{const Jt=Se.payload;if(kt&&kt.hasSession()){var Jn;const Un=(0,Ts.l4)(Ne),Fn=(0,_.getStoreInstanceByTeamId)(Un);if(!Fn)return;const vs=(0,Qt.pL)(Fn.getState()),ys=(0,Ts.E9)(Ne),Is=(0,Wt.WR)(Fn.getState());if(!ys)return;const Us=(Jn=(0,Do.Fb)(Fn.getState(),ys,Is,vs?"self":void 0))===null||Jn===void 0?void 0:Jn.field_value;return(Jt||Us==="speaker")&&(0,_.dispatchForClientStore)((0,Ua.a)({emoji:"speaker",reactionType:Js.o.Sticker})),kt.toggleAllIncomingVideo(Jt)}return Ot.S.resolve(null)}case q.WY.getType():{const Jt=Se.payload;if(kt&&kt.hasSession()){const Un=(0,Ts.l4)(Ne);if(!(0,_.getStoreInstanceByTeamId)(Un))return;(0,Ts.E9)(Ne)&&Yo(Ne,Xs.yT,Jt.key)}break}case q.Lx.getType():{const Jt=Se.payload;kt&&kt.hasSession()&&kt.sendJukeboxRequest(Jt.key);break}case q.OA.getType():{kt&&kt.hasSession()&&kt.sendJukeboxStopRequest();break}case q.Db.getType():{kt&&kt.hasSession()&&kt.sendRecordingStartNotification();break}case q.bk.getType():{const Jt=Se.payload;if(kt&&kt.hasSession()){const Un=(0,Ts.l4)(Ne),Fn=(0,_.getStoreInstanceByTeamId)(Un);if(!(0,Qt.Eg)(Fn.getState()))return;kt.startContentShareJukebox({song:Jt.song})}break}case q.JM.getType():{if(kt&&kt.hasSession()){const Jt=(0,Ts.l4)(Ne),Un=(0,_.getStoreInstanceByTeamId)(Jt);if(!Un||!(0,Qt.Eg)(Un.getState()))return;kt.selfStopJukebox(),Eo(Ne,Xs.S)}break}case ws.e$.getType():{if(kt&&kt.hasSession()){const Jt=Se.payload.mediaResourceType;return kt.maybeCheckSystemMediaAccess(Jt)}return Ot.S.resolve(null)}case _o.d2.getType():{if(kt&&kt.hasSession()){const{payload:{tileId:Jt,videoRef:Un,shouldAttachStream:Fn}}=Se;kt.bindVideo(Jt,Un.current,Fn)}break}case _o.gJ.getType():{if(kt&&kt.hasSession()){const{payload:{tileId:Jt,videoRef:Un,shouldDetachStream:Fn}}=Se;kt.unbindVideo(Jt,Un.current,Fn)}break}case _o.WY.getType():{if(kt&&kt.hasSession()){const{payload:{tileId:Jt}}=Se;kt.pauseVideo(Jt)}break}case _o.D8.getType():{if(kt&&kt.hasSession()){const{payload:{tileId:Jt}}=Se;kt.unpauseVideo(Jt)}break}case q.WM.getType():{const Jt=Se.payload;if(kt&&kt.hasSession()){const Un=(0,Ts.l4)(Ne),Fn=(0,_.getStoreInstanceByTeamId)(Un),vs=Fn==null?void 0:Fn.getState();if(!Fn){Hs.info("client-huddles-middleware","no team store found when user toggles video");return}if(!vs){Hs.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:ys}=nt(),Is=(0,ns.Ng)(vs);let Us;(Jt==null?void 0:Jt.setVideoEnabled)!==void 0?Us=Jt.setVideoEnabled:Us=!(Is!=null&&Is.isCameraEnabled),Us?(Hs.info("client-huddles-middleware","user toggling ON video"),kt.setCameraQuality(...(0,aa.cg)()),ys?kt.maybeEnableSelfCamera({isScreenshareEnabled:Is.isScreenshareEnabled}):kt.maybeEnableSelfCamera()):(Hs.info("client-huddles-middleware","user toggling OFF video"),ys?kt.selfVideoEnabled(!1,!!(Is!=null&&Is.isScreenshareEnabled)):kt.selfVideoEnabled(!1,!1),Fn.dispatch((0,ns.kT)({id:"self",isCameraEnabled:!1})))}break}case _o.cn.getType():{if(kt&&kt.hasSession()){const{payload:{tileId:Jt}}=Se;return(kt==null?void 0:kt.videoTileHasStream(Jt))||!1}return Ot.S.resolve(!1)}case ns.xz.getType():{const{huddlesVideoActive:Jt,self:Un}=nt();kt&&Se.payload.isContent&&(Jt?kt.selfVideoEnabled(!!(Un!=null&&Un.isCameraEnabled),!1):kt.selfVideoEnabled(!1,!1));break}case q.Dj.getType():{kt!=null&&kt.hasSession()&&(kt==null||kt.initVideoPermission());break}case q._H.getType():{if(kt!=null&&kt.hasSession()){const{videoElement:Jt,deviceId:Un}=Se.payload;kt.stopVideoPreviewForVideoInput(Jt),kt.setCameraQuality(...(0,aa.cg)()),kt.requestPreviewStreamForDeviceId(Un,bs.lW.Camera,Jt)}break}case q.yi.getType():{if(kt!=null&&kt.hasSession()){const Jt=Se.payload;kt.stopVideoPreviewForVideoInput(Jt)}break}case q.Rr.getType():{const{self:Jt}=nt();if(kt&&kt.hasSession()){const Un=(Jt==null?void 0:Jt.contentShareSource)||xs.R.Unknown;if(Un!==xs.R.Unknown){const Fn=(Jt==null?void 0:Jt.isDrawEnabled)||!1;kt.selfDrawEnabled((0,oa.A)()&&Fn),kt.sendContentShareDetails(Un);const vs=(0,_.getStoreInstanceByTeamId)(Se.payload.teamId);vs==null||vs.dispatch((0,ns.kT)({id:"self",isDrawEnabled:Fn}))}}break}case q.HF.getType():{const Jt=Se.payload.isHostDrawEnabled,Un=(0,_.getStoreInstanceByTeamId)(Se.payload.teamId);Un==null||Un.dispatch((0,ns.kT)({id:"self",isHostDrawEnabled:Jt}));break}case q.B5.getType():{kt==null||kt.handleClientOffline();break}case q.f2.getType():{const Jt=Se.payload,{isStartMuted:Un}=Jt,{teamId:Fn}=(0,Ts.Ak)(Ne)||{},vs=(0,E.getFocusedWorkspace)(Ne),ys=(0,_.getStoreInstanceByTeamId)(Fn||vs),{ttiTrace:Is}=(0,ms.A)().getAllTraceHandlers();if(Is==null||Is.setMediaRegionTag(kt==null?void 0:kt.getMeetingMediaRegion()),ys&&Un&&kt)return kt.completePrejoin(Jt).then(()=>{ys.dispatch((0,ns.kT)({id:"self",isMicrophoneEnabled:!1}))});if(kt)return kt.completePrejoin({});break}case q.xq.getType():{const Jt=Se.payload.contentViewType,Un=Se.payload.contentViewConfig;if(kt&&kt.hasSession()&&(0,Ts.E9)(Ne)){var rs;const vs=(0,Ts.l4)(Ne),ys=(0,_.getStoreInstanceByTeamId)(vs);if(!ys)return;const Is=(0,Qt.pL)(ys.getState());if(Jt!==Js.cM.Screenshare)Eo(Ne,Xs.Lm,Is);else if(!(Un==null||(rs=Un.item)===null||rs===void 0)&&rs.id){let Us;if(Un.item.id==="self")Us=(0,Wt.WR)(ys.getState());else{var Ss;Us=(Ss=(0,ns.jB)(ys.getState(),Un.item.id))===null||Ss===void 0?void 0:Ss.userId}Yo(Ne,Xs.fv,Us,Is)}}break}case q.wr.getType():{const Jt=(0,Ts.l4)(Ne),Un=(0,_.getStoreInstanceByTeamId)(Jt);if(!Un)return;const Fn=Un.getState();if(!(0,Qt.Rk)(Fn))return;if(kt&&kt.hasSession()){const vs=(0,Ts.J0)(Ne),ys=(0,zo.gW)(Fn,{channelId:vs}),Is=(0,zo.zK)(Fn,{channelId:vs});kt.selfMicrophoneEnabled(ys),(0,_.dispatchForClientStore)((0,q.WM)({setVideoEnabled:Is}))}break}default:return re(Se)}return null});Ba.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};const vi=Ba;Object.defineProperty({huddlesSdk:kt},"huddlesSdk",{get:()=>kt,set:_e=>{kt=_e}});var Po=e(4653418008),So=e(3328068409);const xa=(0,Dt.Ay)("Broadcast client theme state to other stores",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je);return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,So.to)(rt),broadcastAction:rt=>(0,Po.yg)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,So.FW)(rt),broadcastAction:rt=>(0,Po.kl)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,So.VD)(rt),broadcastAction:rt=>(0,Po.LA)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,So.pg)(rt),broadcastAction:rt=>(0,Po.Th)(rt)}),nt});xa.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};const Ei=xa;var fi=e(1201539379),pi=e(4172221507),gi=e(7331033739),Ai=e(8707579690),yi=e(2779520532),Ti=e(7128275929),Ii=e(9341298);const Wa=(0,Dt.Ay)("Broadcast view layout state across all teams",(_e,re,Se)=>{const Ne=_e.getState(),nt=re(Se),Je=_e.getState(),Pt=(0,E.getBootedWorkspaces)(Je);return vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>{var mn,Jn;return`${rt==null||(mn=rt.viewLayout)===null||mn===void 0?void 0:mn.sidebarWidthIntent}-${rt==null||(Jn=rt.viewLayout)===null||Jn===void 0?void 0:Jn.sidebarWidthMode}`},broadcastAction:rt=>{const mn=rt.split("-");return(0,yi.R)({sidebarWidthIntent:Number(mn[0]),sidebarWidthMode:mn[1]})}}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>{var mn,Jn;return`${rt==null||(mn=rt.viewLayout)===null||mn===void 0?void 0:mn.sidebarWideWidthIntent}-${rt==null||(Jn=rt.viewLayout)===null||Jn===void 0?void 0:Jn.sidebarWideWidthMode}`},broadcastAction:rt=>{const mn=rt.split("-");return(0,Ii.q)({sidebarWideWidthIntent:Number(mn[0]),sidebarWideWidthMode:mn[1]})}}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>{var mn,Jn;return`${rt==null||(mn=rt.viewLayout)===null||mn===void 0?void 0:mn.sidebarExtraWideWidthIntent}-${rt==null||(Jn=rt.viewLayout)===null||Jn===void 0?void 0:Jn.sidebarExtraWideWidthMode}`},broadcastAction:rt=>{const mn=rt.split("-");return(0,Ti.a)({sidebarExtraWideWidthIntent:Number(mn[0]),sidebarExtraWideWidthMode:mn[1]})}}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,Ge.Vo)(rt),broadcastAction:rt=>(0,pi.F)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,Ge.v8)(rt),broadcastAction:rt=>(0,fi.mV)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>(0,Ge.r8)(rt),broadcastAction:rt=>(0,gi.v)(rt)}),vt({state:Je,prevState:Ne,workspaces:Pt,broadcastSelector:rt=>{var mn,Jn;return`${rt==null||(mn=rt.viewLayout)===null||mn===void 0?void 0:mn.secondaryWidthIntent}-${rt==null||(Jn=rt.viewLayout)===null||Jn===void 0?void 0:Jn.secondaryWidthMode}`},broadcastAction:rt=>{const mn=rt.split("-");return(0,Ai.J)({secondaryWidthIntent:Number(mn[0]),secondaryWidthMode:mn[1]})}}),nt});Wa.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};const Ci=Wa;var Mi=e(9524650809),Fa=e(1649982175),Ka=e(352142497),fo=e(2870224675),Oi=e(9932860381),wa=e(3034856104);const Di=50;function Ha(){return(0,Mi.A)("tabSoda_")}u(Ha,"generateTabSodaTabId");function Pi(){return{activeTab:void 0,tabs:{},tabOrder:[]}}u(Pi,"getInitialState");function Si(_e,re){if(_e&&re){var Se,Ne,nt,Je;const mn=(Se=_e[_e[Os.jf]])===null||Se===void 0?void 0:Se.primary,Jn=(Ne=_e[_e[Os.jf]])===null||Ne===void 0?void 0:Ne.secondary,rs=(nt=re[re[Os.jf]])===null||nt===void 0?void 0:nt.primary,Ss=(Je=re[re[Os.jf]])===null||Je===void 0?void 0:Je.secondary;if(_e.teamId===re.teamId&&_e[Os.jf]===re[Os.jf]&&(mn==null?void 0:mn.id)===(rs==null?void 0:rs.id)&&(Jn==null?void 0:Jn.id)===(Ss==null?void 0:Ss.id)){var Pt,rt;return!((mn==null?void 0:mn.viewType)===Ka.D.Thread&&(rs==null?void 0:rs.viewType)===Ka.D.Thread&&(mn==null||(Pt=mn.params)===null||Pt===void 0?void 0:Pt.threadId)!==(rs==null||(rt=rs.params)===null||rt===void 0?void 0:rt.threadId))}}return!1}u(Si,"areViewsSame");function Va(_e){let{reducerState:re,entry:Se,eventType:Ne}=_e,nt=re.activeTab,Je=[...re.tabOrder];nt||(nt=Ha(),Je.push(nt));const Pt=re.tabs[nt]||[];let rt={...re.tabs};if(rt[nt]=[Se,...Ne==="replace"?Pt.slice(1):Pt].slice(0,Di),!Pt.length){const mn=re.tabOrder.find(Jn=>{var rs;return Si(Se,(rs=re.tabs[Jn])===null||rs===void 0?void 0:rs[0])});mn&&nt!==mn&&(Je=re.tabOrder.filter(Jn=>Jn!==nt),rt=(0,Fa.A)(re.tabs,nt),nt=mn)}return{activeTab:nt,tabs:rt,tabOrder:Je}}u(Va,"getTabSodaStateFromWindowHistoryEvent");const Ri=Pi(),Li=(0,En.vy)({},Ri,{persistenceEnabled:!1,storeKey:"tabSoda"}).on(fo.nz,(_e,re)=>{let{setAsActive:Se}=re;const Ne=Ha(),nt={..._e.tabs,[Ne]:[]},Je=[..._e.tabOrder],Pt=_e.activeTab?Je.indexOf(_e.activeTab):-1;return Je.splice(Pt+1,0,Ne),{activeTab:Se?Ne:_e.activeTab,tabs:nt,tabOrder:Je}}).on(fo.yw,(_e,re)=>({..._e,activeTab:re})).on(fo.oT,(_e,re)=>{const{activeTab:Se,tabs:Ne,tabOrder:nt}=_e;let Je=Se;re===Se&&(Je=(0,Oi.fe)(Se,nt));const Pt=[...nt],rt=nt.indexOf(re);Pt.splice(rt,1);const mn={...Ne};return delete mn[re],{tabs:mn,tabOrder:Pt,activeTab:Je}}).on(fo.ez,(_e,re)=>{const Se=_e.tabs[re]||[],Ne={..._e.tabs,[re]:[...Se.slice(1)]};return{..._e,tabs:Ne}}).on(fo.Uz,(_e,re)=>({..._e,tabOrder:re})).on(Wn.y2,(_e,re)=>{let{entry:Se}=re;return(0,wa.H)(Se)?Va({eventType:"push",reducerState:_e,entry:Se}):_e}).on(Wn.HQ,(_e,re)=>{let{entry:Se}=re;return(0,wa.H)(Se)?Va({eventType:"replace",reducerState:_e,entry:Se}):_e});var bi=e(6027162153),ki=e(9087248458),Ui=e(5503876160),qs=e(9139930183);const Ni={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],userRequiresMobileLogin:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},Bi="WORKSPACES",ja=16,xi=(0,qs.Ay)({},Ni,{storeKey:"workspaces",persistenceEnabled:!0}).on(l.initialize,(_e,re)=>Wi(_e,re)).on(l.setDidBootAllWorkspaces,_e=>({..._e,didBootAllWorkspaces:!0})).on(l.setWorkspaceOrder,(_e,re)=>Fi(_e,re)).on(l.setWorkspaceBooted,(_e,re)=>Ki(_e,re)).on(l.setWorkspaceFailedToBoot,(_e,re)=>wi(_e,re)).on(l.setWorkspaceNeeds2FASetup,(_e,re)=>Hi(_e,re)).on(l.setWorkspaceNeedsToAcceptCustomTOS,(_e,re)=>Vi(_e,re)).on(l.setNavigateToUnbootedWorkspace,(_e,re)=>({..._e,navigateToUnbootedWorkspace:re})).on(l.setWorkspaceIsMigrating,(_e,re)=>ji(_e,re)).on(l.setWorkspaceMigrationIsComplete,(_e,re)=>Gi(_e,re)).on(l.setWorkspaceIsAccessLimited,(_e,re)=>zi(_e,re)).on(l.setUserNotMemberOfAnyWorkspaceInOrg,(_e,re)=>$i(_e,re)).on(l.setUserRequiresMobileLogin,(_e,re)=>Yi(_e,re)).on(l.addWorkspace,function(_e){let{id:re,meta:Se}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!re||!Se)throw new Error("'id' and 'meta' are both required when adding a workspace");if(_e.allWorkspaces.includes(re))return(0,s.Wo)({label:Bi}).warn(`Cannot add workspace; it is already present: ${re}`),_e;const{allWorkspaces:Ne,workspacesMeta:nt}=_e;return{..._e,allWorkspaces:[...Ne,re],workspacesMeta:{...nt,[re]:Se}}}).on(l.updateWorkspaceMeta,function(_e){let{id:re,meta:Se}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:Ne}=_e;if(!Ne[re])throw new Error(`Cannot update workspace meta for ${re}; no such team`);return{..._e,workspacesMeta:{...Ne,[re]:Se}}}).on(l.internalSetFocusedWorkspaceType,(_e,re)=>({..._e,focusedWorkspace:re,recentlyFocusedWorkspaces:Qi(_e.recentlyFocusedWorkspaces,re)})).on(l.internalRemoveWorkspaceType,(_e,re)=>({..._e,allWorkspaces:(0,bi.A)(_e.allWorkspaces,re)})).on(l.addRemovedWorkspace,(_e,re)=>Ji(_e,re));function Wi(_e){let{focusedWorkspace:re,allWorkspaces:Se,workspacesMeta:Ne}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_e.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!re)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!Se)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(Se.indexOf(re)<0)throw new Error(`workspaces-store:initialize ${re} is not one of the valid workspaces: ${Se}`);return{..._e,focusedWorkspace:re,allWorkspaces:Se,workspacesMeta:Ne,recentlyFocusedWorkspaces:[re]}}u(Wi,"initializeWorkspacesState");function Fi(_e,re){const Se=_e.allWorkspaces;if((0,ki.A)(Se,re).length!==Se.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return(0,ye.q9)("orderedTeamIds",re),{..._e,allWorkspaces:re}}u(Fi,"updateWorkspaceOrder");function Ki(_e,re){const Se=_e.bootedWorkspaces.includes(re)?_e.bootedWorkspaces:[..._e.bootedWorkspaces,re];return{..._e,bootedWorkspaces:Se}}u(Ki,"updateWorkspaceBooted");function wi(_e,re){if(!re)return _e;const Se=_e.failedToBootWorkspaces.includes(re)?_e.failedToBootWorkspaces:[..._e.failedToBootWorkspaces,re];return{..._e,failedToBootWorkspaces:Se}}u(wi,"updateWorkspaceFailedToBoot");function Hi(_e,re){if(!re)return _e;const Se=_e.needs2FASetup.includes(re)?_e.needs2FASetup:[..._e.needs2FASetup,re];return{..._e,needs2FASetup:Se}}u(Hi,"updateWorkspaceNeeds2FASetup");function Vi(_e,re){if(!re)return _e;const Se=_e.needsToAcceptCustomTOS.find(Ne=>{let{teamId:nt}=Ne;return re.teamId===nt})?_e.needsToAcceptCustomTOS:[..._e.needsToAcceptCustomTOS,re];return{..._e,needsToAcceptCustomTOS:Se}}u(Vi,"updateWorkspaceNeedsToAcceptCustomTOS");function ji(_e,re){let{teamId:Se,migrationId:Ne,canViewMigrationStatus:nt}=re;if(!Se)return _e;const{migratingWorkspaces:Je}=_e;return{..._e,migratingWorkspaces:{...Je,[Se]:{migrationId:Ne,canViewMigrationStatus:nt}}}}u(ji,"updateWorkspaceIsMigrating");function Gi(_e,re){if(!re)return _e;const Se=_e.completedMigrationWorkspaces.includes(re)?_e.completedMigrationWorkspaces:[..._e.completedMigrationWorkspaces,re];return{..._e,completedMigrationWorkspaces:Se}}u(Gi,"updateWorkspaceMigrationIsComplete");function zi(_e,re){if(!re)return _e;const Se=_e.accessLimitedWorkspaces.includes(re)?_e.accessLimitedWorkspaces:[..._e.accessLimitedWorkspaces,re];return{..._e,accessLimitedWorkspaces:Se}}u(zi,"updateWorkspaceIsAccessLimited");function $i(_e,re){if(!re)return _e;const Se=_e.userNotMemberOfAnyWorkspaceInOrg.includes(re)?_e.userNotMemberOfAnyWorkspaceInOrg:[..._e.userNotMemberOfAnyWorkspaceInOrg,re];return{..._e,userNotMemberOfAnyWorkspaceInOrg:Se}}u($i,"updateUserNotMemberOfAnyWorkspaceInOrg");function Yi(_e,re){if(!re)return _e;const Se=_e.userRequiresMobileLogin.includes(re)?_e.userRequiresMobileLogin:[..._e.userRequiresMobileLogin,re];return{..._e,userRequiresMobileLogin:Se}}u(Yi,"updateUserRequiresMobileLogin");function Qi(_e,re){const Se=[re,..._e.filter(Ne=>Ne!==re)];return Se.length>ja?(0,Ui.A)(Se,ja):Se}u(Qi,"updateRecentlyFocusedWorkspaces");function Ji(_e,re){if(!re)return _e;const Se=_e.removedWorkspaces.includes(re)?_e.removedWorkspaces:[..._e.removedWorkspaces,re];return{..._e,removedWorkspaces:Se}}u(Ji,"updateRemovedWorkspaces");var Xi=e(7798793495),Zi=e(8749931423),qi=e(7206394193),el=e(773865333),tl=e(7156104699),nl=e(8333842125),sl=e(582577127),ol=e(2732935554),al=e(3034787354),rl=e(9651400563),il=e(4614661813),ll=e(2140362605);const Qo=(0,ll.Ay)("sets the client side effect map on the store");Qo.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const cl={clientSideEffectsMap:{}},dl=(0,qs.Ay)({},cl,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(Qo,(_e,re)=>({..._e,clientSideEffectsMap:re}));var ul=e(5923036663),_l=e(6168781067),ml=e(7902571278),hl=e(56562029);const vl={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,unreadInvites:[],huddleJoinPreviewChannelId:void 0,huddleJoinPreviewBackgroundEffect:void 0,huddleJoinPreviewBackgroundBlurIsEnabled:!1},El=(0,qs.Ay)({},vl,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(q.VU,(_e,re)=>_e.isHuddlesEnabled?_e:{..._e,isHuddlesEnabled:re}).on(q.xf,(_e,re)=>({..._e,mostRecentHuddle:re})).on(q.Rh,(_e,re)=>{const{mostRecentHuddle:Se}=_e;if(!Se||re.teamId&&re.teamId!==Se.teamId||re.channelId&&re.channelId!==Se.channelId)return _e;const Ne={..._e,mostRecentHuddle:{...Se,...re}},nt=Ne.mostRecentHuddle;return nt&&(0,s.Wo)().info(uo.o7,`updateActiveHuddleReference huddleState ${nt.huddleState}, substate ${nt.huddleSubState}, optimisticState ${nt.optimisticHuddleState}`),Ne}).on(q.Jc,(_e,re)=>{const{mostRecentHuddle:Se}=_e;return!Se||re===Se.channelId?_e:{..._e,mostRecentHuddle:{...Se,channelId:re}}}).on(q.hB,(_e,re)=>({..._e,activeInvite:re,unreadInvites:[..._e.unreadInvites,{invite:re,receivedTimestampMs:Date.now()}]})).on(q.fP,(_e,re)=>{let{teamId:Se,markBeforeMs:Ne}=re;const nt=_e.unreadInvites.filter(Je=>Je.invite.teamId!==Se||Je.receivedTimestampMs>Ne);return _e.unreadInvites.length===nt.length?_e:{..._e,unreadInvites:nt}}).on(q.u8,(_e,re)=>{var Se;return{..._e,unreadInvites:_e.unreadInvites.filter(Ne=>Ne.invite.channelId!==re),activeInvite:((Se=_e.activeInvite)===null||Se===void 0?void 0:Se.channelId)!==re?_e.activeInvite:void 0}}).on(q.Ko,(_e,re)=>_e.forceMiniPanelVisible===re?_e:{..._e,forceMiniPanelVisible:re}).on(q.Yi,(_e,re)=>{let{channelId:Se,joinCredentials:Ne,expiry:nt,fromInvite:Je}=re;var Pt;if(!Se||!Ne)return _e;const rt=_e.channelToJoinCredentials;rt[Se]={credentials:Ne,expiry:nt,fromInvite:Je};const mn=(Pt=_e.activeInvite)===null||Pt===void 0?void 0:Pt.teamId;return mn&&(0,ao.Cy)({state:(0,_.getStateByTeamId)(mn)}).count(ks.ir),{..._e,channelToJoinCredentials:rt}}).on(q.WB,(_e,re)=>{let{channelId:Se}=re;if(!Se)return _e;if(_e.channelToJoinCredentials[Se]){var Ne;const nt=(Ne=_e.activeInvite)===null||Ne===void 0?void 0:Ne.teamId;nt&&(0,ao.Cy)({state:(0,_.getStateByTeamId)(nt)}).count(ks.sQ)}return{..._e,channelToJoinCredentials:(0,Fa.A)(_e.channelToJoinCredentials,[Se])}}).on(q.aO,(_e,re)=>_e.showDiscoveryBanner===re?_e:{..._e,showDiscoveryBanner:re}).on(q.Ag,(_e,re)=>_e.isLoungeMusicPlaying===re?_e:{..._e,isLoungeMusicPlaying:!!re}).on(q._U,(_e,re)=>_e.lastStartTs===re?_e:{..._e,lastStartTs:re}).on(q.bV,(_e,re)=>_e.lastEndTs===re?_e:{..._e,lastEndTs:re}).on(q.qr,(_e,re)=>_e.lastDurationTs===re?_e:{..._e,lastDurationTs:re}).on(q.Gx,(_e,re)=>_e.screenshareActivePanel===re?_e:{..._e,screenshareActivePanel:re}).on(q.cx,_e=>({..._e,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,huddleJoinPreviewChannelId:void 0})).on(q._u,(_e,re)=>{let{song:Se}=re;return _e.songPlaying===(Se==null?void 0:Se.key)?_e:{..._e,songPlaying:Se==null?void 0:Se.key}}).on(q.nw,(_e,re)=>_e.canRenderActiveInviteCardInSidebar===re?_e:{..._e,canRenderActiveInviteCardInSidebar:re}).on(q.o9,(_e,re)=>_e.isHuddleWindowFocused===re?_e:{..._e,isHuddleWindowFocused:re}).on(q.TK,(_e,re)=>_e.isHuddleWindowOpen===re?_e:{..._e,isHuddleWindowOpen:re}).on(q.kg,(_e,re)=>_e.isAudioOnlyModeEnabled===re?_e:{..._e,isAudioOnlyModeEnabled:re}).on(q.Hg,(_e,re)=>_e.wasCameraEnabledWhenAudioOnlyModeWasActivated===re?_e:{..._e,wasCameraEnabledWhenAudioOnlyModeWasActivated:re}).on(q.t2,(_e,re)=>_e.isHuddleMiniPlayerHidden===re?_e:{..._e,isHuddleMiniPlayerHidden:!!re}).on(q.og,(_e,re)=>_e.wasJoinedFromPrejoin===re?_e:{..._e,wasJoinedFromPrejoin:!!re}).on(q._o,(_e,re)=>{let{channelId:Se}=re;return _e.huddleJoinPreviewChannelId===Se?_e:{..._e,huddleJoinPreviewChannelId:Se}}).on(q.yW,(_e,re)=>{let{backgroundEffectBgKey:Se,blurEffectIsEnabled:Ne}=re;return _e.huddleJoinPreviewBackgroundEffect===Se&&_e.huddleJoinPreviewBackgroundBlurIsEnabled===Ne?_e:{..._e,huddleJoinPreviewBackgroundEffect:Se,huddleJoinPreviewBackgroundBlurIsEnabled:Ne}}),Fl=100,Ga="client-ia-history",fl=[...Object.values(ia.mH)||[]];var Ro=e(1521690892);const pl=u(()=>{try{const _e=localStorage.getItem(Ga);return _e?JSON.parse(_e):[]}catch(_e){return(0,s.Wo)().error("Failed to read IA history from storage",_e),[]}},"readStackFromStorage"),Lo=u(_e=>{try{localStorage.setItem(Ga,JSON.stringify(_e))}catch(re){(0,s.Wo)().error("Failed to write IA history to storage",re)}},"writeStackToStorage"),gl=(0,qs.Ay)({},{stack:pl()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(Ro.nb,(_e,re)=>{if(!re||fl.includes(re==null?void 0:re.primaryView))return _e;const Se=1e3,Ne=[re].concat(_e.stack).slice(0,Se);return window.setTimeout(()=>Lo(Ne),0),{stack:Ne}}).on(Ro.JG,(_e,re)=>{const Se=_e.stack.indexOf(re);if(Se===-1)return _e;const Ne=_e.stack.slice();return Ne.splice(Se,1),window.setTimeout(()=>Lo(Ne),0),{stack:Ne}}).on(Ro.Si,_e=>{if(!_e.stack)return _e;const re=_e.stack.slice(0,1);return window.setTimeout(()=>Lo(re),0),{stack:re}}).on(Ro.kM,()=>{const _e=[];return Lo(_e),{stack:_e}}),Al=!0,za=(0,qs.Ay)({},Al,{storeKey:"isClient",persistenceEnabled:!1});za.meta={name:"createReducer",key:"createReducerisClientReducer"};const yl=za;let $a;try{var Jo;$a=(Jo=(0,ye.W6)(qn.Vb))!==null&&Jo!==void 0?Jo:void 0}catch{}let Ya;try{var Xo;Ya=(Xo=(0,ye.W6)(qn._J))!==null&&Xo!==void 0?Xo:void 0}catch{}let Qa;try{var Zo;Qa=(Zo=(0,ye.W6)(qn.UY))!==null&&Zo!==void 0?Zo:void 0}catch{}const Tl={invertedSidebar:$a,peeksEnabledOnMouseEnter:Ya,zoom:Qa},Il=(0,qs.Ay)({},Tl,{storeKey:"nonBBMSettings",persistenceEnabled:!1}).on(Zn.p$,(_e,re)=>({..._e,invertedSidebar:re})).on(Zn.rB,(_e,re)=>({..._e,peeksEnabledOnMouseEnter:re})).on(Zn.x8,(_e,re)=>({..._e,zoom:re}));var Cl=e(1838435986),Ml=e(3180420025),bo=e(1302213854);const Ol={shouldLogAppBootMetrics:!0,shouldLogTeamSwitchMetrics:!1,shouldLogTTVMetrics:!0,shouldLogTTUMetrics:!0},Dl=(0,qs.Ay)({},Ol,{storeKey:"telemetry",persistenceEnabled:!0}).on(bo.C7,(_e,re)=>({..._e,shouldLogAppBootMetrics:re})).on(bo.Mb,(_e,re)=>({..._e,shouldLogTeamSwitchMetrics:re})).on(bo.Ln,(_e,re)=>({..._e,shouldLogTTVMetrics:re})).on(bo.UM,(_e,re)=>({..._e,shouldLogTTUMetrics:re}));var qo=e(2696160384);const Ja={isDocked:!1,miniPlayerConfig:{fileId:""}},Pl=(0,qs.Ay)({},Ja,{storeKey:"videoClips",persistenceEnabled:!1}).on(qo.FI,(_e,re)=>({..._e,isDocked:re})).on(qo.D_,(_e,re)=>{let{fileId:Se,teamId:Ne,mediaId:nt,channelId:Je,threadTs:Pt,timeElapsed:rt,isPlaying:mn}=re;return{..._e,miniPlayerConfig:{fileId:Se,teamId:Ne,mediaId:nt,channelId:Je,threadTs:Pt,timeElapsed:rt,isPlaying:mn}}}).on(qo.Sr,_e=>({..._e,...Ja}));var Sl=e(9813790040),Rl=e(4256476552);function Xa(){let{extraMiddlewares:_e=[],customEnhancers:re=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Se=(0,nl.A)({teamOrEnterpriseId:"client",middlewares:[..._e,qi.A,n.P,el.A,Ks,_s,Ei,Ci,Vt,zt,Ps,Gn,Hn,en,tl.N,vi],customEnhancers:re}),Ne=(0,Zi.A)({workspaces:xi,window:Rl.A,telemetry:Dl,connectivity:_l.A,accessibility:al.A,accessibilityPersistent:ol.A,desktop:ml.A,clientTheme:ul.A,iaHistory:gl,mainWindowHistory:Nt,isClient:yl,isState:Xi.G,viewLayout:Sl.A,noop:Cl.A,clientHuddles:El,clientSideEffects:dl,recents:Rs,overlays:Ml.y,tabSoda:Li,fullscreen:hl.G,bbm:il.Y,videoClips:Pl,nonBBMSettings:Il,bbmSettings:rl.Z});return(0,t.Yl)(Ne,Se)}u(Xa,"createClientStore");function Ll(){const _e=(0,_.getClientStoreInstance)();if(_e)return(0,s.Wo)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),_e;const re=Xa();(0,_.setClientStoreInstance)(re);const{clientSideEffectsMap:Se,sideEffectsMap:Ne}=(0,sl.g)(Fe);if(Object.keys(Ne).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return re.dispatch(Qo(Se)),re}u(Ll,"configureClientStore");const Vl={createClientStore:Xa}},3803432550:(x,g,e)=>{"use strict";e.d(g,{x:()=>i});var t=e(8148939499),n=e(6508028729),s=e(4423055085),r=e(4496040127),c=e(9658167697),o=e(1535672935),a=e(9012396182),l=e(6533394955);function i(_){if(!_||(0,l.getClientStoreInstance)())return;const m=(0,c.A)(),h=(0,r.VA)()?(0,t.A)():[_],v=(0,n.A)();m.dispatch((0,o.initialize)({focusedWorkspace:_,allWorkspaces:h,workspacesMeta:v})),d(m)}u(i,"initializeClientStore");function d(_){(0,s.ul)("clientStore",_),(0,s.zv)("teamIds",()=>{const h=_.getState();return a.getAllWorkspaces(h)}),(0,s.zv)("activeTeam",()=>{const h=_.getState(),v=a.getFocusedWorkspace(h);return window.slackDebug[v]}),(0,s.zv)("activeTeamId",()=>{const h=_.getState();return a.getFocusedWorkspace(h)}),(0,s.zv)("activeEnterprise",()=>{var h,v;const T=_.getState(),A=(h=a.getWorkspacesMeta(T))===null||h===void 0||(v=h[a.getFocusedWorkspace(T)])===null||v===void 0?void 0:v.enterprise_id;return window.slackDebug[A]});const m={};Object.keys(o).forEach(h=>{m[h]=function(){for(var v=arguments.length,T=new Array(v),A=0;A<v;A++)T[A]=arguments[A];return _.dispatch(o[h](...T))}}),Object.keys(a).forEach(h=>{m[h]=function(){for(var v=arguments.length,T=new Array(v),A=0;A<v;A++)T[A]=arguments[A];return a[h](_.getState(),...T)}}),(0,s.ul)("clientStore.workspaces",m)}u(d,"setupClientStoreDebugger")},2870224675:(x,g,e)=>{"use strict";e.d(g,{Uz:()=>o,ez:()=>s,nz:()=>n,oT:()=>c,yw:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Adds a new emtpy tab-soda tab");n.meta={name:"createAction",key:"createActiontabSodaAddNewTab",description:"Adds a new emtpy tab-soda tab"};const s=(0,t.Ay)("Removes the recent history entry from a tab soda tab");s.meta={name:"createAction",key:"createActiontabSodaPopHistoryForTab",description:"Removes the recent history entry from a tab soda tab"};const r=(0,t.Ay)("Select a tab by id");r.meta={name:"createAction",key:"createActiontabSodaSelectTab",description:"Select a tab by id"};const c=(0,t.Ay)("Remove a tab soda tab");c.meta={name:"createAction",key:"createActiontabSodaRemoveTab",description:"Remove a tab soda tab"};const o=(0,t.Ay)("Re-order tab soda tabs");o.meta={name:"createAction",key:"createActiontabSodaReorderTabs",description:"Re-order tab soda tabs"}},9932860381:(x,g,e)=>{"use strict";e.d(g,{Fp:()=>o,Xy:()=>c,fe:()=>r});var t=e(6471801899),n=e(8040098042),s=e(2960290117);function r(a,l){const i=l.indexOf(a),d=i<l.length-1?i+1:i-1;return d>=0?l[d]:void 0}u(r,"tabSodaGetNextActiveTab");function c(a){return(0,n.A)(a)||a==="thread"}u(c,"canOpenInTabSodaTab");function o(a){return(0,s.Ay)(a)||(0,t.pI)(a)||(0,t.or)(a)||(0,n.A)(a)||a==="thread"||a==="comment_thread"}u(o,"tabSodaCanViewBeEjected")},7176966205:(x,g,e)=>{"use strict";e.d(g,{$:()=>h});var t=e(5267010247),n=e(8822892075),s=e(395285811),r=e(2647703359),c=e(3634593162),o=e(3110884894),a=e(2823938397),l=e(8040098042),i=e(2870224675),d=e(6304789565),_=e(6533394955),m=e(937317117);const h=(0,d.Ay)("Opens a view in a new tab",function(v,T){let{viewId:A,params:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=T(),f=(0,i.nz)({setAsActive:!0});if(!A)return(0,_.dispatchForClientStore)(f);if(A&&(0,l.A)(A))return(0,_.dispatchForClientStore)(f),v((0,t.o)((0,n.pr)(A)));if(A==="thread"&&(y!=null&&y.threadId)){const{channelId:O,threadTs:I}=(0,o.Sb)(y==null?void 0:y.threadId);if(O&&I){if((0,_.dispatchForClientStore)(f),(0,s.OR)(p,O)){const E=(0,c.l)(O),S=(0,m.Lp)(p,E);if(S&&(0,a.uz)(S)&&(0,r.DQ)(S))return v((0,t.o)((0,n.m3)({channelId:O,threadTs:I})))}const{replyTs:C,highlightRoot:M,dangerouslyOverrideRouting:D}=y;return v((0,t.o)((0,n.UX)({channelId:O,threadTs:I,replyTs:C,highlightRoot:M,dangerouslyOverrideRouting:D})))}}});h.meta={name:"createThunk",key:"createThunkmaybeOpenInTabSodaTab",description:"Opens a view in a new tab"}},4326266690:(x,g,e)=>{"use strict";e.d(g,{B:()=>c,fK:()=>r,lw:()=>a,ud:()=>o});var t=e(9932860381),n=e(2384831516),s=e(3193155968);const r=(0,n.Mz)(l=>l.tabSoda);r.meta={name:"createSelector",key:"createSelectorgetTabSoda",description:l=>l.tabSoda};const c=(0,n.Mz)(l=>{const i=r(l);return i.activeTab?i.tabs[i.activeTab]:[]});c.meta={name:"createSelector",key:"createSelectortabSodaGetRecentsForActiveTab",description:l=>{const i=r(l);return i.activeTab?i.tabs[i.activeTab]:[]}};const o=(0,n.Mz)(l=>{const i=r(l);return i.activeTab?i.tabs[i.activeTab].length<2:!1});o.meta={name:"createSelector",key:"createSelectortabSodaIsBackDisabledForActiveTab",description:l=>{const i=r(l);return i.activeTab?i.tabs[i.activeTab].length<2:!1}};const a=(0,n.Mz)((l,i)=>{var d,_,m;const v=(d=r(l).tabs[i])===null||d===void 0?void 0:d[0],T=v==null?void 0:v.teamId;if(!v||!T)return!1;const A=v==null?void 0:v[s.jf],y=v==null||(_=v[A])===null||_===void 0||(m=_[s.mq.Primary])===null||m===void 0?void 0:m.id;return!!y&&(0,t.Fp)(y)});a.meta={name:"createSelector",key:"createSelectortabSodaCanEjectTab",description:(l,i)=>{var d,_,m;const v=(d=r(l).tabs[i])===null||d===void 0?void 0:d[0],T=v==null?void 0:v.teamId;if(!v||!T)return!1;const A=v==null?void 0:v[s.jf],y=v==null||(_=v[A])===null||_===void 0||(m=_[s.mq.Primary])===null||m===void 0?void 0:m.id;return!!y&&(0,t.Fp)(y)}}},8620339321:(x,g,e)=>{"use strict";e.d(g,{UN:()=>m,oX:()=>v,wm:()=>h});var t=e(9513439931),n=e(109860581),s=e(2870224675),r=e(9932860381),c=e(6304789565),o=e(6533394955),a=e(9108490430),l=e(3193155968),i=e(9012396182),d=e(2554594353);const _=(0,c.Ay)("Update currently visible viewset as part of TabSoda tab switching",(T,A,y)=>{(0,o.dispatchForTeamId)(y.teamId,(0,a.cQ)(y)),i.getFocusedWorkspace&&d.b&&(0,i.getFocusedWorkspace)(A())!==y.teamId&&T((0,d.b)({teamId:y.teamId,fromNavigation:!0}));const{tabSoda:p}=A(),f=p.activeTab;if(f){const O=p.tabs[f][0],I=O[l.jf],P=O[I],C=y[l.jf],M=y[C];if(!M)return;(0,o.dispatchForTeamId)(y.teamId,(0,t.C)({prevViewSet:P,prevTab:I,nextViewSet:M,nextTab:C,windowId:l.N2,navigateParams:{},triggerType:n.w.HISTORY_NAVIGATION}))}});_.meta={name:"createThunk",key:"createThunkupdateVisibleView",description:"Update currently visible viewset as part of TabSoda tab switching"};const m=(0,c.Ay)("Switch current TabSoda tab",(T,A,y)=>{let{tabId:p}=y;const{tabSoda:f}=A();if(f.activeTab===p)return;const O=f.tabs[p][0];T(_(O)),T((0,s.yw)(p))});m.meta={name:"createThunk",key:"createThunktabSodaSwitchTab",description:"Switch current TabSoda tab"};const h=(0,c.Ay)("Close active TabSoda tab and switch to the nearest open tab",(T,A,y)=>{let{tabId:p}=y;const{tabSoda:f}=A(),O=f.activeTab,I=(0,r.fe)(O,f.tabOrder);if(p===O&&I){const P=f.tabs[I][0];T(_(P))}T((0,s.oT)(p))});h.meta={name:"createThunk",key:"createThunktabSodaCloseTab",description:"Close active TabSoda tab and switch to the nearest open tab"};const v=(0,c.Ay)("Go back in history in a currently active TabSoda tab",(T,A)=>{const{tabSoda:y}=A(),p=y.activeTab;if(y.tabs[p].length<2)return;const f=y.tabs[p][1];T(_(f)),T((0,s.ez)(p))});v.meta={name:"createThunk",key:"createThunktabSodaGoBackInActiveTab",description:"Go back in history in a currently active TabSoda tab"}},4766735965:(x,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(2664504268),n=e(9121100949),s=e(2527782504),r=e(2495064448),c=e(5751973043),o=e(735940183),a=e(4496040127),l=e(9012396182),i=e(6304789565),d=e(6533394955),_=e(8439865561),m=e(1201539379),h=e(6290537170),v=e(9733150292);const T=new o.Ay("team_picker"),A=(0,i.Ay)("Sets whether or not the protype full rail workspace switcher is showing",function(p,f){let{shouldTransitionFocus:O=!1,shouldAnnounceStateChange:I=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=arguments.length>3?arguments[3]:void 0;const C=f();if(!(0,a.VA)())return;const M=(0,d.getClientStoreInstance)().getState();var D;if(((D=(0,l.getAllWorkspaces)(M))!==null&&D!==void 0?D:c.Ml).length<=1)return;const S=(0,h.v8)(C),k=!S;(0,v.q9)(n.WU,k),p((0,m.mV)(k)),(0,d.dispatchForClientStore)((0,m.mV)(k));const U=T.t("Workspaces tablist expanded"),L=T.t("Workspaces tablist collapsed");if(I&&p((0,_.rl)({message:S?L:U,uuid:(0,t.A)()})),!O)return;const{transitionFocusTo:B}=(0,r.$P)(f(),P),b=S?s.Ay.WORKSPACE_SWITCHER_MENU_BUTTON:s.Ay.WORKSPACE_SWITCHER_TAB_LIST;B({focusKey:b})});A.meta={name:"createThunk",key:"createThunktoggleWorkspaceSwitcherVisibility",description:"Sets whether or not the protype full rail workspace switcher is showing"};const y=A},9143148823:(x,g,e)=>{"use strict";e.d(g,{Ay:()=>s,c:()=>n});let t=null;function n(){return t}u(n,"getLastTeamSwitchTimestamp");const s=u(c=>{let{prevTeamId:o,nextTeamId:a,navigationTimestamp:l}=c;return o===a||!l||(t=l),Promise.resolve()},"__WEBPACK_DEFAULT_EXPORT__");Object.defineProperty({lastTeamSwitchTimestamp:null},"lastTeamSwitchTimestamp",{get:()=>t,set:c=>{t=c}})},859310680:(x,g,e)=>{"use strict";e.d(g,{go:()=>X,xy:()=>w});var t=e(8426925643),n=e(8073631078),s=e(9733150292),r=e(4588514760),c=e(4423055085),o=e(9421999304),a=e(9681594967),l=e(2325478352),i=e(6917917245),d=e(7770551414),_=e(6470070112),m=e(796111729),h=e(2250002584),v=e(5057176955),T=e(264208541),A=e(9012396182),y=e(8847766420),p=e(5583430912),f=e(6533394955),O=e(9101533895),I=e(7765212398),P=e(4761125736),C=e(8276911661),M=e(7115106069),D=e(8233775522);function E(){var Z,ie;return{hardware_concurrency:(Z=window.navigator)===null||Z===void 0?void 0:Z.hardwareConcurrency,device_memory:(ie=window.navigator)===null||ie===void 0?void 0:ie.deviceMemory}}u(E,"getDeviceStats");function S(){const Z=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),ie=(0,T.Hn)(),Ae=(0,T.Ey)(),ae=ie&&Ae?(ie/Ae).toPrecision(4):null;return{total_client_redux_size:Z,js_heap_used:ie,js_heap_total:Ae,js_heap_used_percentage:ae}}u(S,"getPerfMemoryStats");function k(){const Z=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!Z)return{};try{return JSON.parse(Z)}catch(ie){return(0,m.Wo)().warn("Error parsing appStats in localStorage:",Z,ie),{}}}u(k,"getDesktopAppStats");function U(){return{...(0,t.JP)(),...(0,t.I5)(),num_started_sockets:(0,d.eK)(),object_store_redux_group:(0,i.B9)(l.Wv)}}u(U,"getClientStateTags");function L(Z,ie){const Ae=ie.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),ae=Object.values((0,O.DM)(Z)).length,V=Object.values((0,O.h3)(Z)).length,ve=Object.values((0,O._B)(Z)).length,be=Object.values((0,O.FS)(Z)).length;return Ae.close(),{num_channels_in_redux:ae,num_all_channels_user_is_in:V,num_dms_user_is_in:ve,num_group_dms_user_is_in:be}}u(L,"getChannelInfoTags");function B(Z,ie){const Ae=ie.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),ae=Object.keys((0,I.Hw)(Z)||{}).length,V=(0,v.sZ)((0,I.my)(Z));return Ae.close(),{num_drafts:ae,drafts_store_size:V}}u(B,"getDraftsInfoTags");function b(Z){return{user_locale:(0,o.JK)({teamOrEnterpriseId:(0,y.JY)(Z)})}}u(b,"getLocaleTags");function R(Z){return{active_collab_instance_count:(0,p.Ui)(),open_quip_embed_instance_count:(0,M.oj)(Z).length,canvas_child_window_count:(0,r.CJ)()}}u(R,"getCanvasTags");const z=u(Z=>{const ie=["selector_memo"],Ae={};return ie.forEach(V=>{const ve=(0,P._Z)(Z,V,!1);ve&&(Ae[V]=ve)}),[...Object.keys(n.nD)].forEach(V=>{const ve=(0,i.B9)(V);ve!==i.dw.NoGroup&&(Ae[V]=ve)}),Ae},"getExperimentTagsForTraces"),w=u((Z,ie)=>{const Ae=ie??[],ae={},V=(0,P.Vs)(Z),ve=Date.now()/1e3,be=60*60*24*7*4;for(const[Ue,Re]of Object.entries(V)){const{trigger:ge,schedule_ts:ne}=Re;(Ae.includes(Ue)||ge&&ne&&ge!=="finished"&&ge!=="force_debug"&&ne>ve-be)&&(ae[Ue]=Re.group)}return ae},"getExperimentTags");function W(Z){return{num_members_in_redux:(0,C.I_)(Z).length}}u(W,"getMembersTags");function K(Z){const ie=(0,s.W6)("lastColdBootTs"),Ae=(0,D.pp)(Z);return{last_cold_boot_ts:ie,boot_type:Ae}}u(K,"getConfigTags");function Y(){return{is_in_active_huddle:(0,_.NZ)()}}u(Y,"getHuddleTags");function X(Z){const ie=(0,f.getStateForClientStore)();if(!ie)return{};const Ae=Z??(0,A.getFocusedWorkspace)(ie),ae=(0,f.getStateByTeamId)(Ae),V=(0,h.F)(),ve=V.createTrace({traceName:"add_tags:performance_tracing_tags"}),be=(0,t.Kh)(Ae),Ue=U(),Re=L(ae,ve),ge=B(ae,ve),ne=E(),ee=S(),F=k(),H=b(ae),j=W(ae),N=K(ae),J=a.qV.getTraceTags(),le=z(ae),ce=R(ae),Ee=Y(),ye={...be,...Ue,...Re,...ge,...ne,...ee,...F,...H,...j,...N,...J,...le,...ce,...Ee};return V.reportTrace(ve),ye}u(X,"getPerformanceTracingTags"),(0,c.zv)("performanceTracingTags",X)},3614984351:(x,g,e)=>{"use strict";e.d(g,{A:()=>Ge});var t=e(3134334389),n=e(6422693406),s=e(9733150292),r=e(4979734995),c=e(8157829725),o=e(581167618),a=e(9539184071),l=e(2308565927),i=e(6084388622),d=e(735940183);const _=new d.Ay("sign_in");function m(Be){const{isSSB:we,isSSBSignIn:xe,hasPromoOffer:Oe,shouldRedirect:Xe,redirectURL:Ye,loggedInTeams:dt,entryPoint:mt=""}=Be;return t.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!Oe&&!we&&t.createElement("p",{className:"small_bottom_margin"},_.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:dt})),t.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},dt.map((it,At)=>t.createElement(i.z9,{key:it.id,"data-qa":`signedin_workspace_link_${At+1}`,className:"team-signin-link small_margin","data-team-id":it.id,autoClogProps:{elementName:"team_domain",elementValue:it.id.toString(),entryPoint:mt,onClick:{enableClogAction:!0}},href:xe?`${it.url}ssb/signin_redirect`:`${it.url}${Xe?`?redir=${Ye}`:""}`,"aria-label":_.t("Go to {teamName} on Slack",{teamName:it.name}),type:"outline"},it.name))))}u(m,"SignedInWorkspaces");var h=e(1224315998),v=e(4481313819),T=e(8739505998),A=e(1610251172),y=e(6968387112),p;(function(Be){Be.INVALID_CODE="invalid_pin",Be.RATE_LIMITED="ratelimited",Be.SMS_RATE_LIMITED="two_factor_sms_rate_limited",Be.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",Be.INTERNAL_ERROR="internal_error"})(p||(p={}));var f;(function(Be){Be.SMS="sms",Be.APP="app",Be.EMAIL="email",Be.EMERGENCY="emergency"})(f||(f={}));var O;(function(Be){Be.REQUEST_CODE="request_primary",Be.REQUEST_BACKUP="request_backup",Be.SUBMIT_PRIMARY="submit_primary",Be.SUBMIT_BACKUP="submit_backup",Be.SUBMIT_EMERGENCY="submit_emergency"})(O||(O={}));const I=new d.Ay("sign_in"),P={elementName:"help_button",onClick:{enableClogAction:!0}},C=u(Be=>{const we=Be.action===O.REQUEST_BACKUP||Be.action===O.SUBMIT_BACKUP;return we&&Be.twoFactorBackupType===f.APP||!we&&Be.twoFactorType===f.APP},"currentMethodIsApp"),M=u(Be=>C(Be)?I.t("Problems with your authentication app?"):I.t("Problems with your code?"),"renderProblemsString"),D=u(Be=>C(Be)?t.createElement("div",{className:"subtle_silver small medium_top_margin"},t.createElement("p",{className:"no_bottom_margin"},I.t("Check your authentication app for your code.")),t.createElement("p",null,I.rt("<a>Having trouble finding your code?</a>",null,we=>{let{tag:xe,text:Oe}=we;return xe==="a"?t.createElement(T.A,{href:`https://${(0,y.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Oe):null})),t.createElement("p",null,I.rt("If your app is unavailable, use a <a>backup code</a>.",null,we=>{let{tag:xe,text:Oe}=we;return xe==="a"?t.createElement(T.A,{href:`https://${(0,y.qF)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},Oe):null}))):t.createElement("p",{className:"align_left subtle_silver small"},I.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,we=>{let{tag:xe,text:Oe}=we;return xe==="a"?t.createElement(T.A,{href:`https://${(0,y.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Oe):null})),"renderProblems");D.displayName="renderProblems";const E=u(Be=>{const[we,xe]=(0,t.useState)(!1);return t.createElement("div",{className:"p-enter-code__help_button"},t.createElement(T.A,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>xe(!we),autoClogProps:P},t.createElement(A.A,{type:"question-circle"})," ",M(Be)),we&&t.createElement("div",{className:"send_code_block"},Be.children,t.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},t.createElement("hr",{className:"medium_bottom_margin"}),D(Be))))},"GetHelpButton");E.displayName="GetHelpButton";var S=e(9867500491),k=e(5255740490),U=e(8646591923),L=e(219228829),B=e(3700949338);function b(){return b=Object.assign||function(Be){for(var we=1;we<arguments.length;we++){var xe=arguments[we];for(var Oe in xe)Object.prototype.hasOwnProperty.call(xe,Oe)&&(Be[Oe]=xe[Oe])}return Be},b.apply(this,arguments)}u(b,"_extends");let R=u(class extends t.Component{render(){const{ariaDescribedBy:we}=this.props;return t.createElement("div",{className:(0,k.A)("two_factor_input_item",{focused:this.props.hasFocus})},t.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":we}))}constructor(...we){super(...we),this.onKeyDown=xe=>{switch(xe.keyCode){case U.G_:{xe.currentTarget.value||this.props.moveLeft();return}case U.UQ:return xe.preventDefault(),this.props.moveLeft();case U.LE:return xe.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=xe=>{!(0,B.A)(xe.which)&&xe.charCode&&!(0,L.A)(xe)&&xe.preventDefault()},this.onChange=xe=>{const Oe=xe.target.value;(/^[0-9]$/.test(Oe)||Oe==="")&&this.props.onChange(Oe)},this.onPaste=xe=>{xe.preventDefault();const Oe=window.clipboardData||xe.clipboardData,Xe=Oe.getData("text")||Oe.getData("text/plain"),Ye=/\D/g,dt=Xe.replace(Ye,"");this.props.onPaste(dt)}}},"TwoFactorDigitInput");R.displayName="TwoFactorDigitInput";const z=t.forwardRef((Be,we)=>t.createElement(R,b({},Be,{refToForward:we}))),w=new d.Ay("team_creation");let W=u(class extends t.Component{focusInput(we){const xe=this.inputRefs[we];xe!=null&&xe.current&&xe.current.focus()}moveLeft(we){we<=0||this.focusInput(we-1)}moveRight(we){we>=this.state.values.length-1||this.focusInput(we+1)}isComplete(we){return!we.some(xe=>!xe)}clear(){this.setState(we=>({values:we.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(we,xe){const Oe=this.state.values.slice();Oe[we]=xe,this.setState(()=>({values:Oe}),()=>{xe&&!this.isComplete(this.state.values)&&this.moveRight(we)})}componentDidUpdate(we,xe){var Oe;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((Oe=this.inputRefs[this.state.focusedInputIndex])===null||Oe===void 0?void 0:Oe.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==we.codeLength&&this.onCodeLengthChange(xe),!this.isComplete(xe.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&xe.values.join("")!==this.state.values.join("")){const Xe=this.state.values.join("");this.props.onFillCode(Xe)}else xe.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(we,xe){return this.state.values.slice(we,xe).map((Oe,Xe)=>{const Ye=Xe+we;return t.createElement(z,{autocomplete:Ye===0?"one-time-password":"off",key:Ye,ref:this.inputRefs[Ye],moveLeft:()=>this.moveLeft(Ye),moveRight:()=>this.moveRight(Ye),onChange:dt=>this.onChange(Ye,dt),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:Ye}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===Ye,value:this.state.values[Ye],ariaLabel:w.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:Ye+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},t.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(we){super(we),this.onPaste=xe=>{const Oe=this.state.focusedInputIndex;if(Oe===-1)return;const Xe=this.state.values.length-Oe,Ye=xe.substring(0,Xe).split(""),dt=this.state.values.slice();Ye.forEach((mt,it)=>{const At=it+Oe;dt[At]=mt}),this.setState(()=>({values:dt}),()=>{this.focusInput(Math.min(this.state.values.length-1,Oe+Ye.length))})},this.onCodeLengthChange=xe=>{const Oe=(0,S.A)(this.props.codeLength,()=>"");xe.values.forEach((Xe,Ye)=>{Ye<Oe.length&&(Oe[Ye]=Xe)}),this.setState(()=>({values:Oe})),this.inputRefs=Oe.map(()=>t.createRef())},this.state={values:(0,S.A)(we.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"TwoFactorCodeInput");W.displayName="TwoFactorCodeInput",W.defaultProps={isNumbersOnly:!0};const K=new d.Ay("sign_in");function Y(Be){let we=null;return Be.error===p.SMS_RATE_LIMITED?we=K.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):Be.error===p.INVALID_CODE?we=K.rt("Your two-factor authentication code was incorrect. Please try again."):Be.error===p.RATE_LIMITED?we=K.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):Be.error===p.TOO_MANY_ATTEMPTS?we=K.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):we=K.rt("An unknown error occurred."),t.createElement(o.Ay,{className:"p-enter-code-error__alert",type:o.QE.boxed,icon:"lock-o",level:o.A_.error,align:o.AO.left,"data-qa":"2fa_code_error_alert"},t.createElement("span",null,we))}u(Y,"EnterCodeError");var X=e(2562405183),Z=e(3328068409),ie=e(1236965385),Ae=e(4761125736);function ae(){return ae=Object.assign||function(Be){for(var we=1;we<arguments.length;we++){var xe=arguments[we];for(var Oe in xe)Object.prototype.hasOwnProperty.call(xe,Oe)&&(Be[Oe]=xe[Oe])}return Be},ae.apply(this,arguments)}u(ae,"enter_code_root_extends");const V=new d.Ay("sign_in"),ve=5*60*1e3,be={elementName:"resend_button",onClick:{enableClogAction:!0}},Ue={elementName:"backup_button",onClick:{enableClogAction:!0}},Re={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},ge="two_factor_form",ne="enter-code",ee=6;var F;(function(Be){Be.Request="request_primary",Be.RequestBackup="request_backup",Be.SubmitPrimary="submit_primary",Be.SubmitBackup="submit_backup",Be.SubmitEmergency="submit_emergency",Be.None="none"})(F||(F={}));function H(Be){const[we,xe]=(0,t.useState)(Be.twoFactorType),[Oe,Xe]=(0,t.useState)("");var Ye;const[dt,mt]=(0,t.useState)((Ye=Be.action)!==null&&Ye!==void 0?Ye:F.None),[it,At]=(0,t.useState)(!1),[Ot,Kt]=(0,t.useState)(ee),[Xt,vn]=(0,t.useState)(!1),Sn=(0,X.d4)(Ct=>(0,Ae._Z)(Ct,"screen_text_2fa")==="on"),jt=t.useRef(null),hn=t.createRef(),xt=Be.submitOverride,{trackClogAuthRef:Dn,clogAuthLoginClick:St,trackClog:dn}=(0,ie.$A)(),fn=Dn({eventId:h.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:ne});(0,t.useEffect)(()=>{if(it){var Ct,Wt;if((Ct=dn.current)===null||Ct===void 0||(Wt=Ct.track)===null||Wt===void 0||Wt.call(Ct,{elementName:ge,elementValue:dt}),St({eventId:h.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:ge,uiPage:ne,elementValue:dt})(),xt&&hn.current)At(!1),vn(!0),xt(Oe,dt,Be.magicLogin).then(()=>{var wt;(wt=jt.current)===null||wt===void 0||wt.clear(),vn(!1)});else{var Gt;(Gt=hn.current)===null||Gt===void 0||Gt.submit()}}},[dt,it,hn,dn,Oe,xt,Be.magicLogin,St]),(0,t.useEffect)(()=>{(Be.error===p.RATE_LIMITED||Be.error===p.TOO_MANY_ATTEMPTS)&&vn(!0),Be.error===p.RATE_LIMITED&&setTimeout(()=>{vn(!1)},ve)},[Be.error]);const un=we===f.EMERGENCY,_n=dt===F.RequestBackup||dt===F.SubmitBackup,tn=!un&&(_n&&Be.twoFactorBackupType===f.SMS||!_n&&Be.twoFactorType===f.SMS||Be.twoFactorType===f.EMAIL),nn=Be.twoFactorType===f.EMAIL,An=Be.twoFactorType===f.SMS?V.rt("Send Code to Primary Phone"):V.rt("Use Authentication App"),yn=Be.twoFactorBackupType===f.SMS?V.rt("Send Code to Backup Phone"):V.rt("Use Backup Authentication App"),sn=u(()=>t.createElement(i.$n,{type:"outline",onClick:()=>{mt(_n?F.RequestBackup:F.Request),At(!0)},autoClogProps:be},_n?V.rt("Resend Code to Backup Phone"):V.rt("Resend Code")),"ResendButton"),Nn=u(()=>t.createElement(i.$n,{type:"outline",onClick:()=>{mt(_n?F.Request:F.RequestBackup),At(!0)},autoClogProps:Ue},_n?An:yn),"BackupButton");Nn.displayName="BackupButton";const Ve=u(()=>{let Ct;return un?Ct=_n?yn:An:Ct=V.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),t.createElement(i.$n,{type:"outline",onClick:()=>{un?(xe(Be.twoFactorType),Kt(ee)):(xe(f.EMERGENCY),Kt(Be.emergencyCodeLength))},autoClogProps:Re},Ct)},"EmergencyButton");Ve.displayName="EmergencyButton";const $e=u(()=>Be.twoFactorType===f.EMAIL?Be.isClientApp?V.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):V.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):Sn?V.rt("Enter the code from your two-factor authentication app or SMS"):V.rt("Enter your authentication code"),"GetHeader"),Et=u(()=>{if(un)return V.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(_n)return Be.twoFactorBackupType===f.APP?V.rt("Check your authentication app for your code."):V.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:Be.teamName});switch(Be.twoFactorType){case f.APP:return V.rt("Check your authentication app for your code.");case f.EMAIL:return V.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:Be.teamName,emailAddress:Be.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return V.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Be.teamName})}},"GetSubheader"),It=u(Ct=>{let Wt;un?Wt=F.SubmitEmergency:Wt=_n?F.SubmitBackup:F.SubmitPrimary,Xe(Ct),mt(Wt),At(!0)},"onFillCode"),Tt=(0,X.d4)(Z.to);return t.createElement(v.A,{eventId:h.EventId.TWO_FACTOR_AUTH,uiPage:ne,trackClogRef:fn},t.createElement(a.A,{clientTheme:Tt},t.createElement(l.A,{heading:$e(),subHeading:Et(),subHeadingClassName:"p-enter_code_app__view_sub_header"},Be.codeResent&&t.createElement(o.Ay,{className:"p-enter-code-error__alert",type:o.QE.boxed,icon:"paper-plane",level:o.A_.info,align:o.AO.left,"data-qa":"2fa_code_resent_alert"},nn?V.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:Be.teamName,emailAddress:Be.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):V.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Be.teamName})),Be.error&&t.createElement(Y,{error:Be.error}),t.createElement("form",{ref:hn,className:"p-enter_code",method:"POST"},t.createElement("div",{className:"p-enter_code__input_container"},t.createElement("fieldset",{className:"p-enter_code__input_fieldset"},t.createElement("legend",{className:"offscreen"},V.rt("{codeLength}-digit confirmation code",{codeLength:Ot,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),t.createElement(W,{ref:jt,onFillCode:It,onChange:()=>{},hideDash:!0,error:Be.error,disabled:Xt,codeLength:Ot}),t.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:Be.magicLogin}),Be.redir.length>0&&t.createElement("input",{type:"hidden",name:"redir",value:Be.redir}),t.createElement("input",{type:"hidden",name:"remember",value:Be.remember?"1":"0"}),t.createElement("input",{type:"hidden",name:"has_remember",value:Be.hasRemember}),t.createElement("input",{type:"hidden",name:"2fa_code",value:Oe}),t.createElement("input",{type:"hidden",name:"2fa_action",value:dt})))),t.createElement(E,ae({},Be),t.createElement("div",{className:"p-enter-code__button"},tn&&t.createElement(sn,null),Be.twoFactorBackupType&&!un&&t.createElement(Nn,null),!nn&&t.createElement(Ve,null))),Be.loggedInTeams.length>0&&t.createElement("div",{className:"p-enter-code__logged_in_teams"},t.createElement(m,ae({},Be))))))}u(H,"EnterCodeRoot");var j=e(6329712420),N=e(4979382452),J=e(3602521375),le=e(4636370173),ce=e(2465132699),Ee=e(8523371695),ye=e(3606117573),Ie=e(8029613601),he=e(4947127560),Ce=e(9310872914),oe=e(6533394955),de=e(3051824855);function De(){return De=Object.assign||function(Be){for(var we=1;we<arguments.length;we++){var xe=arguments[we];for(var Oe in xe)Object.prototype.hasOwnProperty.call(xe,Oe)&&(Be[Oe]=xe[Oe])}return Be},De.apply(this,arguments)}u(De,"enter_2fa_code_modal_extends");const Te=new d.Ay("2fa_modal"),pe={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},Me={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function ke(Be,we){const xe=(0,s.vS)();if(Be!==void 0){const Xe=xe[Be].two_factor_magic_login;Xe!==void 0&&Xe.token&&(Xe.token=we),(0,s.q9)("pendingAuthTeams",xe)}}u(ke,"updateLocalConfig2fa");function Ke(Be){const we=(0,s.vS)();if(Be!==void 0){const xe=we[Be];xe.two_factor_magic_login=void 0,(0,s.q9)("pendingAuthTeams",we)}}u(Ke,"clearLocalConfig2faMagicLogin");function Ze(Be){let{magicLogin:we,teamId:xe,type:Oe,backupType:Xe,emergencyLength:Ye,emailAddress:dt,teamName:mt,currentTeamId:it,isOpen:At,closeModal:Ot}=Be;const[Kt,Xt]=(0,t.useState)(we),[vn,Sn]=(0,t.useState)(null),[jt,hn]=(0,t.useState)(!1),xt=it?(0,oe.getStoreInstanceByTeamId)(it):void 0,Dn=(0,t.useCallback)((dn,fn,un)=>{const _n={magic_token:un,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:dn,two_factor_is_backup:fn===O.REQUEST_BACKUP||fn===O.SUBMIT_BACKUP};return fn===O.REQUEST_CODE||fn===O.REQUEST_BACKUP?(_n.two_factor_pin="",hn(!0)):hn(!1),new n.S(tn=>{(0,r.j)("auth.loginMagic",_n,(nn,An)=>{if(nn&&An.refreshed_magic_login){var yn;Xt(An.refreshed_magic_login),ke(xe,An.refreshed_magic_login),!((yn=An.reason)===null||yn===void 0)&&yn.match(/^missing_/)||Sn(An.reason),tn(nn)}else nn&&An.team?(0,Ce.A)({currentTeamStore:xt,newWorkspaceId:xe,navigateToRouteProps:{routeName:j.o},shouldAutoSignIn:!0}).then(()=>{Ot(),tn(nn)}):(Ke(xe),(0,Ce.A)({currentTeamStore:xt,newWorkspaceId:xe,navigateToRouteProps:{routeName:j.o}}).then(()=>{Ot(),tn(nn)}))})})},[xe,xt,Ot]);(0,c.A)(()=>{Dn("",O.SUBMIT_PRIMARY,Kt??"")},[]);const St=Te.t("Finish signing into {teamName}",{teamName:mt,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return t.createElement(N.A,{isOpen:At,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:Ot,dataQa:pe.enter2faCodeModal},t.createElement(Ie.A,null,t.createElement(he.A,{title:St})),t.createElement(le.A,null,t.createElement(ce.A,null,t.createElement("div",{id:"enter-code-app-root"},t.createElement(H,De({},Me,{teamName:mt,error:vn,action:null,magicLogin:Kt||"",twoFactorType:Oe,twoFactorBackupType:Xe,emailAddress:dt,codeResent:jt,redir:"",emergencyCodeLength:Ye,isClientApp:!0,submitOverride:Dn}))))),t.createElement(Ee.A,null,t.createElement(ye.A,null,t.createElement(J.A,{type:"outline","data-qa":pe.cancelButton,"aria-label":Te.t("Cancel")},Te.t("Cancel")))))}u(Ze,"TwoFAModal"),Ze.displayName="TwoFAModal";const Q=(0,de.e)(Ze);var se=e(796111729),He=e(9012396182);function Ge(Be,we){const xe=(0,oe.getStateForClientStore)();if(!(0,He.isWorkspacePendingTwoFactor)(xe,Be))return!1;const Oe=(0,He.getWorkspacesMeta)(xe),Xe=Oe==null?void 0:Oe[Be],{two_factor_magic_login:Ye,name:dt}=Xe,{token:mt,user_2fa_type:it,user_2fa_backup_type:At,user_emergency_code_length:Ot,email:Kt}=Ye;let Xt;return we?Xt=(0,oe.getStoreInstanceByTeamId)(we):Xt=(0,oe.getStoreInstanceByTeamId)((0,He.getFocusedWorkspace)(xe)),Xt?(Xt.dispatch(Q({magicLogin:mt,teamId:Be,type:it,backupType:At,emergencyLength:Ot,teamName:dt,currentTeamId:we,emailAddress:Kt})),!0):((0,se.Wo)().error("TWO_FACTOR_SSB",`${Be} is pending 2fa, but no store for ${we}, falling back to openSignIn()`),!1)}u(Ge,"maybeRenderTwoFactorModal")},4626613428:(x,g,e)=>{"use strict";e.d(g,{S4:()=>T,Ty:()=>L,ez:()=>v,lf:()=>U});var t=e(6839188756),n=e(5751973043),s=e(6323355797),r=e(1247361162),c=e(8161242485),o=e(9186462665),a=e(2047021170),l=e(7268021173),i=e(6827180593),d=e(772817784),_=e(117899263),m=e(3265910753),h=e(3677514771),v;(function(B){B.HAS_MENTIONS="has_mentions",B.HAS_SLACK_CONNECT_INVITE="has_slack_connect_invite",B.HAS_THREADS="has_threads",B.IS_ENTERPRISE="is_enterprise",B.IS_EXISTING_JOINER="is_existing_joiner",B.IS_IN_ACTIVATE_SOLUTIONS_TRIAL_ENTRYPOINTS="is_in_activate_solutions_trial_entrypoints",B.IS_IN_REVERSE_TRIAL="is_in_reverse_trial",B.IS_IN_SOLUTIONS_ONBOARDING_TRIAL="is_in_solutions_onboarding_trial",B.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL="is_in_activate_solutions_gallery_trial",B.IS_IN_TRIAL="is_in_trial",B.IS_ONBOARDING_COMPLETED="is_onboarding_completed",B.IS_OVER_TWO_WEEKS_OLD="is_over_two_weeks_old",B.IS_USER_PREF_ENABLED="is_user_pref_enabled"})(v||(v={}));const T="should_show_ia4_tabs",A={reason:v.IS_ENTERPRISE,shouldShowTabs:!0},y={reason:v.IS_EXISTING_JOINER,shouldShowTabs:!0},p={reason:v.IS_USER_PREF_ENABLED,shouldShowTabs:!0},f={reason:v.HAS_MENTIONS,shouldShowTabs:!0},O={reason:v.HAS_THREADS,shouldShowTabs:!0},I={reason:v.HAS_SLACK_CONNECT_INVITE,shouldShowTabs:!0},P={reason:v.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL,shouldShowTabs:!0},C={reason:v.IS_IN_TRIAL,shouldShowTabs:!0},M={reason:v.IS_IN_SOLUTIONS_ONBOARDING_TRIAL,shouldShowTabs:!0},D={reason:v.IS_IN_REVERSE_TRIAL,shouldShowTabs:!0},E={reason:v.IS_ONBOARDING_COMPLETED,shouldShowTabs:!0},S={shouldShowTabs:!0,reason:v.IS_OVER_TWO_WEEKS_OLD},k={shouldShowTabs:!1},U=(0,c.Ay)(B=>{const b=(0,h.H7)(B);if((0,t.r7)(b))return A;const z=(0,d.w)(B);if(!(0,_._)(B)&&z)return y;if((0,a.ty)(B,T))return p;var K;if(((K=(0,r.rz)(B))!==null&&K!==void 0?K:n.Ml).length>0)return f;var X;return((X=(0,r.sG)(B))!==null&&X!==void 0?X:n.Ml).length>0?O:(0,o.RU)(B)?I:(0,l.iH)(B)?(0,l.G)(B,s.ZO.SolutionsGalleryPromo)?P:(0,m.Pz)(B)?M:(0,l.G)(B,s.ZO.GoldenGateTrial,s.zG.ReverseTrialDay0)?D:C:(0,a.ty)(B,"onboarding_complete")?E:(0,i.H)(B)>=14?S:k});U.meta={name:"createSelector",key:"createSelectorshouldShowTabsWithReason",description:B=>{const b=(0,h.H7)(B);if((0,t.r7)(b))return A;const z=(0,d.w)(B);if(!(0,_._)(B)&&z)return y;if((0,a.ty)(B,T))return p;var K;if(((K=(0,r.rz)(B))!==null&&K!==void 0?K:n.Ml).length>0)return f;var X;return((X=(0,r.sG)(B))!==null&&X!==void 0?X:n.Ml).length>0?O:(0,o.RU)(B)?I:(0,l.iH)(B)?(0,l.G)(B,s.ZO.SolutionsGalleryPromo)?P:(0,m.Pz)(B)?M:(0,l.G)(B,s.ZO.GoldenGateTrial,s.zG.ReverseTrialDay0)?D:C:(0,a.ty)(B,"onboarding_complete")?E:(0,i.H)(B)>=14?S:k}};const L=(0,c.Ay)(B=>U(B).shouldShowTabs);L.meta={name:"createSelector",key:"createSelectorshouldShowTabs",description:B=>U(B).shouldShowTabs}},7968796288:(x,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(8481284327),n=e(2664504268);const r=u(()=>(0,t.A)(()=>(0,n.A)()),"useUniqueId")},7798793495:(x,g,e)=>{"use strict";e.d(g,{G:()=>n});var t=e(9139930183);const n=(0,t.Ay)({},!0,{persistenceEnabled:!1,storeKey:"isState"});n.meta={name:"createReducer",key:"createReducerisStateReducer"}},9121100949:(x,g,e)=>{"use strict";e.d(g,{$D:()=>d,OR:()=>o,RC:()=>h,Ts:()=>l,WU:()=>m,gN:()=>a,jG:()=>_,jr:()=>v,jt:()=>c,ke:()=>t,qD:()=>i,r1:()=>r,ts:()=>n,u1:()=>s});const t="viewLayoutSidebarWidthIntent",n="viewLayoutSidebarWidthMode",s="viewLayoutSidebarWideWidthIntent",r="viewLayoutSidebarWideWidthMode",c="viewLayoutSidebarExtraWideWidthIntent",o="viewLayoutSidebarExtraWideWidthMode",a="viewLayoutSecondaryWidthIntent",l="viewLayoutSecondaryWidthMode",i="viewLayoutSplitWidthIntent",d="viewLayoutSplitWidthMode",_="viewLayoutIsSidebarVisible",m="viewLayoutIsWorkspaceSwitcherVisible",h="viewLayoutCompactModeEnabled",v="viewLayoutLastSidebarWidth"}},x=>{var g=u(t=>x(x.s=t),"__webpack_exec__");x.O(0,["gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"],()=>g(322730488));var e=x.O()}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/client-boot.1ab668690a9cad3e91f1.min.js.map